/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
import {_geo} from './geotoolkit.adv.module.js';
import {seismic} from './geotoolkit.seismic.adv.module.js';
import {geotoolkit3d} from './geotoolkit3d.adv.module.js';

export let g3d_seismic = (function (_geo) {var _geo=_geo||{};_geo.y.scene.pa=_geo.y.scene.pa||{};_geo.y.sd.pa=_geo.y.sd.pa||{};
_geo.y.scene.pa.xZa=function(){function b(a){_geo.y.scene.Object3D.call(this);a=_geo.geotoolkit.Ca(a,{displaymode:_geo.y.Bb.EKa.rf});this.rf=a.xy;this.index=a.index;this.MK=new window.THREE.Object3D;window.THREE.Object3D.prototype.add.call(this,this.MK);this.name="SEISMICVOLUME";this.setOptions(a)}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.Volume");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{displaymode:null!=this.mode?this.mode:_geo.y.Bb.EKa.rf});
var b=new window.THREE.Vector3;this.index.esa().getSize(b);b=b.divideScalar(2);b=_geo.y.Bb.bQa(this.index.esa(),new window.THREE.Box3(b.clone().negate(),b));this.MK.scale.set(1,1,1);this.MK.rotation.set(0,0,0);this.MK.position.set(0,0,0);this.MK.updateMatrix();this.MK.applyMatrix(b);a.displaymode===_geo.y.Bb.EKa.rf?(this.index.o4a().getCenter(this.position),this.scale.set(1,1,1),this.rotation.set(0,0,0),(new _geo.y.te.ZCb(this.index,this.rf)).n4a(this)):(this.index.o4a().getCenter(this.position),
this.scale.set(1,1,1),this.rotation.set(0,0,0),b=a.displaymode===_geo.y.Bb.EKa.rGc?1:-1,this.MK.scale.x=this.MK.scale.x*b*_geo.geotoolkit.util.Math.sign(this.index.Jh().x-this.index.Fea().x),this.MK.scale.y*=_geo.geotoolkit.util.Math.sign(this.index.Jh().y-this.index.Fea().y),this.MK.position.x*=_geo.geotoolkit.util.Math.sign(this.MK.scale.x),this.MK.position.y*=_geo.geotoolkit.util.Math.sign(this.MK.scale.y));this.updateMatrixWorld(!0);this.mode=a.displaymode;this.tj();return this};b.prototype.vEa=
function(){return this.index};b.prototype.WFc=function(){return this.rf};b.prototype.mSa=function(a){return this.rf.mSa(a)};b.prototype.add=function(a){return this.MK.add(a)};b.prototype.remove=function(a){this.MK.remove(a)};return b}();
_geo.y.sd.pa.bhc=function(){function b(b){b=_geo.geotoolkit.Ca(b,{name:"SeismicSliderTool",snap:function(b,c){var d=c.vEa();null!=b.i?b.i=a(b.i-d.XG,d.u8b)+d.XG:null!=b.j?b.j=a(b.j-d.ZI,d.x8b)+d.ZI:null!=b.z&&(b.z=a(b.z,d.Nk()))},callback:function(a,b,c){a.setOptions({slicelocation:c})}});_geo.y.sd.Ogb.call(this,b);var d=b.callback;this.drc=b.volume;var e=b.snap,c=this;this.F4b(function(a,b,g){a=a.parent;if(a instanceof _geo.y.scene.pa.nFb&&null!=a.parent&&a.parent.parent===c.drc){g=a.ZWb();var l=
a.vEa();if(2>b.length())return!1;var n=new window.THREE.Vector3(this.Me.getSize().width,this.Me.getSize().height),p=l.o4a(),r=0,t={},q=a.parent.matrixWorld,m=this.Me.project((new window.THREE.Vector3).set(p.min.x,p.min.y,-p.min.z).applyMatrix4(q)),u=this.Me.project((new window.THREE.Vector3).set(p.max.x,p.min.y,-p.min.z).applyMatrix4(q)),v=this.Me.project((new window.THREE.Vector3).set(p.min.x,p.max.y,-p.min.z).applyMatrix4(q)),q=this.Me.project((new window.THREE.Vector3).set(p.min.x,p.min.y,-p.max.z).applyMatrix4(q)),
m=(new window.THREE.Vector2((m.x+1)/2,(-m.y+1)/2)).multiply(n),u=(new window.THREE.Vector2((u.x+1)/2,(-u.y+1)/2)).multiply(n),v=(new window.THREE.Vector2((v.x+1)/2,(-v.y+1)/2)).multiply(n),w=(new window.THREE.Vector2((q.x+1)/2,(-q.y+1)/2)).multiply(n),n=m.x<u.x?1:-1,q=m.y<u.y?1:-1,x=m.x<v.x?1:-1,A=m.y<v.y?1:-1,z=new window.THREE.Vector3;p.getSize(z);null!=g.i?(t.i=g.i,l=Math.abs(u.x-m.x),m=Math.abs(u.y-m.y),r=l>m?1-m/l:l/m,g.i+=z.x/l*b.x*n*r,g.i+=z.x/m*b.y*q*(1-r),e(g,a),r=g.i-t.i,g.i=Math.min(Math.max(g.i,
p.min.x),p.max.x)):null!=g.j?(t.j=g.j,l=Math.abs(v.x-m.x),m=Math.abs(v.y-m.y),r=l>m?1-m/l:l/m,g.j+=z.y/l*b.x*x*r,g.j+=z.y/m*b.y*A*(1-r),e(g,a),r=g.j-t.j,g.j=Math.min(Math.max(g.j,p.min.y),p.max.y)):null!=g.z&&(t.z=g.z,g.z+=b.y*(z.z/l.Nk())/Math.abs(w.y-m.y),e(g,a),r=g.z-t.z,g.z=Math.min(Math.max(g.z,0),(-p.min.z+p.max.z)/l.Nk()));if(0!==r)return d(a,t,g),!0}return!1})}function a(a,b){return 0<a?Math.ceil(a/b)*b:0}_geo.geotoolkit.fa(b,_geo.y.sd.Ogb);_geo.geotoolkit.da(b,"geotoolkit3d.tool.seismic.SeismicSliderTool");
b.prototype.setVolume=function(a){this.drc=a};return b}();_geo.y.Ge.li.FBb=function(){function b(a){a.material=a.material[0];_geo.y.Ge.li.Wna.call(this,a);this.side=window.THREE.DoubleSide}_geo.geotoolkit.fa(b,_geo.y.Ge.li.Wna);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultSeismicSlicePickingMaterial");return b}();
_geo.y.scene.pa.nFb=function(){function b(a){_geo.y.scene.Object3D.call(this);var b=a.material;this.index=a.index;this.enb=b.utb();this.fnb=b.vtb();for(var d=new window.THREE.PlaneGeometry(1,1,this.enb,this.fnb),e=0;e<d.faces.length;e++)d.faces[e].materialIndex=Math.floor(e/2);e=_geo.geotoolkit.Ca(a,{});if(null!=a.slicelocation.j)d.applyMatrix((new window.THREE.Matrix4).makeRotationX(Math.PI/2));else if(null!=a.slicelocation.i)d.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/2)),d.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/
2));else if(null!=a.slicelocation.z)d.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI)),d.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI));else throw Error("Slice location is not set");this.plane=new window.THREE.Mesh(d,b.material);this.Mqa=b;this.add(this.plane);this.setOptions(e)}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.Slice");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{});var b=this.Y7a();b.setOptions(a);
if(this.enb!==b.utb()||this.fnb!==b.vtb()){this.enb=b.utb();this.fnb=b.vtb();for(var b=new window.THREE.PlaneGeometry(1,1,this.enb,this.fnb),d=0;d<b.faces.length;d++)b.faces[d].materialIndex=Math.floor(d/2);if(null!=this.Iyb.j)b.applyMatrix((new window.THREE.Matrix4).makeRotationX(Math.PI/2));else if(null!=this.Iyb.i)b.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/2)),b.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/2));else if(null!=this.Iyb.z)b.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI)),
b.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI));else throw Error("Slice location is not set");this.plane.geometry.dispose();this.plane.geometry=b}var e=this.index.esa(),c=e.min.x,b=e.min.y,d=e.min.z,f=e.max.x-c,k=e.max.y-b,h=e.max.z-d;if(null!=a.slicelocation)if(this.Iyb=a.slicelocation,null!=a.slicelocation.j)e=a.slicelocation.j,f=null!=a.width?a.width:f,k=null!=a.height?a.height:h,c=null!=a.xstart?a.xstart:c,a=null!=a.ystart?a.ystart:d,this.position.set(c+f/2,e+this.index.lVb()/
2,a+k/2),this.scale.set(f,1,k);else if(null!=a.slicelocation.i)e=a.slicelocation.i,f=null!=a.width?a.width:k,k=null!=a.height?a.height:h,c=null!=a.xstart?a.xstart:b,a=null!=a.ystart?a.ystart:d,this.position.set(e+this.index.SUb()/2,c+f/2,a+k/2),this.scale.set(1,f,k);else if(null!=a.slicelocation.z)e=e.max.z-a.slicelocation.z*this.index.Nk(),f=null!=a.width?a.width:f,k=null!=a.height?a.height:k,c=null!=a.xstart?a.xstart:c,a=null!=a.ystart?a.ystart:b,this.position.set(c+f/2,a+k/2,e),this.scale.set(f,
k,1);else throw Error("Slice location is not set");this.tj();this.updateMatrixWorld(!0);return this};b.prototype.Y7a=function(){return this.Mqa};b.prototype.ZWb=function(){return this.Iyb};b.prototype.no=function(){var a=this.Y7a();if(a.fMa)for(var b=a.material.length,d=0;d<b;d++)a.material[d].x_&&(a.material[d].uTa=!1)};b.prototype.zob=function(){var a=this.Y7a();if(a.fMa)for(var b=a.material.length,d=0;d<b;d++)null!=a.material[d].uTa&&(a.material[d].map.image=null,delete a.material[d].x_,delete a.material[d].uTa)};
b.prototype.vEa=function(){return this.index};b.prototype.dispose=function(){_geo.y.Bb.dispose(this.Mqa)};return b}();
_geo.y.scene.pa.UYa=function(){function b(a){f=_geo.y.util.Khb.mCc();this.aIa={};this.Oub=this.se=null;var b=a.data.reader;null==a.pipeline&&(a.pipeline={});null==a.pipeline.options&&(a.pipeline.options={});var c=b.xa();a.data=_geo.geotoolkit.Ca(a.data,{limits:new _geo.geotoolkit.util.Rect({x:c.sa()+.5,y:c.qa(),width:b.eh(),height:c.ba()})});a=_geo.geotoolkit.Ca(a,{maxpixelsx:4096,maxpixelsy:4096,pixelrenderthreshold:null,verticalresolution:1,horizontalresolution:1,loadingcolor:"rgba(255, 255, 255, 0.5)",
oninvalidate:function(){},autodecimate:!0,globalqueue:!1,materialoptions:{},clearpipeline:!0,disposesurface:!1});this.eva=a.oninvalidate;a.pipeline.options=_geo.geotoolkit.Ca(a.pipeline.options,{normalization:{type:_geo.geotoolkit.pa.se.Lp.FX.ggb,scale:1},plot:{type:{Wiggle:!1,InterpolatedDensity:!0},decimationSpacing:5},colors:{colorMap:_geo.geotoolkit.pa.util.Tya.lq().h5a("WhiteBlack",32)}});this.rGa=a.overlay;this.roc=!1;this.setOptions(a);this.type="SliceMaterial";this.Cga(this.$d,this.eva)}function a(a,
b){if(0===a)return 1;var c=Math.max(1,Math.ceil(a/b));if(1!==c)return b;for(var c=b,d=f/2;a<=d;)c=d,d/=2;d/=2;3===Math.ceil(a/d)&&(c=d);return c}function g(a,b,c){a.needsUpdate=!0}function d(a){null!=a.next?a.next():k=null}function e(a,b,c){return function(){!0===b.Y3a?d(c):(0,window.setTimeout)(function(){if(!0===b.Y3a)d(c);else if(null!=c.material.map){var e=c.material.map,f=null,k=c.$d.aa()/c.JTc,q=c.$d.ba()/c.LTc,m=c.bub*k+c.$d.getX(),u=c.NYb*q+c.$d.getY(),v=Math.min((c.bub+1)*k+c.$d.getX(),c.$d.za()),
q=Math.min((c.NYb+1)*q+c.$d.getY(),c.$d.wa()),w=new _geo.geotoolkit.util.Rect(m,u,v,q);null!=c.Ryb&&(f=k/e.image.width,m=c.bub*k+c.$d.getX()+f*c.Ryb,v=Math.min(m+f*(c.Ewc-c.Ryb),c.$d.za()),f=new _geo.geotoolkit.util.Rect(c.Ryb,0,c.Ewc,e.image.height));var x=c.se.xa().getY(),A=c.se.getReader().Nk(),k=new _geo.geotoolkit.util.Rect(m,u,v,q);c.se.zZ(k,e.image,f,0,0,function(){if(!0===b.Y3a)d(c);else if(null!=c.material.map){b.count--;if(null!=c.rGa){var f=e.image.getContext("2d"),k=new _geo.geotoolkit.util.Rect(0,
0,e.image.width/_geo.geotoolkit.Dj(),e.image.height/_geo.geotoolkit.Dj()),f=_geo.geotoolkit.renderer.canvas.Mr.dDa({context:f,viewport:k});w.setX(Math.floor(w.getX()));w.setY((w.getY()-x)/A);w.Db(w.ba()/A);c.rGa.Sa(w);c.rGa.Ea(k);c.rGa.render(f)}!0===c.uYb&&(c.material.opacity=null!=c.material.KR?c.material.KR:1,c.material.transparent=null!=c.material.nNb?c.material.nNb:!1,c.material.x_=!0,g(e,e.image,!1));0===b.count&&c.huc&&c.se.clear();c.eva();d(c);null==c.next&&(a.aIa={})}})}},0)}}function c(a,
b,c,d,e,g,f,k){e=_geo.geotoolkit.dD.Rt(g,f,!0);e=new window.THREE.Texture(e);e.generateMipmaps=!1;e.wrapS=window.THREE.MirroredRepeatWrapping;e.wrapT=window.THREE.MirroredRepeatWrapping;e.repeat.set(c,d);e.minFilter=window.THREE.LinearFilter;e.offset.set(a%2?-1:0,(b+d)%2?0:-1);return new window.THREE.MeshBasicMaterial(_geo.geotoolkit.Ca(k,{alphaTest:0,side:window.THREE.DoubleSide,map:e}))}var f=512,k=null;_geo.geotoolkit.fa(b,window.THREE.MultiMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.SliceMaterial");
_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.FBb);b.prototype.B9c=function(b){var c=this.yQ,d=this.Y$,e=this.aZ,g=this.Hra,k=this.Glc,q=this.$d.aa(),m=this.Yqc;b=this.$d.ba()/b.Nk()+1;k=Math.min(q*k,this.lnc);m=Math.min(b*m,this.mnc);this.eVa?(this.Hra=this.aZ=this.eVa,k=Math.max(1,Math.ceil(k/this.eVa)),m=Math.max(1,Math.ceil(m/this.eVa))):(this.Hra=this.aZ=f,this.aZ=a(k,f),k=Math.ceil(k/this.aZ),this.Hra=a(m,f),m=Math.ceil(m/this.Hra));this.yQ=k;this.Y$=m;if(0>=this.yQ||0>=this.Y$)throw Error("Tile count has to be > 0");
if((0,window.isNaN)(this.yQ)||(0,window.isNaN)(this.Y$))throw Error("Tile count cant be NaN");return this.aZ===e&&this.Hra===g&&this.yQ===c&&this.Y$===d};b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Sb(a,{loadingcolor:this.Oub,pipeline:null!=a.pipeline?_geo.geotoolkit.Ca({},a.pipeline):{},autodecimate:this.dib,globalqueue:this.Tjb,pixelrenderthreshold:this.$1a,clearpipeline:this.gHb,disposesurface:this.fMa,horizontalresolution:this.Glc,verticalresolution:this.Yqc,maxpixelsx:this.lnc,maxpixelsy:this.mnc,
tilesize:this.eVa,data:{limits:this.$d,reader:this.z_}}),d=!1;this.Oub=b.loadingcolor;this.lnc=b.maxpixelsx;this.mnc=b.maxpixelsy;this.fMa=b.disposesurface;this.dib=b.autodecimate;this.fMa=b.disposesurface;this.Tjb=b.globalqueue;this.gHb=b.clearpipeline;this.$d=b.data.limits;this.$1a=b.pixelrenderthreshold;this.Yqc=b.verticalresolution;this.Glc=b.horizontalresolution;this.eVa=b.tilesize;var e=!1;void 0!==b.data.reader&&this.z_!==b.data.reader&&(this.z_=b.data.reader,e=!0);if(!this.B9c(b.data.reader,
a)){null!=this.material&&this.material.forEach(function(a){a.map.dispose();a.map.image=null});this.material=[];for(d=0;d<this.yQ;d++)for(a=0;a<this.Y$;a++)this.material[d+a*this.yQ]=c(d,a,this.yQ,this.Y$,this.eva,this.aZ,this.Hra,b.materialoptions);this.material.getClassName=function(){return"geotoolkit3d.scene.seismic.SliceMaterial"};this.material.getClassName=function(){return"geotoolkit3d.scene.seismic.SliceMaterial"};this.material.getParent=this;this.g1b();d=!0}b.autodecimate!==this.dib&&(this.dib=
b.autodecimate,a=this.$d.aa()/(this.yQ*this.aZ),1>a&&(a=1),this.se.RV()!==a&&this.se.qT(a));b.globalqueue!==this.Tjb&&(this.Tjb=b.globalqueue);b.pixelrenderthreshold!==this.$1a&&(this.$1a=b.pixelrenderthreshold);null!=b.data&&!this.roc&&e?(e=this.z_.xa(),e=_geo.geotoolkit.Ca(b.data,{limits:new _geo.geotoolkit.util.Rect({x:e.sa()+.5,y:e.qa(),width:this.z_.eh(),height:e.ba()})}),this.$d=e.limits,b.pipeline.options=null!=b.pipeline.options?b.pipeline.options:this.se.jb(),this.qQb(b.pipeline.options,
this.z_,this.$d,this.eva),d=!1):null!=b.pipeline.options&&(this.fp().setOptions(b.pipeline.options),d=!1);d&&this.Cga()};b.prototype.qQb=function(a,b,c,d){null!=this.se&&this.se.Vu(this.XJc);var e=this,g=b.so();this.se=new _geo.geotoolkit.pa.se.Lp("3D_tmp",b,g);a.normalization=_geo.geotoolkit.Ca(a.normalization,{limits:new _geo.geotoolkit.util.Range(g.min,g.max)});this.se.setOptions(a);this.Cga(c,d);this.XJc=function(a){e.Cga(c,d)};this.se.Qt(this.XJc)};b.prototype.Eea=function(){return this.rGa};
b.prototype.fp=function(){return this.se};b.prototype.g1b=function(){for(var a=this.yQ-1;0<=a;a--)for(var b=this.Y$-1;0<=b;b--)this.gxc(this.material[a+b*this.yQ],this.Oub);this.eva()};b.prototype.Cga=function(a,b){null==a&&(a=this.$d);null==b&&(b=this.eva);!1===this.aIa.Y3a&&(this.aIa.Y3a=!0);var c=null;this.aIa={Y3a:!1};if(this.dib){var d=a.aa()/(this.yQ*this.aZ);1>d&&(d=1);this.se.qT(d)}for(var d=null,g=0,f=this.yQ-1;0<=f;f--)for(var q=this.Y$-1;0<=q;q--){var m=!0,u=this.aZ;null!=this.$1a&&(u=
Math.ceil(this.$1a/this.Hra));var v=this.material[f+q*this.yQ];if(null==v.map.image||v.map.image.width!==this.aZ)v.map.image=_geo.geotoolkit.dD.Rt(this.aZ,this.Hra,!0),this.gxc(v,this.Oub);v.x_=!1;if(u>=this.aZ)c={material:v,se:this.se,rGa:this.Eea(),$d:a,bub:f,NYb:q,JTc:this.yQ,LTc:this.Y$,eva:b,huc:this.gHb,next:c},null==d&&(d=c),c.uYb=m,c=e(this,this.aIa,c),g++;else for(var w=0;w<this.aZ;w+=u)c={Ryb:w,Ewc:w+u,material:v,se:this.se,rGa:this.Eea(),$d:a,bub:f,NYb:q,JTc:this.yQ,LTc:this.Y$,eva:b,huc:this.gHb,
next:c},null==d&&(d=c),c.uYb=m,m=!1,c=e(this,this.aIa,c),g++}d.uYb=!0;this.aIa.count=g;this.Tjb?null!=k?(k.next=c,k=d):(k=d,c()):c()};b.prototype.gxc=function(a,b){var c=a.map,d=_geo.geotoolkit.util.oi.Ph(b);null==a.KR&&(a.KR=a.opacity);null==a.nNb&&(a.nNb=a.transparent);a.opacity=d.Km()/255;a.transparent=1!==a.opacity;null==c.image&&(c.image=_geo.geotoolkit.dD.Rt(1,1,!0));var e=c.image.getContext("2d");e.clearRect(0,0,c.image.width,c.image.height);e.fillStyle=(new _geo.geotoolkit.util.rb(d.Bl(),
d.zl(),d.xl(),d.Km())).ps();e.fillRect(0,0,c.image.width,c.image.height);g(c,c.image,!1)};b.prototype.utb=function(){return this.yQ};b.prototype.vtb=function(){return this.Y$};b.prototype.dispose=function(){this.material.forEach(function(a){a.map&&a.map.dispose()});null!=this.se&&(this.se.dispose(),this.se=null)};return b}();
_geo.y.scene.pa.Uac=function(){function b(a){_geo.y.scene.Object3D.call(this);a=_geo.geotoolkit.Ca(a,{oninvalidate:function(){}});for(var b=a.data,d=0;d<b.path.i.length-1;d++)this.add(new _geo.y.scene.pa.Wac({data:{path:{i:[b.path.i[d],b.path.i[d+1]],j:[b.path.j[d],b.path.j[d+1]]},index:b.index},material:new _geo.y.scene.pa.Vac(_geo.geotoolkit.Ca({data:_geo.geotoolkit.Ca({fenceindex:d},a.data),overlay:a.overlay},a))}))}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.Fence");
b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{});this.children.forEach(function(a){a.setOptions(b)});this.tj();return this};b.prototype.Eea=function(){return 0<this.children.length?this.children[0].Eea():null};return b}();
_geo.y.scene.pa.Wac=function(){function b(a){_geo.y.scene.Object3D.call(this);a=_geo.geotoolkit.Ca(a,{});for(var b=a.data,d=a.material,e=d.utb(),d=d.vtb(),c=b.path,b=b.index.esa(),f=c.i,c=c.j,k=new window.THREE.PlaneGeometry(1,1,e,d),h=0;h<k.faces.length;h++)k.faces[h].materialIndex=Math.floor(h/2);k.applyMatrix((new window.THREE.Matrix4).makeTranslation(.5,.5,0));k.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/2));k.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/2));
h=new window.THREE.Vector3;b.getSize(h);for(var l=0;l<=d;l++)for(var n=0;n<=e;n++)k.vertices[n+l*(e+1)].x=f[0]+(f[1]-f[0])/e*n,k.vertices[n+l*(e+1)].y=c[0]+(c[1]-c[0])/e*n,k.vertices[n+l*(e+1)].z*=h.z,k.vertices[n+l*(e+1)].z+=b.min.z;this.Mqa=a.material;this.plane=new window.THREE.Mesh(k,this.Mqa.material);this.add(this.plane);this.setOptions(a)}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.FencePanel");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,
{});this.Mqa.setOptions(a);this.tj()};b.prototype.Eea=function(){return this.Mqa.Eea()};b.prototype.zrb=function(){return this.Mqa};b.prototype.no=function(){var a=this.zrb();if(a.fMa)for(var b=a.material.length,d=0;d<b;d++)a.material[d].x_&&(a.material[d].uTa=!1)};b.prototype.zob=function(){var a=this.zrb();if(a.fMa)for(var b=a.material.length,d=0;d<b;d++)null!=a.material[d].uTa&&(a.material[d].map.image=null,delete a.material[d].x_,delete a.material[d].uTa)};b.prototype.dispose=function(){_geo.y.Bb.dispose(this.Mqa)};
return b}();
_geo.y.scene.pa.Vac=function(){function b(a){for(var b=a.data.reader,d=a.data.fenceindex,e=b.Ho().oz(),b=b.xa(),c=b.sa(),f=0;f<d;f++)c+=e[f];a.data.limits=new _geo.geotoolkit.util.Rect({x:c,y:b.qa(),width:e[d],height:b.ba()});_geo.y.scene.pa.UYa.call(this,a)}_geo.geotoolkit.fa(b,_geo.y.scene.pa.UYa);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.FenceMaterial");_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.FBb);b.prototype.setOptions=function(a){null!==this.fp()&&(this.roc=!0);_geo.y.scene.pa.UYa.prototype.setOptions.call(this,a)};
return b}();
_geo.y.scene.pa.Peb=function(){function b(b){var d=b.index.esa();null==b.grid&&(b.grid={});null==b.grid.linestyles&&(b.grid.linestyles={});b.grid.linestyles=_geo.geotoolkit.Ca(b.grid.linestyles,a.clone());b=_geo.geotoolkit.Ca(b,{start:new window.THREE.Vector3(d.min.x,d.min.y,d.max.z),end:new window.THREE.Vector3(d.max.x,d.max.y,d.min.z),modelstart:new window.THREE.Vector3(d.min.x,d.min.y,d.max.z),modelend:new window.THREE.Vector3(d.max.x,d.max.y,d.min.z),mode:_geo.y.scene.ze.Mx.$D.box});_geo.y.scene.ze.Mx.call(this,
b);this.name="INDEXGRID"}var a={x:new _geo.geotoolkit.attributes.Aa("transparent"),y:new _geo.geotoolkit.attributes.Aa("transparent"),z:new _geo.geotoolkit.attributes.Aa("transparent"),clone:function(){return{x:a.x,y:a.y,z:a.z}}};_geo.geotoolkit.fa(b,_geo.y.scene.ze.Mx);_geo.geotoolkit.da(b,"geotoolkit3d.scene.seismic.IndexGrid");return b}();
(function(){var b="geotoolkit",a="scene",g="seismic",d="renderer",e=_geo.geotoolkit.wr,c=_geo.geotoolkit.$r,f=null,k=null;e(b+"3d."+a+"."+g+".Volume",_geo.y.scene.pa.xZa);c(f=_geo.y.scene.pa.xZa.prototype,"setOptions",f.setOptions,{setOptions:0});c(f,"getIndexCoordinates",f.vEa,{vEa:0});c(f,"getXYCoordinates",f.WFc,{WFc:0});c(f,"isPointInside",f.mSa,{mSa:0});c(f,"add",f.add,{add:0});c(f,"remove",f.remove,{remove:0});e(b+"3d.tool."+g+".SeismicSliderTool",_geo.y.sd.pa.bhc);c(f=_geo.y.sd.pa.bhc.prototype,
"setVolume",f.setVolume,{setVolume:0});e(b+"3d.picking.picking"+d+".DefaultSeismicSlicePickingMaterial",_geo.y.Ge.li.FBb);e(b+"3d."+a+"."+g+".Slice",(k=_geo.y.scene.pa).nFb);c(f=_geo.y.scene.pa.nFb.prototype,"setOptions",f.setOptions,{setOptions:0});c(f,"getSliceMaterial",f.Y7a,{Y7a:0});c(f,"getSliceLocation",f.ZWb,{ZWb:0});c(f,"getIndexCoordinates",f.vEa,{vEa:0});e(b+"3d."+a+"."+g+".SliceMaterial",k.UYa);c(f=_geo.y.scene.pa.UYa.prototype,"setOptions",f.setOptions,{setOptions:0});c(f,"createPipeline",
f.qQb,{qQb:0});c(f,"getOverlay",f.Eea,{Eea:0});c(f,"getPipeline",f.fp,{fp:0});c(f,"resetTiles",f.g1b,{g1b:0});e(b+"3d."+a+"."+g+".Fence",k.Uac);c(f=_geo.y.scene.pa.Uac.prototype,"setOptions",f.setOptions,{setOptions:0});c(f,"getOverlay",f.Eea,{Eea:0});c(f=_geo.y.scene.pa.Wac.prototype,"setOptions",f.setOptions,{setOptions:0});c(f,"getFenceMaterial",f.zrb,{zrb:0});c(f=_geo.y.scene.pa.Vac.prototype,"setOptions",f.setOptions,{setOptions:0});e(b+"3d."+a+"."+g+".IndexGrid",k.Peb)})();

    return _geo.geotoolkit3d.seismic;
}(_geo));
/* eslint-enable */
/* tslint:enable */