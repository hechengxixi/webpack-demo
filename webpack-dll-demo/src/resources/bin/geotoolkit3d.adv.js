/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
(function (root, factory) {
if (root && typeof root['define'] === 'function') {
    root['define']("geotoolkit3d", ["three","geotoolkit"], function() {
      root._geo = factory(root, root._geo);
      root.geotoolkit3d = root._geo.geotoolkit3d || root.geotoolkit3d;
      return root.geotoolkit3d;
    });
} else if (typeof module !== 'undefined' && typeof module.exports === 'object') {
    var m = factory(root, root && root._geo);
    module.exports._geo = m;
    if (root) { 
        root._geo = module.exports._geo;
        if(!root.geotoolkit3d) {
            root.geotoolkit3d = module.exports._geo.geotoolkit3d;
        }
    }
    if (!module.exports.geotoolkit3d) module.exports.geotoolkit3d=module.exports._geo.geotoolkit3d;
} else {
    root._geo = factory(root, root._geo);
    root.geotoolkit3d = root._geo.geotoolkit3d || root.geotoolkit3d;
    return root.geotoolkit3d;
}

}(typeof window !== "undefined" ? window : undefined, function (window, _geo) {
var _geo=_geo||{};_geo.y=_geo.y||{};_geo.y.data=_geo.y.data||{};_geo.y.data.rG=_geo.y.data.rG||{};_geo.y.data.Dc=_geo.y.data.Dc||{};_geo.y.data.rG.l0=_geo.y.data.rG.l0||{};_geo.y.sd=_geo.y.sd||{};_geo.y.sd.Js=_geo.y.sd.Js||{};_geo.y.sd.cursor=_geo.y.sd.cursor||{};_geo.y.te=_geo.y.te||{};_geo.y.scene=_geo.y.scene||{};_geo.y.Ge=_geo.y.Ge||{};_geo.y.Ge.li=_geo.y.Ge.li||{};_geo.y.controller=_geo.y.controller||{};_geo.y.scene.animation=_geo.y.scene.animation||{};_geo.y.scene.ellipse=_geo.y.scene.ellipse||{};
_geo.y.scene.cI=_geo.y.scene.cI||{};_geo.y.scene.ze=_geo.y.scene.ze||{};_geo.y.scene.gQ=_geo.y.scene.gQ||{};_geo.y.scene.Dc=_geo.y.scene.Dc||{};_geo.y.data.Qcd=_geo.y.data.Qcd||{};_geo.y.selection=_geo.y.selection||{};_geo.y.util=_geo.y.util||{};_geo.y.util.rG=_geo.y.util.rG||{};_geo.y.util.Dc=_geo.y.util.Dc||{};if(void 0===window.THREE)throw Error("THREEJS not found");
_geo.y.Ghd=function(){function b(a,b,d,c){if(2!==Math.sqrt(4))throw Error("Cannot happen");}function a(a){null==this.b5&&(this.b5=[]);a=this.b5.indexOf(a);-1!==a&&this.b5.splice(a,1);return this}function g(a){null==this.b5&&(this.b5=[]);this.b5.push(a);return this}function d(a,b){if(2!==Math.sqrt(4))throw Error("Cannot happen");}function e(a){null==a&&(a=new _geo.y.Event({type:_geo.y.Event.fv.Wc,source:this,args:[]}));null!=this.parent?this.parent.tj(a):null!=this.Me&&this.Me.tj(a)}window.THREE.ImageUtils.crossOrigin=
"";window.THREE.zzd=function(a,b){};window.THREE.xzd=function(a,b){};window.THREE.yzd=function(a,b){};if(void 0!==window.THREE.Object3D.prototype.tj)throw Error("invalidateObject already exists !");window.THREE.Object3D.prototype.tj=e;if(void 0!==window.THREE.Object3D.prototype.eaa)throw Error("updateObject already exists !");window.THREE.Object3D.prototype.eaa=d;if(void 0!==window.THREE.Object3D.prototype.no)throw Error("beforeRender already exists !");window.THREE.Object3D.prototype.no=b;if(void 0!==
window.THREE.Object3D.prototype.zob)throw Error("beforeRender already exists !");window.THREE.Object3D.prototype.zob=b;if(void 0!==window.THREE.Object3D.prototype.X2)throw Error("addResource already exists !");window.THREE.Object3D.prototype.X2=g;if(void 0!==window.THREE.Object3D.prototype.J$a)throw Error("addResource already exists !");window.THREE.Object3D.prototype.J$a=a;if(void 0!==window.THREE.Object3D.prototype.CPa)throw Error("addResource already exists !");window.THREE.Object3D.prototype.CPa=
function(){null==this.b5&&(this.b5=[]);for(var a=0;a<this.b5.length;a++)this.b5[a].dispose();this.b5.length=0;return this};var c=window.THREE.Object3D.prototype.add,f=window.THREE.Object3D.prototype.remove;window.THREE.Object3D.prototype.add=function(a){c.apply(this,arguments);a.updateMatrixWorld&&a.updateMatrixWorld(!0);this.tj(new _geo.y.Event({type:_geo.y.Event.fv.HQ,source:this,args:arguments}))};window.THREE.Object3D.prototype.remove=function(a){f.apply(this,arguments);this.tj(new _geo.y.Event({type:_geo.y.Event.fv.rJ,
source:this,args:arguments}))};window.THREE.log=function(){};window.THREE.warn=_geo.geotoolkit.log;window.THREE.error=_geo.geotoolkit.log;window.THREE.Object3D.DefaultUp=new window.THREE.Vector3(0,0,1);window.THREE.Vector4.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;this.z*=a.z;this.w*=a.w;return this};_geo.y.Fhd=!0};
_geo.y.util.EVc=function(){return{canvas:_geo.geotoolkit.window.CanvasRenderingContext2D&&!0,Trd:function(){try{return _geo.geotoolkit.window.WebGLRenderingContext&&_geo.geotoolkit.window.document.createElement("canvas").getContext("experimental-webgl")&&!0}catch(b){return!1}}()}}();
_geo.y.Bb=function(){function b(){}b.H7b=function(){var a=new window.THREE.Vector3,b=new window.THREE.Vector3,e=new window.THREE.Vector3,c=new window.THREE.Vector3,f=new window.THREE.Quaternion,k=new window.THREE.Vector3,h=new window.THREE.Vector3,l=new _geo.geotoolkit.util.xc;return function(n,p,r){n.updateMatrixWorld();n.matrixWorld.decompose(c,f,a);b.set(1,1,1).divide(a);p.matrixWorldInverse.decompose(c,f,k);e.set(1,1,1).divide(k);for(var t=0;t<n.children.length;t++){var q=n.children[t];h.copy(q.position).applyMatrix4(n.matrixWorld);
var m=_geo.y.Bb.xuc(h,p),m=q.scale.y/m,m=m*r.Me.getSize(l).height,m=q.scale.y/m;q.scale.multiplyScalar(m);q.scale.multiply(b);q.scale.multiply(e)}}}();b.xuc=function(a,b){var e;e=a.distanceTo(b.position);if(b instanceof window.THREE.PerspectiveCamera){var c=b.fov*Math.PI/180;e*=2*Math.tan(c/2)}else e=b.top-b.bottom;return e};b.rpb=function(a,b,e){function c(a){if("function"!==typeof b||!1!==b(a))a instanceof _geo.y.scene.Nha?a.uTa&&(k.set(h.copy(n),l.copy(p)),k.applyMatrix4(a.matrixWorld)):a instanceof
window.THREE.Sprite?(k.set(h.copy(n),l.copy(p)),k.applyMatrix4(a.matrixWorld)):"function"===typeof a.Rtb?k.copy(a.Rtb(k)):null!=a.geometry?(null==a.geometry.boundingBox&&"function"===typeof a.geometry.computeBoundingBox&&a.geometry.computeBoundingBox(),k.copy(a.geometry.boundingBox),k.applyMatrix4(a.matrixWorld)):e||a.children.forEach(c),e&&a.children.forEach(c),(0,window.isFinite)(k.min.length())&&(0,window.isFinite)(k.max.length())&&(null==f?f=(new window.THREE.Box3).copy(k):f.union(k))}e="boolean"===
typeof e?e:!1;var f=null,k=new window.THREE.Box3,h=new window.THREE.Vector3,l=new window.THREE.Vector3,n=new window.THREE.Vector3(-.5,-.5,0),p=new window.THREE.Vector3(.5,.5,0);c(a);return f};b.u5a=function(a){a&&(1<a.length?a.forEach(function(a){a instanceof window.THREE.Material&&(a.map&&(a.map.dispose(),a.map.image&&(a.map.image=null)),a.map=null,a.dispose())}):a instanceof window.THREE.Material&&(null!=a.map&&(a.map.dispose(),null!=a.map.image&&(a.map.image=null)),a.map=null,a.dispose()))};b.dispose=
function(a){if(Array.isArray(a))for(var d=a.length-1;0<=d;d--)b.dispose(a[d]);else null!=a&&(a instanceof _geo.y.scene.Object3D&&a.CPa(),a instanceof window.THREE.Object3D&&b.dispose(a.children),null!=a.dispose&&a.dispose(),null!=a.parent&&a.parent.remove(a),null!=a.geometry&&(a.geometry.dispose(),a.geometry=null),b.u5a(a.material),a.material=null)};var a=new window.THREE.Vector3(0,1,0);b.sgd=function(b,d,e){b=b.clone().sub(d).normalize();return.99>Math.abs(b.dot(e.camera.up))?e.camera.up.clone():
a.clone()};b.S$c=function(a,b,e,c){var f=a.IG(a.c9()),k=a.IG(null!=b?b:a.c9()),h=a.camera.quaternion.clone(),l=a.camera.quaternion.clone();b=new window.THREE.Vector3;var n=Date.now(),p=null!=c?c:1E3;c=new window.THREE.Matrix4;var r;if(null!=e){r=a.IG(e);var t=this.sgd(k,r,a);b.copy(k).sub(r).normalize();c.lookAt(k,e,t);c.decompose(b,l,b)}return function(){var b=a.camera,d=a.controller,c=Date.now()-n;if(this.oDa)return!0;if(c>p)return b.position.copy(k),b.quaternion.copy(l),d.setOptions({position:k,
lookat:r}),a.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:a.camera,args:[]})),!0;b.position.lerpVectors(f,k,c/p);b.quaternion.copy(h).slerp(l,c/p);d.setOptions({position:a.c9(),lookat:a.Ska()});a.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:a.camera,args:[]}));return!1}};b.bQa=function(a,b){var e=new window.THREE.Matrix4,c=Math.abs(b.max.x-b.min.x)/Math.abs(a.max.x-a.min.x),f=Math.abs(b.max.y-b.min.y)/Math.abs(a.max.y-a.min.y),k=Math.abs(b.max.z-b.min.z)/Math.abs(a.max.z-a.min.z);
e.multiply((new window.THREE.Matrix4).makeTranslation(b.min.x,b.min.y,b.min.z));e.multiply((new window.THREE.Matrix4).makeScale(c,f,k));e.multiply((new window.THREE.Matrix4).makeTranslation(-a.min.x,-a.min.y,-a.min.z));return e};b.q8b=function(){var a=new window.THREE.Vector3;return function(b,e,c,f){null==f&&(f=new window.THREE.Vector3);a.copy(b);a.project(e);a.x=(a.x+1)/2;a.y=(-a.y+1)/2;return f.set(a.x*c.width,a.y*c.height,a.z)}}();b.vcb=function(){var a=new window.THREE.Vector3;return function(b,
e,c,f){null==f&&(f=new window.THREE.Vector2);a.copy(b);a.project(e);a.x=(a.x+1)/2;a.y=(-a.y+1)/2;return f.set(a.x*c.width,a.y*c.height)}}();b.Ybd=function(){function a(g,f,n,p){var r=g.material.map.image.width,t=g.material.map.image.height;g.parent.localToWorld(e.copy(g.position));b.q8b(e,n,p.Me.getSize(k),d);if(!(0,window.isFinite)(d.x)||!(0,window.isFinite)(d.y))return null;d.x-=r/2;d.y-=t/2;c.set(d.x+r,d.y+t);return new window.THREE.Box2(new window.THREE.Vector2(d.x-f.x,d.y-f.z),new window.THREE.Vector2(c.x+
f.y,c.y+f.w))}var d=new window.THREE.Vector3,e=new window.THREE.Vector3,c=new window.THREE.Vector2,f=new window.THREE.Box2,k=new _geo.geotoolkit.util.xc;return function(b,d,c,e,k,t){var q=[],m,u;if(null!=t)for(u=0;u<t.length;u++)m=t[u],m.visible&&null!=m.parent&&null!=b.Me&&(m=a(m,k,d,b),null!==m&&q.push(m));for(u=0;u<c.length;u++)if(m=c[u],m.visible&&null!=m.parent&&null!=b.Me&&(t=a(m,k,d,b),null!=t)){t.sprite=m;for(var v=!1,w=0,x=0;x<q.length;x++)if(t.intersectsBox(q[x])){var A=new window.THREE.Vector3;
f.copy(t).intersect(q[x]).getSize(A);w+=A.x*A.y;if(w>e){v=!0;break}}v?m.visible=!1:m.visible&&q.push(t)}}}();b.Jnd=function(a,b,e,c){var f;null==c?c=new window.THREE.WebGLRenderer:f=c.getSize();null!=b&&null!=e&&c.setSize(b,e);b=a.parent;e=new window.THREE.Scene;e.add(a);var k=(new window.THREE.Box3).setFromObject(a),h=new window.THREE.OrthographicCamera(-16E3,16E3,-16E3,16E3),l=new window.THREE.Vector3;k.getSize(l);0===l.z&&(k.expandByVector(new window.THREE.Vector3(0,0,.5)),l=new window.THREE.Vector3,
k.getSize(l));var n=new window.THREE.Vector3;k.getCenter(n);h.translateX(n.x);h.translateY(n.y);h.translateZ(n.z+.6*l.z);h.near=.05*l.z;h.far=1.15*l.z;h.updateMatrixWorld();h.updateProjectionMatrix();l=k.min.clone();l.project(h);n=k.max.clone();n.project(h);k=Math.max(l.x,n.x);l=Math.max(l.y,n.y);h.left*=k;h.right*=k;h.top*=l;h.bottom*=l;h.updateProjectionMatrix();c.render(e,h);e=c.domElement.toDataURL();null!=f?c.setSize(f.width,f.height):c.dispose();a.parent=b;return e};b.EKa={Rgd:"IJ",rGc:"IJFLIPPED",
rf:"XY"};return b}();_geo.y.util.Math=function(){};_geo.y.util.Math.l$c=function(b,a,g){b=[b.distanceTo(a),b.distanceTo(g),a.distanceTo(g)].sort();return.25*Math.sqrt((b[0]+(b[1]+b[2]))*(b[2]-(b[0]-b[1]))*(b[2]+(b[0]-b[1]))*(b[0]+(b[1]-b[2])))};
_geo.y.util.Math.normal=function(b,a,g,d,e,c){null==e&&(e=[]);a*=3;g*=3;d*=3;var f=b[a+0],k=b[a+1],h=b[a+2];a=b[g+0];var l=b[g+1],n=b[g+2];g=b[d+0];var p=b[d+1];b=b[d+2];if(null!=c&&(h===c||n===c||b===c))return e[0]=0,e[1]=0,e[2]=0,e;c=p-l;h-=n;n=b-n;k-=l;f-=a;a=g-a;e[0]=c*h-n*k;e[1]=n*f-a*h;e[2]=a*k-c*f;f=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);0===f?(e[0]=0,e[1]=0,e[2]=0):(e[0]/=f,e[1]/=f,e[2]/=f);return e};
_geo.y.util.Math.zfa=function(b,a,g,d,e,c){null==e&&(e=[]);a=[b.getX(a),b.getY(a),b.getZ(a)];g=[b.getX(g),b.getY(g),b.getZ(g)];b=[b.getX(d),b.getY(d),b.getZ(d)];if(null!=c&&(a[2]===c||g[2]===c||b[2]===c))return e[0]=0,e[1]=0,e[2]=0,e;c=b[1]-g[1];d=a[2]-g[2];var f=b[2]-g[2],k=a[1]-g[1];a=a[0]-g[0];g=b[0]-g[0];e[0]=c*d-f*k;e[1]=f*a-g*d;e[2]=g*k-c*a;a=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);0===a?(e[0]=0,e[1]=0,e[2]=0):(e[0]/=a,e[1]/=a,e[2]/=a);return e};
_geo.y.util.Math.intersect=function(b,a,g,d){var e=a.x-b.x;a=a.y-b.y;var c=d.x-g.x,f=d.y-g.y;d=(-a*(b.x-g.x)+e*(b.y-g.y))/(-c*a+e*f);g=(c*(b.y-g.y)-f*(b.x-g.x))/(-c*a+e*f);return 0<=d&&1>=d&&0<=g&&1>=g?new window.THREE.Vector2(b.x+g*e,b.y+g*a):null};_geo.y.util.Math.lerp=function(b,a,g){var d=new window.THREE.Vector3;d.x=b.x+g*(a.x-b.x);d.y=b.y+g*(a.y-b.y);d.z=b.z+g*(a.z-b.z);return d};_geo.y.util.Math.ZQb=function(b){return b*Math.PI/180};_geo.y.util.Math.l0b=function(b){return 180*b/Math.PI};
_geo.y.util.Math.b$=function(b,a,g,d,e,c,f){null==a&&(a=0);null==g&&(g=1);null==f&&(f=window.NaN);b=b.slice();var k=Number.MAX_VALUE,h=-Number.MAX_VALUE,l;for(l=0;l<b.length;l++)null==b[l]||(0,window.isNaN)(b[l])||b[l]===c||(null!=d&&b[l]<d?b[l]=d:null!=e&&b[l]>e?b[l]=e:(k=Math.min(k,b[l]),h=Math.max(h,b[l])));(0,window.isNaN)(a)&&(a=k);(0,window.isNaN)(g)&&(g=h);d=null!=d?d:k;e=null!=e?e:h;if(e===d)for(l=0;l<b.length;l++)b[l]=null==b[l]||(0,window.isNaN)(b[l])||b[l]===c?f:a+(g-a)/2;else for(l=0;l<
b.length;l++)b[l]=null==b[l]||(0,window.isNaN)(b[l])||b[l]===c?f:a+(b[l]-d)/(e-d)*(g-a);return b};
_geo.y.util.Math.Wqd=function(b,a,g,d,e,c,f,k,h,l,n,p){var r=Math.sqrt((b-a)*(b-a)+(e-c)*(e-c)),t=Math.sqrt((a-g)*(a-g)+(c-f)*(c-f)),q=12===arguments.length?Math.sqrt((l-n)*(l-n)+(l-n)*(l-n)):0,m=(b+a+g+d)/4,u=(e+c+f+k)/4,v=12===arguments.length?(h+l+n+p)/4:0;return new window.THREE.Box3(new window.THREE.Vector3(m-r/2,u-t/2,12===arguments.length?v-q/2:Number.NaN),new window.THREE.Vector3(m+r/2,u+t/2,12===arguments.length?v+q/2:Number.NaN))};
_geo.y.util.Math.h$c=function(b,a,g){var d=Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2),e=Math.pow(g.x-a.x,2)+Math.pow(g.y-a.y,2),c=Math.pow(b.x-g.x,2)+Math.pow(b.y-g.y,2);return c>d&&c>e?new window.THREE.Vector2(b.x+(g.x-a.x),b.y+(g.y-a.y)):e>d&&e>c?new window.THREE.Vector2(a.x+(g.x-b.x),a.y+(g.y-b.y)):new window.THREE.Vector2(b.x+(a.x-g.x),b.y+(a.y-g.y))};
_geo.y.util.Math.V4a=function(b,a,g,d,e,c){var f=Math.pow(g-b,2)+Math.pow(d-a,2),k=Math.pow(e-g,2)+Math.pow(c-d,2),h=Math.pow(b-e,2)+Math.pow(a-c,2);return h>f&&h>k?{x:b+(e-g),y:a+(c-d)}:k>f&&k>h?{x:g+(e-b),y:d+(c-a)}:{x:b+(g-e),y:a+(d-c)}};_geo.y.util.Math.vjd=function(b,a){var g=new window.THREE.Vector3;g.x=b.x>a.x?b.x:a.x;g.y=b.y>a.y?b.y:a.y;g.z=b.z>a.z?b.z:a.z;return g};
_geo.y.util.Math.Hjd=function(b,a){var g=new window.THREE.Vector3;g.x=b.x>a.x?a.x:b.x;g.y=b.y>a.y?a.y:b.y;g.z=b.z>a.z?a.z:b.z;return g};_geo.y.util.Math.intersectBox=function(b,a){return!(b.max.x<=a.min.x||b.min.x>=a.max.x||b.max.y<=a.min.y||b.min.y>=a.max.y)};_geo.y.util.Math.containsBox=function(b,a){return!(b.min.x>a.min.x||b.max.x<a.max.x||b.min.y>a.min.y||b.max.y<a.max.y)};
_geo.y.util.Math.Vuc=function(b,a){var g=new window.THREE.Box2;g.min.x=a.min.x>b.min.x?a.min.x:b.min.x;g.max.x=a.max.x<b.max.x?a.max.x:b.max.x;g.min.y=a.min.y>b.min.y?a.min.y:b.min.y;g.max.y=a.max.y<b.max.y?a.max.y:b.max.y;return g};_geo.y.util.Math.yuc=function(b){var a=[0,0,0,0,0],g;for(g=0;g<b.length;g++){var d=b[g];a[0]+=d[0];a[1]+=d[1];a[2]+=d[0]*d[0];a[3]+=d[0]*d[1];a[4]+=d[1]*d[1]}b=(g*a[3]-a[0]*a[1])/(g*a[2]-a[0]*a[0]);a=a[1]/g-b*a[0]/g;return a={a:b,b:a}};
_geo.y.util.Math.Wnd=function(b,a){var g=(new window.THREE.Matrix3).set(b[0].x,b[0].y,1,b[1].x,b[1].y,1,b[2].x,b[2].y,1),g=g.getInverse(g),d=(new window.THREE.Vector3(a[0].x,a[1].x,a[2].x)).applyMatrix3(g),g=(new window.THREE.Vector3(a[0].y,a[1].y,a[2].y)).applyMatrix3(g);return(new window.THREE.Matrix3).set(d.x,d.y,d.z,g.x,g.y,g.z,0,0,1)};
_geo.y.util.Math.h1b=function(b,a){var g=(new window.THREE.Matrix4).set(b[0].x,b[0].y,b[0].z,1,b[1].x,b[1].y,b[1].z,1,b[2].x,b[2].y,b[2].z,1,b[3].x,b[3].y,b[3].z,1),g=g.getInverse(g),d=(new window.THREE.Vector4(a[0].x,a[1].x,a[2].x,a[3].x)).applyMatrix4(g),e=(new window.THREE.Vector4(a[0].y,a[1].y,a[2].y,a[3].y)).applyMatrix4(g),g=(new window.THREE.Vector4(a[0].z,a[1].z,a[2].z,a[3].z)).applyMatrix4(g);return(new window.THREE.Matrix4).set(d.x,d.y,d.z,d.w,e.x,e.y,e.z,e.w,g.x,g.y,g.z,g.w,0,0,0,1)};
_geo.y.util.Math.IZb=function(b,a,g,d){function e(a,b){var d=c(a,b);return 0===d?1:2/d*Math.tan(d/2)}function c(a,b){var d=h(b)*p(a)+k(b)*n(a)+f(b)*l(a);return Math.acos(d)}function f(b){return Math.cos(a[b])}function k(b){return Math.sin(a[b])*Math.sin(g[b])}function h(b){return Math.sin(a[b])*Math.cos(g[b])}function l(b){return Math.cos(a[b])}function n(b){return Math.sin(a[b])*Math.sin(g[b])}function p(b){return Math.sin(a[b])*Math.cos(g[b])}for(var r=[0],t=[0],q=[0],m=0,u=0,v=0,w=0,x=1;x<b.length;x++){var A=
b[x]-b[w],z=e(w,x),m=m+A*z*(h(x)+p(w))/2,u=u+A*z*(k(x)+n(w))/2,v=d?v-A*z*(f(x)+l(w))/2:v+A*z*(f(x)+l(w))/2;r.push(m);t.push(u);q.push(v);w=x}return{x:r,y:t,z:q}};
_geo.y.data.rG.l0.Y1c=function(){function b(){}var a=/(.*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/,g=/(.*)\s+(\-?\d+\.?[\d\-\+e]*)\s/,d=/^NORMALS[ ]+(\w+)[ ]+(\w+)/,e=/^VECTORS[ ]+(\w+)[ ]+(\w+)/,c=/^SCALARS[ ]+(\w+)[ ]+(\w+)/,f=/^FIELD[ ]+(\w+)[ ]+(\w+)/,k=/^POINTS /,h=/^POLYGONS /,l=/^LINES /,n=/^TRIANGLE_STRIPS /,p=/^POINT_DATA[ ]+(\d+)/,r=/^CELL_DATA[ ]+(\d+)/,t=/^CELLS /,q=/^CELL_TYPES /,m=/^DATASET[ ]+(\w+)/,u="STRUCTURED_POINTS",v="STRUCTURED_GRID",w="RECTILINEAR_GRID",
x="POLYDATA",A="UNSTRUCTURED_GRID",z=/^(\d+)\s+([\s\d]*)/,C=/\s+/;b.Wbb=function(a){return+a};b.cba={Kvb:function(a,d,c){null!=c.FN&&("normals"===c.FN.type||"vector"===c.FN.type||"scalar"===c.FN.type?Array.prototype.push.apply(d.data[c.FN.name].values,a.split(C).map(b.Wbb)):"field"===c.FN.type&&(d=d.data[c.FN.name].arrays,Array.prototype.push.apply(d[d.length-1].values,a.split(C).map(b.Wbb))))},points:function(a,d,c){Array.prototype.push.apply(d.data.position,a.split(C).map(b.Wbb))},cells:function(a,
d,c){var e;null!==(e=z.exec(a))&&d.data.cells.push(e[2].split(C).map(b.Wbb))},N9c:function(a,b,d){d=b.data.cells[d.cellIndex++];switch(+a){case 1:case 2:null==b.data.pointindex&&(b.data.pointindex=[]);Array.prototype.push.apply(b.data.pointindex,d);break;case 3:null==b.data.lineindex&&(b.data.lineindex=[]);Array.prototype.push.apply(b.data.lineindex,d);break;case 4:null==b.data.lineindex&&(b.data.lineindex=[]);Array.prototype.push.apply(b.data.polylineindex,d.slice(0,2));for(a=2;a<d.length;a++)b.data.polylineindex.push(b.data.polylineindex[b.data.polylineindex.length-
1],d[a]);break;case 5:null==b.data.index&&(b.data.index=[]);Array.prototype.push.apply(b.data.index,d);break;case 6:null==b.data.index&&(b.data.index=[]);b=b.data.index;Array.prototype.push.apply(b,d.slice(0,3));for(a=3;a<d.length;a++)b.push(b[b.length-2],b[b.length-1],d[a]);break;case 7:_geo.geotoolkit.log("Unsupported/Unhandled cell type: VTK_POLYGON");break;case 8:case 9:null==b.data.index&&(b.data.index=[]);b.data.index.push(d[0],d[1],d[2]);b.data.index.push(d[0],d[2],d[3]);break;case 10:null==
b.data.index&&(b.data.index=[]);b.data.index.push(d[0],d[2],d[1]);b.data.index.push(d[0],d[1],d[3]);b.data.index.push(d[1],d[2],d[3]);b.data.index.push(d[0],d[3],d[2]);break;case 11:case 12:case 13:case 14:_geo.geotoolkit.log("Unsupported/Unhandled cell type: VTK_VOXEL VTK_HEXAHEDRON VTK_WEDGE VTK_PYRAMID");break;case 21:case 22:case 23:case 24:case 25:_geo.geotoolkit.log("Unsupported/Unhandled cell type: VTK_QUADRATIC_EDGE VTK_QUADRATIC_TRIANGLE VTK_QUADRATIC_QUAD VTK_QUADRATIC_TETRA VTK_QUADRATIC_HEXAHEDRON");
break}},triangles:function(a,b,d){if(null!==(d=z.exec(a))&&(a=(0,window.parseInt)(d[1]),d=d[2].split(/\s+/),3<=a))for(var c,e,g,f=0;f<a-2;f++)1===f%2?(c=(0,window.parseInt)(d[f]),e=(0,window.parseInt)(d[f+2]),g=(0,window.parseInt)(d[f+1])):(c=(0,window.parseInt)(d[f]),e=(0,window.parseInt)(d[f+1]),g=(0,window.parseInt)(d[f+2])),b.data.index.push(c,e,g)},AGa:function(a,b,d){if(null!==(d=z.exec(a))&&(a=(0,window.parseInt)(d[1]),d=d[2].split(C),3<=a))for(var c=(0,window.parseInt)(d[0]),e,g,f=1,h=0;h<
a-2;++h)e=(0,window.parseInt)(d[f]),g=(0,window.parseInt)(d[f+1]),b.data.index.push(c,e,g),f++},line:function(a,b,d){if(null!==(d=z.exec(a))){a=(0,window.parseInt)(d[1]);d=d[2].split(C);for(var c=[],e=0;e<a;e++)c.push((0,window.parseInt)(d[e]));b.data.lineindex.push(c)}}};b.xld=function(a,g,m){null!==h.exec(a)?(g.wW=b.cba.AGa,m.data.index=[]):null!==l.exec(a)?(g.wW=b.cba.line,m.data.lineindex=[]):null!==k.exec(a)?(g.wW=b.cba.points,m.data.position=[]):null!==n.exec(a)?(g.wW=b.cba.triangles,m.data.index=
[]):null!==t.exec(a)?(g.wW=b.cba.cells,m.data.cells=[]):null!==q.exec(a)?(g.wW=b.cba.N9c,g.cellIndex=0,m.data.index=[]):null!==p.exec(a)?g.wW=b.cba.Kvb:null!==r.exec(a)?g.wW=b.cba.Kvb:f.test(a)?(g.wW=b.cba.Kvb,a=f.exec(a),g.FN={type:"field",name:a[1].toLowerCase(),arrays:[]},m.data[a[1].toLowerCase()]=g.FN):g.wW===b.cba.Kvb?c.test(a)?(a=c.exec(a),g.FN={type:"scalar",name:a[1].toLowerCase(),values:[]},m.data[a[1].toLowerCase()]=g.FN):d.test(a)?(a=d.exec(a),null==m.data.normals&&(m.data.normals=m.data[a[1].toLowerCase()]),
g.FN={type:"normals",name:a[1].toLowerCase(),values:[]},m.data[a[1].toLowerCase()]=g.FN):e.test(a)?(a=e.exec(a),g.FN={type:"vector",name:a[1].toLowerCase(),values:[]},m.data[a[1].toLowerCase()]=g.FN):null!=g.FN&&"field"===g.FN.type?(m=a.split(C),g.FN.arrays.push({name:m[0],stride:+m[1],values:[]})):_geo.geotoolkit.log("Unsupported/Unhandled submode: "+a):_geo.geotoolkit.log("Unsupported/Unhandled entry: "+a)};b.nld=function(d,c){var e=b.Wbb;switch(m.exec(d[3])[1]){case u:c.metadata.dataset.dimensions=
a.exec(d[4]).slice(2).map(e);c.metadata.dataset.origin=a.exec(d[5]).slice(2).map(e);c.metadata.dataset.spacing=a.exec(d[6]).slice(2).map(e);e=3;break;case v:c.metadata.dataset.dimensions=a.exec(d[4]).slice(2).map(e);c.metadata.dataset.points=g.exec(d[5]).slice(2).map(e)[0];e=2;break;case w:c.metadata.dataset.dimensions=a.exec(d[4]).slice(2).map(e);e=1;break;case x:case A:c.metadata.dataset.points=g.exec(d[4]).slice(2).map(e)[0];e=1;break;default:e=-1}return e};return b}();
_geo.y.util.Khb=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.WebGLConstants");b.nrd=function(a){b.a2||(b.capabilities=a.capabilities,b.state=a.state,b.a2=!0)};b.getCompressedTextureFormats=function(){return b.a2?b.state.getCompressedTextureFormats():[]};b.mCc=function(){return b.a2?b.capabilities.maxTextureSize:512};b.Ued=function(){return b.a2?b.capabilities.maxTextures:8};return b}();
_geo.y.data.rG.l0.zhb=function(){function b(){}var a=/^[e\-0-9\. ]*$/,g=/(?![\x20-\x7E]|[\x0D]|[\x0A])./g,d="ASCII",e=_geo.y.data.rG.l0.Y1c;_geo.geotoolkit.da(b,"geotoolkit3d.data.loader.vtk.VTKASCIIStreamLoader");b.YGc=function(a){return new _geo.geotoolkit.util.Promise(function(b,e){a.z$a(0,10,function(a,c,g,p,r,t){a?e(a):b(-1!==g[2].indexOf(d))})})};b.parse=function(b){return new _geo.geotoolkit.util.Promise(function(d,k){var h={};b.z$a(0,10,function(l,n,p,r,t,q){if(l)k(l);else if(l=p,p=p.map(function(a){return a.replace(g,
" ").trim()}).filter(function(a){return 0!==a.length}),h.metadata={header:p[0],title:p[1],type:p[2].split(" ")[1],dataset:{type:p[3]}},h.data={},n=e.nld(p,h),-1===n)k("Unsupported dataset type: "+p[3]);else{n+=l.indexOf(p[3]);var m={};b.Y4(n,function v(k,l,n,p,q,t){for(k=0;k<n.length;k++)q=n[k],q=q.replace(g," ").trim(),0!==q.length&&"#"!==q.charAt(0)&&(a.test(q)?m.wW(q,h,m):e.xld(q,m,h));p?d(h):b.Y4(l+n.length,v)})}})})};return b}();
_geo.y.data.rG.l0.bjc=function(){function b(){this.manager=window.THREE.DefaultLoadingManager}_geo.geotoolkit.da(b,"geotoolkit3d.data.loader.vtk.VTKLoader");b.prototype.load=function(a,b,d){var e=this,c=new window.THREE.FileLoader(e.manager);c.setResponseType("arraybuffer");c.load(a,function(a){e.parse(new _geo.geotoolkit.util.stream.yDb({stream:new _geo.geotoolkit.util.stream.OAb({buffer:a,stride:1})}),b,d)},function(){},d)};b.prototype.parse=function(a,b,d){var e=new _geo.geotoolkit.util.Promise(function(b,
d){_geo.y.data.rG.l0.zhb.YGc(a).then(function(e){e||d("Warning: Only ASCII format is supported");_geo.y.data.rG.l0.zhb.parse(a).then(function(a){b(a)},d)},d)});e.then(b,d);return e};return b}();
_geo.y.data.rG.l0.ajc=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.data.loader.vtk.VTKFactory");b.prototype.create=function(a,b){var d=[],e=a.data;null!=e.index&&d.push(this.Pda(a,b));(null!=e.pointindex||null==e.index&&null==e.lineindex)&&d.push(this.sQb(a,b));null!=e.lineindex&&Array.prototype.push.apply(d,this.mQb(a,b));return d};b.prototype.Pda=function(a,b){var d=a.data,e=new window.THREE.BufferGeometry;e.addAttribute("position",new window.THREE.BufferAttribute(new window.Float32Array(d.position),
3));e.setIndex(new window.THREE.BufferAttribute(new window.Uint32Array(d.index),1));null==b.mesh&&(b.mesh={});!0!==b.mesh.zup&&(e.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/2)),e.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/2)));null!=d.colors&&e.addAttribute("colors",new window.THREE.BufferAttribute(new window.Float32Array(d.colors.values),3));null!=d.normals?e.addAttribute("normal",new window.THREE.BufferAttribute(new window.Float32Array(d.normals.values),3)):e.computeVertexNormals();
d=null!=b.mesh.material?b.mesh.material:new window.THREE.MeshPhongMaterial({color:"lightgrey"});e=new window.THREE.Mesh(e,d);null!=b.mesh.position&&e.position.copy(b.mesh.position);null!=b.scale&&e.scale.multiplyVectors(b.scale,e.scale);null!=b.mesh.scale&&e.scale.multiplyVectors(b.mesh.scale,e.scale);return e};b.prototype.mQb=function(a,b){var d=a.data,e=new window.THREE.BufferAttribute(new window.Float32Array(d.position),3);return a.data.lineindex.map(function(a,d){var k=new window.THREE.BufferGeometry;
k.addAttribute("position",e);k.setIndex(new window.THREE.BufferAttribute(new window.Uint32Array(a),1));null==b.line&&(b.line={});var h=null!=b.line.material?b.line.material.clone():_geo.y.util.bJ.G8(new _geo.geotoolkit.attributes.Aa("lightgrey")),h=new window.THREE.Line(k,h);!0!==b.line.zup&&0===d&&(k.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/2)),k.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/2)));null!=b.line.position&&h.position.copy(b.line.position);null!=b.scale&&
h.scale.multiplyVectors(b.scale,h.scale);null!=b.line.scale&&h.scale.multiplyVectors(b.line.scale,h.scale);return h})};b.prototype.sQb=function(a,b){var d=a.data,e=Object.keys(d).filter(function(a){return a="position"!==a&&"scalar"===d[a].type&&0<d[a].values.length}),c=e.map(function(a){return d[a]});Object.keys(d).filter(function(a){return"field"===d[a].type}).forEach(function(a){d[a].arrays.forEach(function(a){1===a.stride&&0<a.values.length&&c.push(a)})});null==b.pointcloud&&(b.pointcloud={});
var e=c.filter(function(a){return null!=b.pointcloud.attributes&&a.name===b.pointcloud.attributes.sizes}),f=c.filter(function(a){return null!=b.pointcloud.attributes&&a.name===b.pointcloud.attributes.values});0===e.length&&0===f.length&&0!==c.length&&(1<c.length?(0<c[0].values.length&&(e=[c[0]]),0<c[1].values.length&&(f=[c[1]])):1===c.length&&0<c[0].values.length&&(f=[c[0]]));var k=null;if(null!=d.pointindex){for(var k=[],h=0;h<d.position.length/3;h++)k[h]=!1;for(h=0;h<d.pointindex.length;h++)k[d.pointindex[h]]=
!0}h="red";if(0<f.length){var l=_geo.geotoolkit.util.Math.qo(f);l[0]!==Number.POSITIVE_INFINITY&&l[1]!==Number.NEGATIVE_INFINITY&&(h=(new _geo.geotoolkit.util.ym).jk(_geo.geotoolkit.util.Ie.Mz.pKa,l[0],l[1]))}e=new _geo.y.scene.gQ.PointCloud({data:{xyz:new window.Float32Array(d.position),sizes:0<e.length?e[0].values:null,values:0<f.length?f[0].values:null,visible:k},symbolmaxsize:6,colorprovider:null!=b.pointcloud.colorprovider?b.pointcloud.colorprovider:h});!0!==b.pointcloud.zup&&(e.o$.geometry.applyMatrix((new window.THREE.Matrix4).makeRotationZ(Math.PI/
2)),e.o$.geometry.applyMatrix((new window.THREE.Matrix4).makeRotationY(Math.PI/2)));null!=b.pointcloud.position&&e.position.copy(b.pointcloud.position);null!=b.scale&&e.scale.multiplyVectors(b.scale,e.scale);null!=b.pointcloud.scale&&e.scale.multiplyVectors(b.pointcloud.scale,e.scale);return e};return b}();
_geo.y.scene.Object3D=function(){function b(){window.THREE.Object3D.call(this);this.b5=[];this.frustumCulled=!1}_geo.y.Fhd||_geo.y.Ghd();_geo.geotoolkit.fa(b,window.THREE.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.Object3D");b.prototype.tj=function(a){window.THREE.Object3D.prototype.tj.call(this,a);return this};b.prototype.eaa=function(a,b){window.THREE.Object3D.prototype.eaa.call(this,a,b);return this};b.prototype.no=function(a,b,d,e){window.THREE.Object3D.prototype.no.call(this,a,b,d,e);
return this};b.prototype.X2=function(a){return window.THREE.Object3D.prototype.X2.call(this,a)};b.prototype.J$a=function(a){return window.THREE.Object3D.prototype.J$a.call(this,a)};b.prototype.CPa=function(){return window.THREE.Object3D.prototype.CPa.call(this)};b.prototype.xFa=function(){return!0};return b}();
_geo.y.selection.Koa=function(){function b(a){_geo.geotoolkit.selection.Koa.call(this,a,new _geo.geotoolkit.selection.mKa({id:function(a){return a.id},uuid:function(a){return a.uuid},name:function(a){return a.name},"class":function(a){return"function"===typeof a.getClassName?a.getClassName():a instanceof window.THREE.Line?"THREE.Line":a instanceof window.THREE.PointCloud?"THREE.PointCloud":a instanceof window.THREE.Sprite?"THREE.Sprite":a instanceof window.THREE.Mesh?"THREE.Mesh":a instanceof window.THREE.Object3D?
"THREE.Object3D":null},visible:function(a){return a.visible}}))}_geo.geotoolkit.fa(b,_geo.geotoolkit.selection.Koa);_geo.geotoolkit.da(b,"geotoolkit3d.selection.NodeQueryBuilder");b.prototype.Xk=function(a,b){for(var d=0;d<a.children.length;d++)b(a.children[d],d,a,this)};return b}();_geo.y.selection.from=function(b){return new _geo.y.selection.Koa(b)};
_geo.y.sd.Js.lL=function(){function b(a){_geo.geotoolkit.util.EventDispatcher.call(this,a);this.YL=this.$vd=this.target=this.Me=null;this.setOptions(a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit3d.tool.devicesupport.AbstractDeviceSupport");b.$={onContext:"onContext",onMouseDown:"onMouseDown",onMouseMove:"onMouseMove",onMouseUp:"onMouseUp",onMouseWheel:"onMouseWheel",onTouchStart:"onTouchStart",onTouchEnd:"onTouchEnd",onTouchMove:"onTouchMove",onDoubleClick:"onDoubleClick",
onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onPointerStart:"onPointerStart",onPointerMove:"onPointerMove",onPointerEnd:"onPointerEnd"};b.prototype.setup=function(a,b,e){var c=this;c.tia=function(a){c.Ja("onContext",c,a);c.YL=a};c.JR=function(a){c.Ja("onMouseWheel",c,a);c.YL=a};c.fja=function(a){c.Ja("onKeyDown",c,a)};c.gja=function(a){c.Ja("onKeyUp",c,a)};c.ANa=function(a){c.o8(a);c.Ja("onMouseUp",c,a);c.YL=a};c.mLb=function(a){c.o8(a);c.Ja("onMouseOut",c,a);c.YL=a};c.yNa=function(a){c.o8(a);c.Ja("onMouseDown",
c,a);c.YL=a};c.xNa=function(a){c.o8(a);c.Ja("onDoubleClick",c,a);c.YL=a};c.zNa=function(a){if(null==c.YL||c.YL.clientX!==a.clientX||c.YL.clientY!==a.clientY)c.o8(a),c.Ja("onMouseMove",c,a)}};b.isSupported=_geo.geotoolkit.Ia;b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{domelement:this.domElement,plot:this.Me,target:this.target});this.Me=a.plot;this.target=a.target;this.domElement!==a.domelement&&(null!=this.domElement&&this.dispose(),this.domElement=a.domelement,this.setup(this.Me,this.domElement,
this.target));return this};var a=new _geo.geotoolkit.util.xc;b.prototype.W4a=function(b,d){var e=this.domElement.getBoundingClientRect(),c=this.Me.getSize(a);return e={x:(b-e.left)/(e.right-e.left)*c.width,y:(d-e.top)/(e.bottom-e.top)*c.height}};b.prototype.dispose=function(){this.domElement=this.target=this.Me=null;_geo.geotoolkit.util.EventDispatcher.prototype.dispose.call(this)};return b}();
_geo.y.sd.Js.eJa=function(){function b(){}var a=[],g=null;b.uNc=function(a){g=a};b.Azc=function(){for(var b=null,e=0;e<a.length;e++)if(b=a[e],null==b.isSupported)_geo.geotoolkit.log("Warning: "+b.getClassName()+" is not implementing isSupported()");else if(b.isSupported())break;else b=null;return null!=b?b:g};b.WSb=function(){return a};_geo.geotoolkit.da(b,"geotoolkit3d.tool.devicesupport.DeviceSupportRegistry");return b}();
_geo.y.sd.Js.yic=function(){function b(a){_geo.y.sd.Js.lL.call(this,a)}function a(a){a.domElement.addEventListener(d.contextmenu,a.tia,!1);a.domElement.addEventListener(d.mousedown,a.yNa,!1);a.domElement.addEventListener(d.mousemove,a.zNa,!1);a.domElement.addEventListener(d.mouseup,a.ANa,!1);a.domElement.addEventListener(d.mousewheel,a.JR,!1);a.domElement.addEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.addEventListener(d.touchstart,a.iNb,!1);a.domElement.addEventListener(d.touchend,a.gNb,
!1);a.domElement.addEventListener(d.touchmove,a.hNb,!1);a.domElement.addEventListener(d.dblclick,a.xNa,!1);_geo.geotoolkit.window.addEventListener("keydown",a.fja,!1);_geo.geotoolkit.window.addEventListener("keyup",a.gja,!1)}function g(a){a.domElement.removeEventListener(d.contextmenu,a.tia,!1);a.domElement.removeEventListener(d.mousedown,a.yNa,!1);a.domElement.removeEventListener(d.mousemove,a.zNa,!1);a.domElement.removeEventListener(d.mouseup,a.ANa,!1);a.domElement.removeEventListener(d.mousewheel,
a.JR,!1);a.domElement.removeEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.removeEventListener(d.touchstart,a.iNb,!1);a.domElement.removeEventListener(d.touchend,a.gNb,!1);a.domElement.removeEventListener(d.touchmove,a.hNb,!1);a.domElement.removeEventListener(d.dblclick,a.xNa,!1);_geo.geotoolkit.window.removeEventListener("keydown",a.fja,!1);_geo.geotoolkit.window.removeEventListener("keyup",a.gja,!1);a.tia=null;a.yNa=null;a.zNa=null;a.ANa=null;a.JR=null;a.iNb=null;a.gNb=null;a.hNb=null;a.xNa=
null;a.fja=null;a.gja=null}var d={contextmenu:"contextmenu",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",mousewheel:"mousewheel",DOMMouseScroll:"DOMMouseScroll",touchstart:"touchstart",touchend:"touchend",touchmove:"touchmove",dblclick:"dblclick"};_geo.geotoolkit.fa(b,_geo.y.sd.Js.lL);_geo.geotoolkit.da(b,"geotoolkit3d.tool.devicesupport.TouchDeviceSupport");_geo.y.sd.Js.eJa.WSb().push(b);b.isSupported=function(){return"ontouchstart"in _geo.geotoolkit.window};b.prototype.o8=function(a){var b=
this.W4a(a.clientX,a.clientY);a.plotX=b.x;a.plotY=b.y;a.plotXs=[a.plotX];a.plotYs=[a.plotY]};b.prototype.setup=function(b,d,g){function k(a){a.plotXs=[];a.plotYs=[];for(var b=0;b<a.touches.length;b++){var d=h.W4a(a.touches[b].clientX,a.touches[b].clientY);a.plotXs.push(d.x);a.plotYs.push(d.y)}0===a.touches.length&&(b=h.W4a(l.touches[b].clientX,l.touches[b].clientY),a.plotXs.push(b.x),a.plotYs.push(b.y));a.plotX=a.plotXs[0];a.plotY=a.plotYs[0]}var h=this,l=null;h.iNb=function(a){l=a;k(a);h.Ja("onTouchStart",
h,a)};h.gNb=function(a){k(a);h.Ja("onTouchEnd",h,a);0<a.touches.length&&h.Ja("onTouchStart",h,a)};h.hNb=function(a){l=a;k(a);h.Ja("onTouchMove",h,a)};_geo.y.sd.Js.lL.prototype.setup.call(this,b,d,g);a(this)};b.prototype.dispose=function(){g(this);_geo.y.sd.Js.lL.prototype.dispose.call(this)};return b}();
_geo.y.sd.Js.vfc=function(){function b(a){_geo.y.sd.Js.lL.call(this,a);this.state={Qd:[],running:!1}}function a(a){a.domElement.addEventListener(d.contextmenu,a.tia,!1);a.domElement.addEventListener(d.mousewheel,a.JR,!1);a.domElement.addEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.addEventListener(d.touchstart,a.Qlb,!1);a.domElement.addEventListener(d.touchend,a.e2a,!1);a.domElement.addEventListener(d.touchmove,a.zLb,!1);a.domElement.addEventListener(d.touchout,a.e2a,!1);_geo.geotoolkit.window.addEventListener("keydown",
a.fja,!1);_geo.geotoolkit.window.addEventListener("keyup",a.gja,!1)}function g(a){a.domElement.removeEventListener(d.contextmenu,a.tia,!1);a.domElement.removeEventListener(d.mousewheel,a.JR,!1);a.domElement.removeEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.removeEventListener(d.touchstart,a.Qlb,!1);a.domElement.removeEventListener(d.touchend,a.e2a,!1);a.domElement.removeEventListener(d.touchmove,a.zLb,!1);a.domElement.removeEventListener(d.touchout,a.e2a,!1);_geo.geotoolkit.window.removeEventListener("keydown",
a.fja,!1);_geo.geotoolkit.window.removeEventListener("keyup",a.gja,!1);a.tia=null;a.JR=null;a.Qlb=null;a.e2a=null;a.zLb=null;a.fja=null;a.gja=null}var d={contextmenu:"contextmenu",mousewheel:"mousewheel",DOMMouseScroll:"DOMMouseScroll",touchstart:"pointerdown",touchend:"pointerup",touchout:"pointerout",touchmove:"pointermove"};_geo.geotoolkit.fa(b,_geo.y.sd.Js.lL);_geo.geotoolkit.da(b,"geotoolkit3d.tool.devicesupport.PointerDeviceSupport");_geo.y.sd.Js.eJa.WSb().push(b);b.isSupported=function(){return null!=
_geo.geotoolkit.window.PointerEvent};b.prototype.o8=function(a,b){var d=this.W4a(a.clientX,a.clientY);a.plotX=Math.floor(d.x);a.plotY=Math.floor(d.y);a.plotXs=[];a.plotYs=[];for(var d=!1,g=0;g<b.length;g++)b[g].pointerId===a.pointerId?(a.plotXs.push(a.plotX),a.plotYs.push(a.plotY),b[g]=a,d=!0):(a.plotXs.push(b[g].plotX),a.plotYs.push(b[g].plotY));d||(a.plotXs.push(a.plotX),a.plotYs.push(a.plotY))};b.prototype.setup=function(b,d,g){var k=this;k.Qlb=function(a){k.o8(a,k.state.Qd);"touch"===a.pointerType?
(k.state.running&&(k.Ja("onTouchEnd",k,a),k.state.running=!1),k.state.Qd.push(a)):k.Ja("onMouseDown",k,a);k.YL=a};k.e2a=function(a){k.o8(a,k.state.Qd);if("touch"===a.pointerType){var b=!1,d;for(d=0;d<k.state.Qd.length;d++)if(k.state.Qd[d].pointerId===a.pointerId){b=!0;break}if(!b)return;k.state.Qd.splice(d,1);k.Ja("onTouchEnd",k,a);k.state.running=!1;0<k.state.Qd.length&&(k.o8(k.state.Qd[k.state.Qd.length-1],k.state.Qd),k.Ja("onTouchStart",k,a),k.state.running=!0)}else k.Ja("onMouseUp",k,a);k.YL=
a};k.zLb=function(a){if(null==k.YL||k.YL.clientX!==a.clientX||k.YL.clientY!==a.clientY||k.YL.movementX!==a.movementX||k.YL.movementY!==a.movementY){k.o8(a,k.state.Qd);if("touch"===a.pointerType){k.state.running||(0===k.state.Qd.length&&k.Qlb(a),k.Ja("onTouchStart",k,a),k.state.running=!0);if(3===k.state.Qd.length&&k.state.Qd[0].pointerId!==a.pointerId)return;k.Ja("onTouchMove",k,a)}else k.Ja("onMouseMove",k,a);k.YL=a}};_geo.y.sd.Js.lL.prototype.setup.call(this,b,d,g);a(this)};b.prototype.dispose=
function(){g(this);_geo.y.sd.Js.lL.prototype.dispose.call(this)};return b}();
_geo.y.sd.Js.vdc=function(){function b(a){_geo.y.sd.Js.lL.call(this,a);this.k8="";this.t0a="hidden";this.t0a in _geo.geotoolkit.window.document?this.k8="visibilitychange":(this.t0a="mozHidden")in _geo.geotoolkit.window.document?this.k8="mozvisibilitychange":(this.t0a="webkitHidden")in _geo.geotoolkit.window.document?this.k8="webkitvisibilitychange":(this.t0a="msHidden")in _geo.geotoolkit.window.document?this.k8="msvisibilitychange":"onfocusin"in _geo.geotoolkit.window.document&&(this.k8="onfocuschange")}
function a(a){a.domElement.addEventListener(d.contextmenu,a.tia,!1);a.domElement.addEventListener(d.mousedown,a.yNa,!1);a.domElement.addEventListener(d.mousemove,a.zNa,!1);a.domElement.addEventListener(d.mouseup,a.ANa,!1);a.domElement.addEventListener(d.mousewheel,a.JR,!1);a.domElement.addEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.addEventListener(d.dblclick,a.xNa,!1);a.domElement.addEventListener(d.mouseout,a.mLb,!1);_geo.geotoolkit.window.addEventListener("keydown",a.fja,!1);_geo.geotoolkit.window.addEventListener("keyup",
a.gja,!1);"onfocuschange"===a.k8?_geo.geotoolkit.window.document.onfocusin=_geo.geotoolkit.window.document.onfocusout=a.fBa:""===a.k8?_geo.geotoolkit.window.onpageshow=_geo.geotoolkit.window.onpagehide=_geo.geotoolkit.window.onfocus=_geo.geotoolkit.window.onblur=a.xud:_geo.geotoolkit.window.document.addEventListener(a.k8,a.fBa);_geo.geotoolkit.window.addEventListener("blur",a.fBa);_geo.geotoolkit.window.addEventListener("focus",a.fBa)}function g(a){a.domElement.removeEventListener(d.contextmenu,a.tia,
!1);a.domElement.removeEventListener(d.mousedown,a.yNa,!1);a.domElement.removeEventListener(d.mousemove,a.zNa,!1);a.domElement.removeEventListener(d.mouseup,a.ANa,!1);a.domElement.removeEventListener(d.mousewheel,a.JR,!1);a.domElement.removeEventListener(d.DOMMouseScroll,a.JR,!1);a.domElement.removeEventListener(d.dblclick,a.xNa,!1);a.domElement.removeEventListener(d.mouseout,a.mLb,!1);_geo.geotoolkit.window.removeEventListener("keydown",a.fja,!1);_geo.geotoolkit.window.removeEventListener("keyup",
a.gja,!1);"onfocuschange"===a.k8?_geo.geotoolkit.window.document.onfocusin=_geo.geotoolkit.window.document.onfocusout=null:""===a.k8?_geo.geotoolkit.window.onpageshow=_geo.geotoolkit.window.onpagehide=_geo.geotoolkit.window.onfocus=_geo.geotoolkit.window.onblur=null:_geo.geotoolkit.window.document.removeEventListener(a.k8,a.fBa,!1);_geo.geotoolkit.window.removeEventListener("blur",a.fBa,!1);_geo.geotoolkit.window.removeEventListener("focus",a.fBa,!1);a.tia=null;a.yNa=null;a.zNa=null;a.ANa=null;a.mLb=
null;a.JR=null;a.xNa=null;a.fja=null;a.gja=null}var d={contextmenu:"contextmenu",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",mousewheel:"mousewheel",DOMMouseScroll:"DOMMouseScroll",dblclick:"dblclick",mouseout:"mouseout"};_geo.geotoolkit.fa(b,_geo.y.sd.Js.lL);_geo.geotoolkit.da(b,"geotoolkit3d.tool.devicesupport.MouseDeviceSupport");_geo.y.sd.Js.eJa.uNc(b);b.isSupported=function(){return!0};b.prototype.o8=function(a){var b=this.W4a(a.clientX,a.clientY);a.plotX=b.x;a.plotY=b.y;a.plotXs=
[a.plotX];a.plotYs=[a.plotY]};b.prototype.setup=function(b,d,g){function k(a){if("blur"===a.type)a.p8b="hidden";else if("focus"===a.type)a.p8b="visible";else{var b="visible",d="hidden",b={focus:b,lwd:b,azd:b,blur:d,mwd:d,$yd:d};a=a||_geo.geotoolkit.window.event;a.p8b=a.type in b?b[a.type]:this[this.t0a]?"hidden":"visible"}}var h=this;h.fBa=function(a){k(a);h.Ja("onVisibilityChanged",h,a)};_geo.y.sd.Js.lL.prototype.setup.call(this,b,d,g);a(this)};b.prototype.dispose=function(){g(this);_geo.y.sd.Js.lL.prototype.dispose.call(this)};
return b}();
_geo.y.Ge.li.aB=function(){function b(a){a=_geo.geotoolkit.Ca(a,{},!0);window.THREE.ShaderMaterial.call(this,{uniforms:a.uniforms,vertexShader:a.vertexshader,fragmentShader:a.fragmentshader,defines:null!=a.defines?a.defines:[]});_geo.y.util.ck.O7c(this);this.type="AbstractShaderPickingMaterial"}var a=new window.THREE.Box3(new window.THREE.Vector3,new window.THREE.Vector3(1,1,1));_geo.geotoolkit.fa(b,window.THREE.ShaderMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.AbstractShaderPickingMaterial");b.Ooa=
{Leb:0,La:10,Na:20,ag:30};b.prototype.setOptions=function(a){_geo.y.util.ck.gpd(this,a);return this};b.zuc=function(b){return _geo.y.Bb.bQa(a,b)};b.Auc=function(b){return _geo.y.Bb.bQa(b,a)};b.Buc=function(b){b=b.xa(!0).clone();return _geo.y.Bb.bQa(b,a)};b.o$c=function(b){b=b.xa(!0).clone();return _geo.y.Bb.bQa(a,b)};return b}();_geo.y.util.Caa=function(){return function(){}}();
_geo.y.util.ck=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.Shaders");b.CIa=new window.THREE.Vector4(1,255,65025,16581375);b.Y8b=new window.THREE.Vector4(1/b.CIa.x,1/b.CIa.y,1/b.CIa.z,1/b.CIa.w);window.THREE.ShaderChunk.logdepthbuf_vertex="#ifndef PICKINGMATERIAL_OVERRIDE\n#ifdef USE_LOGDEPTHBUF\nif(logDepthBufFC > 0.0)\n{\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n}\n#endif\n#endif";
window.THREE.ShaderChunk.logdepthbuf_fragment="#ifndef PICKINGMATERIAL_OVERRIDE\n   #if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n   \n           if ( logDepthBufFC > 0.0 )\n           {\n               gl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n           }\n           else\n           {\n               gl_FragDepthEXT = gl_FragCoord.z;\n           }\n   \n   #endif\n#endif";b.y_b=function(){var a=new window.THREE.Vector4,d=new window.THREE.Vector4,c=new window.THREE.Vector4,
e=new window.THREE.Vector4(1/255,1/255,1/255,0);return function(g){a.copy(b.CIa);a.multiplyScalar(g);d.copy(a);d=d.floor();a=a.sub(d);c.set(a.y,a.z,a.w,a.w);c.multiply(e);return a=a.sub(c)}}();b.eld=function(a){return b.y_b(a).multiplyScalar(255).round()};b.vzb=function(){var a=new window.THREE.Vector4;return function(d){d instanceof window.THREE.Vector4?a.copy(d):a.set(d[0],d[1],d[2],d[3]);return b.xSc(a.divideScalar(255))}}();b.xSc=function(a){return a.dot(b.Y8b)};b.hp=function(a,b,d,c,e){c||(d=
e?[d,b].join("\n"):[b,d].join("\n"));return a=a.replace(b,d)};b.XCb=100;b.YCb=100;b.oO="void main()";b.$s=b.oO+" {";b.Zgb="#include <color_vertex>";b.BFb="#include <color_fragment>";b.m1c="#include <envmap_vertex>";b.$Ya="#include <shadowmap_vertex>";b.k1c="#include <begin_vertex>";b.l1c="#include <defaultnormal_vertex>";b.Rhc="#include <project_vertex>";b.TAb=1024;b.Y5="CG_USE_COLOR_MAP";b.hpa="color";b.dLa="useDiffuseAsColor";b.uxa="cgcolormapTexture";b.gWa="cgcolormapParams";b.yo="cgcolormapValue";
b.qdb="cgcolormapLogValue";b.Ys="vcgdeadCell";b.wH="cgcolormapValueNullValue";b.jpa="cgcolormapValueMinValue";b.ipa="cgcolormapValueMaxValue";b.$xa="ijk";b.OT=-999.25;b.Wha="cgReservoirMinI";b.Tha="cgReservoirMaxI";b.Xha="cgReservoirMinJ";b.Uha="cgReservoirMaxJ";b.Yha="cgReservoirMinK";b.Vha="cgReservoirMaxK";b.ZFb="VCG_VALUES_DEFINED";b.i0c="float Shaders_norm(float value, float srcmin, float srcmax, float dstmin, float dstmax) {\n\treturn dstmin + (dstmax - dstmin) * (clamp(value, srcmin, srcmax) - srcmin)  / (srcmax - srcmin);\n}";
b.Dha="#ifndef SHADER_ROUND_FLOAT\n\t#define SHADER_ROUND_FLOAT\n\tfloat Shaders_round(float v) {\n\t\treturn floor(v + 0.5);\n\t}\n#endif";b.Bha="#ifndef SHADER_FLOAT_TO_VEC4\n\t#define SHADER_FLOAT_TO_VEC4\n\tvec4 Shaders_FloatToVec4( float v ) {\n\t\tvec4 enc = vec4(1.0, 255.0, 255.0 * 255.0, 255.0 * 255.0 * 255.0) * v;\n\t\tenc = fract(enc);\n\t\tenc -= enc.yzww * vec4(1.0/255.0,1.0/255.0,1.0/255.0,0.0);\n\t\treturn enc;\n\t}\n#endif";b.jWa=["#ifdef "+b.Y5,"\tv"+b.yo+" = normValueForColorMap("+
b.yo+");","#endif"].join("\n");b.kWa=["#ifdef "+b.Y5,"\tattribute float "+b.yo+";","\tvarying float v"+b.yo+";","\tuniform vec4 "+b.gWa+";","\tuniform int "+b.qdb+";",b.i0c,"\tfloat normValueForColorMap(float value) {","\t\tif( "+b.qdb+" == 1)","\t\t{\n\t\t\tvalue = log2(value)/log2(10.0);\n\t\t}","\t\treturn Shaders_norm(value - "+b.gWa+".x, 0.0, "+b.gWa+".y, 0.0, 1.0);","\t}\n#endif"].join("\n");b.hWa=["#ifdef "+b.Y5,"\tdiffuseColor *= getColorFromColorMap(v"+b.yo+");","#endif"].join("\n");b.iWa=
["#ifdef "+b.Y5,"\tvarying float v"+b.yo+";","\tuniform sampler2D "+b.uxa+";","\tvec4 getColorFromColorMap(float normValue) {","\t\treturn texture2D("+b.uxa+", vec2(normValue, 0.5));","\t}\n#endif"].join("\n");b.zUc=["\tif("+b.dLa+" == 1) {","\t\tgl_FragColor = diffuseColor;\n\t}  else {\n\t\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t}"].join("\n");b.B6=window.THREE.ShaderChunk.meshlambert_vert;b.DX=window.THREE.ShaderChunk.meshlambert_frag;b.B6=b.hp(b.B6,b.oO,b.kWa,!1,!0);b.B6=b.hp(b.B6,
b.Zgb,b.jWa,!1,!1);b.DX=b.hp(b.DX,b.oO,["uniform int "+b.dLa+";",b.iWa].join("\n"),!1,!0);b.DX=b.hp(b.DX,b.BFb,b.hWa,!1,!1);b.DX=b.hp(b.DX,"gl_FragColor = vec4( outgoingLight, diffuseColor.a )",b.zUc,!0);b.a_c=["attribute float cgpointSize;\nattribute float cgpointVisible;\nvarying float vcgpointVisible;\n#include <common>\n#include <logdepthbuf_pars_vertex>",b.kWa,"",b.oO+" {","\tvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);",b.jWa,"\tvcgpointVisible = cgpointVisible;\n\tgl_PointSize = (cgpointSize * 2.0);\n\tgl_Position = projectionMatrix * mvPosition;\n#include <logdepthbuf_vertex>\n}"].join("\n");
b.WZc=["uniform sampler2D cgpointTexture;\nuniform vec3 cgpointColor;\nuniform float cgpointOpacity;\nuniform float cgalphaTest;\n#include <logdepthbuf_pars_fragment>",b.iWa,"varying float vcgpointVisible;",b.oO+" {","\tif(vcgpointVisible < 0.1) {\n\t\tdiscard;\n\t}\n\tvec4 diffuseColor = vec4(cgpointColor, 1.0);",b.hWa,"\tvec4 finalColor = texture2D(cgpointTexture, gl_PointCoord);\n\n\tif(finalColor.a < cgalphaTest) {\n\t\tdiscard;\n\t}\n\tfinalColor.a = max(finalColor.r + finalColor.g + finalColor.b, 1.0) * cgpointOpacity;\n\tgl_FragColor = diffuseColor * finalColor;\n#include <logdepthbuf_fragment>\n}"].join("\n");
b.Cha=["#define PICKINGMATERIAL_OVERRIDE","#define cgPickingModeID "+_geo.y.Ge.li.aB.Ooa.Leb+".0","#define cgPickingModeX "+_geo.y.Ge.li.aB.Ooa.La+".0","#define cgPickingModeY "+_geo.y.Ge.li.aB.Ooa.Na+".0","#define cgPickingModeZ "+_geo.y.Ge.li.aB.Ooa.ag+".0"].join("\n");b.LYa="uniform mat4 cgpickingViewInv;\nuniform mat4 cgpickingProjInv;\nuniform mat4 cgpickingMTo1;\nuniform float cgpickingmode;\nuniform vec4 cgpickingrgba;\nvarying vec4 cgvcolor;\nvarying float cgvpickingmode;";b.MYa="if(Shaders_round(cgpickingmode) == Shaders_round(cgPickingModeID)){\n\tcgvcolor = cgpickingrgba;\n} else {\n\tvec4 wp = cgpickingViewInv * (cgpickingProjInv * gl_Position);\n\tcgvcolor = cgpickingMTo1 * wp;\n}\ncgvpickingmode = cgpickingmode;";
b.JYa="varying vec4 cgvcolor;\nvarying float cgvpickingmode;";b.KYa="\tif(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeX)) {\n\t\tgl_FragColor = Shaders_FloatToVec4(cgvcolor.x);\n\t} else if(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeY)) {\n\t\tgl_FragColor = Shaders_FloatToVec4(cgvcolor.y);\n\t} else if(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeZ)) {\n\t\tgl_FragColor = Shaders_FloatToVec4(cgvcolor.z);\n\t} else if(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeID)){\n\t\tgl_FragColor = cgvcolor;\n\t} else {\n\t\tgl_FragColor = vec4(cgvpickingmode / 255.0, 1.0, 1.0, 1.0);\n\t}";
b.pVc=[b.Dha,b.Bha,b.Cha,b.LYa].join("\n");b.qVc=[b.oO+" {","\tcgpickingmain();",b.MYa,"}"].join("\n");b.nVc=[b.Dha,b.Bha,b.Cha,b.JYa].join("\n");b.oVc=[b.oO+" {","\tcgpickingmain();",b.KYa,"}"].join("\n");b.Qfc=["varying float "+b.Ys+";","attribute vec3 "+b.$xa+";","uniform float "+b.wH+";","uniform float "+b.jpa+";","uniform float "+b.ipa+";","uniform float "+b.Wha+";","uniform float "+b.Tha+";","uniform float "+b.Xha+";","uniform float "+b.Uha+";","uniform float "+b.Yha+";","uniform float "+b.Vha+
";","bool isnan( float val )\n{\n\treturn ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}"].join("\n");b.M_c=""+b.Qfc;b.Lfc=["\t"+b.Ys+" = 0.0;","\tif("+b.yo+" == "+b.wH+") {","\t\t"+b.Ys+" = 1.0;","\t\treturn;\n\t}","\tif(!isnan("+b.jpa+")) {","\t\tif("+b.yo+" < "+b.jpa+" ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }","\tif(!isnan("+b.ipa+")) {","\t\tif("+b.yo+" > "+b.ipa+" ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }"].join("\n");b.Ofc=["\tif(!isnan("+b.Wha+")) {","\t\tif("+
b.Wha+" > "+b.$xa+".x ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }","\tif(!isnan("+b.Tha+")) {","\t\tif("+b.Tha+" < "+b.$xa+".x ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }","\tif(!isnan("+b.Xha+")) {","\t\tif("+b.Xha+" > "+b.$xa+".y ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }","\tif(!isnan("+b.Uha+")) {","\t\tif("+b.Uha+" < "+b.$xa+".y ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }","\tif(!isnan("+b.Yha+")) {","\t\tif("+b.Yha+" > "+b.$xa+".z ) {","\t\t\t"+b.Ys+" = 1.0;",
"\t\t\treturn;\n\t}   }","\tif(!isnan("+b.Vha+")) {","\t\tif("+b.Vha+" < "+b.$xa+".z ) {","\t\t\t"+b.Ys+" = 1.0;","\t\t\treturn;\n\t}   }"].join("\n");b.K_c=["#ifdef "+b.Y5,b.Lfc,b.Ofc,"#endif"].join("\n");b.Pfc=["\tif(position.z == "+b.OT+") {","\t\t"+b.Ys+" = 1.0;","\t\treturn;\n\t}"].join("\n");b.L_c=["#ifdef "+b.Y5,b.Pfc,"#endif"].join("\n");b.Nfc=["varying float "+b.Ys+";","varying float "+b.Wha+";","varying float "+b.Tha+";","varying float "+b.Xha+";","varying float "+b.Uha+";","varying float "+
b.Yha+";","varying float "+b.Vha+";"].join("\n");b.Mfc=""+("if("+b.Ys+" > 0.0) discard;");b.PEb=b.B6;b.OEb=b.DX;b.PEb=b.hp(b.PEb,b.$s,[b.M_c,b.$s,b.K_c,b.L_c].join("\n"),!0);b.OEb=b.hp(b.OEb,b.$s,[b.Nfc,b.$s,b.Mfc].join("\n"),!0);b.p0c=["\t"+b.Ys+" = 0.0;","#ifdef "+b.ZFb,b.Lfc," #endif",b.Ofc].join("\n");b.o0c=["attribute float "+b.yo+";","#include <common>\n#include <logdepthbuf_pars_vertex>",b.Qfc,b.$s,b.p0c,b.Pfc,"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n#include <logdepthbuf_vertex>\n}"].join("\n");
b.n0c=[b.Nfc,"#include <logdepthbuf_pars_fragment>","uniform vec3 "+b.hpa+";","uniform float opacity;",b.$s,b.Mfc,"\tgl_FragColor = vec4( "+b.hpa+", opacity );","#include <logdepthbuf_fragment>\n}"].join("\n");b.BIa=window.THREE.ShaderChunk.meshlambert_vert;b.Lga=window.THREE.ShaderChunk.meshlambert_frag;b.BIa=b.hp(b.BIa,b.$s,[b.Dha,b.Bha,b.Cha,b.LYa].join("\n"),!1,!0);b.BIa=b.hp(b.BIa,b.m1c,b.MYa,!1,!1);b.Lga=b.hp(b.Lga,b.$s,[b.Dha,b.Bha,b.Cha,b.JYa].join("\n"),!1,!0);b.Lga=b.Lga.slice(0,b.Lga.search(b.oO));
b.Lga=[b.Lga,b.$s,b.KYa,"}"].join("\n");b.ZZc=[b.Dha,b.Bha,b.Cha,"#define cgPickingModeIndex "+b.XCb+".0",b.LYa,"attribute float cgpointindex;"].join("\n");b.$Zc=[b.$s,"\tcgpickingmain();",b.MYa,"\tif(Shaders_round(cgpickingmode) == Shaders_round(cgPickingModeIndex)){\n\t\tcgvcolor.x = cgpointindex;\n\t}\n}"].join("\n");b.XZc=[b.Dha,b.Bha,b.Cha,"#define cgPickingModeIndex "+b.XCb+".0",b.JYa].join("\n");b.YZc=[b.$s,"\tcgpickingmain();",b.KYa,"\tif(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeIndex)) {\n\t\tgl_FragColor = Shaders_FloatToVec4(cgvcolor.x);\n\t}\n}"].join("\n");
b.I_c=[b.Dha,b.Bha,b.Cha,"#define cgPickingModeIndex "+b.YCb+".0",b.LYa,"attribute float cgcellindex;"].join("\n");b.J_c=[b.$s,"\tcgpickingmain();",b.MYa,"\tif(Shaders_round(cgpickingmode) == Shaders_round(cgPickingModeIndex)){\n\t\tcgvcolor.x = cgcellindex;\n\t}\n}"].join("\n");b.G_c=[b.Dha,b.Bha,b.Cha,"#define cgPickingModeIndex "+b.YCb+".0",b.JYa].join("\n");b.H_c=[b.$s,"\tcgpickingmain();",b.KYa,"\tif(Shaders_round(cgvpickingmode) == Shaders_round(cgPickingModeIndex)) {\n\t\tgl_FragColor = Shaders_FloatToVec4(cgvcolor.x);\n\t}\n}"].join("\n");
b.$Xa=window.THREE.ShaderChunk.meshbasic_vert;b.ZXa=window.THREE.ShaderChunk.meshbasic_frag;b.XYc="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";b.$Xa=b.hp(b.$Xa,b.oO,[b.XYc,b.kWa].join("\n"),!1,!0);b.$Xa=b.hp(b.$Xa,b.Zgb,b.jWa,!1,!1);b.ZXa=b.hp(b.ZXa,b.oO,b.iWa,!1,!0);b.ZXa=b.hp(b.ZXa,b.BFb,b.hWa,!1,!1);b.N7c=function(a,d){a.uniforms[b.dLa]={value:void 0!==d?d:0}};b.uob=function(a){a.uniforms[b.gWa]={type:"v4",value:new window.THREE.Vector4};a.uniforms[b.uxa]={type:"tv",value:null};a.uniforms[b.qdb]=
{type:"i",value:0}};b.V7c=function(a){a.uniforms.cgalphaTest={type:"f",value:1};a.uniforms.cgpointTexture={type:"tv",value:null};a.uniforms.cgpointColor={type:"c",value:new window.THREE.Color(1,1,1)};a.uniforms.cgpointOpacity={type:"f",value:1}};b.O7c=function(a){a.uniforms.cgpickingrgba={type:"v4",value:null};a.uniforms.cgpickingmode={type:"f",value:0};a.uniforms.cgpickingViewInv={type:"m4",value:new window.THREE.Matrix4};a.uniforms.cgpickingProjInv={type:"m4",value:new window.THREE.Matrix4};a.uniforms.cgpickingMTo1=
{type:"m4",value:new window.THREE.Matrix4}};b.csc=function(a){a.uniforms[b.wH]={type:"f",value:void 0};a.uniforms[b.jpa]={type:"f",value:void 0};a.uniforms[b.ipa]={type:"f",value:void 0};a.uniforms[b.Wha]={type:"f",value:void 0};a.uniforms[b.Tha]={type:"f",value:void 0};a.uniforms[b.Xha]={type:"f",value:void 0};a.uniforms[b.Uha]={type:"f",value:void 0};a.uniforms[b.Yha]={type:"f",value:void 0};a.uniforms[b.Vha]={type:"f",value:void 0}};b.W7c=function(a){a.uniforms[b.hpa]={type:"c",value:new window.THREE.Color(16777215)}};
b.rpd=function(a,d){var c=_geo.geotoolkit.Ca(d,{unlit:a.uniforms[b.dLa].value},!0);a.uniforms[b.dLa].value!==c.unlit&&(a.uniforms[b.dLa].value=c.unlit,a.needsUpdate=!0)};b.Zmd=function(a,d){var c=null!=a.Zr?1:!1;c!==a.defines[b.Y5]&&(a.defines[b.Y5]=c,a.needsUpdate=!0)};b.B$a=function(a,d){var c=a.uniforms,e=a.Zr;null!==c[b.uxa].value&&c[b.uxa].value.dispose();if(null!=e){var g=1,f=new _geo.geotoolkit.scene.shapes.lc(0,0,b.TAb,g);f.ta(new _geo.geotoolkit.attributes.Yp({colorProvider:e,startPoint:new _geo.geotoolkit.util.na(0,
g/2),endPoint:new _geo.geotoolkit.util.na(1,g/2),startColor:"white",endColor:"black"}));g=_geo.geotoolkit.scene.exports.X0.Qwc(f,b.TAb,g,!1,!1,new _geo.geotoolkit.util.Rect(0,0,b.TAb,g));g=new window.THREE.Texture(g.Kk());g.minFilter=window.THREE.LinearFilter;c[b.uxa].value=g;c[b.uxa].value.needsUpdate=!0;g=e.Tc();f=e.ad();c[b.gWa].value.set(g,f-g,0,0);e=e instanceof _geo.geotoolkit.util.VN||e instanceof _geo.geotoolkit.util.gO?1:0;c[b.qdb].value=e}};b.Yxb=function(a,d){var c=_geo.geotoolkit.Ca(d,
{colorprovider:a.Zr,color:a.color?a.color:new window.THREE.Color(16777215)},!0);b.B$a(a,d);a.color=c.color;a.Zr!==c.colorprovider&&(a.Zr instanceof _geo.geotoolkit.util.Ie&&a.Zr.hb(_geo.geotoolkit.util.Ie.$.Wc,a.qCa),a.Zr=c.colorprovider,a.Zr instanceof _geo.geotoolkit.util.Ie?(a.Zr.kb(_geo.geotoolkit.util.Ie.$.Wc,a.qCa),d.color=c.color=a.color=new window.THREE.Color(16777215)):("string"===typeof c.colorprovider?c.color=new window.THREE.Color(c.colorprovider):c.colorprovider instanceof window.THREE.Color&&
(c.color=c.colorprovider),a.Zr=null),a.needsUpdate=!0,b.B$a(a,a.Zr));b.Zmd(a,c)};b.npd=function(a,b){var d=_geo.geotoolkit.Ca(b,{color:a.uniforms.cgpointColor.value,opacity:a.uniforms.cgpointOpacity.value,alphatest:a.uniforms.cgalphaTest.value,symbol:a.uniforms.cgpointTexture.value},!0);"string"===typeof d.colorprovider?d.color=new window.THREE.Color(d.colorprovider):d.colorprovider instanceof window.THREE.Color&&(d.color=d.colorprovider);a.uniforms.cgpointTexture.value=d.symbol;a.uniforms.cgpointColor.value=
d.color;a.uniforms.cgpointOpacity.value=d.opacity;a.uniforms.cgalphaTest.value=d.alphatest};b.gpd=function(a,b){a.uniforms.cgpickingmode.value=+b.pickingmode;a.uniforms.cgpickingrgba.value=b.pickingrgba;null!=b.candidates&&(a.uniforms.cgpickingMTo1.value=b.normalizationmatrix,a.uniforms.cgpickingViewInv.value=b.viewinversematrix,a.uniforms.cgpickingProjInv.value=b.projectioninversematrix)};b.GPc=function(a,d){var c=_geo.geotoolkit.Ca(d,{nullvalue:a.uniforms[b.wH].value,minvalue:a.uniforms[b.jpa].value,
maxvalue:a.uniforms[b.ipa].value,mini:a.uniforms[b.Wha].value,maxi:a.uniforms[b.Tha].value,minj:a.uniforms[b.Xha].value,maxj:a.uniforms[b.Uha].value,mink:a.uniforms[b.Yha].value,maxk:a.uniforms[b.Vha].value},!0);a.uniforms[b.wH].value!==c.nullvalue&&(a.uniforms[b.wH].value=c.nullvalue,a.uniforms[b.wH].needsUpdate=!0);a.uniforms[b.jpa].value!==c.minvalue&&(a.uniforms[b.jpa].value=c.minvalue,a.uniforms[b.jpa].needsUpdate=!0);a.uniforms[b.ipa].value!==c.maxvalue&&(a.uniforms[b.ipa].value=c.maxvalue,
a.uniforms[b.ipa].needsUpdate=!0);a.uniforms[b.Wha].value!==c.mini&&(a.uniforms[b.Wha].value=c.mini,a.uniforms[b.Wha].needsUpdate=!0);a.uniforms[b.Tha].value!==c.maxi&&(a.uniforms[b.Tha].value=c.maxi,a.uniforms[b.Tha].needsUpdate=!0);a.uniforms[b.Xha].value!==c.minj&&(a.uniforms[b.Xha].value=c.minj,a.uniforms[b.Xha].needsUpdate=!0);a.uniforms[b.Uha].value!==c.maxj&&(a.uniforms[b.Uha].value=c.maxj,a.uniforms[b.Uha].needsUpdate=!0);a.uniforms[b.Yha].value!==c.mink&&(a.uniforms[b.Yha].value=c.mink,a.uniforms[b.Yha].needsUpdate=
!0);a.uniforms[b.Vha].value!==c.maxk&&(a.uniforms[b.Vha].value=c.maxk,a.uniforms[b.Vha].needsUpdate=!0)};b.opd=function(a,d){var c=_geo.geotoolkit.Ca(d,{color:a.uniforms[b.hpa].value?a.uniforms[b.hpa].value:new window.THREE.Color(16777215)},!0);a.uniforms[b.hpa].value.equals(c.color)||(a.uniforms[b.hpa].value=c.color,a.uniforms[b.hpa].needsUpdate=!0);null!=c.values&&1!==a.defines[b.ZFb]&&(a.defines[b.ZFb]=1,a.needsUpdate=!0)};b.L8c=function(a){a=a.vertexShader.replace(b.oO,"void cgpickingmain()");
return[b.pVc,a,b.qVc].join("\n")};b.K8c=function(a){a=a.fragmentShader.replace(b.oO,"void cgpickingmain()");return[b.nVc,a,b.oVc].join("\n")};b.T8c=function(a){a=a.vertexShader.replace(b.oO,"void cgpickingmain()");return[b.ZZc,a,b.$Zc].join("\n")};b.S8c=function(a){a=a.fragmentShader.replace(b.oO,"void cgpickingmain()");return[b.XZc,a,b.YZc].join("\n")};b.W8c=function(a){a=a.vertexShader.replace(b.oO,"void cgpickingmain()");return[b.I_c,a,b.J_c].join("\n")};b.V8c=function(a){a=a.fragmentShader.replace(b.oO,
"void cgpickingmain()");return[b.G_c,a,b.H_c].join("\n")};b.ptd="varying vec3 localCubeCoords;\nvoid main() {\n\tlocalCubeCoords = (modelMatrix * vec4(position , 0.0)).xyz ;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}";b.mtd="varying vec3 localCubeCoords;\nvoid main() {\n\tgl_FragColor = vec4(localCubeCoords.x , localCubeCoords.y, localCubeCoords.z, 1);\n}";var a="varying vec3 localCubeCoords;\nvarying vec4 projectedCoords;\nvarying mat4 mvp;\nvarying mat4 mMatrix;",
g="       float getIntensity(vec3 pos) {\n       pos.z = flipZ ? pos.z : sizeData.z - pos.z;\n       vec3 position_1 = floorSpecial(pos);\n       float intensity = 0.0;\n       int textureIndex = 0;\n\n       int textureSize = int(widthDataTex) * int(heightDataTex);\n       int intTexSize = int(widthDataTex);\n       textureIndex += (int(sizeData.z) * int(sizeData.x) / intTexSize) * int(position_1.y) / intTexSize;\n       int ypart = int(sizeData.z) * int(sizeData.x) * int(position_1.y) - textureIndex * textureSize;\n       int xpart =  int(sizeData.z) * int(position_1.x);\n       int totalCoord = int(position_1.z) + xpart + ypart;\n       intensity = float(totalCoord) / (2147483647.0);\n\n       int textureIndex2 = totalCoord / textureSize;\n       totalCoord = totalCoord - (textureIndex2 * (textureSize));\n       textureIndex += textureIndex2;\n       int Ycomp = totalCoord / int(widthDataTex);\n       int Xcomp = totalCoord - Ycomp * int(widthDataTex);\n\n       float coordX = float(Xcomp) / widthDataTex;\n       float coordY = float(Ycomp) / widthDataTex;\n       if(textureIndex == 0)\n           intensity = float(texture2D(dataTex[0], vec2(coordX, coordY)).a);\n       if(textureIndex == 1)\n           intensity = float(texture2D(dataTex[1], vec2(coordX, coordY)).a);\n       if(textureIndex == 2)\n           intensity = float(texture2D(dataTex[2], vec2(coordX, coordY)).a);\n       if(textureIndex == 3)\n           intensity = float(texture2D(dataTex[3], vec2(coordX, coordY)).a);\n       if(textureIndex == 4)\n           intensity = float(texture2D(dataTex[4], vec2(coordX, coordY)).a);\n       if(textureIndex == 5)\n           intensity = float(texture2D(dataTex[5], vec2(coordX, coordY)).a);\n       if(textureIndex == 6)\n           intensity = float(texture2D(dataTex[6], vec2(coordX, coordY)).a);\n       if(textureIndex == 7)\n           intensity = float(texture2D(dataTex[7], vec2(coordX, coordY)).a);\n       if(textureIndex == 8)\n           intensity = float(texture2D(dataTex[8], vec2(coordX, coordY)).a);\n       if(textureIndex == 9)\n           intensity = float(texture2D(dataTex[9], vec2(coordX, coordY)).a);\n       if(textureIndex == 10)\n           intensity = float(texture2D(dataTex[10], vec2(coordX, coordY)).a);\n       if(textureIndex == 11)\n           intensity = float(texture2D(dataTex[11], vec2(coordX, coordY)).a);\n       else if(coordY > 1.0)\n           intensity = 0.0;\n       return intensity;\n   }";
b.qtd=[a,"void main() {\n\tlocalCubeCoords = (modelMatrix * vec4(position , 0.0)).xyz;\n\tmMatrix = modelMatrix;\n\tmvp = projectionMatrix * modelViewMatrix;\n\tprojectedCoords = mvp * vec4(position, 1.0);\n\tgl_Position = projectedCoords;\n}"].join("\n");var d="vec4 transform(float intensity){\n\treturn texture2D(transfertTex,vec2(intensity,0.5));\n}",e="vec4 transform(float intensity){\n\treturn texture2D(transfertTex,vec2((intensity-minData)/(maxData-minData),0.5));\n}",c="vec3 floorSpecial(vec3 a){\n\treturn max(min(floor(a), sizeData -0.5) , 0.);\n}",
f="vec3 transfromCoordinates(vec3 position_2) {\n\treturn (((position_2)/ sizeInScene + 0.5) * (sizeData));\n}",k="void neighbor(in vec3 pos, out vec3 inf, out vec3 supp){\n\tif (pos.x == 0. ) {\n\t\tinf.x = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t\tsupp.x = getIntensity(vec3(pos.x +1.,pos.y,pos.z));\n\t} else if (pos.x == sizeData.x -1.) {\n\t\tinf.x = getIntensity(vec3(pos.x - 1.,pos.y,pos.z));\n\t\tsupp.x = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t} else {\n\t\tinf.x = getIntensity(vec3(pos.x -1.,pos.y,pos.z));\n\t\tsupp.x = getIntensity(vec3(pos.x +1.,pos.y,pos.z));\n\t}\n\tif (pos.y == 0. ) {\n\t\tinf.y = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t\tsupp.y = getIntensity(vec3(pos.x,pos.y +1.,pos.z));\n\t} else if (pos.y == sizeData.y -1.) {\n\t\tinf.y = getIntensity(vec3(pos.x,pos.y - 1.,pos.z));\n\t\tsupp.y = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t} else {\n\t\tinf.y = getIntensity(vec3(pos.x,pos.y -1.,pos.z));\n\t\tsupp.y = getIntensity(vec3(pos.x,pos.y +1.,pos.z));\n\t}\n\tif (pos.z == 0. ) {\n\t\tinf.z = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t\tsupp.z = getIntensity(vec3(pos.x,pos.y,pos.z +1.));\n\t} else if (pos.z == sizeData.z -1.) {\n\t\tinf.z = getIntensity(vec3(pos.x,pos.y,pos.z - 1.));\n\t\tsupp.z = getIntensity(vec3(pos.x,pos.y,pos.z));\n\t} else {\n\t\tinf.z = getIntensity(vec3(pos.x,pos.y,pos.z -1.));\n\t\tsupp.z = getIntensity(vec3(pos.x,pos.y,pos.z +1.));\n\t}\n}",
h="bool isOccluded(in vec4 worldPos, in float bufferedDepth, in mat4 transformMatrix){\n\tfloat currDepth;\n\tvec4 modifiedWorldPos = worldPos / vec4(scale,1.);\n\tvec4 transformed = transformMatrix * modifiedWorldPos;\n\tvec3 projPos = transformed.xyz / transformed.w;\n\n\t// The depth calculation. Formula assumes projPos.z falls in [-1,1].\n\tfloat depthMin = gl_DepthRange.near;\n\tfloat depthMax = gl_DepthRange.far;\n\tcurrDepth = (projPos.z + 1.) * (depthMax - depthMin) / 2. + depthMin;\n\n\treturn bufferedDepth < currDepth;\n}",
l="\t\t\tvec3 inf;\n\t\t\tvec3 supp;\n\t\t\tneighbor(transfromCoordinates(currentPosition),inf,supp);\n\t\t\tvec4 addedLights = vec4(0.0,0.0,0.0, 0.0);\n\t\t\tfor(int l = 0; l < NUM_POINT_LIGHTS; l++) {\n\t\t\t\tPointLight pointLight = pointLights[ l ];\n\t\t\t\tvec3 lightDirection = normalize((mMatrix*vec4(currentPosition,1.) - mMatrix*vec4(pointLight.position,1.) ).xyz);\n\t\t\t\taddedLights.rgb += clamp(-dot(-lightDirection, -normalize(supp-inf)), 0.0, 1.0) * pointLight.color;\n\t\t\t\taddedLights.rgb += clamp(-dot(-normalize(currentPosition - frontPos), -normalize(supp-inf)), 0.0, 1.0) * addedLights.rgb;\n\t\t\t}\n\t\t\tcolorSample = vec4(mix(colorSample, addedLights, addedLights).rgb,colorSample.a);";
b.Hgc=[a,"uniform sampler2D tex;\nuniform float steps;\nuniform float alphaCorrection;\nuniform float widthDataTex;\nuniform float heightDataTex;\nuniform float minData;\nuniform float maxData;\nuniform vec3 sizeData;\nuniform vec3 sizeInScene;\nuniform vec3 scale;\nuniform sampler2D transfertTex;\nuniform sampler2D dataTex[12];\nuniform bool flipZ;  \nuniform bool switchLights;\nconst int MAX_STEPS = 4096;\nuniform sampler2D texDepth;\n#include <common>\n#include <packing>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>"].join("\n");
b.Igc=[c,g,f,k,h,"void main(void) {\n\tvec2 texc = ((projectedCoords.xy / projectedCoords.ww) + 1.0) / 2.0;\n\tfloat fragCoordDepth = texture2D(texDepth, texc).x;\n\tvec3 backPos = texture2D(tex, texc).xyz;\n\tvec3 frontPos = localCubeCoords;\n\tvec3 dir = backPos - frontPos;\n\tfloat rayLength = length(dir);\n\tfloat maxLength = length(sizeData);\n\tfloat delta = 1.0 / ((0.01*steps)*floor(maxLength));\n\tvec3 deltaDirection = dir * delta;\n\tfloat deltaDirectionLength = length(deltaDirection);\n\tvec3 currentPosition = frontPos;\n\tvec3 accumulatedColor = vec3(0.0);\n\tfloat accumulatedAlpha = 0.0;\n\tfloat accumulatedLength = 0.0;\n\tvec4 colorSample;\n\tfloat alphaSample;\n\tfor (int i = 0; i < MAX_STEPS; i++) {\n\t\tcolorSample = transform(getIntensity(transfromCoordinates(currentPosition)));\n\t\tif (colorSample.a > 0.2 && switchLights) {",
l,"\t\t}\n\t\talphaSample = colorSample.a * alphaCorrection;\n\t\talphaSample *= (1.0 - accumulatedAlpha);\n\t\taccumulatedColor += colorSample.rgb * alphaSample;\n\t\taccumulatedAlpha += alphaSample ;\n\t\tcurrentPosition += deltaDirection;\n\t\taccumulatedLength += deltaDirectionLength;\n\t\tif(accumulatedAlpha >= 0.9999) {\n\t\t\tbreak;\n\t\t}\n\t\tif(accumulatedLength >= rayLength) {\n\t\t\tbreak;\n\t\t}\n\t}\n\tgl_FragColor = vec4(accumulatedColor,accumulatedAlpha);\n}"].join("\n");b.otd=[b.Hgc,
d,b.Igc].join("\n");b.ntd=[b.Hgc,e,b.Igc].join("\n");return b}();
_geo.y.Ge.li.Wna=function(){function b(b){var d=b.material;b=_geo.geotoolkit.Ca(b,{uniforms:window.THREE.UniformsUtils.clone(window.THREE.ShaderLib.basic.uniforms),vertexshader:a.BIa,fragmentshader:a.Lga,defines:d.defines},!0);_geo.y.Ge.li.aB.call(this,b);this.type="BasicPickingMaterial";this.transparent=!1;this.blending=window.THREE.NoBlending;this.side=d.side}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,_geo.y.Ge.li.aB);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.BasicPickingMaterial");
b.prototype.setOptions=function(a){_geo.y.Ge.li.aB.prototype.setOptions.call(this,a);return this};return b}();_geo.y.Ge.li.DBb=function(){function b(a){_geo.y.Ge.li.Wna.call(this,a);this.type="DefaultLinePickingMaterial"}_geo.geotoolkit.fa(b,_geo.y.Ge.li.Wna);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultLinePickingMaterial");return b}();
_geo.y.Ge.li.NWa=function(){function b(a){_geo.y.Ge.li.Wna.call(this,a);this.type="DefaultMeshPickingMaterial"}_geo.geotoolkit.fa(b,_geo.y.Ge.li.Wna);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultMeshPickingMaterial");return b}();
_geo.y.Ge.li.GBb=function(){function b(a){a=new window.THREE.Texture(e);a.wrapS=a.wrapT=window.THREE.RepeatWrapping;a.needsUpdate=!0;var b=_geo.y.util.ck;window.THREE.SpriteMaterial.call(this,{map:a,transparent:!1});this.vertexShader=b.BIa;this.fragmentShader=b.Lga;this.uniforms=window.THREE.UniformsUtils.clone(window.THREE.ShaderLib.sprite.uniforms);this.type="DefaultSpritePickingMaterial";this.blending=window.THREE.NoBlending}var a=_geo.y.Ge.li.aB.Ooa,g=_geo.y.Ge.li.aB.Buc,d=_geo.y.util.ck.y_b,
e=_geo.geotoolkit.dD.Rt(1,1,!0),c=e.getContext("2d");null!=c&&(c.fillStyle="white",c.fillRect(0,0,1,1));_geo.geotoolkit.fa(b,window.THREE.SpriteMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultSpritePickingMaterial");b.prototype.setOptions=function(b){var c=b.plot;switch(b.pickingmode){case a.Leb:var e=b.pickingrgba;this.color=new window.THREE.Color(e.x,e.y,e.z);this.opacity=e.w;break;case a.La:case a.Na:case a.ag:e=b.candidates;if(null==e)throw Error("Cannot pick XYZ if no object has been selected");
var l=this;e.forEach(function(e){if(e.material===l){e=e.position.clone().applyMatrix4(e.matrixWorld);e=c.c5(e.sub(c.C7a()));e=e.applyMatrix4(g(c));var h;switch(b.pickingmode){case a.La:h=e.x;break;case a.Na:h=e.y;break;case a.ag:h=e.z;break}h=d(h);l.color=new window.THREE.Color(h.x,h.y,h.z);l.opacity=h.w}});break;default:throw Error("not implemented");}return this};return b}();
_geo.y.Ge.li.D0=function(){function b(b){var d=b.material;b=_geo.geotoolkit.Ca(b,{uniforms:d.uniforms,vertexshader:a.L8c(d),fragmentshader:a.K8c(d),defines:d.defines},!0);_geo.y.Ge.li.aB.call(this,b);this.type="DefaultShaderPickingMaterial";this.transparent=!1;this.lights=d.lights;this.side=d.side;this.blending=window.THREE.NoBlending}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,_geo.y.Ge.li.aB);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultShaderPickingMaterial");return b}();
_geo.y.Ge.li.W$b=function(){function b(b){var d=b.material;this.object=b.object;var e=this.object.geometry.getAttribute("position").count,c;null!=this.object.geometry.getAttribute("cgpointindex")?c=this.object.geometry.getAttribute("cgpointindex"):(c=new window.Float32Array(1*e),c=new window.THREE.BufferAttribute(c,1),this.object.geometry.addAttribute("cgpointindex",c));for(var f=0;f<e;f++)c.setX(f,this.QRb(f));b=_geo.geotoolkit.Ca(b,{uniforms:d.uniforms,vertexshader:a.T8c(d),fragmentshader:a.S8c(d),
defines:d.defines},!0);_geo.y.Ge.li.aB.call(this,b);this.type="DefaultPointCloudPickingMaterial";this.transparent=!1;this.lights=d.lights;this.side=d.side;this.blending=window.THREE.NoBlending}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,_geo.y.Ge.li.aB);_geo.geotoolkit.da(b,"geotoolkit3d.picking.pickingrenderer.DefaultPointCloudPickingMaterial");b.prototype.QRb=function(a){return a/this.object.geometry.getAttribute("position").count};b.prototype.OQb=function(a){return Math.round(a*this.object.geometry.getAttribute("position").count)};
b.Ksd=100;b.prototype.jUb=function(){var b=this;return[{pickingmode:a.XCb,callback:function(a,e){var c=b.OQb(_geo.y.util.ck.vzb(a));e.pointindex=c}}]};return b}();_geo.y.Ge.Ccb=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.picking.AbstractPicking");b.ls=_geo.geotoolkit.Ia;return b}();
_geo.y.Ge.SEb=function(){function b(){}_geo.geotoolkit.fa(b,_geo.y.Ge.Ccb);_geo.geotoolkit.da(b,"geotoolkit3d.picking.RayCastPicking");b.rfd=function(a,g,d){var e=a.renderer.getContext().canvas.getBoundingClientRect();g=(g-e.left)/(e.right-e.left)*a.width;d=(d-e.top)/(e.bottom-e.top)*a.height;return b.iDc(a,g,d)};b.iDc=function(a,b,d){a.camera.updateMatrixWorld(!0);a.root.updateMatrixWorld(!0);var e=new window.THREE.Raycaster,c=new window.THREE.Vector2;c.x=b/a.Wk.clientWidth*2-1;c.y=2*-(d/a.Wk.clientHeight)+
1;e.setFromCamera(c,a.camera);return e.ray};b.Y_b=function(a,b,d,e,c,f){var k=a.C7a(),h=a.C7a().negate();a.root.position.add(h);a.camera.position.add(h);a.camera.updateMatrixWorld(!0);a.root.updateMatrixWorld(!0);var h=new window.THREE.Raycaster,l=new window.THREE.Vector2;l.x=b/a.Wk.clientWidth*2-1;l.y=2*-(d/a.Wk.clientHeight)+1;h.setFromCamera(l,a.camera);null!=c&&(h.precision=c);null!=f&&(h.linePrecision=f);b=h.intersectObjects([e],!0);d=[];e={};for(c=0;c<b.length;c++)(0,window.isNaN)(b[c].distance)||
null!=e[b[c].object.uuid]||(b[c].point=b[c].point.clone(),a.c5(b[c].point),d.push({object:b[c].object,point:b[c].point}),e[b[c].object.uuid]=!0);d.sort(function(a,b){return a.distance-b.distance});a.root.position.add(k);a.camera.position.add(k);a.camera.updateMatrixWorld(!0);a.root.updateMatrixWorld(!0);return d};b.ls=function(a,b,d){var e=a.root;return this.Y_b(a,b,d,e)};return b}();
_geo.y.Ge.Tz=function(){function b(){}function a(a,b){for(var d=[],c=0;c<b.length;c++)d.push(_geo.y.util.ck.vzb(a[b[c]]));return d}function g(a){return a.getClassName?a.getClassName():a instanceof window.THREE.MeshBasicMaterial||a===window.THREE.MeshBasicMaterial?"THREE.MeshBasicMaterial":a instanceof window.THREE.MeshPhongMaterial||a===window.THREE.MeshPhongMaterial?"THREE.MeshPhongMaterial":a instanceof window.THREE.MeshNormalMaterial||a===window.THREE.MeshNormalMaterial?"THREE.MeshNormalMaterial":
a instanceof window.THREE.MeshLambertMaterial||a===window.THREE.MeshLambertMaterial?"THREE.MeshLambertMaterial":a instanceof window.THREE.SpriteMaterial||a===window.THREE.SpriteMaterial?"THREE.SpriteMaterial":a instanceof window.THREE.LineBasicMaterial||a===window.THREE.LineBasicMaterial?"THREE.LineBasicMaterial":a instanceof window.THREE.LineDashedMaterial||a===window.THREE.LineDashedMaterial?"THREE.LineDashedMaterial":a instanceof window.THREE.RawShaderMaterial||a===window.THREE.RawShaderMaterial||
a instanceof window.THREE.ShaderMaterial||a===window.THREE.ShaderMaterial?"THREE.RawShaderMaterial":null}function d(a){a.w++;255<a.w&&(a.z++,a.w=0);255<a.z&&(a.z=0,a.y++);255<a.y&&(a.x++,a.y=0);if(255<a.x)throw Error("Error, can't generate a unique picking ID");}function e(a){a=a.split(",");return new window.THREE.Vector4(+a[0],+a[1],+a[2],+a[3])}function c(a){return a.x+","+a.y+","+a.z+","+a.w}function f(a,b){var d=a.camera.projectionMatrix,c=a.camera.matrixWorldInverse,c=(new window.THREE.Matrix4).getInverse(c),
d=(new window.THREE.Matrix4).getInverse(d),e=_geo.y.Ge.li.aB.Auc(b.modellimits);b.projectioninversematrix=d;b.viewinversematrix=c;b.normalizationmatrix=e}function k(a,b,e,f,h,k){var l=new window.THREE.Vector4(0,0,0,0),n=a.renderer.getClearColor(),m=(new window.THREE.Vector4(n.r,n.g,n.b,a.renderer.getClearAlpha())).multiplyScalar(255);a.scene.traverse(function(a){var n=null!=a.xFa&&!1===a.xFa();if(!k(a,!n))e[a.uuid]=a.visible,f[a.uuid]=a,a.visible=!1;else if(null!=a.material){e[a.uuid]=a.visible;f[a.uuid]=
a;n=a.material;d(l);l.equals(m)&&d(l);var p;if(null==a.bpb){p=g(n);if(null==p||null==r[p]){_geo.geotoolkit.log("Can't find picking material for: ",n);return}p=new r[p]({material:n,object:a});a instanceof window.THREE.Object3D&&(a.bpb=p,a.X2({dispose:function(){_geo.y.Bb.u5a(a.bpb);a.bpb=null}}))}else if(p=a.bpb,null!=n.uniforms&&null!=p.uniforms)for(var q=Object.keys(p.uniforms),t=0;t<q.length;t++)null!=n.uniforms[q[t]]&&(p.uniforms[q[t]].value=n.uniforms[q[t]].value);null!=p&&(b[a.uuid]=n,a.material=
p);h[c(l)]=a}})}function h(a,b,d){a=Object.keys(a);for(var c=0;c<d.length;c++)for(var e=d[c],g=0;g<a.length;g++)b[a[g]].visible=e.uuid===a[g];return a}function l(a,b){for(var d=Object.keys(a),c=0;c<d.length;c++)b[d[c]].visible=a[d[c]]}function n(a,b){a.scene.traverse(function(a){null!=a.material&&null!=b[a.uuid]&&(a.material=b[a.uuid],b[a.uuid]=null)})}function p(a,b,d){if(null!=a.material.jUb){a=a.material.jUb();for(var c=0;c<a.length;c++)b.pickingmode=a[c].pickingmode,a[c].callback(m(b)[0],d)}}
var r={},t=_geo.y.Ge.li.aB.Ooa,q=_geo.y.Ge.li.aB.zuc;_geo.geotoolkit.fa(b,_geo.y.Ge.Ccb);_geo.geotoolkit.da(b,"geotoolkit3d.picking.RendererPicking");b.oC=function(a,b){r[a]=b};b.oC(g(window.THREE.MeshBasicMaterial),_geo.y.Ge.li.NWa);b.oC(g(window.THREE.MeshLambertMaterial),_geo.y.Ge.li.NWa);b.oC(g(window.THREE.MeshPhongMaterial),_geo.y.Ge.li.NWa);b.oC(g(window.THREE.MeshNormalMaterial),_geo.y.Ge.li.NWa);b.oC(g(window.THREE.SpriteMaterial),_geo.y.Ge.li.GBb);b.oC(g(window.THREE.LineBasicMaterial),
_geo.y.Ge.li.DBb);b.oC(g(window.THREE.LineDashedMaterial),_geo.y.Ge.li.DBb);b.oC(g(window.THREE.ShaderMaterial),_geo.y.Ge.li.D0);var m=function(){var a=null,b=[];return function(d){var c=2*d.width+1,g=2*d.height+1,f=Math.floor(d.x-d.width),h=Math.floor(d.texture.height-(d.y+d.height));d.texture.scissor.set(f,h,f+c,h+g);d.texture.scissorTest=!0;var k=c*g;if(null==a||4*k!==a.length)a=new window.Uint8Array(4*k),b.length=k;else if(null!=a.fill)a.fill(0);else for(var l=0;l<a.length;l++)a[l]=0;for(var l=
Object.keys(d.objects),n=0;n<l.length;n++)if(null==d.candidates||-1!==d.candidates.indexOf(d.objects[l[n]]))d.pickingrgba=e(l[n]).divideScalar(255),d.objects[l[n]].material.setOptions(d);l=d.plot;l.renderer.render(l.scene,l.camera,d.texture,!0);l.renderer.readRenderTargetPixels(d.texture,f,h,c,g,a);for(d=0;d<k;d++)null!=b[d]?b[d].set(a[4*d],a[4*d+1],a[4*d+2],a[4*d+3]):b[d]=new window.THREE.Vector4(a[4*d],a[4*d+1],a[4*d+2],a[4*d+3]);return b}}();b.ls=function(b,d,e,g,r,z){!1!==b.o4&&b.render();null==
g&&(g=0);null==r&&(r=0);null==z&&(z=function(a,b){return b});var C={},D={},E={},F={};b.Qvb();var K=b.xa(!0).clone();k(b,C,E,F,D,z);g={plot:b,texture:b.sfd(),pickingmode:t.Leb,objects:D,x:d,y:e,width:g,height:r,modellimits:K};f(b,g);var K=q(K),H=m(g);r=b.renderer.getClearColor();var G=(new window.THREE.Vector4(r.r,r.g,r.b,b.renderer.getClearAlpha())).multiplyScalar(255);r=[];z=[];for(var J=[],I=g.width,O=g.height,M=2*I+1,L=0;L<H.length;L++){var N=H[L];if(!N.equals(G)){var T=D[c(N)];if(null!=T){N=r.indexOf(T);
-1===N&&(r.push(T),N=r.length-1);null==z[N]&&(z[N]=[Number.MAX_VALUE,Number.MAX_VALUE]);var T=z[N],Q=L%M,P=Math.floor(L/M),S=(T[0]-I)*(T[0]-I)+(T[1]-O)*(T[1]-O),U=(Q-I)*(Q-I)+(P-O)*(P-O);S>U&&(T[0]=Q,T[1]=P,J[N]=L)}}}D=[];if(0<r.length)for(g.candidates=r,h(E,F,r),g.pickingmode=t.La,H=a(m(g),J),g.pickingmode=t.Na,G=a(m(g),J),g.pickingmode=t.ag,J=a(m(g),J),M=0;M<r.length;M++)T=new window.THREE.Vector3(H[M],G[M],J[M]),T.applyMatrix4(K),L=d+(z[M][0]-I),N=e-(z[M][1]-O),T={object:r[M],point:b.c5(T),pointdevice:new window.THREE.Vector2(L,
N)},D.push(T),g.x=L,g.y=N,g.width=0,g.height=0,p(r[M],g,T);var R=new window.THREE.Vector2(d,e);D.sort(function(a,b){var d=a.pointdevice.distanceTo(R),c=b.pointdevice.distanceTo(R);return _geo.geotoolkit.util.Math.sign(d-c)});b.xqb();b.root.updateMatrixWorld();l(E,F);n(b,C);return D};return b}();
_geo.y.sd.fc=function(){function b(a){_geo.geotoolkit.util.EventDispatcher.call(this,a);this.domElement=a.domelement;var b=_geo.y.sd.Js.eJa.Azc();a=_geo.geotoolkit.Ca(a,{target:this,name:"abstracttool"});this.sn={};null!=b&&(this.BPa=new b(a),this.setup(this.BPa));this.name=a.name;this.Me=a.plot}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit3d.tool.AbstractTool");b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{name:this.name,plot:this.Me});
null!=this.BPa&&this.BPa.setOptions(a);this.name=b.name;this.Me=b.plot;return this};b.$={onContext:"onContext",onMouseDown:"onMouseDown",onMouseMove:"onMouseMove",onMouseUp:"onMouseUp",onMouseWheel:"onMouseWheel",onTouchStart:"onTouchStart",onTouchEnd:"onTouchEnd",onTouchMove:"onTouchMove",onDoubleClick:"onDoubleClick",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp",onPointerStart:"onPointerStart",onPointerMove:"onPointerMove",onPointerEnd:"onPointerEnd"};b.prototype.setup=function(a){var b=this;b.sn.onContext=
function(a,e,c){b.kma!==_geo.geotoolkit.Ia&&b.kma(c);b.Ja("onContext",this,c)};a.kb("onContext",b.sn.onContext);b.sn.onMouseDown=function(a,e,c){b.xf!==_geo.geotoolkit.Ia&&b.xf(c);b.Ja("onMouseDown",this,c)};a.kb("onMouseDown",b.sn.onMouseDown);b.sn.onMouseMove=function(a,e,c){b.Wd!==_geo.geotoolkit.Ia&&b.Wd(c);b.Ja("onMouseMove",this,c)};a.kb("onMouseMove",b.sn.onMouseMove);b.sn.onMouseUp=function(a,e,c){b.Ae!==_geo.geotoolkit.Ia&&b.Ae(c);b.Ja("onMouseUp",this,c)};a.kb("onMouseUp",b.sn.onMouseUp);
b.sn.onMouseOut=function(a,e,c){b.lGa!==_geo.geotoolkit.Ia&&b.lGa(c);b.Ja("onMouseOut",this,c)};a.kb("onMouseOut",b.sn.onMouseOut);b.sn.onMouseWheel=function(a,e,c){b.By!==_geo.geotoolkit.Ia&&b.By(c);b.Ja("onMouseWheel",this,c)};a.kb("onMouseWheel",b.sn.onMouseWheel);b.sn.onTouchStart=function(a,e,c){b.qma!==_geo.geotoolkit.Ia&&b.qma(c);b.Ja("onTouchStart",this,c)};a.kb("onTouchStart",b.sn.onTouchStart);b.sn.onTouchEnd=function(a,e,c){b.oma!==_geo.geotoolkit.Ia&&b.oma(c);b.Ja("onTouchEnd",this,c)};
a.kb("onTouchEnd",b.sn.onTouchEnd);b.sn.onTouchMove=function(a,e,c){b.pma!==_geo.geotoolkit.Ia&&b.pma(c);b.Ja("onTouchMove",this,c)};a.kb("onTouchMove",b.sn.onTouchMove);b.sn.onDoubleClick=function(a,e,c){b.ks!==_geo.geotoolkit.Ia&&b.ks(c);b.Ja("onDoubleClick",this,c)};a.kb("onDoubleClick",b.sn.onDoubleClick);b.sn.onKeyDown=function(a,e,c){b.BI!==_geo.geotoolkit.Ia&&b.BI(c);b.Ja("onKeyDown",this,c)};a.kb("onKeyDown",b.sn.onKeyDown);b.sn.onKeyUp=function(a,e,c){b.TS!==_geo.geotoolkit.Ia&&b.TS(c);b.Ja("onKeyUp",
this,c)};a.kb("onKeyUp",b.sn.onKeyUp);return this};b.prototype.getName=function(){return this.name};b.prototype.kma=_geo.geotoolkit.Ia;b.prototype.xf=_geo.geotoolkit.Ia;b.prototype.Wd=_geo.geotoolkit.Ia;b.prototype.Ae=_geo.geotoolkit.Ia;b.prototype.lGa=_geo.geotoolkit.Ia;b.prototype.By=_geo.geotoolkit.Ia;b.prototype.qma=_geo.geotoolkit.Ia;b.prototype.oma=_geo.geotoolkit.Ia;b.prototype.pma=_geo.geotoolkit.Ia;b.prototype.ks=_geo.geotoolkit.Ia;b.prototype.BI=_geo.geotoolkit.Ia;b.prototype.TS=_geo.geotoolkit.Ia;
b.prototype.dispose=function(){null!=this.BPa&&(this.BPa.dispose(),this.BPa=null);this.domElement=null};return b}();
_geo.y.sd.Yv=function(){function b(){}function a(a){_geo.y.sd.fc.call(this,a);a=_geo.geotoolkit.Ca(a,{state:g,dragbutton:0,pinchbutton:1,slidebutton:2,dragtouchcount:1,pinchtouchcount:2,slidetouchcount:3,doubletapdelay:250,name:"abstractgesturetool",radius:0,armingkey:null},!0);this.setOptions(a);this.SOa(null==this.eka);this.radius=a.radius;this.awd=this.Tpb=0;this.Bma={}}var g="none",d="mb",e="mb2",c="mb3",f="touch1",k="touch2",h="touch3",l="drag",n="slide",p="pinch";_geo.geotoolkit.fa(a,_geo.y.sd.fc);
_geo.geotoolkit.da(a,"geotoolkit3d.tool.AbstractGestureTool");a.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{state:this.Y5a,dragbutton:this.nwc,pinchbutton:this.WJc,slidebutton:this.oRc,dragtouchcount:this.ecd,pinchtouchcount:this.Kld,slidetouchcount:this.eqd,doubletapdelay:this.JQb,armingkey:this.eka,radius:this.radius},!0);this.Gy(b.state);this.radius=b.radius;this.nwc=+b.dragbutton;this.WJc=+b.pinchbutton;this.oRc=+b.slidebutton;this.ecd=+b.dragtouchcount;this.Kld=+b.pinchtouchcount;
this.eqd=+b.slidetouchcount;this.JQb=+b.doubletapdelay;var d=this.eka;this.eka=null!=b.armingkey?+b.armingkey:null;this.eka!==d&&(null!=d&&null!=this.eka?this.SOa(!1):null==d?this.SOa(!1):this.SOa(!0));_geo.y.sd.fc.prototype.setOptions.call(this,a);return this};a.prototype.Gy=function(a,b){this.Y5a=a};a.prototype.kma=function(a){this.hS&&a.preventDefault()};a.prototype.xf=function(a){this.hS&&a.preventDefault();switch(a.button){case this.nwc:this.Gy(d,a);break;case this.WJc:this.Gy(e,a);break;case this.oRc:this.Gy(c,
a);break}};a.prototype.Wd=function(a){this.hS&&a.preventDefault();switch(this.Y5a){case g:this.St.AD(a);break;case d:this.Gy(l,a);this.St.XE(a);break;case e:this.Gy(p,a);a.distanceX=a.plotY;a.distanceY=a.plotY;this.St.xG(a);break;case c:this.Gy(n,a);this.St.zG(a);break;case l:this.St.VE(a);break;case p:1<a.plotXs.length?(a.distanceX=Math.abs(a.plotXs[0]-a.plotXs[1]),a.distanceY=Math.abs(a.plotYs[0]-a.plotYs[1])):(a.distanceX=a.plotY,a.distanceY=a.plotY);this.St.vG(a);break;case n:this.St.ZE(a);break;
default:this.Gy(g,a)}};a.prototype.lGa=function(a){this.Ae(a);this.AD(a)};a.prototype.Ae=function(a){this.hS&&a.preventDefault();switch(this.Y5a){case d:case e:case c:Date.now()-this.Tpb<this.JQb?this.St.UE(a):this.St.$E(a);this.Tpb=Date.now();this.Gy(g,a);break;case l:this.Gy(g,a);this.St.WE(a);break;case n:this.Gy(g,a);this.St.yG(a);break;case p:this.Gy(g,a);this.St.wG(a);break;default:this.Gy(g,a)}};a.prototype.ks=function(a){this.hS&&a.preventDefault();this.Gy(g,a);this.St.UE(a)};a.prototype.qma=
function(a){this.hS||a.preventDefault();switch(a.plotXs.length){case 1:this.Gy(f,a);break;case 2:this.Gy(k,a);break;case 3:this.Gy(h,a);break}};a.prototype.oma=function(a){this.hS&&a.preventDefault();switch(this.Y5a){case f:case k:case h:Date.now()-this.Tpb<this.JQb?this.St.UE(a):this.St.$E(a);this.Tpb=Date.now();this.Gy(g,a);break;case l:this.Gy(g,a);this.St.WE(a);break;case n:this.Gy(g,a);this.St.yG(a);break;case p:this.Gy(g,a);this.St.wG(a);break;default:this.Gy(g,a)}};a.prototype.pma=function(a){this.hS&&
a.preventDefault();switch(this.Y5a){case g:this.St.AD(a);break;case f:this.Gy(l,a);this.St.XE(a);break;case k:this.Gy(p,a);a.distanceX=Math.abs(a.plotXs[0]-a.plotXs[1]);a.distanceY=Math.abs(a.plotYs[0]-a.plotYs[1]);this.St.xG(a);break;case h:this.Gy(n,a);this.St.zG(a);break;case l:this.St.VE(a);break;case p:a.distanceX=Math.abs(a.plotXs[0]-a.plotXs[1]);a.distanceY=Math.abs(a.plotYs[0]-a.plotYs[1]);this.St.vG(a);break;case n:this.St.ZE(a);break;default:this.Gy(g,a)}};a.prototype.BI=function(a){this.hS||
this.SOa(a.keyCode===this.eka);null!=this.Bma[a.keyCode]?this.St.AI(a):(this.Bma[a.keyCode]={since:Date.now()},this.St.uG(a))};a.prototype.qJc=function(a){"visible"===a.p8b?this.St.AG(a):this.St.BG(a)};a.prototype.TS=function(a){this.St.DI(a);null!=this.Bma[a.keyCode]&&(this.Bma[a.keyCode]=null,delete this.Bma[a.keyCode]);this.hS&&this.SOa(a.keyCode!==this.eka)};var r={uG:b,AI:b,DI:b,AD:b,$E:b,UE:b,xG:b,vG:b,wG:b,XE:b,VE:b,WE:b,zG:b,ZE:b,yG:b,AG:b,BG:b};a.prototype.SOa=function(a){this.hS!==a&&(this.St=
a?{uG:this.uG.bind(this),AI:this.AI.bind(this),DI:this.DI.bind(this),AG:this.AG.bind(this),BG:this.BG.bind(this),AD:this.AD.bind(this),$E:this.$E.bind(this),UE:this.UE.bind(this),xG:this.xG.bind(this),vG:this.vG.bind(this),wG:this.wG.bind(this),XE:this.XE.bind(this),VE:this.VE.bind(this),WE:this.WE.bind(this),zG:this.zG.bind(this),ZE:this.ZE.bind(this),yG:this.yG.bind(this)}:r,this.hS=a)};a.prototype.uG=_geo.geotoolkit.Ia;a.prototype.AI=_geo.geotoolkit.Ia;a.prototype.DI=_geo.geotoolkit.Ia;a.prototype.AG=
_geo.geotoolkit.Ia;a.prototype.BG=_geo.geotoolkit.Ia;a.prototype.AD=_geo.geotoolkit.Ia;a.prototype.$E=_geo.geotoolkit.Ia;a.prototype.UE=_geo.geotoolkit.Ia;a.prototype.xG=_geo.geotoolkit.Ia;a.prototype.vG=_geo.geotoolkit.Ia;a.prototype.wG=_geo.geotoolkit.Ia;a.prototype.XE=_geo.geotoolkit.Ia;a.prototype.VE=_geo.geotoolkit.Ia;a.prototype.WE=_geo.geotoolkit.Ia;a.prototype.zG=_geo.geotoolkit.Ia;a.prototype.ZE=_geo.geotoolkit.Ia;a.prototype.yG=_geo.geotoolkit.Ia;a.prototype.dispose=function(){this.Bma=
this.St=null;_geo.y.sd.fc.prototype.dispose.call(this)};return a}();
_geo.y.sd.Bgb=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"selectiontool",enabled:!0,radius:0,filter:null,hover:!1});_geo.y.sd.Yv.call(this,a);this.radius=a.radius;this.filter=a.filter;this.XRa=a.hover;this.Rl=[]}function a(){}_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.tool.SelectionTool");b.$={onSelection:"onSelection"};b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{plot:this.Me,enabled:this.enabled,radius:this.radius,filter:this.filter,hover:this.XRa});
this.radius=a.radius;this.filter=a.filter;this.Me=a.plot;this.XRa=a.hover;this.enabled=a.enabled;_geo.y.sd.Yv.prototype.setOptions.call(this,a);return this};b.prototype.AD=function(a){this.XRa&&this.ISa(_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius,this.filter),a)};b.prototype.$E=function(a){this.enabled&&this.ISa(_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius,this.filter),a)};b.prototype.ISa=function(a,d){this.Ja(b.$.ISa,this,a);for(var e=0;e<this.Rl.length;e++)this.Rl[e](a,
d)};b.prototype.Urc=function(a){-1===this.Rl.indexOf(a)&&this.Rl.push(a);return this};b.prototype.K$a=function(a){a=this.Rl.indexOf(a);-1!==a&&this.Rl.splice(a,1);return this};b.prototype.uG=a;b.prototype.AI=a;b.prototype.DI=a;b.prototype.UE=a;b.prototype.By=a;b.prototype.xG=a;b.prototype.vG=a;b.prototype.wG=a;b.prototype.XE=a;b.prototype.VE=a;b.prototype.WE=a;b.prototype.zG=a;b.prototype.ZE=a;b.prototype.yG=a;b.prototype.AG=a;b.prototype.BG=a;return b}();
_geo.y.sd.bX=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"AbstractMoveTool",enabled:!0,pickenabled:!0,armingkey:17});_geo.y.sd.Yv.call(this,a);this.Rl=[];this.object=null}function a(){}_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.tool.AbstractMoveTool");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{plot:this.Me,enabled:this.enabled,pickenabled:this.d$a,object:void 0!==a.object?null:this.object});this.object!==a.object&&this.F3(b.N6.GKa,a.object,null);
this.object=a.object;this.enabled=a.enabled;this.d$a=a.pickenabled;_geo.y.sd.Yv.prototype.setOptions.call(this,a);return this};b.prototype.ls=_geo.geotoolkit.Ia;b.prototype.move=_geo.geotoolkit.Ia;b.prototype.O4=function(a){this.enabled&&this.d$a&&this.ls(a)};b.prototype.F3=function(a,b,e){for(var c=0;c<this.Rl.length;c++)this.Rl[c](a,b,e)};b.N6={GKa:"selected",M6:"movestart",XJa:"move",$v:"moveend"};b.prototype.d4a=function(a){-1===this.Rl.indexOf(a)&&this.Rl.push(a);return this};b.prototype.K$a=
function(a){a=this.Rl.indexOf(a);-1!==a&&this.Rl.splice(a,1);return this};b.prototype.DI=function(a){this.hS&&a.keyCode===this.eka&&this.F3(b.N6.$v,this.object,null)};b.prototype.XE=function(a){this.enabled&&(null==this.object&&this.O4(a),null!=this.object&&(this.lAd=this.object.position.clone()),this.F3(b.N6.M6,this.object,null))};b.prototype.VE=function(a){this.enabled&&(null!=this.object?this.move(a,b.N6.XJa):this.F3(b.N6.XJa,this.object,null))};b.prototype.WE=function(a){this.enabled&&(null!=
this.object?(this.move(a,b.N6.$v),this.Me.getRoot().remove(this.plane),this.d$a&&this.setOptions({object:null})):this.F3(b.N6.$v,this.object,null))};b.prototype.$E=a;b.prototype.AD=a;b.prototype.uG=a;b.prototype.AI=a;b.prototype.UE=a;b.prototype.By=a;b.prototype.xG=a;b.prototype.vG=a;b.prototype.wG=a;b.prototype.zG=a;b.prototype.ZE=a;b.prototype.yG=a;b.prototype.AG=a;b.prototype.BG=a;b.prototype.dispose=function(){this.object=this.Rl=null;_geo.y.sd.Yv.prototype.dispose.call(this)};return b}();
_geo.y.sd.jfc=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"planarmovetool",filter:null});this.filter=a.filter;_geo.y.sd.bX.call(this,a);this.dsa=null}_geo.geotoolkit.fa(b,_geo.y.sd.bX);_geo.geotoolkit.da(b,"geotoolkit3d.tool.PlanarMoveTool");b.prototype.ZSc=function(){var a=this.e$a;null==a&&(a=this.object.localToWorld(this.object.geometry.boundingBox.getCenter(this.plane.position)));this.plane.position.copy(a);var a=this.Me.c9(),b=this.Me.Ska();b.sub(a).negate().add(this.plane.position);
this.plane.lookAt(b)};b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{plot:this.Me,enabled:this.enabled,pickenabled:this.d$a,object:void 0!==a.object?null:this.object,pickingplanecenter:void 0!==a.pickingplanecenter?null:this.e$a,filter:a.filter});this.filter=a.filter;this.object!==a.object&&this.F3(_geo.y.sd.bX.N6.GKa,a.object,null);this.object=a.object;this.e$a=null;null==this.Me&&null!=a.plot&&(this.Me=a.plot,this.plane=new window.THREE.Mesh(new window.THREE.PlaneGeometry(2E6,2E6,2,
2),new window.THREE.MeshBasicMaterial({color:"white",opacity:.3,transparent:!0})),this.plane.name="PICKING_PLANE",this.plane.material.visible=!1);null!=this.plane&&null!=this.object&&null!=this.Me&&(this.Me.getRoot().add(this.plane),this.object.geometry.computeBoundingBox(),this.e$a=a.pickingplanecenter,this.ZSc());this.enabled=a.enabled;this.d$a=a.pickenabled;null==this.Me||null!=this.object&&!1!==this.enabled||this.Me.getRoot().remove(this.plane);_geo.y.sd.bX.prototype.setOptions.call(this,a);return this};
b.prototype.ls=function(a){a=_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius,this.filter);var b=0<a.length?a[0]:null;null!=b&&b.object===this.plane&&(b=1<a.length?a[1]:null);this.setOptions({object:null!=b?b.object:null,pickingplanecenter:null!=b?b.point:null})};b.prototype.move=function(a,b){if(null!=this.plane.parent){for(var d=_geo.y.Ge.SEb.Y_b(this.Me,a.plotX,a.plotY,this.plane),e=null,c=0;c<d.length;c++)if(d[c].object===this.plane){e=d[c].point;break}null==e?this.F3(b,this.object,
new window.THREE.Vector3):(e=this.object.parent.worldToLocal(e.clone()).sub(this.object.parent.worldToLocal(this.e$a.clone())),this.e$a=d[c].point.clone(),null!=this.dsa&&this.dsa(this.object,e),1E-5<e.length()&&this.object.position.add(e),this.F3(b,this.object,e),this.ZSc(),this.object.tj(),b===_geo.y.sd.bX.N6.$v&&this.setOptions({object:null}))}};b.prototype.uMc=function(a){this.dsa=a;return this};return b}();
_geo.y.sd.Ogb=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"SliderMoveTool"});_geo.y.sd.bX.call(this,a);this.dsa=null}_geo.geotoolkit.fa(b,_geo.y.sd.bX);_geo.geotoolkit.da(b,"geotoolkit3d.tool.SliderMoveTool");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{});this.A8a=a.initialpoint;_geo.y.sd.bX.prototype.setOptions.call(this,a);return this};b.prototype.ls=function(a){var b=_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius);this.setOptions({object:0<b.length?b[0].object:
null,initialpoint:new window.THREE.Vector2(a.plotX,a.plotY)});return this};b.prototype.move=function(a,b){if(null==this.A8a)return this;var d=new window.THREE.Vector2(a.plotX-this.A8a.x,a.plotY-this.A8a.y);null!=this.dsa&&(!0===this.dsa(this.object,d,this.A8a.clone())&&this.A8a.set(a.plotX,a.plotY),this.object.tj());this.F3(b,this.object,d);return this};b.prototype.F4b=function(a){this.dsa=a;return this};b.prototype.dispose=function(){this.dsa=null;_geo.y.sd.bX.prototype.dispose.call(this)};return b}();
_geo.y.sd.xfb=function(){function b(a){function b(){return!1}a=_geo.geotoolkit.Ca(a,{name:"measuretool",enabled:!0,radius:0,armingkey:17});_geo.y.sd.Yv.call(this,a);this.radius=a.radius;this.Rl=[];this.HF=new window.THREE.Vector3(0,0,0);this.rra=new window.THREE.Vector3(0,0,0);a=new window.THREE.BoxGeometry(10,10,10);var e=new window.THREE.MeshBasicMaterial({color:65280});this.Ejb=new window.THREE.Mesh(a,e);this.ymb=new window.THREE.Mesh(a,e);this.Ejb.isPickable=b;this.ymb.isPickable=b;a=new window.THREE.LineBasicMaterial({color:255});
e=new window.THREE.Geometry;e.vertices.push(new window.THREE.Vector3(0,0,0));e.vertices.push(new window.THREE.Vector3(0,0,0));this.TAa=new window.THREE.Line(e,a);this.TAa.frustumCulled=!1;this.TAa.isPickable=b;this.index=!0}function a(){}_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.tool.MeasuringTool");b.$={JVc:"DistanceChanged"};b.prototype.XMc=function(a){this.Ejb.visible=a;this.ymb.visible=a;this.TAa.visible=a;return this};b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,
{plot:this.Me,enabled:this.enabled,radius:this.radius});this.radius=a.radius;this.Me=a.plot;null!=this.Me&&(this.Me.getRoot().add(this.Ejb),this.Me.getRoot().add(this.ymb),this.Me.getRoot().add(this.TAa));this.enabled=a.enabled;_geo.y.sd.Yv.prototype.setOptions.call(this,a);return this};b.prototype.AD=function(a){this.hS&&this.W7b(_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius),a,!0)};b.prototype.$E=function(a){};b.prototype.Ae=function(a){_geo.y.sd.Yv.prototype.Ae.call(this,a);this.hS&&
(this.index=!this.index)};b.prototype.Cj=function(){return this.HF.distanceTo(this.rra)};b.prototype.W7b=function(a){0<a.length&&(this.index?(this.HF=a[0].point.clone(),this.Ejb.position.set(this.HF.x,this.HF.y,this.HF.z),this.TAa.geometry.vertices[0].set(this.HF.x,this.HF.y,this.HF.z)):(this.rra=a[0].point.clone(),this.ymb.position.set(this.rra.x,this.rra.y,this.rra.z),this.TAa.geometry.vertices[1].set(this.rra.x,this.rra.y,this.rra.z)),this.Me.tj(),this.TAa.geometry.verticesNeedUpdate=!0,this.Ja("DistanceChanged",
this,this.Cj()))};b.prototype.uG=a;b.prototype.AI=a;b.prototype.DI=a;b.prototype.UE=a;b.prototype.By=a;b.prototype.xG=a;b.prototype.vG=a;b.prototype.wG=a;b.prototype.XE=a;b.prototype.VE=a;b.prototype.WE=a;b.prototype.zG=a;b.prototype.ZE=a;b.prototype.yG=a;b.prototype.AG=a;b.prototype.BG=a;return b}();
_geo.y.sd.cursor.w$b=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"CursorTool",enabled:!0,cursor:new _geo.y.sd.cursor.pBb});_geo.y.sd.Yv.call(this,a);this.Rl=[]}function a(){}_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.CursorTool");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{enabled:this.enabled,cursor:this.cursor});this.enabled=a.enabled;a.cursor!==this.cursor&&(_geo.y.Bb.dispose(this.cursor),this.cursor=a.cursor);this.cursor.visible=
this.enabled;_geo.y.sd.Yv.prototype.setOptions.call(this,a);return this};b.prototype.PZb=function(a){this.cursor.visible=null!=a;null==this.cursor.parent&&this.Me.getRoot().add(this.cursor);null!=a&&this.cursor.mQ(a);this.cursor.tj()};b.prototype.F3=function(a,b){for(var e=0;e<this.Rl.length;e++)this.Rl[e](a,b);null!=this.Me&&null!=this.cursor&&(e=0!==b.length?b[0].point:null,this.PZb(e))};b.prototype.d4a=function(a){-1===this.Rl.indexOf(a)&&this.Rl.push(a);return this};b.prototype.jLc=function(a){a=
this.Rl.indexOf(a);-1!==a&&this.Rl.splice(a,1);return this};b.prototype.DI=function(a){this.hS&&a.keyCode===this.eka&&this.F3(a,[])};b.prototype.XE=a;b.prototype.VE=a;b.prototype.WE=a;b.prototype.$E=a;b.prototype.AD=function(a){if(this.enabled){var b=_geo.y.Ge.Tz.ls(this.Me,a.plotX,a.plotY,this.radius,this.radius);this.F3(a,b)}};b.prototype.uG=a;b.prototype.AI=a;b.prototype.UE=a;b.prototype.By=a;b.prototype.xG=a;b.prototype.vG=a;b.prototype.wG=a;b.prototype.zG=a;b.prototype.ZE=a;b.prototype.yG=a;
b.prototype.AG=a;b.prototype.BG=a;b.prototype.dispose=function(){this.object=this.Rl=null;_geo.y.sd.Yv.prototype.dispose.call(this)};return b}();
_geo.y.sd.cursor.naa=function(){function b(){_geo.y.scene.Object3D.call(this)}var a=new window.THREE.Box3(new window.THREE.Vector3(-window.Infinity,-window.Infinity,-window.Infinity),new window.THREE.Vector3(window.Infinity,window.Infinity,window.Infinity));_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.AbstractCursor");b.prototype.xFa=function(){return!1};b.prototype.mQ=_geo.geotoolkit.Ia;b.prototype.Rtb=function(){return a};return b}();
_geo.y.sd.cursor.pBb=function(){function b(a){_geo.y.sd.cursor.naa.call(this);a=_geo.geotoolkit.Ca(a,{linestyle:new _geo.geotoolkit.attributes.Aa({color:"red"}),cursorsize:5});var b=new window.THREE.BufferGeometry;b.addAttribute("position",new window.THREE.BufferAttribute(new window.Float32Array([-1,0,0,1,0,0,0,-1,0,0,1,0,0,0,-1,0,0,1]),3));b.setIndex(new window.THREE.BufferAttribute(new window.Uint32Array([0,1,2,3,4,5]),1));this.add(new window.THREE.LineSegments(b,null));this.setOptions(a)}_geo.geotoolkit.fa(b,
_geo.y.sd.cursor.naa);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.CrossCursor");b.prototype.mQ=function(a){this.position.copy(a);this.tj();return this};b.prototype.setOptions=function(a){var b=this.children[0];a=_geo.geotoolkit.Ca(a,{cursorsize:b.o5a,"linestyle:":null!=b.material?b.material.l_:null});b.material=_geo.y.util.bJ.G8(a.linestyle);b.o5a=a.cursorsize;this.tj();return this};b.prototype.no=function(a,b,d,e){_geo.y.scene.Object3D.prototype.no.call(this,a,b,d,e);if(this.visible){for(d=0;d<
this.children.length;d++)e=this.children[d],e.scale.set(e.o5a,e.o5a,e.o5a);_geo.y.Bb.H7b(this,b,a)}};return b}();
_geo.y.sd.cursor.t$b=function(){function b(a){_geo.y.sd.cursor.naa.call(this);a=_geo.geotoolkit.Ca(a,{visiblelinestyle:new _geo.geotoolkit.attributes.Aa({color:"red"}),hiddenlinestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(255,0,0,0.5)",pattern:_geo.geotoolkit.attributes.Aa.qH.jJa})});this.l4=new _geo.y.scene.Object3D;this.add(this.l4);this.l4.add(this.rka([-.5,0,0,.5,0,0]));this.l4.add(this.rka([0,-.5,0,0,.5,0]));this.l4.add(this.rka([0,0,-.5,0,0,.5]));this.iaa=new _geo.y.scene.Object3D;
this.add(this.iaa);this.iaa.add(this.rka([-.5,0,0,.5,0,0]));this.iaa.add(this.rka([0,-.5,0,0,.5,0]));this.iaa.add(this.rka([0,0,-.5,0,0,.5]));this.setOptions(a)}function a(a,b){a[0].position.set(a[0].position.x,b.y,b.z);a[1].position.set(b.x,a[1].position.y,b.z);a[2].position.set(b.x,b.y,a[2].position.z)}_geo.geotoolkit.fa(b,_geo.y.sd.cursor.naa);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.CrossHairCursor");b.prototype.rka=function(a){var b=new window.THREE.BufferGeometry;b.addAttribute("position",
new window.THREE.BufferAttribute(new window.Float32Array(a),3));b.setIndex(new window.THREE.BufferAttribute(new window.Uint32Array([0,1]),1));return new window.THREE.LineSegments(b,null)};b.prototype.mQ=function(b){a(this.iaa.children,b);a(this.l4.children,b);this.tj();return this};b.prototype.setOptions=function(a){var b=this.iaa.children[0],e=this.l4.children[0],b=_geo.geotoolkit.Ca(a,{limits:this.$d,"visiblelinestyle:":null!=b.material?b.material.l_:null,"hiddenlinestyle:":null!=e.material?e.material.l_:
null});this.$d=b.limits;for(e=0;e<this.iaa.children.length;e++)this.$d.getSize(this.iaa.children[e].scale),this.$d.getCenter(this.iaa.children[e].position),null!=a.visiblelinestyle&&(this.iaa.children[e].material=_geo.y.util.bJ.G8(b.visiblelinestyle),this.iaa.children[e].renderOrder=0);for(e=0;e<this.l4.children.length;e++)this.$d.getSize(this.l4.children[e].scale),this.$d.getCenter(this.l4.children[e].position),null!=a.hiddenlinestyle&&(this.l4.children[e].material=_geo.y.util.bJ.G8(b.hiddenlinestyle),
this.l4.children[e].material.depthTest=!1,this.l4.children[e].renderOrder=1);this.tj();return this};return b}();
_geo.y.sd.cursor.s$b=function(){function b(a){_geo.y.sd.cursor.naa.call(this);a=_geo.geotoolkit.Ca(a,{limits:null,linestyle:new _geo.geotoolkit.attributes.Aa({color:"red"}),mode:_geo.y.scene.ze.Mx.$D.back});this.add(this.ska("front",[-.5,0,0,.5,0,0],[0,0,-.5,0,0,.5]));this.add(this.ska("back",[-.5,0,0,.5,0,0],[0,0,-.5,0,0,.5]));this.add(this.ska("left",[0,-.5,0,0,.5,0],[0,0,-.5,0,0,.5]));this.add(this.ska("right",[0,-.5,0,0,.5,0],[0,0,-.5,0,0,.5]));this.add(this.ska("bottom",[-.5,0,0,.5,0,0],[0,-.5,
0,0,.5,0]));this.add(this.ska("top",[-.5,0,0,.5,0,0],[0,-.5,0,0,.5,0]));this.setOptions(a)}function a(a,b,e){var c=new window.THREE.Vector3;e.getCenter(c);var f=new window.THREE.Vector3;e.getSize(f);a[0].position.copy(c);a[0].children[0].position.set(0,-f.y/2,b.z-c.z);a[0].children[1].position.set(b.x-c.x,-f.y/2,0);a[1].position.copy(c);a[1].children[0].position.set(0,f.y/2,b.z-c.z);a[1].children[1].position.set(b.x-c.x,f.y/2,0);a[2].position.copy(c);a[2].children[0].position.set(-f.x/2,0,b.z-c.z);
a[2].children[1].position.set(-f.x/2,b.y-c.y,0);a[3].position.copy(c);a[3].children[0].position.set(f.x/2,0,b.z-c.z);a[3].children[1].position.set(f.x/2,b.y-c.y,0);a[4].position.copy(c);a[4].children[1].position.set(b.x-c.x,0,-f.z/2);a[4].children[0].position.set(0,b.y-c.y,-f.z/2);a[5].position.copy(c);a[5].children[1].position.set(b.x-c.x,0,f.z/2);a[5].children[0].position.set(0,b.y-c.y,f.z/2)}_geo.geotoolkit.fa(b,_geo.y.sd.cursor.naa);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.CrossHair2DCursor");
b.prototype.ska=function(a,b,e){var c=new _geo.y.scene.Object3D;c.plane=a;c.add(this.rka(b));c.add(this.rka(e));return c};b.prototype.rka=function(a,b){var e=new window.THREE.BufferGeometry;e.addAttribute("position",new window.THREE.BufferAttribute(new window.Float32Array(a),3));e.setIndex(new window.THREE.BufferAttribute(new window.Uint32Array([0,1]),1));e=new window.THREE.LineSegments(e,null);e.plane=b;return e};b.prototype.mQ=function(b){a(this.children,b,this.$d);this.tj();return this};b.prototype.setOptions=
function(a){var b=this.children[0],b=_geo.geotoolkit.Ca(a,{limits:this.$d,cursorsize:b.o5a,"linestyle:":null!=b.material?b.material.l_:null,mode:this.mode});this.mode=b.mode;this.$d=b.limits;for(var e=0;e<this.children.length;e++)for(var c=0;c<this.children[e].children.length;c++)this.$d.getSize(this.children[e].children[c].scale),null!=a.linestyle&&(this.children[e].children[c].material=_geo.y.util.bJ.G8(b.linestyle));this.tj();return this};b.prototype.no=function(a,b,e,c){_geo.y.scene.Object3D.prototype.no.call(this,
a,b,e,c);if(this.visible)for(e=0;e<this.children.length;e++)this.children[e].scale.copy(this.children[e].children[0].scale),this.children[e].updateMatrixWorld(),this.children[e].visible=this.mode(this.children[e],a,b),this.children[e].scale.set(1,1,1),this.children[e].updateMatrixWorld()};return b}();
_geo.y.sd.cursor.$9b=function(){function b(a){_geo.y.sd.cursor.naa.call(this);a=_geo.geotoolkit.Ca(a,{});for(var b=0;b<a.cursors.length;b++)this.add(a.cursors[b])}_geo.geotoolkit.fa(b,_geo.y.sd.cursor.naa);_geo.geotoolkit.da(b,"geotoolkit3d.tool.cursor.CompositeCursor");b.prototype.mQ=function(a){for(var b=0;b<this.children.length;b++)this.children[b].mQ(a);return this};return b}();
_geo.y.te.hza=function(){function b(a){this.$I=this.Iw=this.Vv=this.bv=this.ku=this.Wv=this.av=this.ZI=this.XG=0}_geo.geotoolkit.da(b,"geotoolkit3d.transformation.XYCoordinates");b.prototype.validate=function(){if(null==this.XG){var a=_geo.y.util.Math.V4a(this.av,this.Wv,this.ku,this.bv,this.Vv,this.Iw);if(null==a)throw Error("Given XY values do not belong to a rectangle");this.XG=a.x;this.ZI=a.y}else if(null==this.av){a=_geo.y.util.Math.V4a(this.XG,this.ZI,this.ku,this.bv,this.Vv,this.Iw);if(null==
a)throw Error("Given XY values do not belong to a rectangle");this.av=a.x;this.Wv=a.y}else if(null==this.ku){a=_geo.y.util.Math.V4a(this.av,this.Wv,this.XG,this.ZI,this.Vv,this.Iw);if(null==a)throw Error("Given XY values do not belong to a rectangle");this.ku=a.x;this.bv=a.y}else if(null==this.Vv){a=_geo.y.util.Math.V4a(this.av,this.Wv,this.ku,this.bv,this.XG,this.ZI);if(null==a)throw Error("Given XY values do not belong to a rectangle");this.Vv=a.x;this.Iw=a.y}null==this.$I&&(this.$I=0)};b.prototype.Axc=
function(a){this.XG=a.x0;this.ZI=a.y0;this.av=a.x1;this.Wv=a.y1;this.ku=a.x2;this.bv=a.y2;this.Vv=a.x3;this.Iw=a.y3;this.$I=null!=a.z0?a.z0:0;this.laa=null!=a.z1?a.z1:this.$I;this.validate();return this};b.prototype.Dqb=function(a){this.XG=null!=a.p0?a.p0.x:null;this.ZI=null!=a.p0?a.p0.y:null;this.av=null!=a.p1?a.p1.x:null;this.Wv=null!=a.p1?a.p1.y:null;this.ku=null!=a.p2?a.p2.x:null;this.bv=null!=a.p2?a.p2.y:null;this.Vv=null!=a.p3?a.p3.x:null;this.Iw=null!=a.p3?a.p3.y:null;this.$I=null!=a.z0?a.z0:
0;this.laa=null!=a.z1?a.z1:this.$I;this.validate();return this};b.prototype.esa=function(){return new window.THREE.Box3(new window.THREE.Vector3(Math.min(Math.min(this.XG,this.av),Math.min(this.ku,this.Vv)),Math.min(Math.min(this.ZI,this.Wv),Math.min(this.bv,this.Iw)),this.$I),new window.THREE.Vector3(Math.max(Math.max(this.XG,this.av),Math.max(this.ku,this.Vv)),Math.max(Math.max(this.ZI,this.Wv),Math.max(this.bv,this.Iw)),this.laa))};b.prototype.o4a=function(){return new window.THREE.Box3(new window.THREE.Vector3(Math.min(Math.min(this.XG,
this.av),Math.min(this.ku,this.Vv)),Math.min(Math.min(this.ZI,this.Wv),Math.min(this.bv,this.Iw)),-this.laa),new window.THREE.Vector3(Math.max(Math.max(this.XG,this.av),Math.max(this.ku,this.Vv)),Math.max(Math.max(this.ZI,this.Wv),Math.max(this.bv,this.Iw)),-this.$I))};var a=new window.THREE.Vector2;b.epb=function(b,d,e){a.subVectors(e,b);b=d.dot(a);return 0>b};b.getNormal=function(b,d,e){a.subVectors(d,b);b=e.clone();b.x=-e.y;b.y=e.x;0>b.dot(a)&&(b.x=-b.x,b.y=-b.y);return b};b.prototype.mSa=function(a){var d=
Math.min(this.$I,this.laa),e=Math.max(this.$I,this.laa),c=new window.THREE.Vector2(a.x,a.y);if(a.z<d||a.z>e)return!1;null==this.Xe&&(this.Xe=new window.THREE.Vector2(0,0,0),this.Xe.x=(this.XG+this.av+this.ku+this.Vv)/4,this.Xe.y=(this.ZI+this.Wv+this.bv+this.Iw)/4);null==this.Lnc&&(a=new window.THREE.Vector2(this.av-this.XG,this.Wv-this.ZI),this.Plb=new window.THREE.Vector2(this.XG,this.ZI),this.Lnc=b.getNormal(this.Plb,this.Xe,a));null==this.Nnc&&(a=new window.THREE.Vector2(this.ku-this.av,this.bv-
this.Wv),this.QU=new window.THREE.Vector2(this.av,this.Wv),this.Nnc=b.getNormal(this.QU,this.Xe,a));null==this.Onc&&(a=new window.THREE.Vector2(this.Vv-this.ku,this.Iw-this.bv),this.RU=new window.THREE.Vector2(this.ku,this.bv),this.Onc=b.getNormal(this.RU,this.Xe,a));null==this.Mnc&&(a=new window.THREE.Vector2(this.Vv-this.XG,this.Iw-this.ZI),this.Mnc=b.getNormal(this.Plb,this.Xe,a));return b.epb(this.Plb,this.Lnc,c)||b.epb(this.QU,this.Nnc,c)||b.epb(this.RU,this.Onc,c)||b.epb(this.Plb,this.Mnc,c)?
!1:!0};b.prototype.$Tb=function(){return-this.$I};b.prototype.aUb=function(){return-this.laa};b.prototype.Fea=function(){return new window.THREE.Vector3(this.XG,this.ZI,this.$I)};b.prototype.mh=function(){return new window.THREE.Vector3(this.av,this.Wv,this.$I)};b.prototype.Jh=function(){return new window.THREE.Vector3(this.ku,this.bv,this.$I)};b.prototype.Nta=function(){return new window.THREE.Vector3(this.Vv,this.Iw,this.$I)};return b}();
_geo.y.te.acc=function(){function b(){_geo.y.te.hza.call(this);this.x8b=this.u8b=this.XGa=1}_geo.geotoolkit.fa(b,_geo.y.te.hza);_geo.geotoolkit.da(b,"geotoolkit3d.transformation.IndexCoordinates");b.prototype.validate=function(a){_geo.y.te.hza.prototype.validate.call(this);null==this.XGa&&(this.XGa=1);null==this.laa&&(this.laa=this.$I+(null!=a?this.XGa*(a-1):0))};b.prototype.Nk=function(){return this.XGa};b.prototype.SUb=function(){return this.u8b};b.prototype.lVb=function(){return this.x8b};b.prototype.dvd=
function(){var a=this.esa();a.min.z=0;a.max.z=(this.laa-this.$I)/this.XGa;return a};b.prototype.yxc=function(a){_geo.geotoolkit.warn("geotoolkit3d.transformation.IndexCoordinates.fromJSONCornerPoints() is deprecated since 2.3");this.XG=a.i0;this.ZI=a.j0;this.av=a.i1;this.Wv=a.j1;this.ku=a.i2;this.bv=a.j2;this.Vv=a.i3;this.Iw=a.j3;this.$I=null!=a.z0?a.z0:0;this.laa=null!=a.z1?a.z1:null;this.XGa=a.samplerate;this.validate(a.samplecount);return this};b.prototype.zxc=function(a){this.XG=a.i0;this.ZI=
a.j0;this.av=a.i0+(a.icount-1)*a.istep;this.Wv=a.j0;this.ku=a.i0+(a.icount-1)*a.istep;this.bv=a.j0+(a.jcount-1)*a.jstep;this.Iw=this.Vv=null;this.$I=null!=a.z0?a.z0:0;this.laa=null!=a.z1?a.z1:null;this.XGa=a.samplerate;this.u8b=a.istep;this.x8b=a.jstep;this.validate(a.samplecount);return this};return b}();
_geo.y.te.ZCb=function(){function b(a,b){this.index=a;this.rf=b}_geo.geotoolkit.da(b,"geotoolkit3d.transformation.IndexToXY");b.prototype.n4a=function(a){var b=this.index.$Tb(),d=this.index.aUb(),e=[new window.THREE.Vector3(this.index.Fea().x,this.index.Fea().y,b),new window.THREE.Vector3(this.index.mh().x,this.index.mh().y,b),new window.THREE.Vector3(this.index.Jh().x,this.index.Jh().y,d),new window.THREE.Vector3(this.index.Nta().x,this.index.Nta().y,b)],b=[new window.THREE.Vector3(this.rf.Fea().x,
this.rf.Fea().y,b),new window.THREE.Vector3(this.rf.mh().x,this.rf.mh().y,b),new window.THREE.Vector3(this.rf.Jh().x,this.rf.Jh().y,d),new window.THREE.Vector3(this.rf.Nta().x,this.rf.Nta().y,b)];a.updateMatrix();a.applyMatrix(_geo.y.util.Math.h1b(e,b))};return b}();
_geo.y.te.k2c=function(){function b(a,b){this.origin=a;this.Rda=b}_geo.geotoolkit.da(b,"geotoolkit3d.transformation.XYToXY");b.prototype.n4a=function(a){var b=this.origin.$Tb(),d=this.origin.aUb(),e=this.Rda.$Tb(),c=this.Rda.aUb(),b=[new window.THREE.Vector3(this.origin.Fea().x,this.origin.Fea().y,b),new window.THREE.Vector3(this.origin.mh().x,this.origin.mh().y,b),new window.THREE.Vector3(this.origin.Jh().x,this.origin.Jh().y,d),new window.THREE.Vector3(this.origin.Nta().x,this.origin.Nta().y,b)],
e=[new window.THREE.Vector3(this.Rda.Fea().x,this.Rda.Fea().y,e),new window.THREE.Vector3(this.Rda.mh().x,this.Rda.mh().y,e),new window.THREE.Vector3(this.Rda.Jh().x,this.Rda.Jh().y,c),new window.THREE.Vector3(this.Rda.Nta().x,this.Rda.Nta().y,e)];a.updateMatrix();a.applyMatrix(_geo.y.util.Math.h1b(b,e))};return b}();
_geo.y.util.bJ=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.Attributes");b.G8=function(a){var b=a.Ol(),d=a.ac(),d=_geo.geotoolkit.util.oi.Ph(d),e=new window.THREE.Color(d.Bl()/255,d.zl()/255,d.xl()/255),b=null==b||0===b.length?new window.THREE.LineBasicMaterial({color:e.getHex(),linewidth:a.aa(),transparent:255>d.Km(),opacity:d.Km()/255}):new window.THREE.LineDashedMaterial({color:e.getHex(),linewidth:a.aa(),scale:250,gapSize:b[1],dashSize:b[0],transparent:255>d.Km(),opacity:d.Km()/
255});b.l_=a;return b};b.pQb=function(a){var g=b.DRa(a.ac()),g=new window.THREE.MeshLambertMaterial({color:g.color.getHex(),transparent:1>g.opacity,opacity:g.opacity,side:window.THREE.DoubleSide});g.vV=a;return g};b.tad=function(a){var g=b.DRa(a.ac()),g=new window.THREE.MeshPhongMaterial({color:g.color.getHex(),transparent:1>g.opacity,opacity:g.opacity,side:window.THREE.DoubleSide});g.vV=a;return g};b.DRa=function(a){var b=_geo.geotoolkit.util.oi.Ph(a);a=new window.THREE.Color(b.Bl()/255,b.zl()/255,
b.xl()/255);b=b.Km()/255;return{color:a,opacity:b}};b.WSc=function(a,g){var d=b.DRa(g.ac());a.color=d.color;a.transparent=1>d.opacity;a.opacity=d.opacity;a.vV=g;a.needsUpdate=!0;return a};return b}();
_geo.y.aR=function(){function b(a){return a.visible}function a(a){return a.visible}function g(a){_geo.geotoolkit.util.EventDispatcher.call(this);if(!_geo.y.util.EVc.Trd)throw Error("WebGL is not supported by this browser");null==a.camera&&(a.camera={});null==a.camera.controller&&(a.camera.controller={});null==a.camera.controller.options&&(a.camera.controller.options={});null==a.compass&&(a.compass={});null==a.ambientlighting&&(a.ambientlighting={});null==a.cameralighting&&(a.cameralighting={});null==
a.renderer&&(a.renderer={});null==a.renderer.parameters&&(a.renderer.parameters={});a.renderer.parameters=_geo.geotoolkit.Ca(a.renderer.parameters,{antialias:!0,precision:"highp",devicePixelRatio:_geo.geotoolkit.Dj(),alpha:null!=a.renderer.clearcoloralpha&&1!==a.renderer.clearcoloralpha,canvas:a.canvas});a.renderer=_geo.geotoolkit.Ca(a.renderer,{clearcolor:"black",clearcoloralpha:1},!0);a.ambientlighting=_geo.geotoolkit.Ca(a.ambientlighting,{color:"#1c1c1c",enabled:!0},!0);a.cameralighting=_geo.geotoolkit.Ca(a.cameralighting,
{color:"white",enabled:!0,intensity:1},!0);a.camera.controller=_geo.geotoolkit.Ca(a.camera.controller,{type:g.zaa.nEb},!0);a.camera=_geo.geotoolkit.Ca(a.camera,{type:g.mWa.Yfb,orthoresize:g.Ufb.JDb,position:new window.THREE.Vector3(0,-500,500),lookat:new window.THREE.Vector3(0,0,0),up:new window.THREE.Vector3(0,c,1),fov:50,near:"auto",far:"auto",minnear:1,minfar:100,nearfarscale:null,movewithscale:!1},!0);if(null==a.modellimits){var b=10*a.camera.lookat.distanceTo(a.camera.position),f=a.camera.lookat;
a.modellimits=new window.THREE.Box3(f.clone().addScalar(-b),f.clone().addScalar(b))}a.compass=_geo.geotoolkit.Ca(a.compass,{enabled:!0},!0);a=_geo.geotoolkit.Ca(a,{container:null,autoupdate:!0,autoupdateinterval:16,autoupdatemodellimits:!0,scale:new window.THREE.Vector3(1,1,1),translation:new window.THREE.Vector3(0,0,0),applyorigintranslation:!0},!0);this.Wk=a.container;this.renderer=new window.THREE.WebGLRenderer(a.renderer.parameters);_geo.y.util.Khb.nrd(this.renderer);this.NZb=!0;this.scene=new window.THREE.Scene;
this.root=new _geo.y.scene.Object3D;this.Aga=new _geo.y.scene.Object3D;this.root.add(this.Aga);this.getRoot().name="ROOT";this.scene.add(this.root);this.ia=[];this.zsc=a.applyorigintranslation;this.n$=null;this.autoUpdate=a.autoupdate;this.Eda=a.autoupdateinterval;b=this.renderer.getContext();f=b.getExtension("WEBGL_debug_renderer_info");k&&(k=!1,f?(b=b.getParameter(f.UNMASKED_RENDERER_WEBGL),0<=b.indexOf("Intel")&&_geo.geotoolkit.warn("Detected Intel Graphics - rendering performance may be poor")):
_geo.geotoolkit.warn("Could not detect Renderer - If using Intel integrated graphics performance may be poor"));this.renderer.setPixelRatio(a.renderer.parameters.devicePixelRatio);this.renderer.setClearColor(a.renderer.clearcolor,a.renderer.clearcoloralpha);this.zSa=a.modellimits;this.u8c=a.autoupdatemodellimits;this.root.scale.copy(a.scale);this.root.matrixWorldNeedsUpdate=!0;this.Aga.position.copy(a.translation);this.Aga.matrixWorldNeedsUpdate=!0;e(this.root);this.o4=!1;this.q8=new window.THREE.AmbientLight(a.ambientlighting.color);
this.q8.enabled=!1;a.ambientlighting.enabled&&(this.scene.add(this.q8),this.q8.enabled=!0);this.jS=new window.THREE.PointLight(a.cameralighting.color);this.jS.intensity=a.cameralighting.intensity;var h=new window.THREE.Vector3;this.jS.no=function(a,b,d,c){this.position.copy(d.IG(d.c9(h)))};this.jS.enabled=!1;a.cameralighting.enabled&&(this.scene.add(this.jS),this.jS.enabled=!0);var b=this.IG(a.camera.position.clone()),f=this.IG(a.camera.lookat.clone()),t,q;null==this.Wk?(t=this.renderer.domElement.width,
q=this.renderer.domElement.height):(t=this.Wk.offsetWidth,q=this.Wk.offsetHeight);var m=a.camera.near,u=a.camera.far;this.qLb=a.camera.orthoresize;this.nGb=a.camera.movewithscale;this.C9a=a.camera.nearfarscale;this.EZb=a.camera.minnear;this.DZb=a.camera.minfar;"auto"===m&&(this.r4a=!0,m=1);"auto"===u&&(this.q4a=!0,u=1E5);this.camera=a.camera.type===g.mWa.Yfb?new window.THREE.PerspectiveCamera(a.camera.fov,t/q,m,u):new window.THREE.OrthographicCamera(-t/2,t/2,q/2,-q/2,m,u);this.camera.up=a.camera.up;
this.camera.position.copy(b);this.camera.lookAt(f);m=a.camera.controller.type;this.controller=g.zaa.cG(m,this.camera,this,b,f,this.Wk);this.sob(this.controller);null!=a.camera.controller.options&&this.controller.setOptions(a.camera.controller.options);this.scene.add(this.camera);this.scene.Me=this;this.scene.updateMatrixWorld();this.scene.add(this.Bob=new _geo.y.scene.animation.xIa);this.renderer.setSize(t,q);this.width=t;this.height=q;null!=this.Wk?this.Wk.appendChild(this.renderer.domElement):this.Wk=
this.renderer.domElement.parentNode;!0===a.compass.enabled&&(null==a.compass.container&&null==a.compass.canvas?(b=Math.min(t,q),f=_geo.geotoolkit.window.document.createElement("div"),f.style.position="absolute",f.style.bottom="0px",f.style.right="0px",f.style.border="none",f.style.width=Math.floor(b/6)+"px",f.style.height=Math.floor(b/6)+"px",f.style["pointer-events"]="none",this.Wk.appendChild(f),this.TPb=f):this.TPb=a.compass.container,this.cI=new _geo.y.scene.cI.dBb({container:this.TPb,camera:this.camera,
canvas:a.compass.canvas}));this.notification=!0;this.tj(new _geo.y.Event({source:this,type:_geo.y.Event.fv.HQ,args:[this.scene]}));this.ujd=16;this.CNa=new window.THREE.Vector3;this.autoUpdate&&d(this,this.Eda)}function d(a,b){var d=Date.now(),c=_geo.geotoolkit.window.requestAnimationFrame;if(!c)var e=0,c=function(b,d){if(null!=a.renderer){var c=(new Date).getTime(),g=Math.max(0,a.ujd-(c-e));_geo.geotoolkit.window.setTimeout(function(){b(c+g)},g);e=c+g}};(function m(e){if(null==a.renderer)a=null;
else if(c(m),a.o4){e=Date.now();var g=e-d;g>b&&(d=e-g%b,a.eaa(),a.render())}})(0)}function e(a,b){if(a.visible||b){!0===a.matrixAutoUpdate&&a.updateMatrix();if(!0===a.matrixWorldNeedsUpdate||!0===b)void 0===a.parent?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(a.parent.matrixWorld,a.matrix),b=!0,a.matrixWorldNeedsUpdate=!1;for(var d=a.children.length,c=0;c<d;c++)e(a.children[c],b)}}var c=1E-7,f=new window.THREE.Matrix4,k=!0;_geo.geotoolkit.fa(g,_geo.geotoolkit.util.EventDispatcher);
_geo.geotoolkit.da(g,"geotoolkit3d.Plot");g.mWa={Yfb:"perspective",LZc:"orthographic"};g.Ufb={None:"None",JDb:"MaintainScale"};g.zaa={nEb:"orbit",Gic:"trackball",$ac:"firstperson",None:"none"};g.zaa.cG=function(a,b,d,c,e,f){return a===g.zaa.nEb?new _geo.y.controller.Moa({camera:b,plot:d,position:c,lookat:e}):a===g.zaa.Gic?new _geo.y.controller.TFb({camera:b,plot:d,position:c,lookat:e}):a===g.zaa.None?new _geo.y.controller.wWc({camera:b,plot:d,position:c,lookat:e}):a===g.zaa.$ac?new _geo.y.controller.oCb({camera:b,
plot:d,position:c,lookat:e}):new a({camera:b,plot:d,position:c,lookat:e})};g.prototype.IG=function(a){e(this.root);f.copy(this.Aga.matrixWorld);return a.applyMatrix4(f)};g.prototype.c5=function(a){e(this.root);f.getInverse(this.Aga.matrixWorld);return a.applyMatrix4(f)};g.prototype.c9=function(a){null==a?a=this.camera.position.clone():a.copy(this.camera.position);return this.c5(a)};g.prototype.Ska=function(){var a=new window.THREE.Vector3;return function(b){null==b&&(b=new window.THREE.Vector3);return null!=
this.controller&&null!=this.controller.target?this.c5(b.copy(this.controller.target)):this.c9(b).add(this.tyc(a))}}();g.prototype.DLc=function(a,b){this.wSb(new window.THREE.Vector3(0,1,0),a,b);return this};g.prototype.wSb=function(a,b,d){var c=_geo.y.Bb.rpb(this.root,function(a){return a.visible});if(null==c)return this;this.c5(c.min);this.c5(c.max);var e=new window.THREE.Vector2;c.getSize(e);var g=new window.THREE.Vector3;null==a&&(a=this.c5(this.camera.position.clone()).sub(c.getCenter(g)),a=a.normalize());
var f;if(this.camera instanceof window.THREE.PerspectiveCamera)f=this.camera.fov,e=.65*e.length(),f=e/Math.sin(Math.PI/180*f*.5);else{f=e.length()/2;var e=this.getSize().width,h=this.getSize().height;this.camera.left=-f*e/h;this.camera.right=f*e/h;this.camera.top=f;this.camera.bottom=-f}a.multiplyScalar(f).add(c.getCenter(g));this.cGa(a,g,b,d);return this};g.prototype.tyc=function(a){null==a?a=new window.THREE.Vector3(0,0,-1):a.set(0,0,-1);return a.applyEuler(this.camera.rotation,this.camera.rotation.order)};
g.prototype.Awd=function(a){null==a&&(a=new window.THREE.Matrix4);this.camera.updateMatrix();return a.copy(this.camera.matrix)};g.prototype.TMc=function(a,b,d){this.cGa(a,null,b,d);return this};g.prototype.Qwb=function(a,b,d){this.cGa(null,a,b,d);return this};g.prototype.cGa=function(a,b,d,c){null!=this.I4a&&(this.I4a.oDa=!0,this.W8().J0b(this.I4a),this.I4a=null);if(null==a&&null==b)return this;!0===d?(this.I4a=_geo.y.Bb.S$c(this,a,b,c),this.W8().aob(this.I4a)):(null!=a&&this.camera.position.copy(this.IG(a.clone())),
null!=b&&this.camera.lookAt(this.IG(b.clone())),this.controller.setOptions({position:null!=a?this.IG(a.clone()):void 0,lookat:null!=b?this.IG(b.clone()):void 0}),this.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this.camera,args:[]})));return this};g.prototype.cvd=function(a,b){null!=a&&this.camera.position.copy(this.IG(a.clone()));null!=b&&this.camera.lookAt(this.IG(b.clone()));this.controller.setOptions({position:null!=a?this.IG(a.clone()):void 0,lookat:null!=b?this.IG(b.clone()):void 0});
this.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this.camera,args:[]}));return this};g.prototype.getRoot=function(){return this.Aga};g.prototype.dEc=function(){return this.scene};g.prototype.W8=function(){return this.Bob};g.prototype.Hyc=function(){return this.cI};g.prototype.eaa=function(){this.o4=!1;var a=this.scene,b=this.camera;this.scene.traverse(function(d){d.eaa(a,b)})};var h=function(){for(var a=[],b=0;8>b;b++)a.push(new window.THREE.Vector3);var d=new window.THREE.Vector3;return function(b,
c,e){a[0].set(b.min.x,b.min.y,b.min.z);a[1].set(b.max.x,b.min.y,b.min.z);a[2].set(b.max.x,b.max.y,b.min.z);a[3].set(b.max.x,b.max.y,b.max.z);a[4].set(b.max.x,b.min.y,b.max.z);a[5].set(b.min.x,b.max.y,b.min.z);a[6].set(b.min.x,b.max.y,b.max.z);a[7].set(b.min.x,b.min.y,b.max.z);for(var g=b=-1,f=Number.MAX_VALUE,h=-Number.MAX_VALUE,k=0;8>k;k++){var n=d.subVectors(a[k],c).dot(e);n<f&&(b=k,f=n);n>h&&(g=k,h=n)}return{min:a[b],dwc:f,max:a[g],cwc:h}}}();g.prototype.Qvb=function(){var b=new window.THREE.Vector3,
d=new window.THREE.Vector3;return function(){var c=this.xa(!0,a);if(!0===this.r4a||!0===this.q4a){d.copy(this.camera.position);this.tyc(b);var g=h(c,d,b),f=-1,k=-1,f=g.dwc,k=g.cwc,m=(g.cwc-g.dwc)/100,g=(k+f)/2,u=g/4,f=f-m,k=k+m;k-f<u&&(f=g-u,k=g+u);this.C9a&&f<k/this.C9a&&(f=k/this.C9a);this.camera.near=this.r4a?Math.max(f,this.EZb):this.camera.near;this.camera.far=this.q4a?Math.max(k,this.DZb):this.camera.far;this.camera.updateProjectionMatrix()}this.zsc&&(c.getCenter(this.CNa).negate(),this.root.position.add(this.CNa),
this.camera.position.add(this.CNa));this.camera.updateMatrixWorld();e(this.root,!0)}}();g.prototype.xqb=function(){return function(){this.zsc&&(this.root.position.sub(this.CNa),this.camera.position.sub(this.CNa),this.CNa.set(0,0,0));this.camera.updateProjectionMatrix();this.camera.updateMatrixWorld();e(this.root,!0)}}();g.prototype.render=function(){return function(){this.Ja(_geo.y.Event.fv.$8b,this);this.Qvb();var a=this.scene,b=this.camera,d=this.renderer,c=this;this.scene.traverseVisible(function(e){e.no(a,
b,c,d)});null!=this.cI&&this.cI.render(a,b,c,d);this.renderer.render(this.scene,this.camera);this.xqb();this.scene.traverseVisible(function(e){e.zob(a,b,c,d)});this.Ja(_geo.y.Event.fv.J8b,this)}}();g.prototype.setSize=function(a,b,d){var c=this.renderer.getSize(),e=this.renderer.getPixelRatio();d=(0,window.isNaN)(d)?_geo.geotoolkit.Dj():d;if(c.width===a&&c.height===b&&d===e)return this;if(this.camera instanceof window.THREE.PerspectiveCamera)this.camera.aspect=a/b;else if(this.camera instanceof window.THREE.OrthographicCamera&&
this.qLb===g.Ufb.JDb){if(c.width!==a){var f=(this.camera.right-this.camera.left)/2,e=this.camera.left+f,f=f/c.width*a;this.camera.left=e-f;this.camera.right=e+f}c.height!==b&&(f=(this.camera.top-this.camera.bottom)/2,e=this.camera.bottom+f,c=f/c.height*b,this.camera.bottom=e-c,this.camera.top=e+c)}this.camera.updateProjectionMatrix();d=(0,window.isNaN)(d)?_geo.geotoolkit.Dj():d;(0,window.isNaN)(d)||this.renderer.setPixelRatio(d);this.renderer.setSize(a,b);null!=this.cI&&(c=Math.min(a,b),this.cI.setSize(Math.floor(c/
6),d));d=this.width;c=this.height;this.width=a;this.height=b;this.tj(new _geo.y.Event({type:_geo.y.Event.fv.ZEb,source:this,args:{ozd:new _geo.geotoolkit.util.xc(d,c),current:new _geo.geotoolkit.util.xc(a,b)}}));return this};g.prototype.getSize=function(a){return a?a.setSize(this.width,this.height):new _geo.geotoolkit.util.xc(this.width,this.height)};g.prototype.C7a=function(){var a=new window.THREE.Vector3;return this.xa().getCenter(a)};g.prototype.xa=function(a,d){if(a){null==d&&(d=b);var c=_geo.y.Bb.rpb(this.root,
d,!0);null==c&&(c=new window.THREE.Box3);return c}this.NZb&&this.Fz();return this.zSa.clone()};g.prototype.setOptions=function(a){null==a.camera&&(a.camera={});a.camera=_geo.geotoolkit.Ca(a.camera,{fov:null!=this.camera.fov?this.camera.fov:50,near:this.r4a?"auto":this.camera.near,far:this.q4a?"auto":this.camera.far,orthoresize:this.qLb,minnear:this.EZb,minfar:this.DZb,nearfarscale:this.C9a,movewithscale:this.nGb},!0);var b=a.camera.near,d=a.camera.far;this.qLb=a.camera.orthoresize;(this.r4a="auto"===
b)&&(b=1);(this.q4a="auto"===d)&&(d=1E5);this.EZb=a.camera.minnear;this.DZb=a.camera.minfar;this.C9a=a.camera.nearfarscale;if(null!=a.camera.type){var c=this.Wk.offsetWidth,f=this.Wk.offsetHeight;a.camera.lookat=this.Ska();a.camera.position=this.c9();this.scene.remove(this.camera);this.camera=a.camera.type===g.mWa.Yfb?new window.THREE.PerspectiveCamera(a.camera.fov,c/f,b,d):new window.THREE.OrthographicCamera(-c/2,c/2,f/2,-f/2,b,d);this.scene.add(this.camera);this.controller.setOptions({camera:this.camera})}null==
a.camera.position&&null==a.camera.lookat||this.cGa(a.camera.position,a.camera.lookat);null==a.renderer&&(a.renderer={});a.renderer=_geo.geotoolkit.Ca(a.renderer,{clearcolor:this.renderer.getClearColor(),clearcoloralpha:this.renderer.getClearAlpha()});1===this.renderer.getClearAlpha()&&a.renderer.clearcoloralpha!==this.renderer.getClearAlpha()&&(_geo.geotoolkit.log("Cannot set clearcoloralpha to "+a.renderer.clearcoloralpha+" as this plot was created with clearcoloralpha disabled."),a.renderer.clearcoloralpha=
1);c=_geo.geotoolkit.Ca(a,{modellimits:this.zSa,scale:this.root.scale,translation:this.Aga.position},!0);this.zSa=c.modellimits;null!=c.camera&&null!=c.camera.controller&&(null!=c.camera.controller.type&&(f=this.Ska(),this.V0b(this.controller),this.controller=g.zaa.cG(c.camera.controller.type,this.camera,this,this.camera.position,f,this.Wk),this.sob(this.controller)),null!=c.camera.controller.options&&this.controller.setOptions(c.camera.controller.options));this.renderer.setClearColor(c.renderer.clearcolor,
c.renderer.clearcoloralpha);null!=c.ambientlighting&&(c.ambientlighting=_geo.geotoolkit.Ca(a.ambientlighting,{color:this.q8.color,enabled:this.q8.enabled},!0),this.scene.remove(this.q8),this.q8.enabled=!1,c.ambientlighting.enabled&&(this.q8.enabled=!0,this.scene.add(this.q8)),this.q8.color=new window.THREE.Color(c.ambientlighting.color));null!=c.cameralighting&&(c.cameralighting=_geo.geotoolkit.Ca(a.cameralighting,{color:this.jS.color,enabled:this.jS.enabled,intensity:this.jS.intensity},!0),this.scene.remove(this.jS),
this.jS.enabled=!1,c.cameralighting.enabled&&(this.jS.enabled=!0,this.scene.add(this.jS)),this.jS.color=new window.THREE.Color(c.cameralighting.color),this.jS.intensity=c.cameralighting.intensity);this.nGb=c.camera.movewithscale;a=f=!1;this.root.scale.equals(c.scale)||(this.nGb?(this.root.scale.copy(c.scale),a=!0):this.root.scale.copy(c.scale),f=this.root.matrixWorldNeedsUpdate=!0);this.Aga.position.equals(c.translation)||(this.Aga.position.copy(c.translation),a=f=this.Aga.matrixWorldNeedsUpdate=
!0);if(f){var f=this.c9(),h=this.Ska();e(this.root);a&&this.cGa(f,h,!1)}this.camera.near=b;this.camera.far=d;this.camera.fov=c.camera.fov;this.camera.updateProjectionMatrix();this.tj();this.Fz();return this};g.prototype.project=function(a){this.camera.updateMatrixWorld();a.project(this.camera);return a};g.prototype.sob=function(a){this.ia.push(a);a.setOptions({plot:this,domelement:this.renderer.domElement});return this};g.prototype.xg=function(a){for(var b=0;b<this.ia.length;b++)if(this.ia[b].getName()===
a)return this.ia[b];return this};g.prototype.V0b=function(a){var b=this.ia.indexOf(a);-1!==b&&this.ia.splice(b,1)[0].dispose();a===this.controller&&(this.controller=null);return this};g.prototype.Zxd=function(){return this.ia};g.prototype.tj=function(a){var b=_geo.y.Event.fv;this.o4=!0;if(this.notification)if(a instanceof _geo.y.Event){var d=a.Ev();d!==b.HQ&&d!==b.rJ&&d!==b.SDb||!this.u8c||(this.NZb=!0);null==this.cI||d!==b.Camera&&d!==b.ZEb||this.cI.tj(a);this.Ja(d,this,{source:a.Bp(),args:a.aTb()});
a.dispose()}else this.Ja(b.Wc,this);return this};g.prototype.Fz=function(){this.root.updateMatrixWorld(!0);var a=_geo.y.Bb.rpb(this.root);if(null==a){if(null==this.zSa){var a=10*this.Ska().distanceTo(this.camera.position),b=this.Ska();this.zSa=new window.THREE.Box3(b.clone().addScalar(-a),b.clone().addScalar(a))}}else this.c5(a.min),this.c5(a.max),this.zSa.copy(a);this.NZb=!1;return this};g.prototype.KDc=function(){return this.renderer};g.prototype.xFc=function(){return this.renderer.info};g.prototype.sfd=
function(){if(null==this.n$||this.n$.width!==this.width||this.n$.height!==this.height)null!=this.n$&&this.n$.dispose(),this.n$=new window.THREE.WebGLRenderTarget(this.width,this.height,{format:window.THREE.RGBAFormat}),this.n$.texture.minFilter=window.THREE.LinearFilter,this.n$.texture.generateMipmaps=!1;return this.n$};g.prototype.dispose=function(){this.ia.forEach(function(a){a.dispose()});this.ia=[];null!=this.cI&&this.cI.dispose();this.cI=null;null!=this.scene&&_geo.y.Bb.dispose(this.scene.children);
this.scene=null;null!=this.Bob&&this.Bob.dispose();this.Bob=null;null!=this.n$&&this.n$.dispose();if(null!=this.renderer){null!=this.renderer.dispose&&this.renderer.dispose();for(var a=Object.keys(this.renderer),b=0;b<a.length;b++)this.renderer[a[b]]=null}this.TPb=this.controller=this.jS=this.q8=this.camera=this.root=this.Wk=this.renderer=null;_geo.geotoolkit.util.EventDispatcher.prototype.dispose.call(this)};return g}();
_geo.y.controller.Moa=function(){function b(a){var b=_geo.geotoolkit.Ca(a,{enabled:!0,nozoom:!1,zoomspeed:1,mindistance:0,maxdistance:window.Infinity,norotate:!1,rotatespeed:1,nopan:!1,keypanspeed:7,nodblclick:!1,dblclickspeed:250,autorotate:!1,autorotatespeed:2,minpolarangle:0,maxpolarangle:Math.PI,minazimuthangle:-window.Infinity,maxazimuthangle:window.Infinity,constantzoom:!1,nokeys:!1,keys:{LEFT:37,P1c:38,RIGHT:39,Ycb:40},name:"orbitcontroller"},!0);this.camera=a.camera;this.Me=a.plot;this.target=
a.lookat.clone();this.tna=this.target.clone();this.Gfa=a.position.clone();this.Y4a=b.constantzoom;this.state=d.NONE;this.FW=new window.THREE.Vector2;this.EW=new window.THREE.Vector2;this.VGa=new window.THREE.Vector2;this.VS=new window.THREE.Vector2;this.j$=new window.THREE.Vector2;this.uma=new window.THREE.Vector2;this.k$=new window.THREE.Vector3;this.offset=new window.THREE.Vector3;this.pRb=new window.THREE.Vector2;this.oRb=new window.THREE.Vector2;this.nRb=new window.THREE.Vector2;this.Sbb=this.c$a=
0;this.scale=1;this.S4=new window.THREE.Vector3;_geo.y.sd.Yv.call(this,b);this.setOptions(b)}function a(){}var g=1E-6,d={NONE:-1,Wya:3,CFb:4,$gb:5},e=(new window.THREE.Quaternion).setFromUnitVectors(new window.THREE.Vector3(0,0,1),new window.THREE.Vector3(0,1,0)),c=e.clone().inverse();_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.controller.OrbitController");b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{enabled:this.enabled,nozoom:this.rN,zoomspeed:this.bxa,
mindistance:this.Uua,maxdistance:this.maxDistance,norotate:this.yfa,rotatespeed:this.Cva,nopan:this.qW,keypanspeed:this.MHc,nodblclick:this.G9a,autorotate:this.Hsc,autorotatespeed:this.Isc,minpolarangle:this.FZb,maxpolarangle:this.oZb,minazimuthangle:this.CZb,maxazimuthangle:this.mZb,nokeys:this.ekd,keys:this.keys,constantzoom:this.Y4a,position:null!=this.camera?this.camera.position:this.Gfa,lookat:this.target,camera:this.camera},!0);this.Y4a=b.constantzoom;this.camera=b.camera;this.enabled=b.enabled;
this.rN=b.nozoom;this.bxa=b.zoomspeed;this.Uua=b.mindistance;this.maxDistance=b.maxdistance;this.yfa=b.norotate;this.Cva=b.rotatespeed;this.qW=b.nopan;this.MHc=b.keypanspeed;this.G9a=b.nodblclick;this.Hsc=b.autorotate;this.Isc=b.autorotatespeed;this.FZb=b.minpolarangle;this.oZb=b.maxpolarangle;this.CZb=b.minazimuthangle;this.mZb=b.maxazimuthangle;this.ekd=b.nokeys;this.keys=b.keys;_geo.y.sd.Yv.prototype.setOptions.call(this,a);this.tna=b.lookat;this.Gfa=b.position;this.fg=this.RLa=(new window.THREE.Vector3).subVectors(this.tna,
this.Gfa).length();this.target.copy(this.tna);this.state=d.NONE;this.Zqd();return this};b.prototype.AD=a;b.prototype.$E=a;b.prototype.uG=a;b.prototype.AI=a;b.prototype.DI=a;b.prototype.AG=a;b.prototype.BG=a;b.prototype.UE=function(a){!1===this.enabled||this.G9a||this.Y7b(a.plotX,a.plotY)};b.prototype.XE=function(a){!1===this.enabled||this.yfa||(this.state=d.Wya,this.FW.set(a.plotX,a.plotY))};b.prototype.VE=function(a){!1!==this.enabled&&!0!==this.yfa&&this.state===d.Wya&&(this.EW.set(a.plotX,a.plotY),
this.VGa.subVectors(this.EW,this.FW),a=this.Me.getSize().aa(),this.$Lc(2*Math.PI*this.VGa.x/a*this.Cva),this.god(2*Math.PI*this.VGa.y/a*this.Cva),this.FW.copy(this.EW),this.e0())};b.prototype.WE=function(a){!1!==this.enabled&&(this.state=d.NONE)};b.prototype.xG=function(a){if(!1!==this.enabled&&!0!==this.rN){this.state=d.CFb;var b=a.distanceX;a=a.distanceY;b=Math.sqrt(b*b+a*a);this.pRb.set(0,b)}};b.prototype.vG=function(a){if(!1!==this.enabled&&!0!==this.rN&&this.state===d.CFb){var b=a.distanceX;
a=a.distanceY;b=Math.sqrt(b*b+a*a);this.oRb.set(0,b);this.nRb.subVectors(this.oRb,this.pRb);if(5<this.nRb.y)this.lwc();else if(-5>this.nRb.y)this.kwc();else return;this.pRb.copy(this.oRb);this.e0()}};b.prototype.wG=function(a){!1!==this.enabled&&(this.state=d.NONE)};b.prototype.zG=function(a){!1!==this.enabled&&!0!==this.qW&&(this.state=d.$gb,this.VS.set(a.plotX,a.plotY))};b.prototype.ZE=function(a){!1!==this.enabled&&!0!==this.qW&&this.state===d.$gb&&(this.j$.set(a.plotX,a.plotY),this.uma.subVectors(this.j$,
this.VS),5>this.uma.length()||(this.pan(this.uma.x,this.uma.y),this.VS.copy(this.j$),this.e0()))};b.prototype.yG=function(a){!1!==this.enabled&&!1!==this.enabled&&(this.state=d.NONE)};b.prototype.By=function(a){if(!1!==this.enabled&&!0!==this.rN){a.preventDefault();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?this.lwc():this.kwc();this.e0()}};b.prototype.Zqd=function(){var a=this.camera.position;this.offset.copy(a).sub(this.target);this.offset.applyQuaternion(e);
this.wLa=Math.atan2(this.offset.x,this.offset.z);this.Jca=Math.atan2(Math.sqrt(this.offset.x*this.offset.x+this.offset.z*this.offset.z),this.offset.y)};b.prototype.Y7b=function(a,b){var d=_geo.y.Ge.Tz.ls(this.Me,a,b,this.radius,this.radius);0<d.length&&(this.Me.Qwb(d[0].point,!0),this.tna.copy(d[0].point),this.Gfa.copy(this.Me.c9()),this.fg=this.RLa=(new window.THREE.Vector3).subVectors(this.tna,this.Gfa).length())};b.prototype.$Lc=function(a){void 0===a&&(a=this.dTb());this.wLa-=a;this.wLa=Math.max(this.CZb,
Math.min(this.mZb,this.wLa))};b.prototype.god=function(a){void 0===a&&(a=this.dTb());this.Jca=!this.Y4a||0<this.fg?this.Jca-a:this.Jca+a;this.Jca=Math.max(this.FZb,Math.min(this.oZb,this.Jca))};b.prototype.dTb=function(){return 2*Math.PI/60/60*this.Isc};b.prototype.$Fc=function(){return Math.pow(.95,this.bxa)};b.prototype.pvb=function(a){var b=this.camera.matrix.elements;this.k$.set(b[0],b[1],b[2]);this.k$.multiplyScalar(-a);this.S4.add(this.k$)};b.prototype.svb=function(a){var b=this.camera.matrix.elements;
this.k$.set(b[4],b[5],b[6]);this.k$.multiplyScalar(a);this.S4.add(this.k$)};b.prototype.pan=function(a,b){var d=this.Me.getSize(),c=d.aa(),d=d.ba();if(this.camera instanceof window.THREE.PerspectiveCamera){var e=this.RLa;this.Y4a||(e=this.camera.position,e=e.clone().sub(this.target),e=e.length());e*=Math.tan(this.camera.fov/2*Math.PI/180);this.pvb(2*a*e/c);this.svb(2*b*e/d)}else void 0!==this.camera.top&&(this.pvb(a*(this.camera.right-this.camera.left)/c),this.svb(b*(this.camera.top-this.camera.bottom)/
d))};b.prototype.kwc=function(a){void 0===a&&(a=this.$Fc());this.scale/=a;this.fg+=this.RLa*(1-a)};b.prototype.lwc=function(a){void 0===a&&(a=this.$Fc());this.scale*=a;this.fg-=this.RLa*(1-a)};b.prototype.e0=function(){var a=this.camera.position;if(this.state===d.N_c||this.state===d.Wya)this.Jca=Math.max(g,Math.min(Math.PI-g,this.Jca));var b;this.Y4a?b=this.fg:(this.offset.copy(a).sub(this.target),b=this.offset.length()*this.scale);b=Math.max(this.Uua,Math.min(this.maxDistance,b));this.target.add(this.S4);
this.camera instanceof window.THREE.PerspectiveCamera||(this.camera.left*=this.scale,this.camera.right*=this.scale,this.camera.top*=this.scale,this.camera.bottom*=this.scale,this.camera.updateProjectionMatrix());this.offset.x=b*Math.sin(this.Jca)*Math.sin(this.wLa);this.offset.y=b*Math.cos(this.Jca);this.offset.z=b*Math.sin(this.Jca)*Math.cos(this.wLa);this.offset.applyQuaternion(c);a.copy(this.target).add(this.offset);this.camera.lookAt(this.target);this.scale=1;this.S4.set(0,0,0);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,
source:this,args:[]}))};b.prototype.dispose=function(){this.Me=this.camera=null;_geo.y.sd.Yv.prototype.dispose.call(this)};return b}();
_geo.y.controller.oCb=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"firstpersoncontroller",keypanspeed:168,pointerlock:!1,inverty:!1,rotatespeed:30,deltaCap:.1},!0);this.era=!1;this.iSa=a.inverty;this.bRb=a.deltaCap;_geo.y.controller.Moa.call(this,a);this.setOptions(a)}function a(){}var g=1E-6,d={NONE:-1,Wya:3,CFb:4,$gb:5},e=(new window.THREE.Quaternion).setFromUnitVectors(new window.THREE.Vector3(0,0,1),new window.THREE.Vector3(0,1,0)),c=e.clone().inverse();_geo.geotoolkit.fa(b,_geo.y.controller.Moa);
_geo.geotoolkit.da(b,"geotoolkit3d.controller.FirstPersonController");b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{pointerlock:this.era,inverty:this.iSa,deltaCap:this.bRb},!0);this.era=(new _geo.geotoolkit.util.hX).isIE?!1:b.pointerlock;this.iSa=b.inverty;_geo.y.controller.Moa.prototype.setOptions.call(this,a);this.offset.copy(this.target).sub(this.camera.position)};b.prototype.AD=a;b.prototype.$E=a;b.prototype.AG=a;b.prototype.BG=function(a){for(var b in this.Bma)delete this.Bma[b]};
b.prototype.xf=function(a){_geo.y.controller.Moa.prototype.xf.call(this,a);this.era&&(a=this.Me.renderer.domElement,a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock())};b.prototype.Ae=function(a){_geo.y.controller.Moa.prototype.Ae.call(this,a);this.era&&(_geo.geotoolkit.window.document.exitPointerLock=_geo.geotoolkit.window.document.exitPointerLock||_geo.geotoolkit.window.document.mozExitPointerLock||_geo.geotoolkit.window.document.webkitExitPointerLock,
_geo.geotoolkit.window.document.exitPointerLock())};b.prototype.uG=function(a){!1!==this.enabled&&this.iRc()};b.prototype.oed=function(a,b){for(var d=!1,c=!1,e=0;e<a.length;e++){switch(a[e]){case "37":case "65":b.add(new window.THREE.Vector3(-1,0,0));break;case "39":case "68":b.add(new window.THREE.Vector3(1,0,0));break;case "38":case "87":b.add(new window.THREE.Vector3(0,0,-1));break;case "40":case "83":b.add(new window.THREE.Vector3(0,0,1));break;case "82":b.add(new window.THREE.Vector3(0,1,0));
break;case "70":b.add(new window.THREE.Vector3(0,-1,0));break;case "16":d=!0;break;case "90":c=!0;break;default:b.add(new window.THREE.Vector3(0,0,0))}d&&b.multiplyScalar(2);c&&b.multiplyScalar(.5)}};b.prototype.iRc=function(){if(null==this.FGb){var a=new window.THREE.Matrix4,b=this;this.FGb=function(){var h=Date.now(),l=(h-b.Dmc)/1E3;l>b.bRb&&(l=b.bRb);b.Dmc=h;h=Object.keys(b.Bma);if(0===h.length&&0===b.S4.lengthSq()&&0===b.Sbb&&0===b.c$a)return!0;if(0!==h.length){var n=new window.THREE.Vector3;
b.oed(h,n);b.camera.updateMatrixWorld();a.extractRotation(b.camera.matrixWorld);n.applyMatrix4(a);n.multiplyScalar(b.MHc*l);b.camera.position.add(n);b.target.add(n)}if(0!==b.Sbb||0!==b.c$a){h=b.camera.position;b.offset.copy(b.target).sub(h);b.offset.applyQuaternion(e);var n=Math.atan2(b.offset.x,b.offset.z),p=Math.atan2(Math.sqrt(b.offset.x*b.offset.x+b.offset.z*b.offset.z),b.offset.y);b.Hsc&&b.$Lc(b.dTb());n+=b.Sbb*l*b.Cva;p+=b.c$a*l*b.Cva;n=Math.max(b.CZb,Math.min(b.mZb,n));p=Math.max(b.FZb,Math.min(b.oZb,
p));if(b.state===d.N_c||b.state===d.Wya)p=Math.max(g,Math.min(Math.PI-g,p));l=b.offset.length()*b.scale;l=Math.max(b.Uua,Math.min(b.maxDistance,l));b.camera.position.add(b.S4);b.camera instanceof window.THREE.PerspectiveCamera||(b.camera.left*=b.scale,b.camera.right*=b.scale,b.camera.top*=b.scale,b.camera.bottom*=b.scale,b.camera.updateProjectionMatrix());b.offset.x=l*Math.sin(p)*Math.sin(n);b.offset.y=l*Math.cos(p);b.offset.z=l*Math.sin(p)*Math.cos(n);b.offset.applyQuaternion(c);b.target.copy(h).add(b.offset);
b.camera.lookAt(b.target);b.Sbb=0;b.c$a=0;b.scale=1}0!==b.S4.lengthSq()&&(b.camera.position.add(b.S4),b.target.add(b.S4),b.S4.set(0,0,0));return!1}}this.Me.W8().nPb(this.FGb)||(this.Me.W8().aob(this.FGb),this.Dmc=Date.now())};b.prototype.XE=function(a){!1===this.enabled||this.yfa||(this.state=d.Wya,this.FW.set(a.plotX,this.iSa?a.plotY:-a.plotY))};b.prototype.VE=function(a){!1!==this.enabled&&!0!==this.yfa&&this.state===d.Wya&&(this.era?this.VGa.set(a.movementX,this.iSa?a.movementY:-a.movementY):(this.EW.set(a.plotX,
this.iSa?a.plotY:-a.plotY),this.VGa.subVectors(this.EW,this.FW)),a=this.Me.getSize().aa(),this.Sbb=2*Math.PI*this.VGa.x/a,this.c$a=2*Math.PI*this.VGa.y/a,this.era||this.FW.copy(this.EW),this.e0())};b.prototype.ZE=function(a){!1!==this.enabled&&!0!==this.qW&&this.state===d.$gb&&(this.era?this.uma.set(a.movementX,this.iSa?a.movementY:-a.movementY):(this.j$.set(a.plotX,a.plotY),this.uma.subVectors(this.j$,this.VS),this.VS.copy(this.j$)),5>this.uma.length()||(this.k$.set(this.uma.x,this.uma.y,0),this.S4.add(this.k$),
this.e0()))};b.prototype.WE=function(a){!1!==this.enabled&&(this.state=d.NONE,this.era&&(_geo.geotoolkit.window.document.exitPointerLock=_geo.geotoolkit.window.document.exitPointerLock||_geo.geotoolkit.window.document.mozExitPointerLock||_geo.geotoolkit.window.document.webkitExitPointerLock,_geo.geotoolkit.window.document.exitPointerLock()))};b.prototype.By=function(a){if(!1!==this.enabled&&!0!==this.rN){a.preventDefault();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);
a=this.Me.getSize();a=a.aa();if(this.camera instanceof window.THREE.PerspectiveCamera){var d=this.camera.position,d=d.clone().sub(this.target),d=d.length(),d=d*Math.tan(this.camera.fov/2*Math.PI/180);this.wJc(2*b*d/a)}else void 0!==this.camera.top&&this.wJc(2*(this.camera.right-this.camera.left)/a);this.e0()}};b.prototype.wJc=function(a){var b=this.camera.matrix.elements;this.k$.set(b[8],b[9],b[10]);this.k$.multiplyScalar(a);this.S4.add(this.k$)};b.prototype.e0=function(){this.iRc()};return b}();
_geo.y.controller.TFb=function(){function b(a){var b=_geo.geotoolkit.Ca(a,{enabled:!0,rotatespeed:1,zoomspeed:.005,panspeed:.001,norotate:!1,nozoom:!1,nopan:!1,noroll:!1,nodblclick:!1,dblclickspeed:250,staticmoving:!1,dynamicdampingfactor:.2,mindistance:0,maxdistance:window.Infinity,keys:{LEFT:37,P1c:38,RIGHT:39,Ycb:40},name:"trackballcontroller"});this.camera=a.camera;this.Me=a.plot;this.target=a.lookat.clone();this.tna=this.target.clone();this.Gfa=a.position.clone();this.mmd=this.state=d;this.AZ=
new window.THREE.Vector3;this.FW=new window.THREE.Vector3;this.EW=new window.THREE.Vector3;this.L5=new window.THREE.Vector2;this.CVa=new window.THREE.Vector2;this.sAd=this.tAd=0;this.VS=new window.THREE.Vector2;this.j$=new window.THREE.Vector2;this.PHc=a.position.clone();_geo.y.sd.Yv.call(this,b);this.setOptions(b)}function a(){}var g=1E-6,d=-1,e=3,c=4,f=5;_geo.geotoolkit.fa(b,_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.controller.TrackballController");b.prototype.setOptions=function(a){var b=
_geo.geotoolkit.Ca(a,{enabled:this.enabled,rotatespeed:this.Cva,zoomspeed:this.bxa,panspeed:this.rvb,norotate:this.yfa,nozoom:this.rN,nopan:this.qW,noroll:this.CSa,nodblclick:this.G9a,staticmoving:this.Tyb,dynamicdampingfactor:this.hqb,mindistance:this.Uua,maxdistance:this.maxDistance,position:null!=this.camera?this.camera.position:this.Gfa,lookat:this.target,keys:this.keys,camera:this.camera},!0);this.camera=b.camera;this.enabled=b.enabled;this.Cva=b.rotatespeed;this.bxa=b.zoomspeed;this.rvb=b.panspeed;
this.yfa=b.norotate;this.rN=b.nozoom;this.qW=b.nopan;this.CSa=b.noroll;this.G9a=b.nodblclick;this.Tyb=b.staticmoving;this.hqb=b.dynamicdampingfactor;this.Uua=b.mindistance;this.maxDistance=b.maxdistance;this.keys=b.keys;_geo.y.sd.Yv.prototype.setOptions.call(this,a);this.tna=b.lookat;this.Gfa=b.position;this.target.copy(this.tna);this.mmd=this.state=d;return this};b.prototype.UE=function(a){!1===this.enabled||this.G9a||this.Y7b(a.plotX,a.plotY)};b.prototype.Y7b=function(a,b){var d=_geo.y.Ge.Tz.ls(this.Me,
a,b,this.radius,this.radius);0<d.length&&this.Me.Qwb(d[0].point,!0)};b.prototype.JCc=function(a,b){var d=new window.THREE.Vector3,c=new window.THREE.Vector3,e=new window.THREE.Vector3,g=this.Me.getSize(),f=.5*g.width,g=.5*g.height;e.set((a-f)/f,(g-b)/g,0);f=e.length();this.CSa?e.z=f<Math.SQRT1_2?Math.sqrt(1-f*f):.5/f:1<f?e.normalize():e.z=Math.sqrt(1-f*f);this.AZ.copy(this.camera.position).sub(this.target);d.copy(this.camera.up).setLength(e.y);d.add(c.copy(this.camera.up).cross(this.AZ).setLength(e.x));
d.add(this.AZ.setLength(e.z));return d};b.prototype.eod=function(){if(this.state===e){var a=new window.THREE.Vector3,b=new window.THREE.Quaternion,d=Math.acos(this.FW.dot(this.EW)/this.FW.length()/this.EW.length());.01<d&&(a.crossVectors(this.FW,this.EW).normalize(),d*=this.Cva,b.setFromAxisAngle(a,-d),this.AZ.applyQuaternion(b),this.camera.up.applyQuaternion(b),this.EW.applyQuaternion(b),this.Tyb?this.FW.copy(this.EW):(b.setFromAxisAngle(a,d*(this.hqb-1)),this.FW.applyQuaternion(b)))}};b.prototype.Tzb=
function(){if(this.state===c){var a=1+Math.abs(this.CVa.y-this.L5.y)*this.bxa;this.CVa.y>this.L5.y&&(a=1/a);1!==a&&0<a&&(this.AZ.multiplyScalar(a),this.Tyb?this.L5.copy(this.CVa):this.L5.y+=(this.CVa.y-this.L5.y)*this.hqb)}};b.prototype.A_b=function(){if(this.state===f){var a=new window.THREE.Vector2,b=new window.THREE.Vector3,d=new window.THREE.Vector3;a.copy(this.j$).sub(this.VS);a.lengthSq()&&(a.multiplyScalar(this.AZ.length()*this.rvb),d.copy(this.AZ).cross(this.camera.up).setLength(a.x),d.add(b.copy(this.camera.up).setLength(a.y)),
this.camera.position.add(d),this.target.add(d),this.Tyb?this.VS.copy(this.j$):this.VS.add(a.subVectors(this.j$,this.VS).multiplyScalar(this.hqb)))}};b.prototype.R9c=function(){this.rN&&this.qW||(this.AZ.lengthSq()>this.maxDistance*this.maxDistance&&this.camera.position.addVectors(this.target,this.AZ.setLength(this.maxDistance)),this.AZ.lengthSq()<this.Uua*this.Uua&&this.camera.position.addVectors(this.target,this.AZ.setLength(this.Uua)))};b.prototype.e0=function(){this.AZ.subVectors(this.camera.position,
this.target);this.yfa||this.eod();this.rN||this.Tzb();this.qW||this.A_b();this.camera.position.addVectors(this.target,this.AZ);this.R9c();this.camera.lookAt(this.target);this.PHc.distanceToSquared(this.camera.position)>g&&this.PHc.copy(this.camera.position);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this,args:[]}))};b.prototype.AD=a;b.prototype.$E=a;b.prototype.uG=a;b.prototype.AI=a;b.prototype.DI=a;b.prototype.AG=a;b.prototype.BG=a;b.prototype.XE=function(a){!1===this.enabled||
this.yfa||(this.state=e,this.FW.copy(this.JCc(a.plotX,a.plotY)),this.EW.copy(this.FW))};b.prototype.VE=function(a){!1!==this.enabled&&!0!==this.yfa&&this.state===e&&(this.EW.copy(this.JCc(a.plotX,a.plotY)),this.e0())};b.prototype.WE=function(a){!1!==this.enabled&&(this.state=d)};b.prototype.xG=function(a){if(!1!==this.enabled&&!0!==this.rN){this.state=c;var b=a.distanceX;a=a.distanceY;b=Math.sqrt(b*b+a*a);this.L5.set(0,b)}};b.prototype.vG=function(a){if(!1!==this.enabled&&!0!==this.rN&&this.state===
c){var b=a.distanceX;a=a.distanceY;b=Math.sqrt(b*b+a*a);this.CVa.set(0,b);this.e0()}};b.prototype.wG=function(a){!1!==this.enabled&&(this.state=d)};b.prototype.zG=function(a){!1!==this.enabled&&!0!==this.qW&&(this.state=f,this.VS.set(a.plotX,a.plotY))};b.prototype.ZE=function(a){!1!==this.enabled&&!0!==this.qW&&this.state===f&&(this.j$.set(a.plotX,a.plotY),this.e0())};b.prototype.yG=function(a){!1!==this.enabled&&(this.state=d)};b.prototype.By=function(a){if(!1!==this.enabled&&!0!==this.rN){this.state=
c;a.preventDefault();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta/40:void 0!==a.detail&&(b=-a.detail/3);this.L5.y=0;this.CVa.y=3*b;this.e0()}};b.prototype.dispose=function(){this.Me=this.camera=null;_geo.y.sd.Yv.prototype.dispose.call(this)};return b}();_geo.y.controller.wWc=function(){function b(a){}_geo.geotoolkit.da(b,"geotoolkit3d.scene.EmptyController");b.prototype.setOptions=function(a){};b.prototype.dispose=function(){};b.prototype.getName=function(){return"EmptyController"};return b}();
_geo.y.controller.zgc=function(){function b(a){var b=_geo.geotoolkit.Ca(a,{enabled:!0,zoomspeed:1,panspeed:.001,nozoom:!1,nopan:!1,noroll:!1,name:"rollcontroller"});this.camera=a.camera;this.Me=a.plot;this.target=a.lookat.clone();this.tna=this.target.clone();this.Gfa=a.position.clone();this.VS=new window.THREE.Vector2;this.L5=new window.THREE.Vector2;this.end=new window.THREE.Vector2;this.ZLc=0;this.zTa=this.camera.rotation.z;_geo.y.sd.Yv.call(this,b);this.setOptions(b)}function a(){}_geo.geotoolkit.fa(b,
_geo.y.sd.Yv);_geo.geotoolkit.da(b,"geotoolkit3d.controller.RollController");b.prototype.setOptions=function(a){var b=_geo.geotoolkit.Ca(a,{enabled:this.enabled,zoomspeed:this.bxa,panspeed:this.rvb,nozoom:this.rN,nopan:this.qW,noroll:this.CSa,roll:this.zTa,camera:this.camera},!0);this.camera=b.camera;this.enabled=b.enabled;this.bxa=b.zoomspeed;this.rvb=b.panspeed;this.rN=b.nozoom;this.qW=b.nopan;this.CSa=b.noroll;_geo.y.sd.Yv.prototype.setOptions.call(this,a);this.zTa=b.roll;this.Gfa=b.position;this.camera.rotation.z=
this.zTa;return this};b.prototype.UE=a;b.prototype.AD=a;b.prototype.$E=a;b.prototype.uG=a;b.prototype.AI=a;b.prototype.DI=a;b.prototype.AG=a;b.prototype.BG=a;b.prototype.XE=function(a){this.CSa||(this.dod=new window.THREE.Vector2(a.plotX,a.plotY),this.ZLc=this.camera.rotation.z)};b.prototype.VE=function(a){if(!0!==this.CSa){var b=new window.THREE.Vector2;this.end.set(a.plotX,a.plotY);b.subVectors(this.end,new window.THREE.Vector2(this.Me.getSize().width/2,this.Me.getSize().height/2));a=(new window.THREE.Vector2).subVectors(this.dod,
new window.THREE.Vector2(this.Me.getSize().width/2,this.Me.getSize().height/2));a=Math.atan2(a.x,-a.y);b=Math.atan2(b.x,-b.y);this.cod(b-a+this.ZLc);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this,args:[]}))}};b.prototype.WE=function(a){};b.prototype.xG=function(a){if(!0!==this.rN){var b=a.distanceX;a=a.distanceY;b=Math.sqrt(b*b+a*a);this.L5.set(0,b)}};b.prototype.vG=function(a){if(!0!==this.rN){var b=a.distanceX;a=a.distanceY;var e=new window.THREE.Vector2;this.end.set(b,
a);e.subVectors(this.end,this.L5);this.Tzb(e.y/this.Me.getSize().height);this.L5.copy(this.end);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this,args:[]}))}};b.prototype.wG=function(a){};b.prototype.zG=function(a){!0!==this.qW&&this.VS.set(a.plotX,a.plotY)};b.prototype.ZE=function(a){if(!0!==this.qW){var b=new window.THREE.Vector2;this.end.set(a.plotX,a.plotY);b.subVectors(this.end,this.VS);this.A_b(b);this.VS.copy(this.end);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,
source:this,args:[]}))}};b.prototype.yG=function(a){};b.prototype.By=function(a){if(!1!==this.enabled&&!0!==this.rN){a.preventDefault();var b=0;void 0!==a.wheelDelta?b=a.wheelDelta/40:void 0!==a.detail&&(b=-a.detail/3);this.Tzb(-b);this.camera.tj(new _geo.y.Event({type:_geo.y.Event.fv.Camera,source:this,args:[]}))}};b.prototype.A_b=function(a){var b=this.camera.position,b=b.clone().sub(this.target),b=b.length(),b=b*Math.tan(this.camera.fov/2*Math.PI/180);this.pvb(2*a.x*b/this.Me.getSize().width);
this.svb(2*a.y*b/this.Me.getSize().height)};b.prototype.pvb=function(a){var b=this.camera.matrix.elements,b=new window.THREE.Vector3(b[0],b[1],b[2]);b.multiplyScalar(-a);this.camera.position.add(b);this.target.add(b);this.camera.lookAt(this.target);this.camera.rotation.z=this.zTa};b.prototype.svb=function(a){var b=this.camera.matrix.elements,b=new window.THREE.Vector3(b[4],b[5],b[6]);b.multiplyScalar(a);this.camera.position.add(b);this.target.add(b);this.camera.lookAt(this.target);this.camera.rotation.z=
this.zTa};b.prototype.Tzb=function(a){a=this.camera.fov+=a*this.bxa;a=Math.min(Math.max(10,a),90);this.Me.setOptions({camera:{fov:a}})};b.prototype.cod=function(a){this.zTa=this.camera.rotation.z=a};return b}();
_geo.y.scene.odc=function(){function b(g){g=_geo.geotoolkit.Ca(g,{color:new window.THREE.Color(16777215),opacity:1,transparent:!1,side:window.THREE.DoubleSide,vertexcolors:window.THREE.NoColors},!0);this.isMeshBasicMaterial=!0;window.THREE.ShaderMaterial.call(this,{uniforms:window.THREE.UniformsUtils.clone(window.THREE.ShaderLib.basic.uniforms),vertexShader:a.$Xa,fragmentShader:a.ZXa});a.uob(this);this.type="MeshColorMapBasicMaterial";this.lights=!1;this.qCa=function(){_geo.y.util.ck.B$a(this,this.Zr)}.bind(this);
b.prototype.setOptions.call(this,g)}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,window.THREE.ShaderMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.scene.MeshColorMapBasicMaterial");_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.D0);b.prototype.setOptions=function(b){b=_geo.geotoolkit.Ca(b,{opacity:this.opacity?this.opacity:1,transparent:this.transparent?this.transparent:!1,side:this.side?this.side:window.THREE.DoubleSide,vertexcolors:null!=this.vertexColors?this.vertexColors:window.THREE.NoColors},!0);
this.opacity=b.opacity;this.transparent=b.transparent;this.side=b.side;this.vertexColors=b.vertexcolors;a.Yxb(this,b);return this};b.prototype.dispose=function(){this.Zr instanceof _geo.geotoolkit.util.ym&&this.Zr.hb(_geo.geotoolkit.util.ym.$.Wc,this.qCa);window.THREE.ShaderMaterial.prototype.dispose.call(this)};return b}();
_geo.y.scene.ZD=function(){function b(g){g=_geo.geotoolkit.Ca(g,{color:new window.THREE.Color(16777215),opacity:1,transparent:!1,side:window.THREE.DoubleSide,emissive:new window.THREE.Color(0),emissiveintensity:1,vertexcolors:window.THREE.NoColors,unlit:0},!0);window.THREE.ShaderMaterial.call(this,{uniforms:window.THREE.UniformsUtils.clone(window.THREE.ShaderLib.lambert.uniforms),vertexShader:a.B6,fragmentShader:a.DX});this.lights=!0;a.N7c(this);a.uob(this);this.type="MeshColorMapLambertMaterial";
this.isMeshLambertMaterial=!0;b.prototype.setOptions.call(this,g)}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,window.THREE.ShaderMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.scene.MeshColorMapLambertMaterial");_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.D0);b.prototype.setOptions=function(b){b=_geo.geotoolkit.Ca(b,{opacity:this.opacity?this.opacity:1,transparent:this.transparent?this.transparent:!1,side:this.side?this.side:window.THREE.DoubleSide,emissive:this.emissive?this.emissive:new window.THREE.Color(0),
emissiveintensity:this.emissiveIntensity?this.emissiveIntensity:1,vertexcolors:null!=this.vertexColors?this.vertexColors:window.THREE.NoColors},!0);this.opacity=b.opacity;this.transparent=b.transparent;this.side=b.side;this.emissive=b.emissive;this.emissiveIntensity=b.emissiveintensity;this.vertexColors=b.vertexcolors;a.rpd(this,b);a.Yxb(this,b);return this};b.prototype.dispose=function(){this.Zr instanceof _geo.geotoolkit.util.ym&&this.Zr.hb(_geo.geotoolkit.util.ym.$.Wc,this.qCa);window.THREE.ShaderMaterial.prototype.dispose.call(this)};
return b}();
_geo.y.scene.animation.xIa=function(){function b(a){_geo.y.scene.Object3D.call(this);this.c3=[]}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.animation.AnimationManager");b.prototype.nPb=function(a){return-1===this.c3.indexOf(a)?!1:!0};b.prototype.J0b=function(a){var b=this.c3.indexOf(a);-1!==this.c3.indexOf(a)&&this.c3.splice(b,1)};b.prototype.aob=function(a){var b=this.c3.indexOf(a);-1===b&&this.c3.push(a);1===this.c3.length&&this.tj(new _geo.y.Event({type:_geo.y.Event.fv.gxa,source:this,
args:{}}));return this};b.prototype.eaa=function(a,b){var d=[],e;for(e=0;e<this.c3.length;e++)this.c3[e]()&&d.push(e);for(e=d.length-1;0<=e;e--)this.c3.splice(d[e],1);0<this.c3.length&&this.tj(new _geo.y.Event({type:_geo.y.Event.fv.gxa,source:this,args:{}}))};b.prototype.dispose=function(){this.c3=null};return b}();
_geo.y.scene.cI.dBb=function(){function b(a){var b=_geo.geotoolkit.Ca(a,{container:null,usewebgl:!0,camera:null,visible:!0},!0);this.Wk=b.container;null==a.renderer&&(a.renderer={});null==a.renderer.parameters&&(a.renderer.parameters={});a=_geo.geotoolkit.Ca(a.renderer.parameters,{canvas:b.canvas,alpha:!0});this.renderer=b.usewebgl?new window.THREE.WebGLRenderer(a):new window.THREE.CanvasRenderer;this.renderer.setPixelRatio(_geo.geotoolkit.Dj());this.renderer.setSize(this.Wk.offsetWidth,this.Wk.offsetHeight);
this.scene=new window.THREE.Scene;this.camera=new window.THREE.PerspectiveCamera(60,1,1,2E3);null!=b.camera&&(this.camera.up=b.camera.up);this.scene.add(this.camera);this.n2b(new _geo.y.scene.cI.X9b);this.visible=b.visible;this.o4=!0;null!=this.Wk&&this.Wk.appendChild(this.renderer.domElement)}_geo.geotoolkit.da(b,"geotoolkit3d.scene.compass.Compass");b.prototype.Iyc=function(){return this.ppb};b.prototype.n2b=function(a){if(null==a)return this;null!=this.ppb&&this.scene.remove(this.ppb);this.ppb=
a;this.scene.add(this.ppb);return this};b.prototype.render=function(a,b,d,e){!1!==this.o4&&(this.eaa(a,b),this.visible&&this.renderer.render(this.scene,this.camera))};b.prototype.tj=function(a){this.o4=!0};b.prototype.setSize=function(a,b){this.IAd&&this.camera instanceof window.THREE.PerspectiveCamera?this.camera.aspect=1:(this.camera.left=-a,this.camera.right=a,this.camera.top=a,this.camera.bottom=-a);this.camera.updateProjectionMatrix();(0,window.isNaN)(b)||this.renderer.setPixelRatio(b);this.renderer.setSize(a,
a);null!=this.Wk&&(this.Wk.style.width=a+"px",this.Wk.style.height=a+"px")};b.prototype.eaa=function(){var a=new window.THREE.Vector3;return function(b,d){a.set(0,0,1).applyEuler(d.rotation,d.rotation.order);this.camera.position.copy(a);this.camera.position.setLength(18);this.camera.rotation.copy(d.rotation);this.o4=!1}}();b.prototype.dispose=function(){null!=this.scene&&_geo.y.Bb.dispose(this.scene.children);this.scene=null;if(null!=this.renderer){null!=this.renderer.dispose&&this.renderer.dispose();
for(var a=Object.keys(this.renderer),b=0;b<a.length;b++)this.renderer[a[b]]=null}this.camera=this.Wk=this.renderer=null};return b}();
_geo.y.scene.cI.X9b=function(){function b(a){_geo.y.scene.Object3D.call(this);1<arguments.length&&(a={origin:arguments[0],direction:arguments[1]});var b=_geo.geotoolkit.Ca(a,{origin:new window.THREE.Vector3(0,0,0),direction:new window.THREE.Vector3(0,1,0),topcolor:new window.THREE.Color(65280),bottomcolor:new window.THREE.Color(16711680),outlinecolor:new window.THREE.Color(0),showlabels:!0},!0),d=b.origin,e=b.direction;this.position.copy(d);for(var d=[new window.THREE.Vector3(0,3,-.5),new window.THREE.Vector3(1.5,
1,-.5),new window.THREE.Vector3(.5,1,-.5),new window.THREE.Vector3(.5,-2,-.5),new window.THREE.Vector3(-.5,-2,-.5),new window.THREE.Vector3(-.5,1,-.5),new window.THREE.Vector3(-1.5,1,-.5),new window.THREE.Vector3(0,3,0),new window.THREE.Vector3(1.5,1,0),new window.THREE.Vector3(.5,1,0),new window.THREE.Vector3(.5,-2,0),new window.THREE.Vector3(-.5,-2,0),new window.THREE.Vector3(-.5,1,0),new window.THREE.Vector3(-1.5,1,0),new window.THREE.Vector3(0,3,.5),new window.THREE.Vector3(1.5,1,.5),new window.THREE.Vector3(.5,
1,.5),new window.THREE.Vector3(.5,-2,.5),new window.THREE.Vector3(-.5,-2,.5),new window.THREE.Vector3(-.5,1,.5),new window.THREE.Vector3(-1.5,1,.5)],c=[20,14,15,19,16,18,17,10,16,9,15,8,14,7,20,13,19,12,18,11,10],f=[0,14,15,1,15,16,17,3,17,18,4,18,19,20,6,20,14,0,6,5,4,3,2,1],k=new window.THREE.Geometry,h=0;h<c.length;h++)k.vertices.push(d[c[h]]);k.faces.push(new window.THREE.Face3(2,1,0));k.faces.push(new window.THREE.Face3(5,4,3));k.faces.push(new window.THREE.Face3(5,6,8));k.faces.push(new window.THREE.Face3(15,
13,11));k.faces.push(new window.THREE.Face3(17,9,19));k.faces.push(new window.THREE.Face3(9,20,19));k.faces.push(new window.THREE.Face3(12,10,11));k.faces.push(new window.THREE.Face3(11,13,12));k.faces.push(new window.THREE.Face3(10,4,9));k.faces.push(new window.THREE.Face3(9,11,10));k.faces.push(new window.THREE.Face3(4,6,7));k.faces.push(new window.THREE.Face3(7,9,4));k.faces.push(new window.THREE.Face3(6,5,19));k.faces.push(new window.THREE.Face3(19,7,6));k.faces.push(new window.THREE.Face3(5,
3,17));k.faces.push(new window.THREE.Face3(17,19,5));k.faces.push(new window.THREE.Face3(3,0,15));k.faces.push(new window.THREE.Face3(15,17,3));k.faces.push(new window.THREE.Face3(0,1,13));k.faces.push(new window.THREE.Face3(13,15,0));h=new window.THREE.Mesh(k,new window.THREE.MeshBasicMaterial({color:b.topcolor}));h.matrixAutoUpdate=!1;this.add(h);k=k.clone();k.applyMatrix((new window.THREE.Matrix4).makeTranslation(0,0,-.5));k=new window.THREE.Mesh(k,new window.THREE.MeshBasicMaterial({color:b.bottomcolor}));
k.matrixAutoUpdate=!1;this.add(k);k=new window.THREE.Geometry;for(h=0;h<f.length;h++)k.vertices.push(d[f[h]]);b=new window.THREE.Line(k,new window.THREE.LineBasicMaterial({color:b.outlinecolor}));b.matrixAutoUpdate=!1;this.add(b);this.setDirection(e);this.scale.set(2,2,2)}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.compass.CompassArrow");b.prototype.setDirection=function(a){var b=new window.THREE.Vector3;.99999<a.y?this.quaternion.set(0,0,0,1):-.99999>a.y?
this.quaternion.set(1,0,0,0):(b.set(a.z,0,-a.x).normalize(),a=Math.acos(a.y),this.quaternion.setFromAxisAngle(b,a))};return b}();
_geo.y.scene.cI.aVc=function(){function b(a){_geo.y.scene.Object3D.call(this);a=_geo.geotoolkit.Ca(a,{zaxiscolor:new window.THREE.Color(255),yaxiscolor:new window.THREE.Color(65280),xaxiscolor:new window.THREE.Color(16711680)},!0);var b=new window.THREE.Vector3(0,0,0),d=new window.THREE.Vector3(0,0,1);this.add(new window.THREE.ArrowHelper(d,b,8,a.zaxiscolor,2,1));d=new window.THREE.Vector3(0,1,0);this.add(new window.THREE.ArrowHelper(d,b,8,a.yaxiscolor,2,1));d=new window.THREE.Vector3(1,0,0);this.add(new window.THREE.ArrowHelper(d,
b,8,a.xaxiscolor,2,1))}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.compass.CompassAxis");return b}();
_geo.y.Event=function(){function b(a){if(null==a.type)throw Error("Type should not be null");if(null==a.source)throw Error("Type should not be null");this.type=a.type;this.source=a.source;this.Dsc=a.args}_geo.geotoolkit.da(b,"geotoolkit3d.Event");b.prototype.Ev=function(){return this.type};b.prototype.Bp=function(){return this.source};b.prototype.aTb=function(){return this.Dsc};b.prototype.dispose=function(){return this.Dsc=this.source=this.type=null};b.fv={$8b:"beforerender",J8b:"afterrender",Wc:"invalidate",
HQ:"add",rJ:"remove",Camera:"camera",ZEb:"resize",gxa:"animation",SDb:"modellimits"};return b}();
_geo.y.scene.OVa=function(){function b(a){_geo.y.scene.Object3D.call(this);a=a||{};this.lg=new _geo.y.scene.Nha("Missing Label!!!",a.hasOwnProperty("titlestyle")?null:{style:new _geo.geotoolkit.attributes.eb({font:"12px Arial",color:"white"})});this.lg.visible=!0;this.add(this.lg);this.hnb=1;var b=new window.THREE.Geometry;b.vertices.push(new window.THREE.Vector3(0,0,0));b.vertices.push(new window.THREE.Vector3(1,1,1));var d=a.hasOwnProperty("linestyle")?null:_geo.y.util.bJ.G8(new _geo.geotoolkit.attributes.Aa);
this.Aq=new window.THREE.Line(b,d);this.add(this.Aq);this.yH=new window.THREE.Line(new _geo.y.scene.ellipse.XBb,d);this.yH.scale.set(0,0,0);this.add(this.yH);this.wp=_geo.y.scene.OVa.$D.lb;this.fU=null;this.rLa=50;this.Ro=new window.THREE.Box3;this.Aza=new window.THREE.Vector3;this.setOptions(a)}for(var a,g=[],d=[],e=0;8>e;e++)g.push(new window.THREE.Vector3),d.push(new window.THREE.Vector3);var c=new window.THREE.Vector3,f=new window.THREE.Vector3,k=new window.THREE.Vector3;_geo.geotoolkit.fa(b,
_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.AnnotationBase");b.prototype.no=function(e,l,n,p){if(this.visible){_geo.y.scene.Object3D.prototype.no.call(this,e,l,n,p);this.fU||(this.parent.getBoundingBox?this.Ro.copy(this.parent.getBoundingBox()).getCenter(this.Aza):this.parent.geometry&&(this.parent.geometry.boundingBox||"function"!==typeof this.parent.geometry.computeBoundingBox||this.parent.geometry.computeBoundingBox(),this.Ro.copy(this.parent.geometry.boundingBox).getCenter(this.Aza)));
g[0].set(this.Ro.min.x,this.Ro.min.y,this.Ro.min.z);g[1].set(this.Ro.min.x,this.Ro.min.y,this.Ro.max.z);g[2].set(this.Ro.min.x,this.Ro.max.y,this.Ro.min.z);g[3].set(this.Ro.min.x,this.Ro.max.y,this.Ro.max.z);g[4].set(this.Ro.max.x,this.Ro.min.y,this.Ro.min.z);g[5].set(this.Ro.max.x,this.Ro.min.y,this.Ro.max.z);g[6].set(this.Ro.max.x,this.Ro.max.y,this.Ro.min.z);g[7].set(this.Ro.max.x,this.Ro.max.y,this.Ro.max.z);var r,t=0;for(r=0;r<d.length;r++)_geo.y.Bb.q8b(g[r],l,n.getSize(),d[r]);f.set(0,0,1).applyEuler(l.rotation);
switch(this.lg.Ib().as()){case _geo.geotoolkit.attributes.eb.IQ.wd:c.set(-f.y,f.x,0);k.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(r=0;r<d.length;r++)k.x<d[r].x&&k.z<d[r].z&&(k.x=d[r].x,k.y=d[r].y,t=r);break;case _geo.geotoolkit.attributes.eb.IQ.$c:c.set(f.y,-f.x,0);k.set(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE);for(r=0;r<d.length;r++)k.x>d[r].x&&k.z<d[r].z&&(k.x=d[r].x,k.y=d[r].y,t=r);break}this.lg.Nva(c.normalize());1!==this.hnb?(f.subVectors(g[t],this.Aza),f.setLength(f.length()*
this.hnb),f.add(this.Aza),this.lg.position.copy(f)):this.lg.position.copy(g[t]);this.lg.no(e,l,n,p);this.yH.visible=0<this.yH.scale.x;if(this.wp===b.$D.R9b&&!this.yH.visible&&(a=a||new window.THREE.Raycaster,k.copy(this.Aza),this.parent.localToWorld(k),f.subVectors(k,l.position).normalize(),a.set(l.position,f),e=a.intersectObject(this.parent,!0),0<e.length)){l=Number.MAX_VALUE;for(r=t=0;r<e.length;r++)n=e[r],null!=n.face&&l>n.distance&&(l=n.distance,t=r);this.ktc(this.parent.worldToLocal(e[t].point));
return}this.ktc(this.Aza)}};b.prototype.mp=function(a){this.lg.jc(a);return this};b.prototype.uo=function(){return this.lg.me()};b.prototype.d6b=function(a){this.hnb=a;return this};b.prototype.Ela=function(){return this.hnb};b.prototype.e6b=function(a){this.lg.wb(a);return this};b.prototype.lXb=function(){return this.lg.Ib()};b.prototype.ua=function(a){a=_geo.y.util.bJ.G8(a);this.Aq.material=a;this.Aq.needsUpdate=!0;this.yH.material=a;this.yH.needsUpdate=!0;return this};b.prototype.Xa=function(){return this.Aq.material.l_};
b.prototype.setMode=function(a){this.wp=a;return this};b.prototype.nI=function(){return this.wp};b.prototype.K1b=function(a){this.fU=a;this.lg.position.copy(a);this.Aq.position.copy(a);this.yH.position.copy(a);this.aPb();return this};b.prototype.yV=function(){return this.fU};b.prototype.setOptions=function(a){if(null==a)return this;a.hasOwnProperty("title")&&this.mp(a.title);a.hasOwnProperty("titledistancefactor")&&this.d6b(a.titledistancefactor);a.hasOwnProperty("titlestyle")&&this.e6b(a.titlestyle);
a.hasOwnProperty("linestyle")&&this.ua(a.linestyle);a.hasOwnProperty("mode")&&this.setMode(a.mode);a.hasOwnProperty("anchorpoint")&&this.K1b(a.anchorpoint);return this};b.prototype.jb=function(){return{title:this.uo(),titledistancefactor:this.Ela(),titlestyle:this.lXb(),linestyle:this.Xa(),mode:this.nI(),anchorpoint:this.yV()}};b.prototype.Mzd=function(a,b){this.yH.scale.copy(a);this.yH.rotation.copy(b);return this};b.$D={lb:"center",R9b:"closest"};b.prototype.aPb=function(){this.Ro.min.x=this.fU.x-
this.rLa-this.yH.scale.x;this.Ro.min.y=this.fU.y-this.rLa-this.yH.scale.y;this.Ro.min.z=this.fU.z-this.rLa;this.Ro.max.x=this.fU.x+this.rLa+this.yH.scale.x;this.Ro.max.y=this.fU.y+this.rLa+this.yH.scale.y;this.Ro.max.z=this.fU.z+this.rLa;this.Ro.getCenter(this.Aza)};b.prototype.ktc=function(a){k.copy(a);var b=.75;if(this.yH.visible){this.yH.position.copy(a);f.set(0,0,1);f.applyEuler(this.yH.rotation);var d=Math.asin(f.x),c=Math.asin(f.y),e=Math.sign(this.lg.xea().x-a.x);a=Math.sign(this.lg.xea().y-
a.y);var g=this.yH.scale.x*b*.5,q=this.yH.scale.y*b*.5;f.set(e*g*Math.cos(d),a*q*Math.cos(c),-e*g*Math.sin(d)-a*q*Math.sin(c));k.add(f);this.lg.xea().add(f)}this.Aq.position.copy(k);f.subVectors(this.lg.position,this.lg.xea()).multiplyScalar(b);f.subVectors(this.lg.position,f);this.Aq.scale.copy(k.sub(f)).negate()};return b}();
_geo.y.scene.Nha=function(){function b(b,c){c=c||{};this._canvas=_geo.geotoolkit.dD.Rt(0,0,!0);this.sl=this._canvas.getContext("2d");this.Lb=b;this.$g=c.style||new _geo.geotoolkit.attributes.eb({font:c.font||a,color:c.color||g,alignment:d,baseline:e});window.THREE.Sprite.call(this,this.R8c());this.kmb=!1;this.hAa=!1!==c.issizeindevice;this.y3c=!0===c.dontmanuallyupdate;this.WMb=this.material.map.image.width;this.VMb=this.material.map.image.height;this.scale.set(this.WMb,this.VMb,1);this.CGb=new window.THREE.Vector3(0,
0,0);this.D1=new window.THREE.Vector2(0,0);this.visible=!0;this.Rib=new window.THREE.Vector3(0,0,0);this.wY=new window.THREE.Vector3(0,0,0)}var a="24px Arial",g="rgba(255, 255, 255, 1.0)",d=_geo.geotoolkit.attributes.eb.IQ.wd,e=_geo.geotoolkit.attributes.eb.vaa.Zf,c=/<br\s*\/?>|\r\n|\n|\r/g,f=new window.THREE.Vector3,k=new window.THREE.Vector3,h=new window.THREE.Vector3,l=new _geo.geotoolkit.util.xc,n=new window.THREE.Vector3,p=new window.THREE.Vector3,r=new window.THREE.Quaternion;_geo.geotoolkit.fa(b,
window.THREE.Sprite);_geo.geotoolkit.da(b,"geotoolkit3d.scene.Text2d");b.prototype.R8c=function(){this.Wwa();var a=new window.THREE.Texture(this._canvas);a.needsUpdate=!0;a.minFilter=window.THREE.LinearFilter;a.generateMipmaps=!1;return new window.THREE.SpriteMaterial({map:a})};b.prototype.me=function(){return this.Lb};b.prototype.jc=function(a){if(a===this.Lb)return this;this.Lb=a;this.Wwa();return this};b.prototype.Ib=function(){return this.$g};b.prototype.wb=function(a){if(this.$g===a)return this;
this.$g=a;this.Wwa();return this};b.prototype.Wwa=function(){var a=_geo.geotoolkit.renderer.TextMetrics.measureText(this.Lb,this.$g),b=a.aa(),a=a.ba();this.sl.clearRect(0,0,this._canvas.width,this._canvas.height);this._canvas.clientWidth=b;this._canvas.clientHeight=a;this._canvas.width=b;this._canvas.height=a;this.sl.font=this.$g.qt();this.sl.fillStyle=this.$g.ac();this.sl.textBaseline=e;this.sl.textAlign=d;for(var b=(this.Lb+"").split(c),g=a/=b.length,f=0;f<b.length;f++)this.sl.fillText(b[f],0,g),
g+=a;this.kmb=!1;this.material&&(this.material.needsUpdate=!0)};b.prototype.Nva=function(a){this.CGb.copy(a);return this};b.prototype.Hwb=function(a){this.D1.copy(a);return this};b.prototype.$7c=function(a,b,d){if(this.hAa){var c,e=this.scale.y/this.scale.x;c=a.distanceTo(b.position);b instanceof window.THREE.PerspectiveCamera?(b=b.fov*Math.PI/180,c*=2*Math.tan(b/2)):c=b.top-b.bottom;c=this.scale.y/c;d=c*d.Me.getSize(l).height;d=this.scale.y/d;this.scale.y*=d;this.scale.x=this.scale.y/e;e=0!==this.D1.x?
this.D1.y/this.D1.x:1;d*=this.D1.y;f.set(d/e,d/e,d)}else f.set(this.D1.x,this.D1.x,this.D1.y);k.set(this.scale.x,this.scale.x,this.scale.y).add(f);e=k.multiplyScalar(.75/_geo.geotoolkit.Dj()).multiply(this.CGb);d=this.parent.matrixWorld.elements;h.set(_geo.geotoolkit.util.Math.sign(d[0]),_geo.geotoolkit.util.Math.sign(d[5]),_geo.geotoolkit.util.Math.sign(d[10]));e.multiply(h);a=a.add(e);return a=this.parent.worldToLocal(a)};b.prototype.no=function(a,b,d,c,e){!this.visible||this.y3c&&!e||(_geo.y.scene.Object3D.prototype.no.call(this,
a,b,d,c),this.kmb?this.position.equals(this.Rib)?this.position.copy(this.wY):this.wY.copy(this.position):(this.tj(),this.wY.copy(this.position),this.Rib.copy(this.position),this.WMb=this.material.map.image.width,this.VMb=this.material.map.image.height,this.kmb=!0),this.scale.set(this.WMb,this.VMb,1),d=this.parent.localToWorld(p.copy(this.wY)),a=this.$7c(d,b,a),this.position.copy(a),this.Rib.copy(a),this.parent.matrixWorld.decompose(p,r,n),this.scale.multiply(p.set(1,1,1).divide(n)))};b.prototype.xea=
function(){return this.wY};b.prototype.ixd=function(){return this.kmb};b.prototype.dispose=function(){this.material.dispose();this.Rib=this.wY=this.D1=this.CGb=this.$g=this.sl=this._canvas=this.material=null;this.CPa()};return b}();
_geo.y.scene.gQ.tYa=function(){function b(b){_geo.y.scene.Object3D.call(this);b=_geo.geotoolkit.Ca(b,{opacity:1,colorprovider:"red",symbol:_geo.y.scene.gQ.tYa.Symbol.Dbb,symbolminsize:1,symbolmaxsize:6,symbolsizeisindevice:!1,inverseplot:!0});null==b.precision&&(b.precision=!0===b.symbolsizeisindevice?b.symbolmaxsize+1:8);var d=b.data.x,e=b.data.y,c=b.data.z;this.sizes=null==b.data.sizes?[1]:_geo.y.util.Math.b$(b.data.sizes,0,1);this.UGc=b.inverseplot;this.values=b.data.values;this.precision=b.precision;
this.Zr=b.colorprovider;this.opacity=b.opacity;this.LRc=b.symbolsizeisindevice;for(var f=b.symbol(this.precision),k=0;k<d.length;k++){var h=_geo.y.util.bJ.pQb(new _geo.geotoolkit.attributes.Fa),h=new window.THREE.Mesh(f,h);h.position.set(d[k],e[k],c[k]);h.name=a;this.add(h)}this.setOptions(b)}var a="POINT";_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.pointset.PointSet");b.Symbol={Dbb:function(){return function(a){return new window.THREE.SphereGeometry(1,Math.max(1.5*
a,3),Math.max(a,2))}}(),cube:function(){return function(){return new window.THREE.BoxGeometry(1,1,1,1,1,1)}}(),Bmd:function(){return function(a){a=new window.THREE.ConeGeometry(1,1,4,1);a.rotateX(Math.PI/2);return a}}()};b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{opacity:this.opacity,colorprovider:this.Zr,symbolminsize:this.uga,symbolmaxsize:this.Jwa});this.uga=a.symbolminsize;this.Jwa=a.symbolmaxsize;this.Zr=a.colorprovider;a=_geo.y.util.Math.b$(this.sizes,this.uga,this.Jwa);for(var b=
0;b<this.children.length;b++){var e=this.children[b],c=a[b%a.length],f;f=this.Zr instanceof _geo.geotoolkit.util.Ie?this.Zr.ac(null!=this.values?this.values[b]:0):_geo.geotoolkit.util.oi.Ph(this.Zr);this.W7b(e,c,f)}this.tj();return this};b.prototype.jbb=function(a,b){this.children[a].visible=b;return this};b.prototype.W7b=function(a,b,e){a.aVa=b;a.scale.set(b,b,b);a.visible=0!==b;a.material.vV.setColor("rgba("+e.Bl()+","+e.zl()+","+e.xl()+","+this.opacity+")");_geo.y.util.bJ.WSc(a.material,a.material.vV)};
b.prototype.no=function(a,b,e,c){_geo.y.scene.Object3D.prototype.no.call(this,a,b,e,c);if(this.visible&&(this.LRc||this.UGc)){for(c=0;c<this.children.length;c++){var f=this.children[c];if(this.UGc){var k=e.root.scale;f.scale.set(f.aVa/k.x,f.aVa/k.y,f.aVa/k.z)}else f.scale.set(f.aVa,f.aVa,f.aVa)}this.LRc&&_geo.y.Bb.H7b(this,b,a)}};return b}();
_geo.y.scene.gQ.PointCloudMaterial=function(){function b(g){window.THREE.ShaderMaterial.call(this,{vertexShader:a.a_c,fragmentShader:a.WZc,transparent:!0});this.type="PointCloudMaterial";a.uob(this);a.V7c(this);b.prototype.setOptions.call(this,g)}var a=_geo.y.util.ck;_geo.geotoolkit.fa(b,window.THREE.ShaderMaterial);_geo.geotoolkit.da(b,"geotoolkit3d.scene.pointset.PointCloudMaterial");_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.W$b);b.prototype.setOptions=function(b){a.Yxb(this,b);a.npd(this,b)};
b.prototype.dispose=function(){this.Zr instanceof _geo.geotoolkit.util.ym&&this.Zr.hb(_geo.geotoolkit.util.ym.$.Wc,this.qCa);window.THREE.ShaderMaterial.prototype.dispose.call(this)};return b}();
_geo.y.scene.gQ.PointCloud=function(){function b(a){function b(){d.tj()}_geo.y.scene.Object3D.call(this);var d=this;a=_geo.geotoolkit.Ca(a,{colorprovider:"red",symbol:_geo.y.scene.gQ.PointCloud.Symbol.Dbb(b),symbolminsize:2,symbolmaxsize:7,alphatest:.8});this.rK=-Number.MAX_VALUE;this.ly=Number.MAX_VALUE;var e;e=null!=a.data.xyz?a.data.xyz.length/3:a.data.x.length;var c=new window.THREE.InterleavedBuffer(new window.Float32Array(6*e),6),f=new window.THREE.InterleavedBufferAttribute(c,3,0),k=new window.THREE.InterleavedBufferAttribute(c,
1,3),h=new window.THREE.InterleavedBufferAttribute(c,1,4),c=new window.THREE.InterleavedBufferAttribute(c,1,5),l,n;if(null!=a.data.xyz){l=a.data.xyz;for(var p=0;p<e;p++)n=null!=a.data.visible?!0===a.data.visible[p]?1:0:1,f.setXYZW(p,l[3*p],l[3*p+1],l[3*p+2],n)}else{e=a.data.x;l=a.data.y;for(var p=a.data.z,r=0;r<e.length;r++)n=null!=a.data.visible?!0===a.data.visible[r]?1:0:1,f.setXYZW(r,e[r],l[r],p[r],n)}null==a.data.sizes?this.J5b([1]):this.J5b(a.data.sizes,a.data.sizemin,a.data.sizemax);this.values=
a.data.values;this.Zr=a.colorprovider;n=new _geo.y.scene.gQ.PointCloudMaterial(a);e=new window.THREE.BufferGeometry;e.addAttribute("position",f);e.addAttribute("cgpointVisible",k);e.addAttribute("cgpointSize",h);e.addAttribute(_geo.y.util.ck.yo,c);this.o$=new window.THREE.Points(e,n);this.h7c=function(){if(null!=this.values){for(var a=this.o$.geometry.getAttribute(_geo.y.util.ck.yo),b=0;b<this.o$.geometry.getAttribute("position").count;b++)a.setX(b,this.values[b]);this.o$.geometry.getAttribute(_geo.y.util.ck.yo).data.needsUpdate=
!0}}.bind(this);this.add(this.o$);this.setOptions(a)}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.pointset.PointCloud");b.prototype.J5b=function(a,b,d){Array.isArray(a)||(a=[a]);if(null==b||null==d){b=Number.MAX_VALUE;d=-Number.MAX_VALUE;var e;for(e=0;e<a.length;e++)(0,window.isNaN)(a[e])||(b=Math.min(b,a[e]),d=Math.max(d,a[e]))}this.rK=d;this.ly=b;this.sizes=_geo.y.util.Math.b$(a,0,1,this.ly,this.rK)};b.Symbol={Dbb:function(){return function(a){return(new window.THREE.TextureLoader).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wQXCREv4CvoegAAEGhJREFUeNrNW22MHEV6fqqqu2dndnbXYwMnlKzxB3EAr5FYnfEhWUgHOn5cjoMo5g8gE4idiNzBRQSMdAoRioLukO4Hh3PgxDgIHQGLQxwfOQ6Qkh+RCDZsEIG176xwsmVfRNDinfXOzkd3V9WbH9PVW11TPTbYJhmpNDPd1VX1PvW+b71fzXCePkQExlj+GwADwLPbDAA5j9jXCIA2z5/PT3A+iCYiKKU4EXEAGsDIPffc85V33333ilOnTl0mpfyK1noVEQVExDnnbc75fBRFn05MTBxZt27d0Weeeea/iagDgEkpKQxD7QL7/w4AKSUjIgFA33333Wvffvvtb7ZarT9QSl0F4CLOOYQQYIwVGgAopdBut9FqtXD8+HFccsklJ4UQ/zE2Nvbali1b3iSiowCgtVZ9HM4NEOxc7Hi73ea1Wo2/9dZbYw888MC35+fnv6O13iyEQBiGMIQb4jnnA4vXWuffWmtIKfNvKSU45zONRuOJXbt2vXr77befSpJERVHUl62zAOKsAEiShIVhKN577736bbfddl+73f6uEKIRhiHCMIQQAkEQ5MQbwjnvqwJHR0BrDSKC1hpKKUgpoZSCUgppmiJNUyil5ur1+u59+/bt3rp1a1spJYMgoC8NALPrWuuAMRZOTU3d1Ww2/yYIgpVRFMEQHwRBgfggCLwAGOJtAJRSBRBMMyAkSQIp5alGo/H92dnZpzudTjo6Oiq/iFh8bh2glGJEJLZt23b5wYMHn2KMXV2r1WAT7+MAznnebBAMqAYIpRSIaEAEbADCMESaphOLi4s/mZycvPOaa665k4h+naap8pwu544DWq0Wr9frfGpqamez2Xy8UqkElUoFURTlzeUAGwBXAdpiYLO/2X0DgC0ChgNMi+MYcRyrFStWfO/QoUNPtdvttF6v63MOwNzcHL/gggtG1q5d+7iU8k9GRkZQqVRgAKhUKoXdD4Ig5wIbAFsB2uxqiHdFwBBvc4ABIY5jJEmCXq+HbreLMAyfPnr06D1zc3O9iy66SJ0zEWi32+L48eP16enplwBcV6vVcDoAbBFwTwEjArbdYIPgKsEoipAkiWF9JEmSj2efLN1u987Jycm1zz333B82m81Wo9FQZ80Bn332Ga/VarUNGzb8knO+tVaroVKpoFqt5oRXKhWEUYRKFCIMI68StPWAKwZGB7ingK0DbC6w2d9wQBzH6Ha76PV6UEr9+4svvvjN9evXty688EL9hQFoNpt8xYoVI6tXr/45Y+wGs/PVahWVSiXngmX5jxBFy+zvA8C2A9zddznANN8pYMk/4jjOQeh0Ouh2uyCifzl+/Pi3FxcXexMTE/pziUAmh0wIwdasWbMXQIH4kZGRgggY9rfFwBDv2gE28QVDiDRAy6eAC0CapgNK1T1ZDKCZcXb9mjVrnjx27NgOKSUJIch3RHoByAYKNm7c+GdKqVsN8b5mEx9FUb77Lge4StBdDBFBkwbpQSUopUQQBLns+wh37QqtNTqdzvapqal3Zmdnn2KMee2EoOSsD2655ZbfX1hYeMxWeD7ibQ6wj0JjBucACAHOGIQQADBgB1icN8ABaZrmhKdpOiBGNlHucdpsNndv27btbSL6FWNMDuUAIkKv12Oc8/Cdd955plKpCEOgj2hzfZgdsAwAh+DlvoCtA2xjSEoJIUQOQhkXmec9uiQ4ePDgPgDXJkmiwjAsiELgYX2xcePGuzjn0y6xURQVuME+Ag3x5tsAwAOBgAsIzsEdZ8iwbJkvEASB7QyVepIuAB4FunnTpk1//NFHHz3lckEBgE6nw1955ZXxhYWFvzXmra/ZLO+zBAunQCAQiKBAgOsLZL5FYecMCLbuGKY/XA5yzeiTJ0/+4IUXXvhZp9OZr1arORcwZ6Bgw4YND8Vx/Nf1eh21Wg2jo6OoVquo1WqoVqv5KeA7Bn0AlJnC4Ayg/gIMEC7xdkvSBDKVXlO41+sVbIFut5sfh+12G51OB0tLSxgZGXnoyJEjP7S5IDAISilZp9Opttvt79ZqtQI728S519zmWoGnc4fN7vtEQCkFqRR4mgIM4Ix72d48Z+uNKIryb+NALS0t3ffGG2/8JE3ThSAIiDHWB8DI/vT09DYhxErbnB1GvL3bZX7AgB0gMjYGGyoCpi+XHGl/kWBgQxWeIdjIvk18Zk43du3adfOHH374U8MFgXUMUbPZ/NMyj84l0Fxz3eBhdgA3ipAzcFv6iKAzrshlPyPeAOU76nyWo5Qyn98Qb7dms3k3gH8qiECSJHznzp3rtdZfc4l25bnsv4/40/kCfSXEoBlB6GWCOOfQWnuJL4scmbnCMMxBsNdoWq/X23zfffddnCTJiTAMNQeAKIr4zMzMN8qItOW57L4d+fH1te8XxCQKEIrAazr7xhq2FndNZRv45ptv3hiGIc91AAC9tLR0o09r+4h0m7tAt/mOMhgxYABxAjSg+bL8p0p6lV0QBANyX7Ym1x03a2y1Wt8C8CQABJn8V6SUX42iaGAXhg3uI3KgWXYAy0xhzjmIM3Cy4lecwPTyqRCwANpSelprCCGKSpLz3FhyOcdeV26UZc9kYfqIiLocAN++fftqAKvs3Xe9roGjTPDCzubmrv3fJj7guWUIwRGgD0YgBARjYKIIoBnfB6wbYLG/XY6zaTBAALjo1ltvXQ2ABwDYkSNH1tseljuJ63oGnsGNrV/mpgouwBnPz3LGlxUbEwKMCFpQnjvjmsDEMvub3fet0QbBntfdQPv6sWPH1gH4mGfBzt8ri9b4BgVj4Kxo2ORGilieWDBrB1kxIjzQRH+MHOTMcWKcDQRS3G/fbrtz2aE4xhiazeYGACwAgDRNf8fu4Gu2Bde/5vR3gDjdAgYjQgDngKais8M5h2Z6EDw2GF1yN8w3r7mepunFMNlapdRK1zw1hNoDF1xZhgIbk8jAARt4xv5d8AXscVnmG5iAqTF9UeL9CeuauzbLuzUEu2tQSl0MoG8HEFFYltp2CbGv5fewDBgYAzkh77JcgDtuAXwwEEcOgDsv1wCxzERm/qjWaa4xAMzonND3kJ22GggnkZWDYQDTVDqhZp57VJ56AwEE6vdhxbnzNbBsDKJCLsgHdMk8EQAyzlDHF55yAxZEBAL1kfcAZe4zZhkvjBBoQEMXwuBuXrAwTkaRRjFYMjCXs0E+J8l9xgKqk3MA53ze2Neu5TWQv9MAdBbAxOCk0ATS1n9FAynwfgCUMibKflORaNJ9DjCgukR7r9nr8Mxp9xFCfJorwSiKfmvn5n1I5t9mVwggXfTFyXm28JwT9iLSWX+/X28HSLXWOajLQRMa8ApdR8nHCeZ/FEWf5ACMj49/bBPv/nbzdqQ1lO6HnTSy/qShUIzqEIohKnNNadUnSOu8aaL+7qvl5/NssaZ8vmVA9EAQ1QZMY5AOu42NjX1sANCbNm06YsfibWJNsweTSvV3QCkoM6hZuNVfKZWJCorAmAU5/jw5iywQ5ADp9nH7alXs7z571VVX/docg7R3795PAMz74nG+a0TLxJO0BpYKivTAIuxghZIqB8uEvPocoaGkGpjbtw73dw6Ctp51nrcbgP/Zs2fPpwAoyLRxTwgxo5S6we1sMrRlg9n9hBD9aI4Tu2P9syw3SIw+YJnNkEeFnN21S2R8axoIfzuVJWXrFkJ8AKBnxwP42NjYa0tLSzeYB+1J7PCyHYGxCbezNr5IjhCiEPHJTWFDfCb/blDUDo7a6/KCk8oBwt11p2mKer3++rIXToQ0TfWWLVvesgn1Ee1masvu9Rc8fKzlMbJxnHtSSaTKfk4OEH26sc0a7ftKKVx//fWvpWlKABBku6SJ6DeTk5MzUsqv2oOY3JwJLZnfJl1lOx5uzg+6f64bjewtk8vqQ93EhqK+TpGqrzfy6hCHOB+hNsH2vWy9B3bv3n0iK+AsZIZYo9F4cmFhYZ87gUu8W6FR7uEROLIji4sB9mfI7HkHAK0UZA6AgjLckkqkMnGrxQbKZ9z79rVGo7G3r36Mz7FsIKjnn3/+RaXUgjuI/W2AsbMzbl+7kkMmKdLEP16SpkhTiSR15rB31iZEppCJLC2YctfpNqXUqccee+znUkplNimwnAYios7o6OjuOI4fsmPp9s6XxQrcsLUdwMw0r7dKrO/K0aClpzRSktBpeYWIDwgXBBuger3+o+uuu67F2LIrxp3KT/3www8/LqVc8NXiFHZvSCvrY8YpckKMJPaMkyaQPf8aysa0+5jSGYsrFx599NEn4jjWpdnhSqWiiWjhkUce+avFxcW/c2Pxw4qchtX5mCPTDWW5StCbG3QUmlsi5xJr/7bvNxqN7998880txpgeWiCRpqk6dOjQP05OTm6P4/jq02V2fC6pISAMwwFb4UyqxGxrz60UtTnILpKyQbGvx3EMrfXM7Ozs03EcD5TJBJ4ABhFRevXVV+84cODADOc88ml6X5GjvfNBEORHny+E7QYsCs6Pp0TGpwPs9LhbLWZdSzdv3ryDiOTIyAidtkgqQ0gS0a+uuOKKBxYXF388kNXx1Pjayi8MAqgohFSqH/d3QthlJTJllaLueR/HcUHm3RoB07rdLiYmJv7y5ZdfPnTGRVLmHI/jWB0+fPjv161bt6nb7e7whZds1jXpaK01ZBAgzDS/L0PsiweWcYBr3JSJgAHAFEhkpbPPHD58eE8cx6qsknxooeTS0hIfHR0dWb169T8zxr7uK5crFkoO1gj5FKhPj5QpQZsDbD1gKzq3UrTT6UBr/a8nTpy4sdVq9cbHx/UXLpWdn58XURRVL7vssrxU1lctVloj9DlKZcvy/a4Y+CpF7fIYrfXb+/fv/9bll1/eWrVqlTrravGFhQVx6tSp2tatW18B8HW7TsgtlraLJd33BdxiaTcY6nOHtdbeanFX4xv2J6J/279//01XXnlla3x8/OyLpc3n5MmTYuXKlZV169b9OEmSHaZeeBgAhvXtFPXpqsSGvTIzTAcYmT969Oifz83NxWdaLv+5XpjIdIKYmpra0Ww2H6tUKpFPB5xJldjpKjzPpFjaAkE2Go3vzc7O7l1cXFTDiqPP+p2hbrfLRkZGxE033TT1/vvv/wOAzaZa1FdH5IqBL0vkEwE3qOFz0Hq9HojoP6enp+989dVXP+p0Omp0dPT8vTLjJDUCAOHGjRvvajabPwjDcGxYqazPGXJFwC6SskNiPktQSjk3MTHxw8OHDz8BQJad8+f1tTkpJRNCBC+99NLYgw8++BedTuc7dpmdawe42WKfQeU7BZwATbNer/9o586d++6///6TvV5PVavVL++1OV8qK0kSHkUR++CDD+rbt2//o2azuVNr/bWBinGH+LKiR19Mj3N+YMWKFU+9/vrrP5ucnOx0u11Vq9XO+g3Sc/p2slKKcc4FALrjjjvWz8zMfKPVat2slJpmjK0s4wDXn8jAmBdCzNTr9deuvfbaX+zZs+e3AEhKqcyLkv/nr84Oe3k6TVMehqF5ebp67733XnjgwIGpdru9No7j31VKXQBghIgCzvki5/xkFEWfjI+P/+bSSy/9r2efffYEgB4ArrXWnHNt64xz9Tlv76d7Xp/nn2M+DYC+jNfn/xccNsvIlVowbwAAAABJRU5ErkJggg==",
a,null)}}(),cube:function(){return function(a){return(new window.THREE.TextureLoader).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH3wQYEi8ITPQaqwAAAGVJREFUeNrt0AEBADAIAyB9/4rLoj0uRKCTTB326jgBAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIEPCDBbsABBZDMwGRAAAAAElFTkSuQmCC",a,null)}}()};b.prototype.setOptions=function(a){var b=!1;null!=a.data&&null!=a.data.values&&(b=!0,
this.values=a.data.values);var d=_geo.geotoolkit.Ca(a,{symbolminsize:this.uga,symbolmaxsize:this.Jwa}),e=this.uga!==d.symbolminsize||this.Jwa!==d.symbolmaxsize;null!=a.data&&null!=d.data.sizes&&(this.J5b(d.data.sizes,d.data.sizemin,d.data.sizemax),e=!0);this.uga=d.symbolminsize;this.Jwa=d.symbolmaxsize;if(e){for(var e=_geo.y.util.Math.b$(this.sizes,this.uga,this.Jwa),c=this.o$.geometry,c=c.getAttribute("cgpointSize"),f=0;f<c.count;f++)c.setX(f,e[f%e.length]);c.data.needsUpdate=!0}b&&this.h7c();if(null!=
a.data&&null!=a.data.visible)if(b=this.o$.geometry.getAttribute("cgpointVisible"),e=0,Array.isArray(a.data.visible))for(;e<b.count&&e<a.data.visible.length;e++)b.setX(e,a.data.visible[e]);else for(;e<b.count;e++)b.setX(e,a.data.visible);this.o$.material.setOptions(d);this.tj();return this};b.prototype.jbb=function(a,b){this.g5b(a,{visible:b})};b.prototype.g5b=function(a,b){var d=this.o$.geometry;null!=b.visible&&(d.getAttribute("cgpointVisible").setX(a,b.visible?1:0),d.getAttribute("cgpointVisible").data.needsUpdate=
!0);null!=b.size&&(this.sizes[a]=(b.size-this.ly)/(this.rK-this.ly),d.getAttribute("cgpointSize").setX(a,this.uga+(this.Jwa-this.uga)*this.sizes[a]),d.getAttribute("cgpointSize").data.needsUpdate=!0);null!=b.value&&null!=this.values&&(this.values[a]=b.value,d.getAttribute(_geo.y.util.ck.yo).setX(a,this.values[a]),d.getAttribute(_geo.y.util.ck.yo).data.needsUpdate=!0);return this};b.prototype.kDc=function(a){var b=this.o$.geometry;return{visible:1===b.getAttribute("cgpointVisible").getX(a),size:(b.getAttribute("cgpointSize").getX(a)-
this.uga)/(this.Jwa-this.uga)*(this.rK-this.ly)+this.ly,value:this.values[a]}};return b}();
_geo.y.scene.ellipse.mCb=function(){function b(){var a=new window.THREE.Shape,b=_geo.geotoolkit.renderer.Bb.fEa(0,0,1,1),d=b[0];a.moveTo(d.Yea(),d.afa());for(var e=0;e<b.length;++e)d=b[e],a.bezierCurveTo(d.Zea(),d.bfa(),d.$ea(),d.cfa(),d.C9(),d.D9());window.THREE.ShapeGeometry.call(this,a)}_geo.geotoolkit.fa(b,window.THREE.ShapeGeometry);_geo.geotoolkit.da(b,"geotoolkit3d.scene.ellipse.FilledEllipseGeometry");return b}();
_geo.y.scene.ellipse.XBb=function(){function b(){window.THREE.Geometry.call(this);var a=new window.THREE.Shape;a.moveTo(0,0);var b=_geo.geotoolkit.renderer.Bb.fEa(0,0,1,1),d=b[0];a.moveTo(d.Yea(),d.afa());for(var e=0;e<b.length;++e)d=b[e],a.bezierCurveTo(d.Zea(),d.bfa(),d.$ea(),d.cfa(),d.C9(),d.D9());a.closePath();a=a.extractPoints().shape;for(b=0;b<a.length;b++)this.vertices.push(new window.THREE.Vector3(a[b].x,a[b].y,0))}_geo.geotoolkit.fa(b,window.THREE.Geometry);_geo.geotoolkit.da(b,"geotoolkit3d.scene.ellipse.EllipseGeometry");
return b}();_geo.y.scene.ze.WD=function(){var b={};b.gX=new window.THREE.Vector3(.5,.5,.5);b.rdb={x:{start:new window.THREE.Vector3(-1,-1,-1),end:new window.THREE.Vector3(-1,1,1)},y:{start:new window.THREE.Vector3(-1,-1,-1),end:new window.THREE.Vector3(1,-1,1)},z:{start:new window.THREE.Vector3(-1,-1,-1),end:new window.THREE.Vector3(1,1,-1)}};b.Vub=function(a,b){a.x=0!==b.x?b.x:a.x;a.y=0!==b.y?b.y:a.y;a.z=0!==b.z?b.z:a.z};return b}();
_geo.y.scene.ze.RQ=function(){function b(g){_geo.y.scene.Object3D.call(this);this.plane=g.plane;this.rPa=g.counts;this.plane=g.plane;this.axis=g.axis;this.wga=g.textstyles[this.axis];this.$ub=g.start;this.MZb=g.end;this.Usa=g.formatters[this.axis];this.title=g.title.texts[this.axis];this.m7b=g.title.textstyles[this.axis];this.l7b=g.title.distance;var d=_geo.y.scene.ze.WD.rdb[this.axis].start.clone(),e=_geo.y.scene.ze.WD.rdb[this.axis].end.clone(),c=this.MZb[this.axis]-this.$ub[this.axis];this.dC=
(this.MZb[this.axis]-this.$ub[this.axis])/(this.rPa[this.axis]-1);var f=this.plane.normal.clone().negate();_geo.y.scene.ze.WD.Vub(d,f);_geo.y.scene.ze.WD.Vub(e,f);var k=(new window.THREE.Vector3).multiplyVectors(_geo.y.scene.ze.WD.gX,d),f=(new window.THREE.Vector3).multiplyVectors(_geo.y.scene.ze.WD.gX,e),h=k.clone(),l=f.clone();this.$Gc=g.isaxis;var n=1/(this.rPa[this.axis]-1),e=[],d=[];g=g.isaxis?0:1;h[this.axis]+=g/(this.rPa[this.axis]-1);l[this.axis]+=g/(this.rPa[this.axis]-1);for(var p=g;p<this.rPa[this.axis]-
g;p+=1){var r=p*this.dC,t=this.Usa(this.$ub[this.axis]+r,c)+"",r=a(this.axis,b.LVa.start,t,this.wga,h,n),t=a(this.axis,b.LVa.end,t,this.wga,l,n);e.push(r);d.push(t)}if(this.$Gc&&0!==this.title.length){h=e.length/2;if(Math.floor(h)!==Math.ceil(h))c=e[Math.floor(h)],h=e[Math.ceil(h)],c=c.scale.clone(),c.add(h.scale.clone()),c.multiplyScalar(2*this.l7b);else{c=-1;h=Number.NEGATIVE_INFINITY;for(l=0;l<e.length;l++)n=e[l].scale.lengthSq(),n>h&&(c=l,h=n);c=e[c];c=c.scale.clone().multiplyScalar(2*this.l7b)}k=
k.clone();k[this.axis]=0;k=a(this.axis,b.LVa.start,this.title,this.m7b,k,Number.NaN);k.Hwb(new window.THREE.Vector2(c.x,c.y));this.add(k);f=f.clone();f[this.axis]=0;f=a(this.axis,b.LVa.end,this.title,this.m7b,f,Number.NaN);f.Hwb(new window.THREE.Vector2(c.x,c.y));this.add(f)}this.Wrc(e);this.Wrc(d);this.name="GRIDTEXTS"}function a(a,b,e,c,f,k){e=new _geo.y.scene.Nha(e,{style:c,dontmanuallyupdate:!0});e.position.copy(f);e.userData.anchor=b;e.visible=!1;(0,window.isNaN)(k)||(f[a]+=k);return e}_geo.geotoolkit.fa(b,
_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.grid.GridAxisTexts");b.LVa={start:"start",end:"end"};b.prototype.Wrc=function(a){2<=a.length&&(this.add(a[0]),this.add(a[a.length-1]),a.splice(0,1),a.splice(a.length-1,1));0!==a.length%2&&(this.add(a[Math.floor(a.length/2)]),a.splice(Math.floor(a.length/2),1));for(var b=0;b<a.length/2;b++)this.add(a[b]),this.add(a[a.length-1-b])};b.prototype.xt=function(a,b,e){if(this.visible=e)for(var c=0;c<this.children.length;c++)null!=a&&this.children[c].userData.anchor!==
a||null==b?this.children[c].visible=!1:(this.children[c].visible=e,this.children[c].Nva(b))};b.prototype.ggd=function(a,b,e,c){if(!this.visible)return null;for(var f=0;f<this.children.length;f++)this.children[f].no(a,b,e,c,!0);return{children:this.children,isaxis:this.$Gc}};b.prototype.Xld=function(a,b,e,c){if(this.visible)for(var f=0;f<this.children.length;f++)this.children[f].no(a,b,e,c,!0)};b.prototype.ox=function(){return this.axis};b.prototype.Ib=function(){return this.wga};b.prototype.uo=function(){return this.title};
b.prototype.Ela=function(){return this.l7b};b.prototype.i4=function(){return this.m7b};b.prototype.ela=function(){return this.Usa};b.prototype.rI=function(){return this.$ub};b.prototype.XDa=function(){return this.rPa};b.prototype.DP=function(){return this.MZb};b.prototype.ox=function(){return this.axis};return b}();
_geo.y.scene.ze.zeb=function(){function b(a){window.THREE.Geometry.call(this);this.axis=a.axis;var b=a.counts,d=a.normal,e=_geo.y.scene.ze.WD.rdb[this.axis].start.clone(),c=_geo.y.scene.ze.WD.rdb[this.axis].end.clone(),d=d.clone().negate();_geo.y.scene.ze.WD.Vub(e,d);_geo.y.scene.ze.WD.Vub(c,d);e=(new window.THREE.Vector3).multiplyVectors(_geo.y.scene.ze.WD.gX,e);c=(new window.THREE.Vector3).multiplyVectors(_geo.y.scene.ze.WD.gX,c);a=a.isaxis?0:1;e[this.axis]+=a/(b[this.axis]-1);c[this.axis]+=a/(b[this.axis]-
1);for(d=a;d<b[this.axis]-a;d+=1)this.vertices.push(e.clone()),this.vertices.push(c.clone()),e[this.axis]+=1/(b[this.axis]-1),c[this.axis]+=1/(b[this.axis]-1);0===this.vertices.length&&(this.vertices.push(e.clone()),this.vertices.push(e.clone()))}_geo.geotoolkit.fa(b,window.THREE.Geometry);_geo.geotoolkit.da(b,"geotoolkit3d.scene.grid.GridAxisGeometry");b.prototype.ox=function(){return this.axis};return b}();
_geo.y.scene.ze.K0=function(){function b(b){_geo.y.scene.Object3D.call(this);this.plane=b.plane;this.mode=b.mode;for(var f=_geo.y.scene.ze.K0.Plane[this.plane],k=b.counts,h=b.axis.linestyles,l=b.grid.linestyles,n=Object.keys(f.axis),p=0;p<n.length;p++)this.add(a(n[p],new window.THREE.Vector3(2,2,2),f,h[n[p]],e)),this.add(a(n[p],k,f,l[n[p]],d)),this.add(g(n[p],f,b,new window.THREE.Vector3(2,2,2),e)),this.add(g(n[p],f,b,k,d));this.name="GRIDPLANE"}function a(a,b,d,g,l){a=new _geo.y.scene.ze.zeb({axis:a,
counts:b,normal:d.normal,isaxis:l===e});g=_geo.y.util.bJ.G8(g);g=new window.THREE.LineSegments(a,g);g.computeLineDistances();g.name=l;g.raycast=function(a,b){};return g}function g(a,b,d,g,l){return new _geo.y.scene.ze.RQ({axis:a,plane:b,start:d.start,end:d.end,counts:g,textstyles:d.axis.textstyles,formatters:d.axis.formatters,title:d.title,isaxis:l===e})}var d="GRIDLINE",e="AXISLINE";_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.grid.GridPlane");b.prototype.rI=
function(){var a=null;this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a=b.rI())});return a};b.prototype.XDa=function(){var a=null;this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a=b.XDa())});return a};b.prototype.oEa=function(){var a={};this.traverse(function(b){b instanceof window.THREE.Line&&b.geometry instanceof _geo.y.scene.ze.zeb&&b.name===d&&(a[b.geometry.ox()]=b.material.l_)});return a};b.prototype.MDa=function(){var a={};this.traverse(function(b){b instanceof window.THREE.Line&&
b.geometry instanceof _geo.y.scene.ze.zeb&&b.name===e&&(a[b.geometry.ox()]=b.material.l_)});return a};b.prototype.$Ea=function(){var a={};this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a[b.ox()]=b.Ib())});return a};b.prototype.CS=function(){var a={};this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a[b.ox()]=b.uo())});return a};b.prototype.Ela=function(){var a;this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a=b.Ela())});return a};b.prototype.ztb=function(){var a=
{};this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a[b.ox()]=b.i4())});return a};b.prototype.LDa=function(){var a={};this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a[b.ox()]=b.ela())});return a};b.prototype.nI=function(){return this.mode};b.prototype.DP=function(){var a=null;this.traverse(function(b){b instanceof _geo.y.scene.ze.RQ&&(a=b.DP())});return a};b.prototype.xt=function(a,b,d,e){for(var g=0;g<this.children.length;g++)this.children[g]instanceof _geo.y.scene.ze.RQ&&
(null!=a&&this.children[g].ox()!==a||this.children[g].xt(b,d,e))};b.prototype.F5=function(a,b){for(var d=this.mode(this,a,b),e=0;e<this.children.length;e++)this.children[e]instanceof _geo.y.scene.ze.RQ||(this.children[e].visible=d)};b.prototype.Ded=function(a,b,d,e){for(var g=[],n=[],p=0;p<this.children.length;p++)if(this.children[p]instanceof _geo.y.scene.ze.RQ){var r=this.children[p].ggd(a,b,d,e);if(null!=r){var t=n;r.isaxis&&(t=g);for(var q=0;q<r.children.length;q++)t.push(r.children[q])}}return{nofilter:g,
filter:n}};b.prototype.HAd=function(a,b,d,e){for(var g=0;g<this.children.length;g++)this.children[g]instanceof _geo.y.scene.ze.RQ&&this.children[g].Xld(a,b,d,e)};b.Plane={right:{normal:new window.THREE.Vector3(-1,0,0),axis:{y:"y",z:"z"}},left:{normal:new window.THREE.Vector3(1,0,0),axis:{y:"y",z:"z"}},top:{normal:new window.THREE.Vector3(0,0,-1),axis:{x:"x",y:"y"}},bottom:{normal:new window.THREE.Vector3(0,0,1),axis:{x:"x",y:"y"}},front:{normal:new window.THREE.Vector3(0,1,0),axis:{x:"x",z:"z"}},
back:{normal:new window.THREE.Vector3(0,-1,0),axis:{x:"x",z:"z"}}};return b}();
_geo.y.scene.ze.Mx=function(){function b(a){_geo.y.scene.Object3D.call(this);null==a.axis&&(a.axis={});null==a.grid&&(a.grid={});null==a.title&&(a.title={});a.axis=_geo.geotoolkit.Ca(a.axis,{textstyles:e,linestyles:g,formatters:f});a.title=_geo.geotoolkit.Ca(a.title,{textstyles:c,texts:k});a.grid=_geo.geotoolkit.Ca(a.grid,{linestyles:d});a.grid.linestyles=_geo.geotoolkit.Ca(a.grid.linestyles,d.clone());a.axis.linestyles=_geo.geotoolkit.Ca(a.axis.linestyles,g.clone());a.axis.textstyles=_geo.geotoolkit.Ca(a.axis.textstyles,
e.clone());a.axis.formatters=_geo.geotoolkit.Ca(a.axis.formatters,f.clone());a.title.texts=_geo.geotoolkit.Ca(a.title.texts,k.clone());a.title.textstyles=_geo.geotoolkit.Ca(a.title.textstyles,c.clone());a.title.distance=null!=a.title.distance?a.title.distance:1;a=_geo.geotoolkit.Ca(a,{start:new window.THREE.Vector3(-1,-1,-1),end:new window.THREE.Vector3(1,1,1),counts:new window.THREE.Vector3(5,5,5),modelstart:a.start?a.start:new window.THREE.Vector3(-1,-1,-1),modelend:a.end?a.end:new window.THREE.Vector3(1,
1,1),mode:_geo.y.scene.ze.Mx.$D.back},!0);this.planes={};this.setOptions(a);this.name="GRID"}function a(a,b){var d=0;b=Math.abs(b);5>b&&(d=1);1>b&&(d=2);.5>b&&(d=3);return a.toFixed(d)}var g={x:new _geo.geotoolkit.attributes.Aa("white"),y:new _geo.geotoolkit.attributes.Aa("white"),z:new _geo.geotoolkit.attributes.Aa("white"),clone:function(){return{x:g.x,y:g.y,z:g.z}}},d={x:new _geo.geotoolkit.attributes.Aa("grey"),y:new _geo.geotoolkit.attributes.Aa("grey"),z:new _geo.geotoolkit.attributes.Aa("grey"),
clone:function(){return{x:d.x,y:d.y,z:d.z}}},e={x:new _geo.geotoolkit.attributes.eb({color:"white",font:"11px Arial"}),y:new _geo.geotoolkit.attributes.eb({color:"white",font:"11px Arial"}),z:new _geo.geotoolkit.attributes.eb({color:"white",font:"11px Arial"}),clone:function(){return{x:e.x,y:e.y,z:e.z}}},c={x:new _geo.geotoolkit.attributes.eb({color:"white",font:"13px Arial"}),y:new _geo.geotoolkit.attributes.eb({color:"white",font:"13px Arial"}),z:new _geo.geotoolkit.attributes.eb({color:"white",
font:"13px Arial"}),clone:function(){return{x:c.x,y:c.y,z:c.z}}},f={x:a,y:a,z:a,clone:function(){return{x:f.x,y:f.y,z:f.z}}},k={x:"X",y:"Y",z:"Z",clone:function(){return{x:k.x,y:k.y,z:k.z}}};_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.grid.Grid");b.prototype.xFa=function(){return!1};b.prototype.Rtb=function(){return(new window.THREE.Box3(new window.THREE.Vector3(-.5,-.5,-.5),new window.THREE.Vector3(.5,.5,.5))).applyMatrix4(this.matrixWorld)};b.prototype.setOptions=
function(a){this.position.set(0,0,0);this.rotation.set(0,0,0);this.scale.set(1,1,1);this.updateMatrix();for(var b=this.children.length-1;0<=b;b--)this.remove(this.children[b]);null==a.axis&&(a.axis={});null==a.grid&&(a.grid={});null==a.title&&(a.title={});a.axis=_geo.geotoolkit.Ca(a.axis,{textstyles:this.$Ea(),linestyles:this.MDa(),formatters:this.LDa()});a.title=_geo.geotoolkit.Ca(a.title,{textstyles:this.ztb(),texts:this.CS(),distance:this.Ela()});a.grid=_geo.geotoolkit.Ca(a.grid,{linestyles:this.oEa()});
a.grid.linestyles=_geo.geotoolkit.Ca(a.grid.linestyles,this.oEa());a.axis.linestyles=_geo.geotoolkit.Ca(a.axis.linestyles,this.MDa());a.axis.textstyles=_geo.geotoolkit.Ca(a.axis.textstyles,this.$Ea());a.axis.formatters=_geo.geotoolkit.Ca(a.axis.formatters,this.LDa());var d=_geo.geotoolkit.Ca(a,{start:this.rI(),end:this.DP(),counts:this.XDa(),modelstart:this.OVb(),modelend:this.NVb(),mode:this.nI()});a=d.start;for(var b=d.end,c=d.counts,e=Object.keys(this.planes),g=0;g<e.length;g++)_geo.y.Bb.dispose(this.planes[e[g]]);
e=Object.keys(_geo.y.scene.ze.K0.Plane);for(g=0;g<e.length;g++){var f=new _geo.y.scene.ze.K0({plane:e[g],start:d.modelstart,end:d.modelend,counts:c,axis:d.axis,title:d.title,grid:d.grid,mode:d.mode});this.planes[e[g]]=f;this.add(f)}d=new _geo.y.te.hza;d.Dqb({p0:new window.THREE.Vector2(-_geo.y.scene.ze.WD.gX.x,-_geo.y.scene.ze.WD.gX.y),p1:new window.THREE.Vector2(_geo.y.scene.ze.WD.gX.x,-_geo.y.scene.ze.WD.gX.y),p2:new window.THREE.Vector2(_geo.y.scene.ze.WD.gX.x,_geo.y.scene.ze.WD.gX.y),z0:-_geo.y.scene.ze.WD.gX.z,
z1:_geo.y.scene.ze.WD.gX.z});c=new _geo.y.te.hza;c.Dqb({p0:new window.THREE.Vector2(a.x,a.y),p1:new window.THREE.Vector2(b.x,a.y),p3:new window.THREE.Vector2(a.x,b.y),z0:-Math.max(a.z,b.z),z1:-Math.min(a.z,b.z)});d=new _geo.y.te.k2c(d,c);d.n4a(this);this.start=a;this.end=b;this.tj(new _geo.y.Event({source:this,type:_geo.y.Event.fv.SDb,args:[]}))};b.prototype.oEa=function(){return this.planes.right?_geo.geotoolkit.Ca(this.planes.right.oEa(),this.planes.top.oEa()):{}};b.prototype.MDa=function(){return this.planes.right?
_geo.geotoolkit.Ca(this.planes.right.MDa(),this.planes.top.MDa()):{}};b.prototype.$Ea=function(){return this.planes.right?_geo.geotoolkit.Ca(this.planes.right.$Ea(),this.planes.top.$Ea()):{}};b.prototype.LDa=function(){return this.planes.right?_geo.geotoolkit.Ca(this.planes.right.LDa(),this.planes.top.LDa()):{}};b.prototype.CS=function(){return this.planes.right?_geo.geotoolkit.Ca(this.planes.right.CS(),this.planes.top.CS()):{}};b.prototype.Ela=function(){return this.planes.right?this.planes.right.Ela():
0};b.prototype.ztb=function(){return this.planes.right?_geo.geotoolkit.Ca(this.planes.right.ztb(),this.planes.top.ztb()):{}};b.prototype.rI=function(){return this.start};b.prototype.DP=function(){return this.end};b.prototype.nI=function(){var a=Object.keys(_geo.y.scene.ze.K0.Plane)[0];return this.planes[a]?this.planes[a].nI():null};b.prototype.XDa=function(){var a=Object.keys(_geo.y.scene.ze.K0.Plane)[0];return this.planes[a]?this.planes[a].XDa():null};b.prototype.OVb=function(){var a=Object.keys(_geo.y.scene.ze.K0.Plane)[0];
return this.planes[a]?this.planes[a].rI():null};b.prototype.NVb=function(){var a=Object.keys(_geo.y.scene.ze.K0.Plane)[0];return this.planes[a]?this.planes[a].DP():null};b.$D={box:function(){return function(a,b,d){return!0}}(),ald:function(){var a=new window.THREE.Vector3,b=new window.THREE.Vector3,d=new window.THREE.Vector3;return function(c,e,g){c.worldToLocal(a.copy(g.position));b.copy(_geo.y.scene.ze.K0.Plane[c.plane].normal);d.copy(_geo.y.scene.ze.WD.gX).multiply(b.negate());b.copy(_geo.y.scene.ze.K0.Plane[c.plane].normal);
return b.dot(a)>=b.dot(d)}}(),back:function(){var a=new window.THREE.Vector3;return function(b,d,c){b.worldToLocal(a.copy(c.position));d=_geo.y.scene.ze.K0.Plane[b.plane].normal.dot(a);return"bottom"===b.plane||"left"===b.plane?-.01<=d:.01<d}}()};var h=new window.THREE.Vector3(0,-1,-1),l=new window.THREE.Vector3(1,0,-1),n=new window.THREE.Vector3(-1,0,-1),p=new window.THREE.Vector3(-1,-1,0),r=new window.THREE.Vector3(1,-1,0),t=new window.THREE.Vector3(0,-1,1),q=new window.THREE.Vector3(1,0,1),m=new window.THREE.Vector3(-1,
1,0),u=new window.THREE.Vector3(0,1,-1),v=new window.THREE.Vector3(0,1,1),w=new window.THREE.Vector3(1,1,0),x=new window.THREE.Vector3;b.prototype.no=function(a,b,d,c){_geo.y.scene.Object3D.prototype.no.call(this,a,b,d,c);if(this.visible){var e;for(e=0;e<this.children.length;e++)this.children[e].F5(a,b);this.worldToLocal(x.copy(b.position));var g=this.nI();e=g(this.planes.bottom,a,b);var f=g(this.planes.back,a,b),k=g(this.planes.left,a,b),g=g(this.planes.right,a,b);this.planes.top.xt(null,null,null,
!1);this.planes.bottom.xt(null,null,null,!1);this.planes.front.xt(null,null,null,!1);this.planes.back.xt(null,null,null,!1);this.planes.left.xt(null,null,null,!1);this.planes.right.xt(null,null,null,!1);var G=_geo.y.scene.ze.RQ.LVa;f?e?k?(this.planes.front.xt("x",G.start,h,!0),this.planes.bottom.xt("y",G.end,l,!0),this.planes.left.xt("z",G.start,p,!0)):(this.planes.front.xt("x",G.start,h,!0),this.planes.bottom.xt("y",G.start,n,!0),this.planes.front.xt("z",G.end,r,!0)):k?(this.planes.front.xt("x",
G.end,t,!0),this.planes.top.xt("y",G.end,q,!0),this.planes.left.xt("z",G.start,p,!0)):(this.planes.front.xt("x",G.end,t,!0),this.planes.bottom.xt("y",G.end,l,!0),this.planes.back.xt("z",G.start,m,!0)):e?g?(this.planes.back.xt("x",G.start,u,!0),this.planes.bottom.xt("y",G.start,n,!0),this.planes.back.xt("z",G.end,w,!0)):(this.planes.back.xt("x",G.start,u,!0),this.planes.bottom.xt("y",G.end,l,!0),this.planes.back.xt("z",G.start,m,!0)):g?(this.planes.back.xt("x",G.end,v,!0),this.planes.top.xt("y",G.start,
n,!0),this.planes.back.xt("z",G.end,w,!0)):(this.planes.front.xt("x",G.start,h,!0),this.planes.top.xt("y",G.end,q,!0),this.planes.back.xt("z",G.start,m,!0));var J,f=[],k=[];for(J in this.planes){g=this.planes[J].Ded(a,b,d,c);for(e=0;e<g.filter.length;e++)f.push(g.filter[e]);for(e=0;e<g.nofilter.length;e++)k.push(g.nofilter[e])}_geo.y.Bb.Ybd(a,b,f,6,new window.THREE.Vector4(0,4,0,0),k)}};return b}();
_geo.y.scene.ze.vYa=function(){function b(b){_geo.y.scene.Object3D.call(this);null==b.axis&&(b.axis={});null==b.grid&&(b.grid={});b.axis=_geo.geotoolkit.Ca(b.axis,{textstyle:k,linestyle:c,formatter:a});b.grid=_geo.geotoolkit.Ca(b.grid,{linestyle:f});b=_geo.geotoolkit.Ca(b,{count:3,modelcenter:0,modelsize:10});this.setOptions(b);this.name="POLARGRID"}function a(a){return a.toFixed(0)}var g="POLAR_AXIS",d="POLAR_GRID",e="POLAR_AXIS_TEXT",c=new _geo.geotoolkit.attributes.Aa("white"),f=new _geo.geotoolkit.attributes.Aa("grey"),
k=new _geo.geotoolkit.attributes.eb({color:"white",font:"11px Arial"});_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.grid.PolarGrid");b.prototype.setOptions=function(a){for(var b=this.children.length-1;0<=b;b--)this.remove(this.children[b]);null==a.axis&&(a.axis={});null==a.grid&&(a.grid={});a.axis=_geo.geotoolkit.Ca(a.axis,{textstyle:this.$Ea(),linestyle:this.MDa(),formatter:this.LDa()});a.grid=_geo.geotoolkit.Ca(a.grid,{linestyle:this.oEa()});b=_geo.geotoolkit.Ca(a,
{count:this.Qn(),modelcenter:this.MVb(),modelsize:this.IEa()});this.x9a=b.modelcenter;this.y9a=b.modelsize;a=null!=a.axis.formatter&&"function"===typeof a.axis.formatter?a.axis.formatter:function(a){return a};for(var c=b.count,e=0;e<c;e++){var f=0===e||e===c-1,k=_geo.y.util.bJ.G8(f?b.axis.linestyle:b.grid.linestyle),k=new window.THREE.Line(new _geo.y.scene.ellipse.XBb,k);k.scale.set((c-e)/c,(c-e)/c,(c-e)/c);k.name=f?g:d;this.add(k)}c=_geo.y.util.bJ.G8(b.grid.linestyle);e=new window.THREE.Geometry;
e.vertices.push(new window.THREE.Vector3(-.5,0,0));e.vertices.push(new window.THREE.Vector3(.5,0,0));this.add(new window.THREE.Line(e,c));e=new window.THREE.Geometry;e.vertices.push(new window.THREE.Vector3(0,-.5,0));e.vertices.push(new window.THREE.Vector3(0,.5,0));this.add(new window.THREE.Line(e,c));this.OOb=new _geo.y.scene.Nha(a(this.y9a-this.x9a)+"",{style:b.axis.textstyle});this.OOb.position.copy(new window.THREE.Vector3(0,-.5,0));this.OOb.Nva(new window.THREE.Vector3(0,-1,0));this.add(this.OOb);
this.r7b=new _geo.y.scene.Nha(a(this.y9a-this.x9a)+"",{style:b.axis.textstyle});this.r7b.position.copy(new window.THREE.Vector3(0,.5,0));this.r7b.Nva(new window.THREE.Vector3(0,1,0));this.add(this.r7b);this.XYb=new _geo.y.scene.Nha(a(this.y9a-this.x9a)+"",{style:b.axis.textstyle});this.XYb.position.copy(new window.THREE.Vector3(.5,0,0));this.XYb.Nva(new window.THREE.Vector3(1,0,0));this.add(this.XYb);this.m1b=new _geo.y.scene.Nha(a(this.y9a-this.x9a)+"",{style:b.axis.textstyle});this.m1b.position.copy(new window.THREE.Vector3(-.5,
0,0));this.m1b.Nva(new window.THREE.Vector3(-1,0,0));this.add(this.m1b)};b.prototype.oEa=function(){var a=null;this.traverse(function(b){b.name===d&&(a=b.material.l_)});return a};b.prototype.MDa=function(){var a=null;this.traverse(function(b){b.name===g&&(a=b.material.l_)});return a};b.prototype.$Ea=function(){var a=null;this.traverse(function(b){b.name===e&&(a=b.Ib())});return a};b.prototype.LDa=function(){var a=null;this.traverse(function(b){b.name===e&&(a=b.Usa)});return a};b.prototype.Qn=function(){var a=
0;this.traverse(function(b){b.name!==d&&b.name!==g||a++});return a};b.prototype.MVb=function(){return this.x9a};b.prototype.IEa=function(){return this.y9a};return b}();
_geo.y.data.Dc.cX=function(){function b(a){a=_geo.geotoolkit.Ca(a,{trianglestrip:!0,interleaved:!1,bufferpadding:0});this.uqc=a.trianglestrip;this.$lc=a.interleaved;this.hkc=a.bufferpadding}_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.AbstractSurfaceData");b.prototype.getAttributes=_geo.geotoolkit.Ia;b.prototype.VDa=function(){return{geometry:_geo.y.scene.Dc.SKa,material:_geo.y.scene.Dc.Ghc}};return b}();
_geo.y.util.Dc.Tw=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.surface.Surface");var a=_geo.y.util.ck;b.OT=-999999;b.Lgc=b.OT.toFixed(1);b.wH=a.yo+"NullValue";b.x0c=["varying float "+a.Ys+";","uniform float "+b.wH+";","bool isnan( float val )\n{\n   return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;\n}"].join("\n");b.v0c=["#ifdef "+a.Y5,"   "+a.Ys+" = isnan("+a.yo+") || abs( "+a.yo+" - "+b.wH+" ) < 0.000001 ? 1.0 : 0.0 ;","#endif"].join("\n");b.w0c=["#ifdef "+a.Y5,
"   "+a.Ys+" = position.z == "+b.Lgc+" ? 1.0 : "+a.Ys+" ;","#else","   "+a.Ys+" = position.z == "+b.Lgc+" ? 1.0 : "+a.Ys+" ;","#endif"].join("\n");b.u0c=""+("varying float "+a.Ys+";");b.t0c=""+("if("+a.Ys+" != 0.0) discard;");b.BKa=a.B6;b.vgb=a.DX;b.BKa=a.hp(b.BKa,a.$s,[b.x0c,a.$s,b.v0c].join("\n"),!0);b.BKa=a.hp(b.BKa,a.$Ya,b.w0c,!1,!1);b.vgb=a.hp(b.vgb,a.$s,[b.u0c,a.$s,b.t0c].join("\n"),!0);b.dsc=function(a){a.uniforms[b.wH]={type:"f",value:-999.25}};b.ppd=function(a,d){var e=d.data||{},e=_geo.geotoolkit.Ca(e,
{nullvalue:a.uniforms[b.wH].value},!0);a.uniforms[b.wH].value=e.nullvalue;a.uniforms[b.wH].needsUpdate=!0};b.HXc="#ifndef HEIGHTMAP_SHADER_UTILS\n   #define HEIGHTMAP_SHADER_UTILS\n   const vec3 cgheightmapTextureOffset = vec3(-1.0, 0.0, 1.0);\n   const vec2 cgheightmapDirection = vec2(2.0,0.0);\n#endif";b.F_c=["#ifndef REGULAR_HEIGHTMAP_FORMULA\n   #define REGULAR_HEIGHTMAP_FORMULA",b.HXc,"   vec4 computeRegularHeightValue(sampler2D cgheightmap, vec2 tex_coord, vec2 cgheightmapSize, float cgzOrient) {\n       float s11 = texture2D(cgheightmap, tex_coord).x * cgzOrient;\n       float s01 = texture2D(cgheightmap, tex_coord + cgheightmapTextureOffset.xy / cgheightmapSize).x * cgzOrient;\n       float s21 = texture2D(cgheightmap, tex_coord + cgheightmapTextureOffset.zy / cgheightmapSize).x * cgzOrient;\n       float s10 = texture2D(cgheightmap, tex_coord + cgheightmapTextureOffset.yx / cgheightmapSize).x * cgzOrient;\n       float s12 = texture2D(cgheightmap, tex_coord + cgheightmapTextureOffset.yz / cgheightmapSize).x * cgzOrient;\n       vec3 va = normalize(vec3(cgheightmapDirection.xy, s21 - s01));\n       vec3 vb = normalize(vec3(cgheightmapDirection.yx, s12 - s10));\n       return vec4(cross(va, vb), s11);\n   }\n#endif"].join("\n");
b.Yic="USE_VALUE_MAP";var g=[b.F_c,"uniform sampler2D cgheightmap;\nuniform sampler2D cgvaluemap;\nuniform vec2 cgheightmapSize;\nuniform vec2 cggridStart;\nuniform vec2 cggridSteps;\nuniform float cgzOrient;"].join("\n"),d=["#ifdef "+b.Yic,"float "+a.yo+" = texture2D(cgvaluemap, uv).x;","#endif"].join("\n"),e="vec3 alteredPosition = vec3(position);\nvec4 bump = computeRegularHeightValue(cgheightmap, uv, cgheightmapSize, cgzOrient);\nalteredPosition.z += bump.w;\ntransformedNormal = normalMatrix * normalize(-bump.xyz);\n#ifdef USE_SKINNING\n   vec4 mvPosition = modelViewMatrix * skinned;\n#elif defined( USE_MORPHTARGETS )\n   vec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n#else\n   vec4 mvPosition = modelViewMatrix * vec4( alteredPosition, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;";
b.Xxa=b.BKa;b.FCb=b.vgb;b.Xxa=a.hp(b.Xxa,a.$s,g,!1,!0);b.Xxa=a.hp(b.Xxa,a.Zgb,d,!1,!1);b.Xxa=a.hp(b.Xxa,a.Rhc,e,!0);b.FCb=a.hp(b.FCb,a.$s,"varying vec2 vTextCoord;",!1,!0);b.Q7c=function(a){a.uniforms.cgheightmap={type:"tv",value:null};a.uniforms.cgvaluemap={type:"tv",value:null};a.uniforms.cgheightmapSize={type:"v2",value:new window.THREE.Vector2};a.uniforms.cggridStart={type:"v2",value:new window.THREE.Vector2(0,0)};a.uniforms.cggridSteps={type:"v2",value:new window.THREE.Vector2(0,0)};a.uniforms.cgzOrient=
{type:"f",value:0}};b.ipd=function(a,d){var e={};if(null!=d.data){var e=_geo.geotoolkit.Ca(d.data,{xmin:a.uniforms.cggridStart.value.x,ymin:a.uniforms.cggridStart.value.y,xstep:a.uniforms.cggridSteps.value.x,ystep:a.uniforms.cggridSteps.value.y,zsign:a.uniforms.cgzOrient.value,texture:null!=d.data.surface?d.data.surface.getAttributes().heightmap:a.uniforms.cgheightmap.value},!0),g=e.texture;null!=g&&g!==a.uniforms.cgheightmap.value&&(a.uniforms.cgheightmap.value=g,a.uniforms.cgheightmapSize.value.set(g.image.width,
g.image.height),a.uniforms.cgheightmap.needsUpdate=!0,a.uniforms.cgheightmapSize.needsUpdate=!0);a.uniforms.cggridStart.value.set(e.xmin,e.ymin);a.uniforms.cggridSteps.value.set(e.xstep,e.ystep);a.uniforms.cgzOrient.value=e.zsign;a.uniforms.cgzOrient.needsUpdate=!0;a.uniforms.cggridStart.needsUpdate=!0;a.uniforms.cggridSteps.needsUpdate=!0;e.values instanceof window.THREE.Texture&&(a.defines[b.Yic]=1,a.uniforms.cgvaluemap.value=e.values,a.uniforms.cgvaluemap.needsUpdate=!0)}};return b}();
_geo.y.util.Dc.EIa=function(){function b(a,b,d,c,e){var g,r=a.getX(c),t=a.getY(c);a=a.getZ(c);_geo.y.util.Math.zfa(b,r,t,a,e,_geo.y.util.Dc.Tw.OT);(0,window.isNaN)(e[0])&&(0,window.isNaN)(e[1])&&(0,window.isNaN)(e[2])||(b=d.getX(r),c=d.getY(r),g=d.getZ(r),d.setXYZ(r,b+e[0],c+e[1],g+e[2]),b=d.getX(t),c=d.getY(t),g=d.getZ(t),d.setXYZ(t,b+e[0],c+e[1],g+e[2]),b=d.getX(a),c=d.getY(a),g=d.getZ(a),d.setXYZ(a,b+e[0],c+e[1],g+e[2]));return e}function a(a,b){var d=b.width,c=b.height,e,g,r,t,q=0;a.setX(q++,
0);for(t=0;t<c-1;t++){(e=0===t%2)?a.setX(q++,0+d*(t+1)):a.setX(q++,d-1+d*(t+1));for(var m=1;m<d;m++)e?(g=m+d*(t+1),r=m+d*t):(g=d*(t+2)-(m+1),r=d*(t+1)-(m+1)),a.setX(q++,r),a.setX(q++,g)}}function g(a,b,d){var c=[],e,g,r,t;for(t=0;t<a.count-2;t++){var q=a.getX(t),m=a.getX(t+1),u=a.getX(t+2);0===t%2?_geo.y.util.Math.zfa(b,q,m,u,c,_geo.y.util.Dc.Tw.OT):_geo.y.util.Math.zfa(b,q,u,m,c,_geo.y.util.Dc.Tw.OT);(0,window.isNaN)(c[0])&&(0,window.isNaN)(c[1])&&(0,window.isNaN)(c[2])||(e=d.getX(q),g=d.getY(q),
r=d.getZ(q),d.setXYZ(q,e+c[0],g+c[1],r+c[2]),e=d.getX(m),g=d.getY(m),r=d.getZ(m),d.setXYZ(m,e+c[0],g+c[1],r+c[2]),e=d.getX(u),g=d.getY(u),r=d.getZ(u),d.setXYZ(u,e+c[0],g+c[1],r+c[2]))}for(t=0;t<d.count;t++)e=d.getX(t),g=d.getY(t),r=d.getZ(t),a=Math.sqrt(e*e+g*g+r*r),d.setXYZ(t,e/a,g/a,r/a)}function d(a,b,d){var c=b.width,e=b.height,g,r,t,q,m,u;for(g=0;g<e;g++)for(r=0;r<c;r++){q=b.xmin+r*b.xstep;m=b.ymin+g*b.ystep;if(null!=b.elevation){t=b.elevation[r+g*c];var v=(0,window.isNaN)(t)||t===b.nullvalue;
u=v?_geo.y.util.Dc.Tw.OT:t;v||(d.zmin=null==d.zmin?t:Math.min(t,d.zmin),d.zmax=null==d.zmax?t:Math.max(t,d.zmax))}else u=0;t=g*c+r;a.setXYZ(t,q,m,u)}}function e(){}function c(a,b,d){for(var c=0,e=0;e<a;e++)for(var g=0;g<b;g++)if(e<a-1&&g<b-1){var c=6*(e*(b-1)+g),r=g+b*e,t=g+b*(e+1),q=g+1+b*(e+1),m=g+1+b*e;d.setXYZ(c,r,t,m);d.setXYZ(c+3,t,q,m)}}_geo.geotoolkit.da(e,"geotoolkit3d.util.surface.BasicTriangulator");e.triangulate=function(b){b.interleaved=!0;null==b.bufferpadding&&(b.bufferpadding=0);var k=
_geo.geotoolkit.Ca(b.data,{xmin:0,xstep:1,ymin:0,ystep:1,normals:!0,trianglestrip:!0}),h=k.normals,l={triangles:{},trianglestrip:k.trianglestrip},n=k.width,p=k.height,r=n*p;if(3>n||3>p)throw Error("Unsupported operation: cannot triangulate a grid with less than 3 rows or less than 2 columns");var t,q,m=k.trianglestrip?new window.THREE.BufferAttribute(new window.Uint32Array(1+n-1+2*(p-1)*(n-1)),1):new window.THREE.BufferAttribute(new window.Uint32Array((p-1)*(n-1)*6),1);b.interleaved?(null!=b.data.values&&
b.bufferpadding++,b=3+b.bufferpadding,h&&(b+=3),r=new window.Float32Array(r*b),r=new window.THREE.InterleavedBuffer(r,b),t=new window.THREE.InterleavedBufferAttribute(r,3,0),h&&(q=new window.THREE.InterleavedBufferAttribute(r,3,3)),l=_geo.geotoolkit.Ca(l,{buffersize:b,bufferused:h?6:3,buffer:r})):(t=new window.THREE.BufferAttribute(new window.Float32Array(3*r),3),h&&(q=new window.THREE.BufferAttribute(new window.Float32Array(3*r),3)));d(t,k,l);l.trianglestrip?(a(m,k),h&&g(m,t,q)):(c(p,n,m),h&&e.dvc(m,
t,q));l.triangles=_geo.geotoolkit.Ca(l.triangles,{position:t,index:m});h&&(l.triangles.normal=q);return l};e.dvc=function(a,d,c){var e,g,p;g=[];for(e=0;e<a.count;e+=3)b(a,d,c,e,g);for(e=0;e<c.count;e++)d=c.getX(e),g=c.getY(e),p=c.getZ(e),a=Math.sqrt(d*d+g*g+p*p),c.setXYZ(e,d/a,g/a,p/a)};return e}();
_geo.y.util.Dc.hKa=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.surface.PillarTriangulator");b.CLc=function(){var a=new window.THREE.Vector3,b=new window.THREE.Vector3;return function(d,e){var c=0;if(Number.isInteger(e))c=e;else for(var f=0;f<d.length;f++)c=Math.max(c,d[f].x.length);for(f=0;f<d.length;f++)for(var k=d[f],h=k.x,l=k.y,k=k.z,n=c-h.length,p=0;p<n;p++){for(var r=0,t=0,q=0;q<h.length-1;q++){a.set(h[q],l[q],k[q]);a.set(h[q+1],l[q+1],k[q+1]);var m=a.distanceTo(b);m>r&&
(a.add(b).multiplyScalar(.5),r=m,t=q)}h.splice(t+1,0,a.x);l.splice(t+1,0,a.y);k.splice(t+1,0,a.z)}return d}}();b.c1b=null;b.DOb=!0;b.COb=!0;b.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{resamplingpointcount:b.c1b,autosortpillars:b.DOb,autosortpillarpoints:b.COb});b.c1b=a.resamplingPointCount;b.DOb=a.autosortpillars;b.COb=a.autosortpillarpoints};b.hqd=function(a){a.forEach(function(a){for(var b=[],e=[],c=[],f=-1,k=Number.MAX_VALUE,h=0;h<a.z.length;h++)a.z[h]<k&&(f=h,k=a.z[h]);b.push(a.x[f]);e.push(a.y[f]);
c.push(a.z[f]);f=[f];k=new window.THREE.Vector3;for(h=0;h<a.z.length-1;h++){for(var l=new window.THREE.Vector3(b[b.length-1],e[b.length-1],c[b.length-1]),n=Number.MAX_VALUE,p=-1,r=0;r<a.z.length;r++)if(-1===f.indexOf(r)){var t=l.distanceTo(k.set(a.x[r],a.y[r],a.z[r]));n>t&&(n=t,p=r)}f.push(p);b.push(a.x[p]);e.push(a.y[p]);c.push(a.z[p])}a.x=b;a.y=e;a.z=c});return a};b.gqd=function(a){for(var b=Number.MAX_VALUE,d=-Number.MAX_VALUE,e=[],c=0;c<a.length;c++)b=Math.min(b,a[c].x[0]),d=Math.max(d,a[c].x[0]),
e.push([a[c].x[0],a[c].y[0]]);for(var c=_geo.y.util.Math.yuc(e),f=c.a,k=c.b,c=[],h=0;h<e.length;h++){var l=e[h],n=l[0],p=l[1],l=f*b+k,r=f*d+k,t=d-b,r=r-l,q=t*t+r*r,n=((n-b)*t+(p-l)*r)/q,t=b+n*t,l=l+n*r;c.push([t,l,h])}c.sort(function(a,b){return 0===a[0]-b[0]?a[1]-b[1]:0>a[0]-b[0]?-1:1});b=[];for(d=0;d<c.length;d++)b.push(a[c[d][2]]);return b};b.triangulate=function(a){var g=_geo.geotoolkit.Ca(a.data,{}),d=_geo.geotoolkit.Ca(a,{resamplingpointcount:b.c1b,autosortpillars:b.DOb,autosortpillarpoints:b.COb});
a=[];g=g.pillars;d.autosortpillarpoints&&(g=_geo.y.util.Dc.hKa.hqd(g));d.autosortpillars&&(g=_geo.y.util.Dc.hKa.gqd(g));0<d.resamplingpointcount&&(g=_geo.y.util.Dc.hKa.CLc(g,d.resamplingpointcount));for(var e=0,c=0;c<g.length;c++){d=g[c];d.indices=[];for(var f=0;f<d.x.length;f++)a.push(d.x[f]),a.push(d.y[f]),a.push(d.z[f]),d.indices.push(e++)}e=[];for(c=0;c<g.length-1;c++)for(var d=g[c],f=g[c+1],k=0,h=0,l=new window.THREE.Vector3(d.x[k],d.y[k],d.z[k]),n=new window.THREE.Vector3(f.x[h],f.y[h],f.z[h]);k<
d.indices.length-1||h<f.indices.length-1;)if(k+1>=d.indices.length)e.push(d.indices[k],f.indices[h],f.indices[h+1]),h+=1,n=new window.THREE.Vector3(f.x[h],f.y[h],f.z[h]);else if(h+1>=f.indices.length)e.push(d.indices[k],f.indices[h],d.indices[k+1]),k+=1,l=new window.THREE.Vector3(d.x[k],d.y[k],d.z[k]);else{var p,r;p=new window.THREE.Vector3(d.x[k+1],d.y[k+1],d.z[k+1]);r=new window.THREE.Vector3(f.x[h+1],f.y[h+1],f.z[h+1]);var t=l.distanceTo(p)+n.distanceTo(p),q=l.distanceTo(r)+n.distanceTo(r);t<q?
(e.push(d.indices[k],f.indices[h],d.indices[k+1]),k+=1,l=p):(e.push(d.indices[k],f.indices[h],f.indices[h+1]),h+=1,n=r)}return a={triangles:{position:new window.Float32Array(a),index:new window.Uint32Array(e)}}};return b}();
_geo.y.data.Dc.gKa=function(){function b(a){a=b.SW(a);this.triangles={};var g=a.triangles.position,g=g instanceof window.Float32Array?g:new window.Float32Array(g),d=a.triangles.index,d=d instanceof window.Uint32Array?d:new window.Uint32Array(d);this.triangles.vertices=new window.THREE.BufferAttribute(g,3);this.triangles.indices=new window.THREE.BufferAttribute(d,1);this.Gna=!0===a.trianglestrip}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.PillarSurfaceData");
b.SW=_geo.y.util.Dc.hKa.triangulate;b.prototype.getAttributes=function(){var a={position:this.triangles.vertices,index:this.triangles.indices,trianglestrip:this.Gna};return a};return b}();
_geo.y.data.Dc.oJa=function(){function b(a){_geo.y.data.Dc.cX.call(this,a);var g=_geo.geotoolkit.Ca(a,{trianglestrip:this.uqc,interleaved:this.$lc,bufferpadding:this.hkc}),d;null!=a.data.value&&(g.bufferpadding+=1);d=b.SW(g);var e=d.triangles.position;if(null!=a.data.values)for(a=a.data.values,this.value=g.interleaved?new window.THREE.InterleavedBufferAttribute(d.buffer,1,d.bufferused):new window.THREE.BufferAttribute(new window.Float32Array(e.count),1),g=0;g<a.length;g++)this.value.setX(g,a[g]);
e instanceof window.THREE.BufferAttribute||e instanceof window.THREE.InterleavedBufferAttribute?this.vertices=e:(e=e instanceof window.Float32Array?e:new window.Float32Array(e),this.vertices=new window.THREE.BufferAttribute(e,3));e=d.triangles.index;e instanceof window.THREE.BufferAttribute?this.indices=e:(e=e instanceof window.Uint32Array?e:new window.Uint32Array(e),this.indices=new window.THREE.BufferAttribute(e,1));e=d.triangles.normal;null!=e&&(e instanceof window.THREE.BufferAttribute||e instanceof
window.THREE.InterleavedBufferAttribute?this.normals=e:(e=e instanceof window.Float32Array?e:new window.Float32Array(e),this.normals=new window.THREE.BufferAttribute(e,3)));this.Gna=!0===d.trianglestrip;this.w9a=d.zmin;this.n9a=d.zmax}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.GridSurfaceData");b.Pqd=_geo.y.util.Dc.EIa.CAd;b.SW=_geo.y.util.Dc.EIa.triangulate;b.prototype.getAttributes=function(){var a={position:this.vertices,index:this.indices,normal:this.normals,
trianglestrip:this.Gna,zmin:this.w9a,zmax:this.n9a};this.value&&(a.values=this.value);return a};return b}();
_geo.y.data.Dc.RKa=function(){function b(a){_geo.y.data.Dc.cX.call(this,a);var g=_geo.geotoolkit.Ca(a,{trianglestrip:this.uqc,interleaved:this.$lc,bufferpadding:this.hkc});g.interleaved=!1;var d;null!=a.data.value&&(g.bufferpadding+=1);d=b.SW(g);var e=d.triangles.position;if(null!=a.data.values)for(a=a.data.values,this.value=g.interleaved?new window.THREE.InterleavedBufferAttribute(d.buffer,1,d.bufferused):new window.THREE.BufferAttribute(new window.Float32Array(e.count),1),g=0;g<a.length;g++)this.value.setX(g,
a[g]);e instanceof window.THREE.BufferAttribute||e instanceof window.THREE.InterleavedBufferAttribute?this.vertices=e:(e=e instanceof window.Float32Array?e:new window.Float32Array(e),this.vertices=new window.THREE.BufferAttribute(e,3));e=d.triangles.index;e instanceof window.THREE.BufferAttribute?this.indices=e:(e=e instanceof window.Uint32Array?e:new window.Uint32Array(e),this.indices=new window.THREE.BufferAttribute(e,1));e=d.triangles.normal;null!=e&&(e instanceof window.THREE.BufferAttribute||
e instanceof window.THREE.InterleavedBufferAttribute?this.normals=e:(e=e instanceof window.Float32Array?e:new window.Float32Array(e),this.normals=new window.THREE.BufferAttribute(e,3)));this.Gna=!0===d.trianglestrip;this.w9a=d.zmin;this.n9a=d.zmax;this.JZb=d.xmin;this.vZb=d.xmax;this.KZb=d.ymin;this.wZb=d.ymax}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.SurfaceData");b.SW=function(a){var b=a.data.x,d=a.data.y,e=a.data.z,c,f,k,h,l;a=c=f=Number.POSITIVE_INFINITY;
k=h=l=Number.NEGATIVE_INFINITY;for(var n=Array(3*b.length),p=0;p<b.length;p++){var r=3*p;n[r]=b[p];n[r+1]=d[p];n[r+2]=e[p];a>b[p]&&(a=b[p]);k<b[p]&&(k=b[p]);c>d[p]&&(c=d[p]);h<d[p]&&(h=d[p]);f>e[p]&&(f=e[p]);l<e[p]&&(l=e[p])}b=_geo.geotoolkit.util.IBb.triangulate(n);return{triangles:{position:new window.Float32Array(n),index:new window.Uint32Array(b)},trianglestrip:!1,xmin:a,xmax:k,ymin:c,ymax:h,zmin:f,zmax:l}};b.prototype.getAttributes=function(){var a={position:this.vertices,index:this.indices,
normal:this.normals,trianglestrip:this.Gna,zmin:this.w9a,zmax:this.n9a,xmin:this.JZb,xmax:this.vZb,ymin:this.KZb,ymax:this.wZb};this.value&&(a.values=this.value);return a};return b}();
_geo.y.data.Dc.lZa=function(){function b(a){var b=a.data.xyz,b=b instanceof window.THREE.BufferAttribute||b instanceof window.THREE.InterleavedBufferAttribute?b:b instanceof window.Float32Array?new window.THREE.BufferAttribute(b,3):new window.THREE.BufferAttribute(new window.Float32Array(b),3),d=a.data.indices,d=d instanceof window.THREE.BufferAttribute?d:d instanceof window.Uint32Array||d instanceof window.Uint16Array?new window.THREE.BufferAttribute(d,1):new window.THREE.BufferAttribute(new window.Uint32Array(d),
1),e=a.data.normal;null!=e&&(this.normal=e=e instanceof window.THREE.BufferAttribute||e instanceof window.THREE.InterleavedBufferAttribute?e:e instanceof window.Uint32Array||e instanceof window.Uint16Array?new window.THREE.BufferAttribute(e,1):new window.THREE.BufferAttribute(new window.Uint32Array(e),1));this.values=a.data.values;this.vertices=b;this.indices=d;this.Gna=!0===a.usetrianglestrips||!0===a.usetringlestrips}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.TrimeshSurfaceData");
b.prototype.getAttributes=function(){var a={position:this.vertices,index:this.indices,trianglestrip:this.Gna};this.normal&&(a.normal=this.normal);this.values&&(a.values=this.values);return a};return b}();
_geo.y.scene.Dc.SKa=function(){function b(a){window.THREE.BufferGeometry.call(this);this.type="SurfaceGeometry";a=_geo.geotoolkit.Ca(a,{});var b=a.data.surface.getAttributes(),d=b.position;this.addAttribute("position",d);this.setIndex(b.index);null!=b.normal?this.addAttribute("normal",b.normal):this.computeVertexNormals(b.normal);b.values&&(b.values instanceof window.THREE.BufferAttribute||b.values instanceof window.THREE.InterleavedBufferAttribute?this.addAttribute(_geo.y.util.ck.yo,b.values):b.values instanceof
window.Float32Array?this.addAttribute(_geo.y.util.ck.yo,new window.THREE.BufferAttribute(b.values,1)):this.addAttribute(_geo.y.util.ck.yo,new window.THREE.BufferAttribute(new window.Float32Array(b.values),1)));null!=b.xmin&&b.xmax&&null!=b.ymin&&b.ymax&&null!=b.zmin&&b.zmax&&(d=new window.THREE.Vector3(b.xmin,b.ymin,b.zmin),b=new window.THREE.Vector3(b.xmax,b.ymax,b.zmax),this.boundingBox=new window.THREE.Box3(d,b));this.setOptions(a)}_geo.geotoolkit.fa(b,window.THREE.BufferGeometry);_geo.geotoolkit.da(b,
"geotoolkit3d.scene.surface.SurfaceGeometry");b.prototype.setOptions=function(a){null!=a.data&&(Array.isArray(a.data.values)||a.data.values instanceof window.Float32Array)&&this.Hrd(a.data.values)};b.prototype.computeBoundingBox=function(){for(var a=this.getAttribute("position"),b=new window.THREE.Vector3(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),d=new window.THREE.Vector3(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),e=0;e<a.count;e++){b.x=
Math.min(a.getX(e),b.x);d.x=Math.max(a.getX(e),d.x);b.y=Math.min(a.getY(e),b.y);d.y=Math.max(a.getY(e),d.y);var c=a.getZ(e);c!==_geo.y.util.Dc.Tw.OT&&(b.z=Math.min(c,b.z),d.z=Math.max(c,d.z))}this.boundingBox=new window.THREE.Box3(b,d)};b.prototype.computeBoundingSphere=function(){null==this.boundingBox&&this.computeBoundingBox();this.boundingSphere=new window.THREE.Sphere;this.boundingBox.getBoundingSphere(this.boundingSphere)};b.prototype.Hrd=function(a){var b=this.getAttribute("position").count;
a.length!==b&&_geo.geotoolkit.log("Given values array does not match vertices count: "+b+"="+b+", actual="+a.length);var d=this.getAttribute(_geo.y.util.ck.yo);null==d&&(d=new window.THREE.BufferAttribute(new window.Float32Array(b),1),this.addAttribute(_geo.y.util.ck.yo,d));for(b=0;b<d.count;b++)d.setX(b,a[b])};b.prototype.computeVertexNormals=function(){var a=this.getAttribute("position");if(a){var b=this.getAttribute("normal");void 0===b&&(b=new window.THREE.BufferAttribute(new window.Float32Array(a.count*
a.itemSize),3),this.addAttribute("normal",b));_geo.y.util.Dc.EIa.dvc(this.getIndex(),a,b)}};return b}();
_geo.y.scene.Dc.Ghc=function(){function b(b){_geo.y.scene.ZD.call(this,{});this.type="SurfaceMaterial";b=_geo.geotoolkit.Ca(b,{},!0);a.dsc(this);this.vertexShader=a.BKa;this.fragmentShader=a.vgb;this.setOptions(b)}var a=_geo.y.util.Dc.Tw;_geo.geotoolkit.fa(b,_geo.y.scene.ZD);_geo.geotoolkit.da(b,"geotoolkit3d.scene.surface.SurfaceMaterial");_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.D0);b.wH=_geo.y.util.ck.yo+"NullValue";b.Ys=_geo.y.scene.ZD.Ys;b.prototype.setOptions=function(a){_geo.y.scene.ZD.prototype.setOptions.call(this,
a);null!=this.uniforms[b.wH]&&(a=a.data||{},a=_geo.geotoolkit.Ca(a,{nullvalue:this.uniforms[b.wH].value},!0),this.uniforms[b.wH].value=a.nullvalue,this.uniforms[b.wH].needsUpdate=!0)};return b}();
_geo.y.data.Dc.qJa=function(){function b(a){a.data=_geo.geotoolkit.Ca(a.data,{xmin:0,ymin:0,xstep:1,ystep:1,width:a.data.heightmap.image.width,height:a.data.heightmap.image.height,normals:!1,trianglestrip:!1},!0);var g=b.SW(a),d=g.triangles.position,e;this.triangles={};e=d instanceof window.THREE.BufferAttribute||d instanceof window.THREE.InterleavedBufferAttribute?d:d instanceof window.Float32Array?new window.THREE.BufferAttribute(d,3):new window.THREE.BufferAttribute(new window.Float32Array(d),
3);g=g.triangles.index;d=g instanceof window.THREE.BufferAttribute?g:d instanceof window.Uint32Array||d instanceof window.Uint16Array?new window.THREE.BufferAttribute(g,1):new window.THREE.BufferAttribute(new window.Uint32Array(g),1);this.triangles.vertices=e;this.triangles.indices=d;this.Ngd=a.data.heightmap}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.HeightMapSurfaceData");b.SW=_geo.y.util.Dc.EIa.triangulate;b.prototype.getAttributes=function(){var a=
{position:this.triangles.vertices,index:this.triangles.indices,heightmap:this.Ngd};return a};b.prototype.VDa=function(){return{geometry:_geo.y.scene.Dc.Hbc,material:_geo.y.scene.Dc.Ibc}};return b}();
_geo.y.scene.Dc.Hbc=function(){function b(a){_geo.y.scene.Dc.SKa.call(this,a)}var a=new window.THREE.Vector3(0,0,1);_geo.geotoolkit.fa(b,_geo.y.scene.Dc.SKa);_geo.geotoolkit.da(b,"geotoolkit3d.scene.surface.HeightMapSurfaceGeometry");b.prototype.computeBoundingBox=function(){_geo.y.scene.Dc.SKa.prototype.computeBoundingBox.call(this);this.boundingBox.expandByVector(a)};b.prototype.computeVertexNormals=function(){var a=this.getAttribute("position");if(a){var b=this.getAttribute("uv");if(void 0===b){b=
new window.THREE.BufferAttribute(new window.Float32Array(2*a.count),2);this.addAttribute("uv",b);this.computeBoundingBox();var e=new window.THREE.Vector3;this.boundingBox.getSize(e);for(var c=0;c<a.count;c++){var f=(a.getX(c)-this.boundingBox.min.x)/e.x,k=(a.getY(c)-this.boundingBox.min.y)/e.y;b.setX(c,f);b.setY(c,k)}}}};return b}();
_geo.y.scene.Dc.Ibc=function(){function b(g){_geo.y.scene.ZD.call(this,{});this.type="HeightMapSurfaceMaterial";null==g&&(g={});null==g.data&&(g.data={});g.data=_geo.geotoolkit.Ca(g.data,{xmin:0,ymin:0,xstep:1,ystep:1,zsign:1},!0);g=_geo.geotoolkit.Ca(g,{});a.dsc(this);a.Q7c(this);this.vertexShader=a.Xxa;this.fragmentShader=a.FCb;b.prototype.setOptions.call(this,g)}var a=_geo.y.util.Dc.Tw;_geo.geotoolkit.fa(b,_geo.y.scene.ZD);_geo.geotoolkit.da(b,"geotoolkit3d.scene.surface.HeightMapSurfaceMaterial");
_geo.y.Ge.Tz.oC(b.getClassName(),_geo.y.Ge.li.D0);b.prototype.setOptions=function(b){_geo.y.scene.ZD.prototype.setOptions.call(this,b);a.ppd(this,b);a.ipd(this,b)};return b}();
_geo.y.scene.Dc.Tw=function(){function b(a){_geo.y.scene.Object3D.call(this);this.type="Surface";a=_geo.geotoolkit.Ca(a,{colorprovider:new window.THREE.Color("red")});"string"===typeof a.colorprovider?(a.color=new window.THREE.Color(a.colorprovider),a.colorprovider=null,a.vertexcolors=null==a.vertexcolors?window.THREE.NoColors:a.vertexcolors):a.colorprovider instanceof window.THREE.Color&&(a.color=a.colorprovider,a.colorprovider=null,a.vertexcolors=null==a.vertexcolors?window.THREE.NoColors:a.vertexcolors);
var b=a.data.surface.VDa().material,d=a.data.surface.VDa().geometry;this.Wn=new window.THREE.Mesh(new d(a),new b(a));a.data.surface.getAttributes().trianglestrip&&(this.Wn.drawMode=window.THREE.TriangleStripDrawMode);this.add(this.Wn);this.SJb=this.scale.clone();this.Imc=this.Ouc(this.SJb);a.data=null;this.setOptions(a);this.name="SURFACE"}_geo.geotoolkit.fa(b,_geo.y.scene.Object3D);_geo.geotoolkit.da(b,"geotoolkit3d.scene.surface.Surface");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,
{});"string"===typeof a.colorprovider?(a.color=new window.THREE.Color(a.colorprovider),a.colorprovider=null,a.vertexcolors=null==a.vertexcolors?window.THREE.NoColors:a.vertexcolors):a.colorprovider instanceof window.THREE.Color&&(a.color=a.colorprovider,a.colorprovider=null,a.vertexcolors=null==a.vertexcolors?window.THREE.NoColors:a.vertexcolors);this.Wn.material.setOptions(a);this.Wn.geometry.setOptions(a);this.tj();return this};b.prototype.Ouc=function(a){var b=0;0>a.x&&b++;0>a.y&&b++;0>a.z&&b++;
return b%2};b.prototype.uh=function(){for(var a=this.Wn.geometry.index,b=Math.trunc(a.count/2),d=a.count-1,e=0;e<b;e++){var c=d-e,f=a.getX(e),k=a.getX(c);a.setX(c,f);a.setX(e,k)}a.needsUpdate=!0};b.prototype.no=function(a,b,d,e){_geo.y.scene.Object3D.prototype.no.call(this,a,b,d,e);this.SJb.equals(this.scale)||(a=this.Ouc(this.scale),a!==this.Imc&&this.uh(),this.SJb=this.scale.clone(),this.Imc=a)};return b}();
_geo.y.util.Dc.g$b=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit3d.util.surface.ContourLineTriangulator ");b.triangulate=function(a){a=_geo.geotoolkit.Ca(a,{applydepth:!0});for(var b=a.data.lines,d=a.applydepth,e=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,h=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,n=[],p=[],r=0;r<b.length;r++){var t=b[r],q=t.x.length,m=0;for(t.x[m]===t.x[q-1]&&t.y[m]===t.y[q-1]&&(q=t.x.length-1);m<
q;m++)e=Math.min(t.x[m],e),c=Math.max(t.x[m],c),f=Math.min(t.y[m],f),k=Math.max(t.y[m],k),n.push(t.x[m]),n.push(t.y[m]),d?n.push(t.z):n.push(0),p.push(t.z);h=Math.min(t.z,h);l=Math.max(t.z,l)}var u;try{u=null!=a.triangulator?new window.Uint32Array(a.triangulator(n)):new window.Uint32Array(_geo.geotoolkit.util.IBb.triangulate(n))}catch(v){_geo.geotoolkit.log(this.getClassName()+" failed to Triangulate")}return a={triangles:{position:new window.Float32Array(n),index:u},xmin:e,xmax:c,ymin:f,ymax:k,zmin:d?
h:0,zmax:d?l:0,valuemin:h,valuemax:l,values:p}};return b}();
_geo.y.data.Dc.UIa=function(){function b(a){a=b.SW(a);this.triangles={};var g=a.triangles.position,g=g instanceof window.Float32Array?g:new window.Float32Array(g),d=a.triangles.index,d=d instanceof window.Uint32Array?d:new window.Uint32Array(d);this.triangles.vertices=new window.THREE.BufferAttribute(g,3);this.triangles.indices=new window.THREE.BufferAttribute(d,1);this.Gna=!0===a.trianglestrip;this.JZb=a.xmin;this.vZb=a.xmax;this.KZb=a.ymin;this.wZb=a.ymax;this.w9a=a.zmin;this.n9a=a.zmax;this.pN=
a.valuemin;this.oN=a.valuemax;this.values=a.values}_geo.geotoolkit.fa(b,_geo.y.data.Dc.cX);_geo.geotoolkit.da(b,"geotoolkit3d.data.surface.ContourLineData");b.SW=_geo.y.util.Dc.g$b.triangulate;b.prototype.getAttributes=function(){var a={position:this.triangles.vertices,index:this.triangles.indices,trianglestrip:this.Gna,xmin:this.JZb,xmax:this.vZb,ymin:this.KZb,ymax:this.wZb,zmin:this.w9a,zmax:this.n9a,valuemin:this.pN,valuemax:this.oN,values:this.values};return a};return b}();_geo.y.cUc=_geo.y.util.bJ;
_geo.y.F0c=_geo.y.util.ck;_geo.y.WUc=_geo.y.util.Caa;_geo.y.Math=_geo.y.util.Math;_geo.y.scene.Event=_geo.y.Event;_geo.y.scene.Dc.qJa=_geo.y.data.Dc.qJa;_geo.y.scene.Dc.oJa=_geo.y.data.Dc.oJa;_geo.y.scene.Dc.lZa=_geo.y.data.Dc.lZa;_geo.y.scene.Dc.cX=_geo.y.data.Dc.cX;_geo.y.scene.Dc.gKa=_geo.y.data.Dc.gKa;_geo.y.scene.Dc.RKa=_geo.y.data.Dc.RKa;_geo.y.scene.Dc.UIa=_geo.y.data.Dc.UIa;
(function(){var b="geotoolkit",a="scene",g="selection",d="Events",e="renderer",c=_geo.geotoolkit.wr,f=_geo.geotoolkit.$r,k=null,h=null;c(b+"3d.Util",_geo.y.Bb);c(b+"3d.Util.updateChildrenScaleForDevice",(h=_geo.y.Bb).H7b);c(b+"3d.Util.computeFrustumHeightFor",h.xuc);c(b+"3d.Util.computeWorldBoundingBox",h.rpb);c(b+"3d.Util.disposeMaterial",h.u5a);c(b+"3d.Util.dispose",h.dispose);c(b+"3d.Util.getBoxToBoxMatrix",h.bQa);c(b+"3d.Util.worldToDevice",h.q8b);c(b+"3d.Util.worldToDevice2D",h.vcb);c(b+"3d.Util.renderSurfaceToHeightmap",
h.Jnd);c(b+"3d.Util.SeismicModes",h.EKa);c(b+"3d.Util.SeismicModes.ij",(h=_geo.y.Bb.EKa).Rgd);c(b+"3d.Util.SeismicModes.ijflipped",h.rGc);c(b+"3d.Util.SeismicModes.xy",h.rf);c(b+"3d.util.Math",_geo.y.util.Math);c(b+"3d.util.Math.computeHeronArea",(h=_geo.y.util.Math).l$c);c(b+"3d.util.Math.normal",h.normal);c(b+"3d.util.Math.normalBufferAttribute",h.zfa);c(b+"3d.util.Math.intersect",h.intersect);c(b+"3d.util.Math.lerp",h.lerp);c(b+"3d.util.Math.degreeToRadians",h.ZQb);c(b+"3d.util.Math.radiansToDegree",
h.l0b);c(b+"3d.util.Math.normalizeArray",h.b$);c(b+"3d.util.Math.unrotate",h.Wqd);c(b+"3d.util.Math.compute4thCorner",h.h$c);c(b+"3d.util.Math.compute4thCornerXY",h.V4a);c(b+"3d.util.Math.maxVector3",h.vjd);c(b+"3d.util.Math.minVector3",h.Hjd);c(b+"3d.util.Math.intersectBox",h.intersectBox);c(b+"3d.util.Math.containsBox",h.containsBox);c(b+"3d.util.Math.createFitBox",h.Vuc);c(b+"3d.util.Math.computeLinearRegression2D",h.yuc);c(b+"3d.util.Math.resolveTransformMatrix3",h.Wnd);c(b+"3d.util.Math.resolveTransformMatrix4",
h.h1b);c(b+"3d.util.Math.minimumCurvature",h.IZb);c(b+"3d.util.WebGLConstants",_geo.y.util.Khb);c(b+"3d.util.WebGLConstants.getCompressedTextureFormats",(h=_geo.y.util.Khb).getCompressedTextureFormats);c(b+"3d.util.WebGLConstants.getMaxTextureSize",h.mCc);c(b+"3d.util.WebGLConstants.getMaxTextures",h.Ued);c(b+"3d.data.loader.vtk.VTKASCIIStreamLoader",_geo.y.data.rG.l0.zhb);c(b+"3d.data.loader.vtk.VTKASCIIStreamLoader.isAscii",(h=_geo.y.data.rG.l0.zhb).YGc);c(b+"3d.data.loader.vtk.VTKASCIIStreamLoader.parse",
h.parse);c(b+"3d.data.loader.vtk.VTKLoader",(h=_geo.y.data.rG.l0).bjc);f(k=_geo.y.data.rG.l0.bjc.prototype,"load",k.load,{load:0});f(k,"parse",k.parse,{parse:0});c(b+"3d.data.loader.vtk.VTKFactory",h.ajc);f(k=_geo.y.data.rG.l0.ajc.prototype,"create",k.create,{create:0});f(k,"createMesh",k.Pda,{Pda:0});f(k,"createLines",k.mQb,{mQb:0});f(k,"createPointcloud",k.sQb,{sQb:0});c(b+"3d."+a+".Object3D",_geo.y.scene.Object3D);f(k=_geo.y.scene.Object3D.prototype,"invalidateObject",k.tj,{tj:0});f(k,"updateObject",
k.eaa,{eaa:0});f(k,"beforeRender",k.no,{no:0});f(k,"addResource",k.X2,{X2:0});f(k,"removeResource",k.J$a,{J$a:0});f(k,"isPickable",k.xFa,{xFa:0});c(b+"3d."+g+".NodeQueryBuilder",(h=_geo.y.selection).Koa);f(k=_geo.y.selection.Koa.prototype,"enumerateNodes",k.Xk,{Xk:0});c(b+"3d."+g+".from",h.from);c(b+"3d.tool.devicesupport.AbstractDeviceSupport",_geo.y.sd.Js.lL);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+"",_geo.y.sd.Js.lL.$);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onContext",
(h=_geo.y.sd.Js.lL.$).kma);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onMouseDown",h.xf);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onMouseMove",h.Wd);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onMouseUp",h.Ae);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onMouseWheel",h.By);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onTouchStart",h.qma);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onTouchEnd",h.oma);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+
d+".onTouchMove",h.pma);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onDoubleClick",h.ks);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onKeyDown",h.BI);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onKeyUp",h.TS);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onPointerStart",h.Rkd);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onPointerMove",h.p_b);c(b+"3d.tool.devicesupport.AbstractDeviceSupport."+d+".onPointerEnd",h.Qkd);f(k=_geo.y.sd.Js.lL.prototype,
"setup",k.setup,{setup:0});c(b+"3d.tool.devicesupport.AbstractDeviceSupport.isSupported",_geo.y.sd.Js.lL.isSupported);f(k,"setOptions",k.setOptions,{setOptions:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.devicesupport.DeviceSupportRegistry",_geo.y.sd.Js.eJa);c(b+"3d.tool.devicesupport.DeviceSupportRegistry.setDefaultDeviceSupport",(h=_geo.y.sd.Js.eJa).uNc);c(b+"3d.tool.devicesupport.DeviceSupportRegistry.getDeviceSupport",h.Azc);c(b+"3d.tool.devicesupport.DeviceSupportRegistry.getAllDeviceSupport",
h.WSb);c(b+"3d.tool.devicesupport.TouchDeviceSupport",(h=_geo.y.sd.Js).yic);f(k=_geo.y.sd.Js.yic.prototype,"setup",k.setup,{setup:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.devicesupport.PointerDeviceSupport",h.vfc);f(k=_geo.y.sd.Js.vfc.prototype,"setup",k.setup,{setup:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.devicesupport.MouseDeviceSupport",h.vdc);f(k=_geo.y.sd.Js.vdc.prototype,"setup",k.setup,{setup:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial",
_geo.y.Ge.li.aB);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.PickingModes",_geo.y.Ge.li.aB.Ooa);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.PickingModes.Id",(h=_geo.y.Ge.li.aB.Ooa).Leb);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.PickingModes.X",h.La);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.PickingModes.Y",h.Na);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.PickingModes.Z",h.ag);f(k=_geo.y.Ge.li.aB.prototype,"setOptions",
k.setOptions,{setOptions:0});c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.computeNormInvMatrix",(h=_geo.y.Ge.li.aB).zuc);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.computeNormMatrix",h.Auc);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.computePlotNormMatrix",h.Buc);c(b+"3d.picking.picking"+e+".AbstractShaderPickingMaterial.computePlotNormInvMatrix",h.o$c);c(b+"3d.util.ColorMap",(h=_geo.y.util).Caa);c(b+"3d.util.Shaders",h.ck);c(b+"3d.util.Shaders.BITMASK",
(h=_geo.y.util.ck).CIa);c(b+"3d.util.Shaders.BITMASK_INV",h.Y8b);c(b+"3d.util.Shaders.packFloatToVec4",h.y_b);c(b+"3d.util.Shaders.packFloatToRGBA",h.eld);c(b+"3d.util.Shaders.unpackRGBAToFloat",h.vzb);c(b+"3d.util.Shaders.unpackVec4ToFloat",h.xSc);c(b+"3d.util.Shaders.SHADER_ROUND_FLOAT",h.Dha);c(b+"3d.util.Shaders.SHADER_FLOAT_TO_VEC4",h.Bha);c(b+"3d.util.Shaders.COLORMAP_SHADER_VERTEX",h.jWa);c(b+"3d.util.Shaders.COLORMAP_SHADER_VERTEX_PREFIX",h.kWa);c(b+"3d.util.Shaders.COLORMAP_SHADER_FRAG",
h.hWa);c(b+"3d.util.Shaders.COLORMAP_SHADER_FRAG_PREFIX",h.iWa);c(b+"3d.util.Shaders.SHADER_PICKING_MODE",h.Cha);c(b+"3d.util.Shaders.SHADER_PICKING_VERTEXPREFIX",h.LYa);c(b+"3d.util.Shaders.SHADER_PICKING_VERTEXSUFFIX",h.MYa);c(b+"3d.util.Shaders.SHADER_PICKING_FRAGPREFIX",h.JYa);c(b+"3d.util.Shaders.SHADER_PICKING_FRAGSUFFIX",h.KYa);c(b+"3d.util.Shaders.refreshUniformsColorMap",h.B$a);c(b+"3d.picking.picking"+e+".BasicPickingMaterial",(h=_geo.y.Ge.li).Wna);f(k=_geo.y.Ge.li.Wna.prototype,"setOptions",
k.setOptions,{setOptions:0});c(b+"3d.picking.picking"+e+".DefaultLinePickingMaterial",h.DBb);c(b+"3d.picking.picking"+e+".DefaultMeshPickingMaterial",h.NWa);c(b+"3d.picking.picking"+e+".DefaultSpritePickingMaterial",h.GBb);f(k=_geo.y.Ge.li.GBb.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.picking.picking"+e+".DefaultShaderPickingMaterial",h.D0);c(b+"3d.picking.picking"+e+".DefaultPointCloudPickingMaterial",h.W$b);c(b+"3d.picking.AbstractPicking",_geo.y.Ge.Ccb);c(b+"3d.picking.AbstractPicking.pick",
_geo.y.Ge.Ccb.ls);c(b+"3d.picking.RayCastPicking",_geo.y.Ge.SEb);c(b+"3d.picking.RayCastPicking.getPickingRayClient",(h=_geo.y.Ge.SEb).rfd);c(b+"3d.picking.RayCastPicking.getPickingRay",h.iDc);c(b+"3d.picking.RayCastPicking.pickFrom",h.Y_b);c(b+"3d.picking.RayCastPicking.pick",h.ls);c(b+"3d.picking.RendererPicking",_geo.y.Ge.Tz);c(b+"3d.picking.RendererPicking.setPickingMaterial",(h=_geo.y.Ge.Tz).oC);c(b+"3d.picking.RendererPicking.pick",h.ls);c(b+"3d.tool.AbstractTool",_geo.y.sd.fc);f(k=_geo.y.sd.fc.prototype,
"setOptions",k.setOptions,{setOptions:0});c(b+"3d.tool.AbstractTool."+d+"",_geo.y.sd.fc.$);c(b+"3d.tool.AbstractTool."+d+".onContext",(h=_geo.y.sd.fc.$).kma);c(b+"3d.tool.AbstractTool."+d+".onMouseDown",h.xf);c(b+"3d.tool.AbstractTool."+d+".onMouseMove",h.Wd);c(b+"3d.tool.AbstractTool."+d+".onMouseUp",h.Ae);c(b+"3d.tool.AbstractTool."+d+".onMouseWheel",h.By);c(b+"3d.tool.AbstractTool."+d+".onTouchStart",h.qma);c(b+"3d.tool.AbstractTool."+d+".onTouchEnd",h.oma);c(b+"3d.tool.AbstractTool."+d+".onTouchMove",
h.pma);c(b+"3d.tool.AbstractTool."+d+".onDoubleClick",h.ks);c(b+"3d.tool.AbstractTool."+d+".onKeyDown",h.BI);c(b+"3d.tool.AbstractTool."+d+".onKeyUp",h.TS);c(b+"3d.tool.AbstractTool."+d+".onPointerStart",h.Rkd);c(b+"3d.tool.AbstractTool."+d+".onPointerMove",h.p_b);c(b+"3d.tool.AbstractTool."+d+".onPointerEnd",h.Qkd);f(k,"setup",k.setup,{setup:0});f(k,"getName",k.getName,{getName:0});f(k,"onContext",k.kma,{kma:0});f(k,"onMouseDown",k.xf,{xf:0});f(k,"onMouseMove",k.Wd,{Wd:0});f(k,"onMouseUp",k.Ae,{Ae:0});
f(k,"onMouseOut",k.lGa,{lGa:0});f(k,"onMouseWheel",k.By,{By:0});f(k,"onTouchStart",k.qma,{qma:0});f(k,"onTouchEnd",k.oma,{oma:0});f(k,"onTouchMove",k.pma,{pma:0});f(k,"onDoubleClick",k.ks,{ks:0});f(k,"onKeyDown",k.BI,{BI:0});f(k,"onKeyUp",k.TS,{TS:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.AbstractGestureTool",(h=_geo.y.sd).Yv);f(k=_geo.y.sd.Yv.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"onContext",k.kma,{kma:0});f(k,"onMouseDown",k.xf,{xf:0});f(k,"onMouseMove",k.Wd,{Wd:0});
f(k,"onMouseOut",k.lGa,{lGa:0});f(k,"onMouseUp",k.Ae,{Ae:0});f(k,"onDoubleClick",k.ks,{ks:0});f(k,"onTouchStart",k.qma,{qma:0});f(k,"onTouchEnd",k.oma,{oma:0});f(k,"onTouchMove",k.pma,{pma:0});f(k,"onKeyDown",k.BI,{BI:0});f(k,"onVisibilityChanged",k.qJc,{qJc:0});f(k,"onKeyUp",k.TS,{TS:0});f(k,"onKeyStart",k.uG,{uG:0});f(k,"onKey",k.AI,{AI:0});f(k,"onKeyEnd",k.DI,{DI:0});f(k,"onVisibilityGained",k.AG,{AG:0});f(k,"onVisibilityLost",k.BG,{BG:0});f(k,"onCursorMove",k.AD,{AD:0});f(k,"onTap",k.$E,{$E:0});
f(k,"onDoubleTap",k.UE,{UE:0});f(k,"onPinchStart",k.xG,{xG:0});f(k,"onPinch",k.vG,{vG:0});f(k,"onPinchEnd",k.wG,{wG:0});f(k,"onDragStart",k.XE,{XE:0});f(k,"onDrag",k.VE,{VE:0});f(k,"onDragEnd",k.WE,{WE:0});f(k,"onSlideStart",k.zG,{zG:0});f(k,"onSlide",k.ZE,{ZE:0});f(k,"onSlideEnd",k.yG,{yG:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.SelectionTool",h.Bgb);c(b+"3d.tool.SelectionTool."+d+"",_geo.y.sd.Bgb.$);c(b+"3d.tool.SelectionTool."+d+".onSelection",_geo.y.sd.Bgb.$.ISa);f(k=_geo.y.sd.Bgb.prototype,
"setOptions",k.setOptions,{setOptions:0});f(k,"onCursorMove",k.AD,{AD:0});f(k,"onTap",k.$E,{$E:0});f(k,"onSelection",k.ISa,{ISa:0});f(k,"addSelectionListener",k.Urc,{Urc:0});f(k,"removeSelectionListener",k.K$a,{K$a:0});f(k,"onKeyStart",k.uG,{uG:0});f(k,"onKey",k.AI,{AI:0});f(k,"onKeyEnd",k.DI,{DI:0});f(k,"onDoubleTap",k.UE,{UE:0});f(k,"onMouseWheel",k.By,{By:0});f(k,"onPinchStart",k.xG,{xG:0});f(k,"onPinch",k.vG,{vG:0});f(k,"onPinchEnd",k.wG,{wG:0});f(k,"onDragStart",k.XE,{XE:0});f(k,"onDrag",k.VE,
{VE:0});f(k,"onDragEnd",k.WE,{WE:0});f(k,"onSlideStart",k.zG,{zG:0});f(k,"onSlide",k.ZE,{ZE:0});f(k,"onSlideEnd",k.yG,{yG:0});f(k,"onVisibilityGained",k.AG,{AG:0});f(k,"onVisibilityLost",k.BG,{BG:0});c(b+"3d.tool.AbstractMoveTool",_geo.y.sd.bX);f(k=_geo.y.sd.bX.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"onPick",k.O4,{O4:0});c(b+"3d.tool.AbstractMoveTool.Status",_geo.y.sd.bX.N6);c(b+"3d.tool.AbstractMoveTool.Status.Selected",(h=_geo.y.sd.bX.N6).GKa);c(b+"3d.tool.AbstractMoveTool.Status.Start",
h.M6);c(b+"3d.tool.AbstractMoveTool.Status.Move",h.XJa);c(b+"3d.tool.AbstractMoveTool.Status.End",h.$v);f(k,"addMoveListener",k.d4a,{d4a:0});f(k,"removeSelectionListener",k.K$a,{K$a:0});f(k,"onKeyEnd",k.DI,{DI:0});f(k,"onDragStart",k.XE,{XE:0});f(k,"onDrag",k.VE,{VE:0});f(k,"onDragEnd",k.WE,{WE:0});f(k,"onTap",k.$E,{$E:0});f(k,"onCursorMove",k.AD,{AD:0});f(k,"onKeyStart",k.uG,{uG:0});f(k,"onKey",k.AI,{AI:0});f(k,"onDoubleTap",k.UE,{UE:0});f(k,"onMouseWheel",k.By,{By:0});f(k,"onPinchStart",k.xG,{xG:0});
f(k,"onPinch",k.vG,{vG:0});f(k,"onPinchEnd",k.wG,{wG:0});f(k,"onSlideStart",k.zG,{zG:0});f(k,"onSlide",k.ZE,{ZE:0});f(k,"onSlideEnd",k.yG,{yG:0});f(k,"onVisibilityGained",k.AG,{AG:0});f(k,"onVisibilityLost",k.BG,{BG:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.PlanarMoveTool",(h=_geo.y.sd).jfc);f(k=_geo.y.sd.jfc.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"setAdjustFunction",k.uMc,{uMc:0});c(b+"3d.tool.SliderMoveTool",h.Ogb);f(k=_geo.y.sd.Ogb.prototype,"setOptions",k.setOptions,
{setOptions:0});f(k,"setMoveFunction",k.F4b,{F4b:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.tool.MeasuringTool",h.xfb);c(b+"3d.tool.MeasuringTool."+d+"",_geo.y.sd.xfb.$);c(b+"3d.tool.MeasuringTool."+d+".DistanceChanged",_geo.y.sd.xfb.$.JVc);f(k=_geo.y.sd.xfb.prototype,"setChildrenVisibilty",k.XMc,{XMc:0});f(k,"setOptions",k.setOptions,{setOptions:0});f(k,"onCursorMove",k.AD,{AD:0});f(k,"onTap",k.$E,{$E:0});f(k,"onMouseUp",k.Ae,{Ae:0});f(k,"getDistance",k.Cj,{Cj:0});f(k,"onKeyStart",k.uG,{uG:0});
f(k,"onKey",k.AI,{AI:0});f(k,"onKeyEnd",k.DI,{DI:0});f(k,"onDoubleTap",k.UE,{UE:0});f(k,"onMouseWheel",k.By,{By:0});f(k,"onPinchStart",k.xG,{xG:0});f(k,"onPinch",k.vG,{vG:0});f(k,"onPinchEnd",k.wG,{wG:0});f(k,"onDragStart",k.XE,{XE:0});f(k,"onDrag",k.VE,{VE:0});f(k,"onDragEnd",k.WE,{WE:0});f(k,"onSlideStart",k.zG,{zG:0});f(k,"onSlide",k.ZE,{ZE:0});f(k,"onSlideEnd",k.yG,{yG:0});f(k,"onVisibilityGained",k.AG,{AG:0});f(k,"onVisibilityLost",k.BG,{BG:0});c(b+"3d.tool.cursor.CursorTool",(h=_geo.y.sd.cursor).w$b);
f(k=_geo.y.sd.cursor.w$b.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"moveCursor",k.PZb,{PZb:0});f(k,"addMoveListener",k.d4a,{d4a:0});f(k,"removeMoveListener",k.jLc,{jLc:0});c(b+"3d.tool.cursor.AbstractCursor",h.naa);f(k=_geo.y.sd.cursor.naa.prototype,"setCursorPosition",k.mQ,{mQ:0});c(b+"3d.tool.cursor.CrossCursor",h.pBb);f(k=_geo.y.sd.cursor.pBb.prototype,"setCursorPosition",k.mQ,{mQ:0});f(k,"setOptions",k.setOptions,{setOptions:0});f(k,"beforeRender",k.no,{no:0});c(b+"3d.tool.cursor.CrossHairCursor",
h.t$b);f(k=_geo.y.sd.cursor.t$b.prototype,"setCursorPosition",k.mQ,{mQ:0});f(k,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.tool.cursor.CrossHair2DCursor",h.s$b);f(k=_geo.y.sd.cursor.s$b.prototype,"setCursorPosition",k.mQ,{mQ:0});f(k,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.tool.cursor.CompositeCursor",h.$9b);f(k=_geo.y.sd.cursor.$9b.prototype,"setCursorPosition",k.mQ,{mQ:0});c(b+"3d.transformation.XYCoordinates",(h=_geo.y.te).hza);f(k=_geo.y.te.hza.prototype,"fromJSONXY",k.Axc,{Axc:0});
f(k,"fromJSONPoints",k.Dqb,{Dqb:0});f(k,"asBox3",k.esa,{esa:0});f(k,"asElevationBox3",k.o4a,{o4a:0});f(k,"isPointInside",k.mSa,{mSa:0});c(b+"3d.transformation.IndexCoordinates",h.acc);f(k=_geo.y.te.acc.prototype,"getSampleRate",k.Nk,{Nk:0});f(k,"getIStep",k.SUb,{SUb:0});f(k,"getJStep",k.lVb,{lVb:0});f(k,"fromJSONCornerPoints",k.yxc,{yxc:0});f(k,"fromJSONIndex",k.zxc,{zxc:0});c(b+"3d.transformation.IndexToXY",h.ZCb);f(k=_geo.y.te.ZCb.prototype,"applyToMesh",k.n4a,{n4a:0});c(b+"3d.util.Attributes",
_geo.y.util.bJ);c(b+"3d.util.Attributes.createLineMaterial",(h=_geo.y.util.bJ).G8);c(b+"3d.util.Attributes.createMeshMaterial",h.pQb);c(b+"3d.util.Attributes.createPhongMeshMaterial",h.tad);c(b+"3d.util.Attributes.getThreeColor",h.DRa);c(b+"3d.util.Attributes.updateMeshMaterial",h.WSc);c(b+"3d.Plot",_geo.y.aR);c(b+"3d.Plot.CameraType",_geo.y.aR.mWa);c(b+"3d.Plot.CameraType.Perspective",(h=_geo.y.aR.mWa).Yfb);c(b+"3d.Plot.CameraType.Orthographic",h.LZc);c(b+"3d.Plot.OrthographicResizeMode",_geo.y.aR.Ufb);
c(b+"3d.Plot.OrthographicResizeMode.None",(h=_geo.y.aR.Ufb).None);c(b+"3d.Plot.OrthographicResizeMode.MaintainScale",h.JDb);c(b+"3d.Plot.CameraControllerType",_geo.y.aR.zaa);c(b+"3d.Plot.CameraControllerType.Orbit",(h=_geo.y.aR.zaa).nEb);c(b+"3d.Plot.CameraControllerType.TrackBall",h.Gic);c(b+"3d.Plot.CameraControllerType.FirstPerson",h.$ac);c(b+"3d.Plot.CameraControllerType.None",h.None);f(k=_geo.y.aR.prototype,"rootScale",k.IG,{IG:0});f(k,"rootScaleInv",k.c5,{c5:0});f(k,"getCameraLocation",k.c9,
{c9:0});f(k,"getCameraLookAt",k.Ska,{Ska:0});f(k,"resetCamera",k.DLc,{DLc:0});f(k,"fitCamera",k.wSb,{wSb:0});f(k,"setCameraLocation",k.TMc,{TMc:0});f(k,"setCameraLookAt",k.Qwb,{Qwb:0});f(k,"moveCamera",k.cGa,{cGa:0});f(k,"getRoot",k.getRoot,{getRoot:0});f(k,"getScene",k.dEc,{dEc:0});f(k,"getAnimationManager",k.W8,{W8:0});f(k,"getCompass",k.Hyc,{Hyc:0});f(k,"prepareRender",k.Qvb,{Qvb:0});f(k,"finishRender",k.xqb,{xqb:0});f(k,"setSize",k.setSize,{setSize:0});f(k,"getSize",k.getSize,{getSize:0});f(k,
"getModelOrigin",k.C7a,{C7a:0});f(k,"getModelLimits",k.xa,{xa:0});f(k,"setOptions",k.setOptions,{setOptions:0});f(k,"project",k.project,{project:0});f(k,"addTool",k.sob,{sob:0});f(k,"getToolByName",k.xg,{xg:0});f(k,"removeTool",k.V0b,{V0b:0});f(k,"invalidateObject",k.tj,{tj:0});f(k,"updateModelLimits",k.Fz,{Fz:0});f(k,"getRenderer",k.KDc,{KDc:0});f(k,"getUsageStatistics",k.xFc,{xFc:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.controller.OrbitController",(h=_geo.y.controller).Moa);f(k=_geo.y.controller.Moa.prototype,
"setOptions",k.setOptions,{setOptions:0});c(b+"3d.controller.FirstPersonController",h.oCb);f(k=_geo.y.controller.oCb.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.controller.TrackballController",h.TFb);f(k=_geo.y.controller.TFb.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.controller.RollController",h.zgc);f(k=_geo.y.controller.zgc.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d."+a+".MeshColorMapBasicMaterial",(h=_geo.y.scene).odc);f(k=_geo.y.scene.odc.prototype,
"setOptions",k.setOptions,{setOptions:0});c(b+"3d."+a+".MeshColorMapLambertMaterial",h.ZD);f(k=_geo.y.scene.ZD.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d."+a+".animation.AnimationManager",_geo.y.scene.animation.xIa);f(k=_geo.y.scene.animation.xIa.prototype,"checkAnimation",k.nPb,{nPb:0});f(k,"removeAnimation",k.J0b,{J0b:0});f(k,"addAnimation",k.aob,{aob:0});c(b+"3d."+a+".compass.Compass",(h=_geo.y.scene.cI).dBb);f(k=_geo.y.scene.cI.dBb.prototype,"getCompassObject",k.Iyc,{Iyc:0});
f(k,"setCompassObject",k.n2b,{n2b:0});c(b+"3d."+a+".compass.CompassArrow",h.X9b);c(b+"3d."+a+".compass.CompassAxis",h.aVc);c(b+"3d.Event",_geo.y.Event);f(k=_geo.y.Event.prototype,"getType",k.Ev,{Ev:0});f(k,"getSource",k.Bp,{Bp:0});f(k,"getArgs",k.aTb,{aTb:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d.Event.Type",_geo.y.Event.fv);c(b+"3d.Event.Type.BeforeRender",(h=_geo.y.Event.fv).$8b);c(b+"3d.Event.Type.AfterRender",h.J8b);c(b+"3d.Event.Type.Invalidate",h.Wc);c(b+"3d.Event.Type.Add",h.HQ);c(b+
"3d.Event.Type.Remove",h.rJ);c(b+"3d.Event.Type.Camera",h.Camera);c(b+"3d.Event.Type.Resize",h.ZEb);c(b+"3d.Event.Type.Animation",h.gxa);c(b+"3d.Event.Type.ModelLimits",h.SDb);c(b+"3d."+a+".AnnotationBase",_geo.y.scene.OVa);f(k=_geo.y.scene.OVa.prototype,"beforeRender",k.no,{no:0});f(k,"setTitle",k.mp,{mp:0});f(k,"getTitle",k.uo,{uo:0});f(k,"setTitleDistanceFactor",k.d6b,{d6b:0});f(k,"getTitleDistanceFactor",k.Ela,{Ela:0});f(k,"setTitleStyle",k.e6b,{e6b:0});f(k,"getTitleStyle",k.lXb,{lXb:0});f(k,
"setLineStyle",k.ua,{ua:0});f(k,"getLineStyle",k.Xa,{Xa:0});f(k,"setMode",k.setMode,{setMode:0});f(k,"getMode",k.nI,{nI:0});f(k,"setAnchorPoint",k.K1b,{K1b:0});f(k,"getAnchorPoint",k.yV,{yV:0});f(k,"setOptions",k.setOptions,{setOptions:0});f(k,"getOptions",k.jb,{jb:0});c(b+"3d."+a+".AnnotationBase.Mode",_geo.y.scene.OVa.$D);c(b+"3d."+a+".AnnotationBase.Mode.Center",(h=_geo.y.scene.OVa.$D).lb);c(b+"3d."+a+".AnnotationBase.Mode.Closest",h.R9b);c(b+"3d."+a+".Text2d",_geo.y.scene.Nha);f(k=_geo.y.scene.Nha.prototype,
"getText",k.me,{me:0});f(k,"setText",k.jc,{jc:0});f(k,"getTextStyle",k.Ib,{Ib:0});f(k,"setTextStyle",k.wb,{wb:0});f(k,"setAnchorOffsetRatio",k.Nva,{Nva:0});f(k,"setAnchorOffset",k.Hwb,{Hwb:0});f(k,"beforeRender",k.no,{no:0});f(k,"dispose",k.dispose,{dispose:0});c(b+"3d."+a+".pointset.PointSet",_geo.y.scene.gQ.tYa);c(b+"3d."+a+".pointset.PointSet.Symbol",_geo.y.scene.gQ.tYa.Symbol);c(b+"3d."+a+".pointset.PointSet.Symbol.sphere",(h=_geo.y.scene.gQ.tYa.Symbol).Dbb);c(b+"3d."+a+".pointset.PointSet.Symbol.cube",
h.cube);c(b+"3d."+a+".pointset.PointSet.Symbol.pyramid",h.Bmd);f(k=_geo.y.scene.gQ.tYa.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"setPointVisible",k.jbb,{jbb:0});c(b+"3d."+a+".pointset.PointCloudMaterial",(h=_geo.y.scene.gQ).PointCloudMaterial);c(b+"3d."+a+".pointset.PointCloud",h.PointCloud);c(b+"3d."+a+".pointset.PointCloud.Symbol",_geo.y.scene.gQ.PointCloud.Symbol);c(b+"3d."+a+".pointset.PointCloud.Symbol.sphere",(h=_geo.y.scene.gQ.PointCloud.Symbol).Dbb);c(b+"3d."+a+".pointset.PointCloud.Symbol.cube",
h.cube);f(k=_geo.y.scene.gQ.PointCloud.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"setPointVisible",k.jbb,{jbb:0});f(k,"setPointOptions",k.g5b,{g5b:0});f(k,"getPointOptions",k.kDc,{kDc:0});c(b+"3d."+a+".ellipse.FilledEllipseGeometry",(h=_geo.y.scene.ellipse).mCb);c(b+"3d."+a+".ellipse.EllipseGeometry",h.XBb);c(b+"3d."+a+".grid.GridAxisTexts",(h=_geo.y.scene.ze).RQ);c(b+"3d."+a+".grid.GridAxisGeometry",h.zeb);c(b+"3d."+a+".grid.GridPlane.Plane",_geo.y.scene.ze.K0.Plane);c(b+"3d."+a+".grid.GridPlane.Plane.right",
(h=_geo.y.scene.ze.K0.Plane).right);c(b+"3d."+a+".grid.GridPlane.Plane.left",h.left);c(b+"3d."+a+".grid.GridPlane.Plane.top",h.top);c(b+"3d."+a+".grid.GridPlane.Plane.bottom",h.bottom);c(b+"3d."+a+".grid.GridPlane.Plane.front",h.swd);c(b+"3d."+a+".grid.GridPlane.Plane.back",h.back);c(b+"3d."+a+".grid.Grid",_geo.y.scene.ze.Mx);f(k=_geo.y.scene.ze.Mx.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"getStart",k.rI,{rI:0});f(k,"getEnd",k.DP,{DP:0});f(k,"getMode",k.nI,{nI:0});f(k,"getCounts",k.XDa,
{XDa:0});f(k,"getModelStart",k.OVb,{OVb:0});f(k,"getModelEnd",k.NVb,{NVb:0});c(b+"3d."+a+".grid.Grid.Mode",_geo.y.scene.ze.Mx.$D);c(b+"3d."+a+".grid.Grid.Mode.box",(h=_geo.y.scene.ze.Mx.$D).box);c(b+"3d."+a+".grid.Grid.Mode.openbox",h.ald);c(b+"3d."+a+".grid.Grid.Mode.back",h.back);f(k,"beforeRender",k.no,{no:0});c(b+"3d."+a+".grid.PolarGrid",_geo.y.scene.ze.vYa);f(k=_geo.y.scene.ze.vYa.prototype,"setOptions",k.setOptions,{setOptions:0});f(k,"getCount",k.Qn,{Qn:0});f(k,"getModelCenter",k.MVb,{MVb:0});
f(k,"getModelSize",k.IEa,{IEa:0});c(b+"3d.data.surface.AbstractSurfaceData",_geo.y.data.Dc.cX);f(k=_geo.y.data.Dc.cX.prototype,"getAttributes",k.getAttributes,{getAttributes:0});f(k,"getConstructors",k.VDa,{VDa:0});c(b+"3d.util.surface.Surface",(h=_geo.y.util.Dc).Tw);c(b+"3d.util.surface.BasicTriangulator",h.EIa);c(b+"3d.util.surface.BasicTriangulator.triangulate",_geo.y.util.Dc.EIa.triangulate);c(b+"3d.util.surface.PillarTriangulator",_geo.y.util.Dc.hKa);c(b+"3d.util.surface.PillarTriangulator.resamplePillars",
(h=_geo.y.util.Dc.hKa).CLc);c(b+"3d.util.surface.PillarTriangulator.setOptions",h.setOptions);c(b+"3d.util.surface.PillarTriangulator.triangulate",h.triangulate);c(b+"3d.data.surface.PillarSurfaceData",_geo.y.data.Dc.gKa);c(b+"3d.data.surface.PillarSurfaceData.triangulation",_geo.y.data.Dc.gKa.SW);f(k=_geo.y.data.Dc.gKa.prototype,"getAttributes",k.getAttributes,{getAttributes:0});c(b+"3d.data.surface.GridSurfaceData",_geo.y.data.Dc.oJa);c(b+"3d.data.surface.GridSurfaceData.triangulationStrip",(h=
_geo.y.data.Dc.oJa).Pqd);c(b+"3d.data.surface.GridSurfaceData.triangulation",h.SW);f(k=_geo.y.data.Dc.oJa.prototype,"getAttributes",k.getAttributes,{getAttributes:0});c(b+"3d.data.surface.SurfaceData",_geo.y.data.Dc.RKa);c(b+"3d.data.surface.SurfaceData.triangulation",_geo.y.data.Dc.RKa.SW);f(k=_geo.y.data.Dc.RKa.prototype,"getAttributes",k.getAttributes,{getAttributes:0});c(b+"3d.data.surface.TrimeshSurfaceData",_geo.y.data.Dc.lZa);f(k=_geo.y.data.Dc.lZa.prototype,"getAttributes",k.getAttributes,
{getAttributes:0});c(b+"3d."+a+".surface.SurfaceGeometry",(h=_geo.y.scene.Dc).SKa);f(k=_geo.y.scene.Dc.SKa.prototype,"computeVertexNormals",k.computeVertexNormals,{computeVertexNormals:0});c(b+"3d."+a+".surface.SurfaceMaterial",h.Ghc);c(b+"3d.data.surface.HeightMapSurfaceData",_geo.y.data.Dc.qJa);c(b+"3d.data.surface.HeightMapSurfaceData.triangulation",_geo.y.data.Dc.qJa.SW);f(k=_geo.y.data.Dc.qJa.prototype,"getAttributes",k.getAttributes,{getAttributes:0});f(k,"getConstructors",k.VDa,{VDa:0});c(b+
"3d."+a+".surface.HeightMapSurfaceGeometry",(h=_geo.y.scene.Dc).Hbc);c(b+"3d."+a+".surface.HeightMapSurfaceMaterial",h.Ibc);c(b+"3d."+a+".surface.Surface",h.Tw);f(k=_geo.y.scene.Dc.Tw.prototype,"setOptions",k.setOptions,{setOptions:0});c(b+"3d.util.surface.ContourLineTriangulator",_geo.y.util.Dc.g$b);c(b+"3d.data.surface.ContourLineData",_geo.y.data.Dc.UIa);c(b+"3d.data.surface.ContourLineData.triangulation",_geo.y.data.Dc.UIa.SW);f(k=_geo.y.data.Dc.UIa.prototype,"getAttributes",k.getAttributes,{getAttributes:0});
c(b+"3d.AttributesUtil",(h=_geo.y).cUc);c(b+"3d.ShaderUtil",h.F0c);c(b+"3d.ColorMapUtil",h.WUc);c(b+"3d.Math",h.Math);c(b+"3d."+a+".Event",_geo.y.scene.Event);c(b+"3d."+a+".surface.HeightMapSurfaceData",(h=_geo.y.scene.Dc).qJa);c(b+"3d."+a+".surface.GridSurfaceData",h.oJa);c(b+"3d."+a+".surface.TrimeshSurfaceData",h.lZa);c(b+"3d."+a+".surface.AbstractSurfaceData",h.cX);c(b+"3d."+a+".surface.PillarSurfaceData",h.gKa);c(b+"3d."+a+".surface.SurfaceData",h.RKa);c(b+"3d."+a+".surface.ContourLineData",
h.UIa)})();

    return _geo;
}));
/* eslint-enable */
/* tslint:enable */