/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
import {_geo} from './geotoolkit.adv.module.js';
import {data} from './geotoolkit.data.adv.module.js';

export let controls = (function (_geo) {var _geo=_geo||{};_geo.geotoolkit.controls=_geo.geotoolkit.controls||{};_geo.geotoolkit.controls.util=_geo.geotoolkit.controls.util||{};_geo.geotoolkit.controls.util.ll=_geo.geotoolkit.controls.util.ll||{};_geo.geotoolkit.controls.data=_geo.geotoolkit.controls.data||{};_geo.geotoolkit.controls.Zb=_geo.geotoolkit.Zb||{};_geo.geotoolkit.controls.Zb.GW=_geo.geotoolkit.controls.Zb.GW||{};_geo.geotoolkit.controls.Me=_geo.geotoolkit.controls.Me||{};_geo.geotoolkit.controls.axis=_geo.geotoolkit.controls.axis||{};
_geo.geotoolkit.controls.ia={};_geo.geotoolkit.controls.ia.scroll={};_geo.geotoolkit.controls.ia.JD={};_geo.geotoolkit.controls.ia.Jo={};_geo.geotoolkit.controls.ia.Oaa={};_geo.geotoolkit.controls.ia.rSc={};_geo.geotoolkit.controls.shapes=_geo.geotoolkit.controls.shapes||{};_geo.geotoolkit.controls.shapes.hc=_geo.geotoolkit.controls.shapes.hc||{};_geo.geotoolkit.animation.Dd.dpb=_geo.geotoolkit.animation.Dd.dpb||{};
_geo.geotoolkit.controls.util.Xp=function(){function b(){}function a(a){a=a.getBoundingClientRect();var b=_geo.geotoolkit.window.document.body,d=_geo.geotoolkit.window.document.documentElement,g=_geo.geotoolkit.window.pageYOffset||d.scrollTop||b.scrollTop,h=d.clientTop||b.clientTop||0,l=_geo.geotoolkit.window.pageXOffset||d.scrollLeft||b.scrollLeft,b=d.clientLeft||b.clientLeft||0,g=a.top+g-h;a=a.left+l-b;return{top:Math.round(g),left:Math.round(a)}}function g(a){for(var b=0,d=0;a;)b+=(0,window.parseInt)(a.offsetTop),
d+=(0,window.parseInt)(a.offsetLeft),a=a.offsetParent;return{top:b,left:d}}_geo.geotoolkit.da(b,"geotoolkit.controls.util.Helpers");b.EZ=function(a){if(!a)throw Error("Invalid element");if(a===_geo.geotoolkit.window.document.body)return{x:0,y:0};var c=b.EZ(a.parentNode);return{x:c.x+a.offsetLeft,y:c.y+a.offsetTop}};b.Bn=function(b){return b.getBoundingClientRect?a(b):g(b)};var d={},d=_geo.geotoolkit.window.PointerEvent?{pointerdown:["pointerdown"],pointermove:["pointermove"],pointerup:["pointerup"]}:
_geo.geotoolkit.window.MSPointerEvent?{pointerdown:["MSPointerDown"],pointermove:["MSPointerMove"],pointerup:["MSPointerUp"]}:_geo.geotoolkit.window.TouchEvent?{pointerdown:["mousedown","touchstart"],pointermove:["mousemove","touchmove"],pointerup:["mouseup","touchend"]}:{pointerdown:["mousedown"],pointermove:["mousemove"],pointerup:["mouseup"]};b.SZ=function(a){if("string"===typeof a){var b=a.toLowerCase();return null!=d[b]?d[b]:[a]}return[]};b.Bw=function(a,b){if(null==a||null==b)return a;var d=
a instanceof _geo.geotoolkit.Me.aR?[a.hD()]:Array.isArray(a)?a:[a];d.forEach(function(a){if(null!=a)for(var d in b)b.hasOwnProperty(d)&&a.style[d]!==b[d]&&(a.style[d]=b[d])});return a};b.Vzc=function(a,b,d){null==d&&(d=[]);if(null==b||null==a)return d;if(a instanceof _geo.geotoolkit.controls.ia.ZW){a=a.Tid();for(var g=0;g<a.length;g++)_geo.geotoolkit.controls.util.Xp.Vzc(a[g],b,d)}else a instanceof _geo.geotoolkit.controls.ia.fc&&(b=a.ifd(b),null!=b&&b.forEach(function(a){-1===d.indexOf(a)&&d.push(a)}));
return d};return b}();_geo.geotoolkit.controls.util.KYc=function(){function b(){_geo.geotoolkit.util.EventDispatcher.call(this)}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit.controls.util.LegendSource");b.prototype.qBc=_geo.geotoolkit.Ia;b.prototype.me=_geo.geotoolkit.Ia;b.prototype.be=_geo.geotoolkit.Ia;return b}();
_geo.geotoolkit.controls.util.ll.Pr=function(){function b(g,d){_geo.geotoolkit.util.EventDispatcher.call(this);this.n2=d;this.H1=1;this.vs=[];this.Opa=!1;this.Ba={x:null,y:null};this.UKb=!0;this.g0b=this.VPb=b.lKa.iYa;this.xkc=a[this.VPb];this.xoc=a[this.g0b];this.gK=[];this.OU=0;this.aV=null;this.setOptions(g)}var a=[[3.077,1.885,1.637,1.533,1.475,1.439,1.414,1.396,1.383,1.372,1.363,1.356,1.35,1.345,1.34,1.336,1.333,1.33,1.327,1.325,1.323,1.321,1.319,1.317,1.316,1.314,1.313,1.312,1.311,1.3,1.28],
[6.314,2.92,2.353,2.131,2.015,1.943,1.895,1.86,1.833,1.812,1.796,1.782,1.771,1.761,1.753,1.746,1.74,1.734,1.729,1.725,1.717,1.714,1.711,1.708,1.706,1.703,1.701,1.699,1.697,1.645],[12.706,4.302,3.182,2.776,2.57,2.446,2.364,2.306,2.262,2.228,2.2,2.178,2.16,2.144,2.131,2.119,2.109,2.1,2.093,2.085,2.079,2.073,2.068,2.063,2.059,2.055,2.051,2.048,2.045,2.042,1.959],[63.656,9.924,5.84,4.604,4.032,3.707,3.499,3.355,3.249,3.169,3.105,3.054,3.012,2.976,2.946,2.92,2.898,2.878,2.86,2.845,2.831,2.818,2.807,2.796,
2.787,2.778,2.77,2.763,2.756,2.75,2.575]];_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.RegressionBase");b.$={dza:"updatedmodel"};b.lKa={PZc:0,QZc:1,iYa:2,RZc:3};b.prototype.lx=function(a,b,e){this.Ba.x=Array.isArray(a)?a.concat(this.Ba.x?this.Ba.x:[]):this.Ba.x;this.Ba.y=Array.isArray(b)?b.concat(this.Ba.y?this.Ba.y:[]):this.Ba.y;this.gK=Array.isArray(e)?e.concat(this.gK?this.gK:[]):this.gK;this.OU=Math.min(this.Ba.x.length,this.Ba.y.length)};
b.prototype.getData=function(){return{datax:this.Ba.x,datay:this.Ba.y,weights:this.gK}};b.prototype.ZS=function(a){if("number"===typeof a)return this.n2(a);var b=[];if(Array.isArray(a))for(var e=0;e<a.length;e++)b.push(this.n2(a[e]));return b};b.prototype.setOptions=function(a){Array.isArray(a.coefficients)&&(this.vs=a.coefficients,this.Opa=!0);return this};b.prototype.zva=function(){this.vs=[];this.Opa=!1;this.aV=null;this.OU=0;this.Ba.x=null;this.Ba.y=null;this.gK=[]};b.prototype.xYb=function(){return this.Opa};
b.prototype.jb=function(){var a={};a.coefficients=this.vs;return a};b.prototype.ka=function(){return this.jb()};b.prototype.o2b=function(b){a[b]&&(this.VPb=b,this.xkc=a[b]);return this};b.prototype.vTb=function(){return this.VPb};b.prototype.l5b=function(b){a[b]&&(this.g0b=b,this.xoc=a[b]);return this};b.prototype.rWb=function(){return this.g0b};b.prototype.EEa=function(a){if(this.Ba[a]){a=this.Ba[a];for(var b=a.length,e=0,c=0;c<b;c++)e+=a[c];return e/b}return null};b.prototype.aFa=function(a){if(this.Ba[a]){var b=
this.EEa(a);a=this.Ba[a];for(var e=a.length,c=0,f=0;f<e;f++)c+=Math.pow(a[f]-b,2);return c}return null};b.prototype.yRa=function(){if(this.Ba.x&&this.Ba.y){for(var a=0,b=this.Ba.x,e=this.Ba.y,c=b.length,f=0;f<c;f++)var k=this.ZS(b[f]),a=a+Math.pow(e[f]-k,2);return a}return null};b.prototype.C6a=function(){return this.OU-this.H1};b.prototype.pRa=function(){var a=this.yRa(),b=this.aFa("y");return"number"===typeof a&&"number"===typeof b?1-a/b:null};b.prototype.LDc=function(){var a=[];if(this.Ba.x&&this.Ba.y){for(var b=
this.Ba.x,e=this.Ba.y,c=0;c<e.length;c++)a.push(e[c]-this.ZS(b[c]));return a}return null};b.prototype.irb=function(a){if(this.Ba.x&&this.Ba.y){a=Math.pow(a-this.EEa("x"),2);var b=30;30>=this.OU&&(b=this.OU-1);return this.xkc[b]*Math.sqrt(this.yRa()/this.C6a())*Math.sqrt(1/this.OU+a/this.aFa("x"))}return null};b.prototype.Usb=function(a){if(this.Ba.x&&this.Ba.y){a=Math.pow(a-this.EEa("x"),2);var b=30;30>=this.OU&&(b=this.OU-1);return this.xoc[b]*Math.sqrt(this.yRa()/this.C6a())*Math.sqrt(1+1/this.OU+
a/this.aFa("x"))}return null};b.prototype.so=function(){var a={};a.rsquared=this.pRa();a.meanx=this.EEa("x");a.meany=this.EEa("y");a.df=this.C6a();a.sumsquaredx=this.aFa("x");a.sumsquaredy=this.aFa("y");a.sumsquaredres=this.yRa();return a};b.prototype.erb=function(){return this.vs};return b}();
_geo.geotoolkit.controls.util.ll.mJa=function(){function b(a){_geo.geotoolkit.controls.util.ll.Pr.call(this,a);this.H1=3;this.wJb=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.util.ll.Pr);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.Exponential");b.prototype.lx=function(a,b,d){_geo.geotoolkit.controls.util.ll.Pr.prototype.lx.call(this,a,b,d);a=Array.isArray(a)?a:this.Ba.x;b=Array.isArray(b)?b:this.Ba.y;if(this.vs.length>=this.H1&&this.Opa)this.n2=function(a){return Math.exp(this.vs[0])*
Math.exp(this.vs[1]*a)+this.vs[2]};else{var e=[0,0,0,0,0],c=0;null!=this.aV&&(e=this.aV);var f=Math.min(a.length,b.length),k=_geo.geotoolkit.util.Math.Ug(b.slice(0,f)),h=0;0>k&&(b=b.map(function(a){return a-k+Number.MIN_VALUE}),h=k);for(;c<f;c++)if(null!=b[c]){var l=d&&null!=d[c]&&0<d[c]?d[c]:1;e[0]+=l*a[c];e[1]+=l*Math.log(b[c]);e[2]+=l*a[c]*a[c];e[3]+=l*a[c]*Math.log(b[c]);e[4]+=l}var n=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),p=e[1]/e[4]-n*e[0]/e[4];this.aV=e;this.vs=[p,n,h];this.n2=function(a){return Math.exp(n*
a+p)+h};this.wJb=function(a){return(Math.log(a-h)-p)/n}}};b.prototype.hI=function(a){null==a&&(a=1);var b;null!==this.vs[0]&&null!==this.vs[1]&&(b=0<this.vs[1]?(Math.log(a/this.vs[1])-this.vs[0])/this.vs[1]:(Math.log(-a/this.vs[1])-this.vs[0])/this.vs[1]);return b};b.prototype.hSa=function(a){if("number"===typeof a)return this.wJb(a);if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)b.push(this.wJb(a[d]));return b}return null};return b}();
_geo.geotoolkit.controls.util.ll.xj=function(){function b(a){_geo.geotoolkit.controls.util.ll.Pr.call(this,a);this.H1=2;this.aV=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.util.ll.Pr);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.Linear");b.prototype.lx=function(a,b,d){_geo.geotoolkit.controls.util.ll.Pr.prototype.lx.call(this,a,b,d);a=Array.isArray(a)?a:this.Ba.x;b=Array.isArray(b)?b:this.Ba.y;if(this.vs.length>=this.H1&&this.Opa)this.n2=function(a){return this.vs[0]*a+this.vs[1]};
else{var e=[0,0,0,0,0],c=0;null!=this.aV&&(e=this.aV);for(var f=Math.min(a.length,b.length);c<f;c++)if(null!=b[c]){var k=d&&null!=d[c]&&0<d[c]?d[c]:1;e[0]+=k*a[c];e[1]+=k*b[c];e[2]+=k*a[c]*a[c];e[3]+=k*a[c]*b[c];e[4]+=k}var h=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),l=e[1]/e[4]-h*e[0]/e[4];this.aV=e;this.vs=[h,l];this.n2=function(a){return a*h+l}}};return b}();
_geo.geotoolkit.controls.util.ll.rF=function(){function b(a){_geo.geotoolkit.controls.util.ll.Pr.call(this,a);this.H1=2}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.util.ll.Pr);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.Logarithmic");b.prototype.lx=function(a,b,d){_geo.geotoolkit.controls.util.ll.Pr.prototype.lx.call(this,a,b,d);a=Array.isArray(a)?a:this.Ba.x;b=Array.isArray(b)?b:this.Ba.y;if(this.vs.length>=this.H1&&this.Opa)this.n2=function(a){return this.vs[0]+this.vs[1]*Math.log(a)};
else{var e=[0,0,0,0,0],c=0;null!=this.aV&&(e=this.aV);for(var f=Math.min(a.length,b.length);c<f;c++)if(null!=b[c]){var k=d&&null!=d[c]&&0<d[c]?d[c]:1;e[0]+=k*Math.log(a[c]);e[1]+=k*b[c]*Math.log(a[c]);e[2]+=k*b[c];e[3]+=k*Math.pow(Math.log(a[c]),2);e[4]+=k}var h=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=(e[2]-h*e[0])/e[4];this.aV=e;this.vs=[l,h];this.n2=function(a){return l+h*Math.log(a)}}};return b}();
_geo.geotoolkit.controls.util.ll.Gfc=function(){function b(a){_geo.geotoolkit.controls.util.ll.Pr.call(this,a);this.H1=2}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.util.ll.Pr);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.Power");b.prototype.lx=function(a,b,d){_geo.geotoolkit.controls.util.ll.Pr.prototype.lx.call(this,a,b,d);a=Array.isArray(a)?a:this.Ba.x;b=Array.isArray(b)?b:this.Ba.y;this.vs.length>=this.H1&&this.Opa&&(this.n2=function(a){return this.vs[0]*Math.pow(a,this.vs[1])});
var e=[0,0,0,0,0],c=0;null!=this.aV&&(e=this.aV);for(var f=Math.min(a.length,b.length);c<f;c++)if(null!==b[c]){var k=d&&null!=d[c]&&0<d[c]?d[c]:1;e[0]+=k*Math.log(a[c]);e[1]+=k*Math.log(b[c])*Math.log(a[c]);e[2]+=k*Math.log(b[c]);e[3]+=k*Math.pow(Math.log(a[c]),2);e[4]+=k}var h=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=Math.exp((e[2]-h*e[0])/e[4]);this.vs=[l,h];this.aV=e;this.n2=function(a){return l*Math.pow(a,h)}};return b}();
_geo.geotoolkit.controls.util.ll.Efc=function(){function b(a){_geo.geotoolkit.controls.util.ll.Pr.call(this,a);this._order=2;this.Smc=[];this.Voc=[]}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.util.ll.Pr);_geo.geotoolkit.da(b,"geotoolkit.controls.util.regression.Polynomial");b.prototype.setOptions=function(a){_geo.geotoolkit.controls.util.ll.Pr.prototype.setOptions.call(this,a);null!=a.order&&(this._order=a.order,this.UKb=!0);this.UKb&&this.Ba.x&&this.Ba.y&&(this.lx(),this.Ja(_geo.geotoolkit.controls.util.ll.Pr.dza,
this,this),this.UKb=!1);return this};b.prototype.jb=function(){var a=_geo.geotoolkit.controls.util.ll.Pr.prototype.jb.call(this);a.order=this._order;return a};b.prototype.zva=function(){_geo.geotoolkit.controls.util.ll.Pr.prototype.zva.call(this);this.Smc=[];this.Voc=[]};b.prototype.lx=function(a,b,d){_geo.geotoolkit.controls.util.ll.Pr.prototype.lx.call(this,a,b,d);a=Array.isArray(a)?a:this.Ba.x;b=Array.isArray(b)?b:this.Ba.y;if(this.vs.length>=this.H1&&this.Opa)this.n2=function(a){for(var b=null,
c=0;c<this.H1;c++)b+=this.vs[c]*Math.pow(a,c);return b};else{for(var e=this._order,c=this.Smc,f=this.Voc,k=0,h=k=0,e=e+1,l,n=Math.min(a.length,b.length),p;h<e;h++){k=null!=c[h]?c[h]:0;for(l=0;l<n;l++)p=d&&null!=d[l]&&0<d[l]?d[l]:1,null!=b[l]&&(k+=p*Math.pow(a[l],h)*b[l]);c[h]=k;for(var r=null!=f[h]?f[h]:[],t=0;t<e;t++){k=null!=r[t]?r[t]:0;for(l=0;l<n;l++)p=d&&null!=d[l]&&0<d[l]?d[l]:1,null!=b[l]&&(k+=p*Math.pow(a[l],h+t));r[t]=k}f[h]=r}f[e]=c;a=function(a,b){for(var c=0,d=0,e=0,g=0,f=a.length-1,k=
Array(b),h=0;h<f;h++){e=h;for(c=h+1;c<f;c++)Math.abs(a[h][c])>Math.abs(a[h][e])&&(e=c);for(d=h;d<f+1;d++)g=a[d][h],a[d][h]=a[d][e],a[d][e]=g;for(c=h+1;c<f;c++)for(d=f;d>=h;d--)a[d][c]-=a[d][h]*a[h][c]/a[h][h]}for(c=f-1;0<=c;c--){g=0;for(d=c+1;d<f;d++)g+=a[d][c]*k[d];k[c]=(a[f][c]-g)/a[c][c]}return k};var f=JSON.parse(JSON.stringify(f)),q=a(f,e);this.H1=q.length;this.vs=q;this.n2=function(a){for(var b=null,c=0;c<q.length;c++)b+=q[c]*Math.pow(a,c);return b}}};return b}();
_geo.geotoolkit.controls.util.Qaa=function(){function b(a,b,d,e){this.nza=a;this.V3a=b;this.Wnb=d;this.Ppc=e;this.rqa=Array(d.length);this.init()}_geo.geotoolkit.da(b,"geotoolkit.controls.util.Interpolation");b.$oa={InterpolateZero:0,InterpolateNull:1,InterpolateMissingValues:2};b.prototype.init=function(){for(var a=0;a<this.Wnb.length;a++)this.rqa[a]=Array(this.nza.length);this.n9c()};b.prototype.n9c=function(){for(var a=0;a<this.Wnb.length;a++)for(var g=0,d=0,e=0;e<this.nza.length;e++)if(this.nza[e]===
this.V3a[a][d])this.rqa[a][e]=this.Wnb[a][d],g=d+1,d++;else if(this.Ppc===b.$oa.yJa)this.rqa[a][e]=0;else if(this.Ppc===b.$oa.CXa)this.rqa[a][e]=null;else if(this.nza[e]<this.V3a[a][0]||this.nza[e]>this.V3a[a][this.V3a[a].length-1])this.rqa[a][e]=null;else{var c,f,k,h;c=this.nza[e-1];f=this.rqa[a][e-1];k=this.V3a[a][g];h=this.Wnb[a][g];this.rqa[a][e]=f+(this.nza[e]-c)*(h-f)/(k-c)}};b.prototype.dVb=function(){return this.rqa};return b}();
_geo.geotoolkit.controls.data.Cgb=function(){function b(a,b){this.d6c=a;this.Y5c=b}b.prototype={OWb:function(){return this.d6c},IWb:function(){return this.Y5c}};return b}();_geo.geotoolkit.controls.Zb.$={eeb:"dragstart",XWa:"dragging",WWa:"dragend",OWa:"delete",wX:"insert",XJa:"move"};
_geo.geotoolkit.controls.Zb.N5=function(){function b(b){b=_geo.geotoolkit.Ca(b,{activefillstyle:"#0f0",inactivefillstyle:"#fff",activelinestyle:a,inactivelinestyle:a});_geo.geotoolkit.scene.shapes.Shape.call(this);this.pP=_geo.geotoolkit.attributes.Fa.ab(b.activefillstyle);this.gN=_geo.geotoolkit.attributes.Fa.ab(b.inactivefillstyle);this.Wra=_geo.geotoolkit.attributes.Aa.ab(b.activelinestyle);this.pua=_geo.geotoolkit.attributes.Aa.ab(b.inactivelinestyle);this.Wca=this.BNa=null;this.Um=!1}var a={color:"#000",
pixelsnapmode:!0};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Shape);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.AbstractHandle");b.prototype.$a=function(a){this.ja(a.ka())};b.prototype.yda=function(a){_geo.geotoolkit.warn("AbstractHandle.adapter() is deprecated since 2.5");null!==a&&void 0!==a&&(this.Wca=a);return this.Wca};b.prototype.active=function(a){_geo.geotoolkit.warn("AbstractHandle.active() is deprecated since 2.5");null!=a&&this.Um!==a&&(this.Um=a);return this.Um};b.prototype.Lv=
function(a){this.Wca=a;return this};b.prototype.hz=function(){return this.Wca};b.prototype.setActive=function(a){this.Um!==a&&(this.Um=a,this.ma());return this};b.prototype.wf=function(){return this.Um};b.prototype.HDa=function(){return this.pP};b.prototype.D_=function(a,b){if(this.pP===a)return this;this.pP=_geo.geotoolkit.attributes.Fa.ph(this,this.pP,a,b,this.nc());this.Pa().ma();return this};b.prototype.gab=function(a,b){if(this.Wra===a)return this;this.Wra=_geo.geotoolkit.attributes.Aa.ph(this,
this.Wra,a,b,this.nc());this.Pa().ma();return this};b.prototype.OSb=function(){return this.Wra};b.prototype.Hab=function(a,b){if(this.pua===a)return this;this.pua=_geo.geotoolkit.attributes.Aa.ph(this,this.pua,a,b,this.nc());this.Pa().ma();return this};b.prototype.bBc=function(){return this.pua};b.prototype.Z6a=function(){return this.gN};b.prototype.I$=function(a,b){if(this.gN===a)return this;this.gN=_geo.geotoolkit.attributes.Fa.ph(this,this.gN,a,b,this.nc());this.Pa().ma();return this};b.prototype.render=
_geo.geotoolkit.Ia;b.prototype.En=function(a){this.BNa=a;return this};b.prototype.lh=function(){return this.BNa};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.activefillstyle=this.pP;a.inactivefillstyle=this.gN;a.activelinestyle=this.Wra;a.inactivelinestyle=this.pua;a.operationinfo=this.BNa;a.shapeadapter=this.Wca;a.active=this.Um;return a};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,a);a.hasOwnProperty("activefillstyle")&&void 0!==
a.activefillstyle&&this.D_(a.activefillstyle,!1===a.activefillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("inactivefillstyle")&&void 0!==a.inactivefillstyle&&this.I$(a.inactivefillstyle,!1===a.inactivefillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("activelinestyle")&&void 0!==a.activelinestyle&&this.gab(a.activelinestyle,!1===a.activelinestyle instanceof _geo.geotoolkit.attributes.Aa);a.hasOwnProperty("inactivelinestyle")&&void 0!==a.inactivelinestyle&&this.Hab(a.inactivelinestyle,
!1===a.inactivelinestyle instanceof _geo.geotoolkit.attributes.Aa);a.hasOwnProperty("operationinfo")&&this.En(a.operationinfo);a.hasOwnProperty("shapeadapter")&&this.Lv(a.shapeadapter);a.hasOwnProperty("active")&&this.setActive(a.active);return this};return b}();
_geo.geotoolkit.controls.Zb.fH=function(){function b(a){var b=_geo.geotoolkit.Ca(a,{ghostlinestyle:{color:"rgba(0, 0, 0, 0.4)",pixelsnapmode:!0},ghostfillstyle:"rgba(0, 0, 0, 0.2)"});_geo.geotoolkit.controls.Zb.N5.call(this,a);this.RRa=_geo.geotoolkit.attributes.Fa.ab(b.ghostfillstyle);this.SRa=_geo.geotoolkit.attributes.Aa.ab(b.ghostlinestyle);this.yJb=!1;this.cA=this.m2a=null;this.Td(new _geo.geotoolkit.util.Ga)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.N5);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.GhostBearingHandle");
b.prototype.JK=function(){return null!==this.cA};b.prototype.eLc=function(){this.JK()&&this.zxd.dispose();this.cA=null;return this};b.prototype.dispose=function(){this.JK()&&this.cA.dispose();_geo.geotoolkit.scene.Node.prototype.dispose.call(this)};b.prototype.tPa=function(){if(null!==this.cA)return this.Nma(),this.cA;this.cA=this.clone();this.cA.D_(this.RRa);this.cA.I$(this.RRa);this.cA.gab(this.SRa);this.cA.Hab(this.SRa);this.cA.Eab(!0);this.cA.c5b(this);this.getParent().va(this.cA);return this.cA};
b.prototype.xua=function(){return this.yJb};b.prototype.jG=function(){return this.cA};b.prototype.Nma=function(){this.JK()&&(this.cA.ja(this.ka()),this.cA.Yb().swa(),this.cA.D_(this.RRa),this.cA.I$(this.RRa),this.cA.gab(this.SRa),this.cA.Hab(this.SRa),this.cA.Eab(!0),this.cA.Pa());return this};b.prototype.Eab=function(a){this.yJb=a;return this};b.prototype.L7a=function(){return this.m2a};b.prototype.c5b=function(a){this.m2a=a;return this};b.prototype.yda=function(a){_geo.geotoolkit.warn("geotoolkit.controls.editing.GhostBearingHandle.adapter() is deprecated since 2.6");
return this.xua()?this.m2a.yda(a):_geo.geotoolkit.controls.Zb.N5.prototype.yda.call(this,a)};b.prototype.Lv=function(a){return this.xua()?this.m2a.Lv(a):_geo.geotoolkit.controls.Zb.N5.prototype.Lv.call(this,a)};b.prototype.hz=function(){return this.xua()?this.m2a.hz():_geo.geotoolkit.controls.Zb.N5.prototype.hz.call(this)};b.prototype.ka=function(){var a=_geo.geotoolkit.controls.Zb.N5.prototype.ka.call(this);a.ghostfillstyle=this.RRa;a.ghostlinestyle=this.SRa;a.isGhost=this.yJb;return a};b.prototype.ja=
function(a){a=_geo.geotoolkit.rc(a);_geo.geotoolkit.controls.Zb.N5.prototype.ja.call(this,a);a.hasOwnProperty("ghostfillstyle")&&void 0!==a.ghostfillstyle&&(this.RRa=_geo.geotoolkit.attributes.Fa.ab(a.ghostfillstyle));a.hasOwnProperty("ghostlinestyle")&&void 0!==a.ghostlinestyle&&(this.SRa=_geo.geotoolkit.attributes.Aa.ab(a.ghostlinestyle));a.hasOwnProperty("isghost")&&void 0!==a.isghost&&this.Eab(a.isghost);return this};b.prototype.Ka=function(a){this.JK()&&this.cA.Ka(a);_geo.geotoolkit.scene.Node.prototype.Ka.call(this,
a);return this};return b}();_geo.geotoolkit.controls.Zb.xFb=function(){function b(){}var a=new _geo.geotoolkit.scene.shapes.Symbol;_geo.geotoolkit.da(b,"geotoolkit.controls.editing.SymbolHandleDriver");b.Ks=function(b,d,e,c,f,k){a.yc(d);a.WA(e);a.qb(c.aa());a.Db(c.ba());a.ua(k);a.ta(f);b.Gd()&&a.ta(_geo.geotoolkit.attributes.Fa.Ui);a.render(b)};b.ie=function(b,d,e){a.qb(d.aa());a.Db(d.ba());a.yc(e);return a.ie(b)};return b}();
_geo.geotoolkit.controls.Zb.wIa=function(){function b(a,b,d){a=_geo.geotoolkit.Ca(a,{x:"number"===typeof a?a:0,y:"number"===typeof b?b:0,size:d,width:null,height:null,painter:_geo.geotoolkit.scene.shapes.hc.Zoa,isindevicespace:!0});this.Gc=this.Kvc(a.size,a.width,a.height);this.skb=new _geo.geotoolkit.util.xc(8,8);this.C1=new _geo.geotoolkit.util.na(a.x,a.y);this.JMb=a.painter;this.vkb=a.isindevicespace;_geo.geotoolkit.controls.Zb.fH.call(this,a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.fH);
_geo.geotoolkit.da(b,"geotoolkit.controls.editing.AnchoredHandle");b.prototype.yc=function(a){this.ma();this.C1=a;this.ma();return this};b.prototype.pj=function(){return this.C1};b.prototype.eUa=function(a){this.ma();this.Gc=this.Kvc(a);this.ma();return this};b.prototype.zta=function(){return this.Gc};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;var b=a.yr();b.Hy(this.Gc,this.skb);var b=this.vkb?this.skb:this.Gc,d=null,e=null;this.wf()?(d=this.pP,e=this.Wra):(d=this.gN,e=this.pua);
d=this.sb()||d;e=this.Xa()||e;_geo.geotoolkit.controls.Zb.xFb.Ks(a,this.C1,this.JMb,b,d,e)};b.prototype.ie=function(a){var b=null!=this.mb()?a.qc(this.mb()):a;a=a.yr();a.Hy(this.Gc,this.skb);a=this.vkb?this.skb:this.Gc;return!0===this.ib()&&_geo.geotoolkit.controls.Zb.xFb.ie(b,a,this.C1)};b.prototype.Kvc=function(a,b,d){return a instanceof _geo.geotoolkit.util.xc?a:"number"===typeof a?new _geo.geotoolkit.util.xc(a,a):new _geo.geotoolkit.util.xc(b||8,d||8)};b.prototype.ka=function(){var a=_geo.geotoolkit.controls.Zb.fH.prototype.ka.call(this);
a.size=this.Gc;a.x=this.C1.x;a.y=this.C1.y;a.painter=this.JMb;a.isindevicespace=this.vkb;return a};b.prototype.ja=function(a){_geo.geotoolkit.controls.Zb.fH.prototype.ja.call(this,a);a.hasOwnProperty("size")&&this.eUa(a.size);a.hasOwnProperty("x")&&(this.C1.x=a.x);a.hasOwnProperty("y")&&(this.C1.y=a.y);a.hasOwnProperty("painter")&&(this.JMb=a.painter);a.hasOwnProperty("isindevicespace")&&(this.vkb=a.isindevicespace);return this};return b}();
_geo.geotoolkit.controls.Zb.qxa=function(){function b(a,b,d,e){_geo.geotoolkit.warn("geotoolkit.controls.editing.Box is deprecated since 2.6");_geo.geotoolkit.scene.shapes.lc.call(this,a,b,d,e);this.pP=new _geo.geotoolkit.attributes.Fa("rgba(0,255,0,0.2)");this.gN=new _geo.geotoolkit.attributes.Fa("rgba(255,255,255,0.2)");this.ua((new _geo.geotoolkit.attributes.Aa("#000",2)).Yd({x:!0,y:!0}));this.ta(this.gN);this.Wj(this.pP,_geo.geotoolkit.scene.Node.$.Wc,this.nc());this.Wj(this.gN,_geo.geotoolkit.scene.Node.$.Wc,
this.nc());this.Wca=null;this.Um=!1;this.BNa={x:0,y:0,width:0,height:0}}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.lc);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.Box");b.prototype.yda=function(a){_geo.geotoolkit.warn("geotoolkit.controls.editing.Box.adapter() is deprecated since 2.6");null!=a&&(this.Wca=a);return this.Wca};b.prototype.hz=function(){return this.Wca};b.prototype.Lv=function(a){null!=a&&(this.Wca=a);return this};b.prototype.HDa=function(){return this.pP};b.prototype.D_=
function(a,b){if(this.pP===a)return this;this.pP=_geo.geotoolkit.attributes.Fa.ph(this,this.pP,a,b,this.nc());this.Pa().ma();return this};b.prototype.Z6a=function(){return this.gN};b.prototype.I$=function(a,b){if(this.gN===a)return this;this.gN=_geo.geotoolkit.attributes.Fa.ph(this,this.gN,a,b,this.nc());this.Pa().ma();return this};b.prototype.active=function(a){_geo.geotoolkit.warn("geotoolkit.controls.editing.Box.active() is deprecated since 2.6");null!=a&&this.Um!==a&&(this.Um=a,this.ta(this.Um?
this.pP:this.gN));return this.Um};b.prototype.setActive=function(a){this.Um!==a&&(this.Um=a,this.ta(this.Um?this.pP:this.gN));return this};b.prototype.wf=function(){return this.Um};b.prototype.En=function(a){this.BNa=a;return this};b.prototype.lh=function(){return this.BNa};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.activefillstyle=this.pP;a.inactivefillstyle=this.gN;a.active=this.Um;return a};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,
a);a.hasOwnProperty("activefillstyle")&&void 0!==a.activefillstyle&&this.D_(a.activefillstyle,!1===a.activefillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("inactivefillstyle")&&void 0!==a.inactivefillstyle&&this.I$(a.inactivefillstyle,!1===a.inactivefillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("active")&&this.setActive(a.active);return this};return b}();
_geo.geotoolkit.controls.Zb.Qga=function(){function b(a,b,d,e){a=_geo.geotoolkit.Ca(a,{activefillstyle:"rgba(0, 255, 0, 0.1)",inactivefillstyle:"transparent"});_geo.geotoolkit.controls.Zb.fH.call(this,a);this.wBa=new _geo.geotoolkit.scene.shapes.lc(a,b,d,e)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.fH);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.BoxHandle");b.prototype.ja=function(a){_geo.geotoolkit.controls.Zb.fH.prototype.ja.call(this,a);a.hasOwnProperty("rect")&&this.zb(a.rect);return this};
b.prototype.ma=function(a,b){null==a&&null!=this.wBa&&(a=this.wBa.ga());this.ib()&&this.Ri(a,b);return this};b.prototype.ka=function(){var a=_geo.geotoolkit.controls.Zb.fH.prototype.ka.call(this);a.rect=this.Nq();return a};b.prototype.zb=function(a){this.wBa.Ea(a);return this};b.prototype.Nq=function(){return this.wBa.ga()};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;this.wf()?this.wBa.ta(this.pP).ua(this.Wra):this.wBa.ta(this.gN).ua(this.pua);this.wBa.render(a)};return b}();
_geo.geotoolkit.controls.Zb.zX=function(){function b(a,b,d,e){_geo.geotoolkit.controls.Zb.fH.call(this,a);a=_geo.geotoolkit.Ca(a,{x1:"number"===typeof a?a:0,y1:"number"===typeof b?b:0,x2:"number"===typeof d?d:0,y2:"number"===typeof e?e:0});this.QU=new _geo.geotoolkit.util.na(a.x1,a.y1);this.RU=new _geo.geotoolkit.util.na(a.x2,a.y2);this.SC=1;this.Zkb=new _geo.geotoolkit.scene.shapes.Line(this.QU,this.RU)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.fH);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.LineBox");
b.prototype.ka=function(){var a=_geo.geotoolkit.controls.Zb.fH.prototype.ka.call(this);a.x1=this.QU.getX();a.y1=this.QU.getY();a.x2=this.RU.getX();a.y2=this.RU.getY();a.linewidth=this.SC;return a};b.prototype.ja=function(a){_geo.geotoolkit.controls.Zb.fH.prototype.ja.call(this,a);a.hasOwnProperty("x1")&&this.QU.setX(a.x1);a.hasOwnProperty("y1")&&this.QU.setY(a.y1);a.hasOwnProperty("x2")&&this.RU.setX(a.x2);a.hasOwnProperty("y2")&&this.RU.setY(a.y2);a.hasOwnProperty("linewidth")&&(this.SC=a.linewidth);
this.USc();return this};b.prototype.USc=function(){this.Zkb.Dw({from:this.QU,to:this.RU});return this};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;this.wf()?this.Zkb.ua(this.Wra.qb(this.SC)):this.Zkb.ua(this.pua.qb(this.SC));this.Zkb.render(a)};b.prototype.Dw=function(a,b){a instanceof _geo.geotoolkit.util.na?this.QU=a:"object"===typeof a&&(a.hasOwnProperty("from")&&(this.QU=a.from),a.hasOwnProperty("to")&&(this.RU=a.to));b instanceof _geo.geotoolkit.util.na&&(this.RU=b);this.USc();
return this};b.prototype.Ap=function(){return this.QU};b.prototype.Pq=function(){return this.RU};b.prototype.yc=function(a){var b=this.RU.x-this.QU.x,d=this.RU.y-this.QU.y;this.Dw(new _geo.geotoolkit.util.na(a.getX()-b/2,a.getY()-d/2),new _geo.geotoolkit.util.na(a.getX()+b/2,a.getY()+d/2));return this};return b}();
_geo.geotoolkit.controls.Zb.Jp=function(){function b(a,b,d){_geo.geotoolkit.controls.Zb.wIa.call(this,a,b,d)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.wIa);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.Handle");return b}();
_geo.geotoolkit.controls.Zb.Qr=function(){function b(){_geo.geotoolkit.util.EventDispatcher.call(this);this.wl=this.uE=null;this.Jn=!1;this.vg=this.jd=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.ShapeAdapter");b.prototype.ofa=function(){return this.Jn};b.prototype.Cg=function(){(this.Jn=this.ip())&&this.update();return this.Jn};b.prototype.Q$=function(a){this.wl=a;return this};b.prototype.Ra=function(){return this.wl.Ra()};b.prototype.update=
function(){this.wl.update()};b.prototype.Bh=function(){return this.wl.Bh()};b.prototype.lk=function(a){this.uE=a;return this};b.prototype.Ob=function(){return this.uE};b.prototype.active=function(a){_geo.geotoolkit.warn("geotoolkit.controls.editing.ShapeAdapter.active() is deprecated since 2.6");null!=a&&this.Um!==a&&(this.Um=a,this.uj(a),this.Ja(_geo.geotoolkit.controls.Zb.Qr.$.Yzb,this));return this.Um};b.prototype.setActive=function(a){this.Um!==a&&(this.Um=a,this.uj(a),this.Ja(_geo.geotoolkit.controls.Zb.Qr.$.Yzb,
this));return this};b.prototype.wf=function(){return this.Um};b.prototype.Er=function(a){if(this.jd===a)return this;null!=this.jd&&this.jd.setActive(!1).mTa("active");this.jd=a;null!=this.jd&&this.jd.setActive(!0).KOa("active");return this};b.prototype.nx=function(){return this.jd};b.prototype.setPosition=function(a,b){this.vg=null==a?null:new _geo.geotoolkit.util.na(a,b);this.Ja(_geo.geotoolkit.controls.Zb.Qr.$.cgb,this,this.getPosition());return this};b.prototype.getPosition=function(){return this.vg};
b.prototype.move=function(a,b){this.Cl(a,b);this.setPosition(a,b);this.Ja(_geo.geotoolkit.controls.Zb.Qr.$.TDb,this,this.getPosition());return this};b.prototype.ka=function(){return{}};b.prototype.Cl=_geo.geotoolkit.Ia;b.prototype.uj=_geo.geotoolkit.Ia;b.prototype.ip=_geo.geotoolkit.Ia;return b}();_geo.geotoolkit.controls.Zb.Qr.$={TDb:"moved",cgb:"positionChanged",Yzb:"activeStateChanged"};
_geo.geotoolkit.controls.Zb.Khc=function(){function b(){_geo.geotoolkit.controls.Zb.Qr.call(this);this.MO=null;this.ZR=!1;this.Cia=!0;this.Nh={}}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.SymbolAdapter");b.prototype.ip=function(){return this.Jn=this.F8()};b.prototype.F8=function(){var a=this.Ob();if(null===a||!(a instanceof _geo.geotoolkit.scene.shapes.Symbol))return!1;this.MO=new _geo.geotoolkit.controls.Zb.Jp;this.MO.Lv(this);var b=a.pj(),
d=a.Ya(),e=this.Bh().Ya().Vd(),b=d.cb(b);e.cb(b,b);var c=a.getSize();a.mna||(d.Hy(c,c),e.Hy(c,c));this.MO.ja({size:c,x:b.getX(),y:b.getY(),painter:a.MP(),isindevicespace:a.ZB()});this.MO.ja(this.Nh);this.Bh().va(this.MO);return!0};b.prototype.Rh=function(){if(!this.Jn)return this.ip(),this;var a=this.Ob();if(null===a)return this;var b=a.pj(),d=a.Ya(),a=this.Bh().Ya().Vd(),b=d.cb(b);a.cb(b,b);this.MO.yc(b);this.MO.Yb().swa();this.MO.Nma();return this};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,
a);this.Rh();return this};b.prototype.SI=function(a){null!==this.MO&&this.MO.Ka(a);return this};b.prototype.uj=function(a){this.Jn||this.ip();this.SI(a);this.Er(a?this.MO:null);this.MO.setActive(a)};b.prototype.Cl=function(a,b,d){var e=this.nx(),c=this.Ob();if(null===e||null===c)return this;var f=this.Bh().Ya().Vd(),k=this.getPosition(),c=c.pj().clone(),f=this.MTb(k,a,b,f);this.ZR?(e.JK()||e.tPa(),e=e.jG(),e.translate(f.Gh,f.Ah),e=this.Yka()):(e.translate(f.Gh,f.Ah),e=this.Yka(),this.Cia&&this.Ob().yc(e.x,
e.y));this.setPosition(a,b);this.Ja(_geo.geotoolkit.controls.Zb.$.XWa,this,this.F6a(c,e,d));return this};b.prototype.release=function(a,b,d){a=this.Yka();this.Cia&&(this.Ob().yc(a.x,a.y),this.nx().yc(a).Td(new _geo.geotoolkit.util.Ga));this.nx().Nma();this.Ja(_geo.geotoolkit.controls.Zb.$.WWa,this,this.G6a(a,d));return this};b.prototype.Yka=function(){var a;this.ZR&&this.MO.JK()?(a=this.MO.jG(),a=a.Ya().cb(a.pj())):a=this.MO.Ya().cb(this.MO.pj());this.Ob().Ya().Ue(a,a);return a};b.prototype.E5a=function(a,
b,d){a=this.Yka();this.Ja(_geo.geotoolkit.controls.Zb.$.eeb,this,this.E6a(a,d))};b.prototype.G6a=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};b.prototype.E6a=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};b.prototype.F6a=function(a,b,d){return{oldx:a.getX(),oldy:a.getY(),x:b.getX(),y:b.getY(),nativeeventargs:d}};b.prototype.MTb=function(a,b,d,e){a=e.cb(a);b=new _geo.geotoolkit.util.na(b,d);e.cb(b,b);return{Gh:b.x-a.x,Ah:b.y-a.y}};b.prototype.jab=function(a){this.Cia=a;return this};b.prototype.a6a=
function(){return this.Cia};b.prototype.kwa=function(a){this.ZR=a;return this};b.prototype.g4=function(){return this.ZR};b.prototype.Uva=function(a){a.hasOwnProperty("ghostlinestyle")&&(this.Nh.efa=_geo.geotoolkit.attributes.Aa.ab(a.ghostlinestyle));a.hasOwnProperty("ghostfillstyle")&&(this.Nh.dfa=_geo.geotoolkit.attributes.Fa.ab(a.ghostfillstyle));a.hasOwnProperty("activefillstyle")&&(this.Nh.xda=_geo.geotoolkit.attributes.Fa.ab(a.activefillstyle));a.hasOwnProperty("inactivefillstyle")&&(this.Nh.mfa=
_geo.geotoolkit.attributes.Fa.ab(a.inactivefillstyle));a.hasOwnProperty("activelinestyle")&&(this.Nh.n8=_geo.geotoolkit.attributes.Aa.ab(a.activelinestyle));a.hasOwnProperty("inactivelinestyle")&&(this.Nh.H9=_geo.geotoolkit.attributes.Aa.ab(a.inactivelinestyle));this.Rh();return this};b.prototype.update=function(){this.wl.update();this.Rh();return this};return b}();
_geo.geotoolkit.controls.Zb.GW.Kya=function(){function b(a){_geo.geotoolkit.controls.Zb.Qr.call(this);this.la=_geo.geotoolkit.Sb(a,{handlers:[_geo.geotoolkit.util.Da.Gg,_geo.geotoolkit.util.Da.Ck,_geo.geotoolkit.util.Da.cl,_geo.geotoolkit.util.Da.Ij]});this.sib=null;this.Jb=[];this.UIb={}}function a(a,b){if(!a)return null;switch(b){case _geo.geotoolkit.util.Da.lb:return new _geo.geotoolkit.util.na(this.Pc(),this.Qc());case _geo.geotoolkit.util.Da.Gg:return(new _geo.geotoolkit.controls.Zb.Jp(a.sa(),
a.qa())).En({x:1,y:1,width:-1,height:-1});case _geo.geotoolkit.util.Da.Ij:return(new _geo.geotoolkit.controls.Zb.Jp(a.sa(),a.wa())).xe("resize").En({x:1,y:0,width:-1,height:1});case _geo.geotoolkit.util.Da.Ck:return(new _geo.geotoolkit.controls.Zb.Jp(a.za(),a.qa())).xe("resize").En({x:0,y:1,width:1,height:-1});case _geo.geotoolkit.util.Da.cl:return(new _geo.geotoolkit.controls.Zb.Jp(a.za(),a.wa())).xe("resize").En({x:0,y:0,width:1,height:1});case _geo.geotoolkit.util.Da.We:return(new _geo.geotoolkit.controls.Zb.Jp(a.sa(),
a.Qc())).xe("resize").En({x:1,y:0,width:-1,height:0});case _geo.geotoolkit.util.Da.Og:return(new _geo.geotoolkit.controls.Zb.Jp(a.Pc(),a.qa())).xe("resize").En({x:0,y:1,width:0,height:-1});case _geo.geotoolkit.util.Da.Ng:return(new _geo.geotoolkit.controls.Zb.Jp(a.za(),a.Qc())).xe("resize").En({x:0,y:0,width:1,height:0});case _geo.geotoolkit.util.Da.Ei:return(new _geo.geotoolkit.controls.Zb.Jp(a.Pc(),a.wa())).xe("resize").En({x:0,y:0,width:0,height:1})}return null}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);
b.prototype.setOptions=function(a){this.la=_geo.geotoolkit.Sb(a,this.la);return this};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,a);this.ofa()?(this.Rh(),this.Er(this.Jb[0])):this.Cg();return this};b.prototype.QV=function(){return this.Ob()?this.Ob().ga():null};b.prototype.uj=function(a){this.Rh();for(var b=0;b<this.Jb.length;b++)this.Jb[b].Ka(a)};b.prototype.pyc=function(){return new _geo.geotoolkit.controls.Zb.qxa};b.prototype.EUb=function(){return this.sib};
b.prototype.ip=function(){this.Jb=[];this.UIb={};var b=this.QV(),d,e;this.sib=new _geo.geotoolkit.controls.Zb.Qga(b);this.sib.En({x:1,y:1,width:0,height:0});this.Jb.push(this.sib);this.Er(this.Jb[0]);for(d=0;d<this.la.handlers.length;++d)if(e=a(b,this.la.handlers[d]))e=this.Jb.push(e)-1,this.UIb[e]=this.la.handlers[d];for(d=0;d<this.Jb.length;d++)this.Bh().va(this.Jb[d]),this.Jb[d].Lv(this);return!0};b.prototype.Cl=function(a,b){var e=this.nx();if(null==e)return this;var c=this.Ob();if(null==e.lh())return this;
e=this.qvb(a,b);if(null==e.newBounds||0>=e.newBounds.ba()||0>=e.newBounds.aa())return this;var e=_geo.geotoolkit.util.Ga.hf(e.shapeBounds,e.newBounds,!1,!1,!1),f=null!=c.Yb()?c.Yb():new _geo.geotoolkit.util.Ga;c.Td(_geo.geotoolkit.util.Ga.multiply(f,e));this.Rh();this.setPosition(a,b);c.ma();return this};b.prototype.qvb=function(a,b,e){var c=this.getPosition();if(c.x===a&&c.y===b)return this;var f=this.Ob();f.ma();e=f.ga();var k=e.clone(),h=null,h=f.getParent()?f.Yb()?_geo.geotoolkit.util.Ga.multiply(f.getParent().Ya(),
f.Yb()).Vd():f.getParent().Ya().Vd():f.Ya().Vd(),c=new _geo.geotoolkit.util.na(c.x,c.y);h.cb(c,c);b=new _geo.geotoolkit.util.na(a,b);h.cb(b,b);a=b.x-c.x;b=b.y-c.y;h=this.nx();h=h.lh();c=h.width;f=h.height;k.setX(e.getX()+h.x*a);k.setY(e.getY()+h.y*b);k.qb(e.aa()+c*a);k.Db(e.ba()+f*b);return{shapeBounds:e,newBounds:k}};b.prototype.setStyle=function(a){function b(a){return a=a instanceof _geo.geotoolkit.attributes.Fa?{fillstyle:a.ka()}:{fillstyle:a}}function e(a){return a=a instanceof _geo.geotoolkit.attributes.Aa?
{linestyle:a.ka()}:{linestyle:a}}var c={};a.hasOwnProperty("main")&&(a.main.hasOwnProperty("linestyle")&&(c=_geo.geotoolkit.Ca(c,e(a.main.linestyle))),a.main.hasOwnProperty("fillstyle")&&(c=_geo.geotoolkit.Ca(c,b(a.main.fillstyle))),this.Jb[0].ja(c));c={};if(a.hasOwnProperty("corners"))for(a.corners.hasOwnProperty("linestyle")&&(c=_geo.geotoolkit.Ca(c,e(a.corners.linestyle))),a.corners.hasOwnProperty("fillstyle")&&(c=_geo.geotoolkit.Ca(c,b(a.corners.fillstyle))),a=1;a<this.Jb.length;++a)this.Jb[a].ja(c);
return this};b.prototype.Rh=function(){var a=this.QV(),b=null,e;this.Ob().getParent()?(b=this.Ob().Yb()?_geo.geotoolkit.util.Ga.multiply(this.Ob().getParent().Ya(),this.Ob().Yb()):this.Ob().getParent().Ya(),b=_geo.geotoolkit.util.Ga.multiply(this.Bh().Ya().Vd(),b)):b=this.Bh().Ya().Vd();a=b.ob(a);this.Jb[0].zb(a);for(b=1;b<this.Jb.length;++b)e=this.UIb[b],(e=a.yV(e))&&this.Jb[b].yc(e)};return b}();
_geo.geotoolkit.controls.Zb.GW.lXa=function(){function b(a){_geo.geotoolkit.controls.Zb.GW.Kya.call(this,a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.GW.Kya);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.scaling.GroupAdapter");b.prototype.Cl=function(a,b){var d=this.nx();if(null==d)return this;var e=this.Ob();if(null==d.lh())return this;d=this.qvb(a,b);if(null==d.newBounds||0>=d.newBounds.ba()||0>=d.newBounds.aa())return this;e.ma();e.Ea(d.newBounds);this.Rh();this.setPosition(a,b);e.ma();
return this};return b}();
_geo.geotoolkit.controls.Zb.hba=function(){function b(a,b){_geo.geotoolkit.util.EventDispatcher.call(this);this.nj=a;this._root=null!=a?a.getRoot():null;this.fia=null;this.Qb=b;this.wl=new _geo.geotoolkit.util.ZN}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.ShapeAdapterRegistry");b.$={N$b:"deactivated",C8b:"activated"};b.prototype.update=function(){null!=this.nj&&this.nj.update()};b.prototype.Bh=function(){return this.Qb};b.prototype.register=
function(a,b){b.Q$(this);this.wl.put(a,b);return this};b.prototype.hz=function(a){if("string"!==typeof a){if(null==a.getClassName)return null;a=a.getClassName()}return this.wl.OB(a)?this.wl.get(a):null};b.prototype.CDc=function(){return this.wl.keys()};b.prototype.kc=function(a){this.dd=a;return this};b.prototype.Ra=function(){return this.dd};b.prototype.eT=function(a){if(this.fia===a)return this;null!=this.fia&&(this.fia.setActive(!1),this.Ja(_geo.geotoolkit.controls.Zb.hba.$.N$b,this,this.fia));
this.fia=a;null!=this.fia&&(this.fia.setActive(!0),this.Ja(_geo.geotoolkit.controls.Zb.hba.$.C8b,this,this.fia));this.nj&&this.nj.update();return this};b.prototype.GDa=function(){return this.fia};return b}();
_geo.geotoolkit.controls.Zb.Ccc=function(){function b(){_geo.geotoolkit.controls.Zb.Qr.call(this);this.Jb=[];this.QL=8}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.LineShapeAdapter");b.prototype.ip=function(){var a=this.Ob();this.Jb.push((new _geo.geotoolkit.controls.Zb.zX(a.Ap().x,a.Ap().y,a.Pq().x,a.Pq().y)).En({x:1,y:1,width:0,height:0}));this.Er(this.Jb[0]);this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(a.Ap().x,a.Ap().y,new _geo.geotoolkit.util.xc(this.QL,
this.QL))).xe("resize").En({x:-99}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(a.Pq().x,a.Pq().y,new _geo.geotoolkit.util.xc(this.QL,this.QL))).xe("resize").En({y:-99}));for(a=0;a<this.Jb.length;a++)this.Bh().va(this.Jb[a]),this.Jb[a].Lv(this);return!0};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,a);this.ofa()?(this.Rh(),this.Er(this.Jb[0])):(this.Jb=[],this.Cg());return this};b.prototype.uj=function(a){this.Rh();for(var b=0;b<this.Jb.length;b++)this.Jb[b].Ka(a)};
b.prototype.Cl=function(a,b){var d=this.nx();if(null==d)return this;var e=this.getPosition();if(e.x===a&&e.y===b)return this;var c=this.Ob();c.ma();var f=c.Ya().Vd(),e=new _geo.geotoolkit.util.na(e.x,e.y);f.cb(e,e);var k=new _geo.geotoolkit.util.na(a,b);f.cb(k,k);f=k.x-e.x;e=k.y-e.y;if(d=d.lh())if(-99===d.x||-99===d.y){var k=c.Ap(),h=c.Pq();-99===d.x?c.Dw({from:new _geo.geotoolkit.util.na(k.x+f,k.y+e),to:h}):-99===d.y&&c.Dw({from:k,to:new _geo.geotoolkit.util.na(h.x+f,h.y+e)})}else k=c.ga(),h=k.clone(),
h.setX(h.getX()+d.x*f),h.setY(h.getY()+d.y*e),f=_geo.geotoolkit.util.Ga.hf(k,h,!1,!1,!1),e=null!=c.Yb()?c.Yb():new _geo.geotoolkit.util.Ga,c.Td(_geo.geotoolkit.util.Ga.multiply(e,f));this.Rh();this.setPosition(a,b);c.ma();return this};b.prototype.Rh=function(){if(this.Ob()&&this.Bh()){var a=this.Ob(),b=_geo.geotoolkit.util.Ga.multiply(this.Bh().Ya().Vd(),this.Ob().Ya()),d=b.cb(a.Ap()),a=b.cb(a.Pq());this.Jb[0].Dw({from:d,to:a});this.Jb[1].yc(d);this.Jb[2].yc(a)}return this};return b}();
_geo.geotoolkit.controls.Zb.zfc=function(){function b(){_geo.geotoolkit.controls.Zb.Qr.call(this);this.Jb=[];this.QL=8}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.PolyLineShapeAdapter");b.prototype.ip=function(){var a=this.Ob(),b=a.ga();this.Jb.push((new _geo.geotoolkit.controls.Zb.zX(b.sa(),b.qa(),b.za(),b.wa())).En({x:1,y:1,width:0,height:0}));this.Er(this.Jb[0]);for(var b=a.Wf(),d=a.Jg(),a=0;a<b.length;++a){var e=(new _geo.geotoolkit.controls.Zb.Jp({x:b[a],
y:d[a],size:this.QL})).xe("resize").En({index:a});this.Jb.push(e);this.Bh().va(e);e.Lv(this)}return!0};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,a);this.ofa()?(this.Rh(),this.Er(this.Jb[0])):(this.Jb=[],this.Cg());return this};b.prototype.uj=function(a){this.Rh();for(var b=0;b<this.Jb.length;b++)this.Jb[b].Ka(a)};b.prototype.Cl=function(a,b){var d=this.nx();if(null==d)return this;var e=this.getPosition();if(e.x===a&&e.y===b)return this;var c=this.Ob();c.ma();
var f=c.Ya().Vd(),e=new _geo.geotoolkit.util.na(e.x,e.y);f.cb(e,e);var k=new _geo.geotoolkit.util.na(a,b);f.cb(k,k);f=k.x-e.x;e=k.y-e.y;if(d=d.lh())if(null!=d.index){var k=c.Wf(),h=c.Jg();k[d.index]+=f;h[d.index]+=e;c.Ne(k,h)}else k=c.ga(),h=k.clone(),h.setX(h.getX()+d.x*f),h.setY(h.getY()+d.y*e),f=_geo.geotoolkit.util.Ga.hf(k,h,!1,!1,!1),e=null!=c.Yb()?c.Yb():new _geo.geotoolkit.util.Ga,c.Td(_geo.geotoolkit.util.Ga.multiply(e,f));this.Rh();this.setPosition(a,b);c.ma();return this};b.prototype.Rh=
function(){for(var a=this.Ob(),b,d=this.Ob().ga(),e=null!=a.Yb()?a.Yb():new _geo.geotoolkit.util.Ga,c=a.Ya(),f=this.Bh().Ya().Vd(),k=a.Wf(),h=a.Jg(),a=0;a<this.Jb.length;a++)b=this.Jb[a].lh(),null!=b&&void 0!==b.index?(b=c.dg(k[b.index],h[b.index]),this.Jb[a].yc(f.transform(b))):(this.Jb[a].Dw(new _geo.geotoolkit.util.na(d.sa(),d.qa()),new _geo.geotoolkit.util.na(d.za(),d.wa())),this.Jb[a].Td(e));return this};return b}();
_geo.geotoolkit.controls.Zb.lic=function(){function b(){_geo.geotoolkit.controls.Zb.GW.Kya.call(this)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.GW.Kya);_geo.geotoolkit.da(b,"geotoolkit.controls.editing.TextShapeAdapter");b.prototype.ip=function(){var a=this.QV();this.Jb.push((new _geo.geotoolkit.controls.Zb.Qga(a)).En({x:1,y:1,width:0,height:0}));this.Er(this.Jb[0]);for(a=0;a<this.Jb.length;a++)this.Bh().va(this.Jb[a]),this.Jb[a].Lv(this);return!0};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.GW.Kya.prototype.lk.call(this,
a);this.ofa()?(this.Rh(),this.Er(this.Jb[0])):(this.Jb=[],this.Cg());return this};b.prototype.uj=function(a){this.Rh();for(var b=0;b<this.Jb.length;b++)this.Jb[b].Ka(a)};b.prototype.QV=function(){var a=this.Ob();return null!=a?a.eea(a.Ya()):null};b.prototype.Rh=function(){if(this.Ob()&&this.Bh()){var a=_geo.geotoolkit.util.Ga.multiply(this.Bh().Ya().Vd(),this.Ob().Ya()),b=this.QV();this.Jb[0].zb(a.ob(b))}return this};return b}();
_geo.geotoolkit.controls.axis.Yxa=function(){function b(b){_geo.geotoolkit.axis.Jl.call(this);this.Qo=b;this.ER=40;this.z1a=1;this.WL=this.INa=this.Y0a=this.e0a=this.sBa=this.GY=this.Uqa=0;this.cx=!1;this.et=null;this.rk=new _geo.geotoolkit.util.NumberFormat;this.rk.Pv(2);this.O6c=["EDGE","MAJOR"];this.Dh("MAJOR",(new _geo.geotoolkit.attributes.Aa(a)).Yd({x:!0,y:!0}));this.Dh("MINOR",(new _geo.geotoolkit.attributes.Aa(a)).Yd({x:!0,y:!0}));this.Dh("EDGE",(new _geo.geotoolkit.attributes.Aa(a)).Yd({x:!0,
y:!0}));this.um("MAJOR",new _geo.geotoolkit.attributes.eb(a,"middle","center",d));this.um("MINOR",new _geo.geotoolkit.attributes.eb(g,"middle","center",d));this.um("EDGE",new _geo.geotoolkit.attributes.eb(a,"middle","center",d));this.Tg("MINOR",!1);this.xo("MINOR",!1);this.yt("EDGE",5);this.yt("MAJOR",5);this.yt("MINOR",5)}var a="#757575",g="#e0e0e0",d="12px Roboto";_geo.geotoolkit.fa(b,_geo.geotoolkit.axis.Jl);_geo.geotoolkit.da(b,"geotoolkit.controls.axis.HistogramTickGenerator");b.VQ={Kaa:0,Range:1,
lb:2};b.prototype.Qs=function(a){this.et=a;return this};b.prototype.ja=function(a){_geo.geotoolkit.axis.Jl.prototype.ja.call(this,a);null!=a.MAJOR&&null!=a.MAJOR.labelformat&&this.kUa(a.MAJOR.labelformat);null!=a.labelstrategy&&this.a4b(a.labelstrategy);null!=a.minimumspan&&this.vHa(a.minimumspan);null!=a.bins&&this.gT(a.bins);return this};b.prototype.ka=function(){var a=_geo.geotoolkit.axis.Jl.prototype.ka.call(this);null==a&&(a={});0!==this.dsb()&&(a.labelstrategy=this.dsb());a.minimumspan=this.UQa();
a.bins=this.Qo;return a};b.prototype.kUa=function(a){this.rk=a;return this};b.prototype.q7a=function(){return this.rk};b.prototype.gT=function(a){this.Qo=a;return this};b.prototype.a4b=function(a){this.WL=a;return this};b.prototype.dsb=function(){return this.WL};b.prototype.vHa=function(a){this.ER=a;return this};b.prototype.UQa=function(){return this.ER};b.prototype.$a=function(a){this.Qo=a.Qo;this.ER=a.ER;this.Uqa=a.Uqa;this.GY=a.GY;this.sBa=a.sBa;this.e0a=a.e0a;this.Y0a=a.Y0a;this.INa=a.INa;this.WL=
a.WL;this.cx=a.cx;this.et=a.et;this.rk=a.rk.clone()};b.prototype.reset=function(a,b,d){this.z1a=(d.Oq()-d.lm())/this.Qo;this.sBa=this.GY=0;this.cx?d.NW(Math.PI/2):d.NW(0);return this.Mla(this.O6c)};b.prototype.gwa=function(a){this.cx=a;return this};b.prototype.Sl=function(a,c,d){a=d.sj().toUpperCase();d.ua(this.Kj(a));c=c===_geo.geotoolkit.axis.xd.ic?d.Xj().Ab():d.Xj().Pb();this.Uqa=Math.abs(this.ER/c);if(this.WL===b.VQ.Kaa){if("EDGE"===a)return 2;if("MAJOR"===a)return this.GY=d.lm(),this.Qo-1}return this.WL!==
b.VQ.lb&&this.WL!==b.VQ.Range||"EDGE"===a||"MAJOR"!==a?0:(this.GY=d.lm(),this.Qo)};b.prototype.Sp=function(a,c,d){a=d.sj().toUpperCase();d.wb(this.Al(a));if(this.WL===b.VQ.Kaa){if("EDGE"===a)return a=d.Xj().qe(_geo.geotoolkit.renderer.TextMetrics.measureText(this.rk.format(d.lm()),d.Ib()).yna()),this.e0a=c===_geo.geotoolkit.axis.xd.ic?this.cx?a.ba():a.aa():this.cx?a.aa():a.ba(),a=d.Xj().qe(_geo.geotoolkit.renderer.TextMetrics.measureText(this.rk.format(d.Oq()),d.Ib()).yna()),this.Y0a=c===_geo.geotoolkit.axis.xd.ic?
this.cx?a.ba():a.aa():this.cx?a.aa():a.ba(),2;if("MAJOR"===d.sj())return this.GY=d.lm(),this.sBa=d.lm(),this.INa=0,this.Qo-1}if(this.WL===b.VQ.lb||this.WL===b.VQ.Range)if("EDGE"===a)a=d.Xj().qe(_geo.geotoolkit.renderer.TextMetrics.measureText(this.rk.format(d.lm()),d.Ib()).yna()),this.e0a=c===_geo.geotoolkit.axis.xd.ic?this.cx?a.ba():a.aa():this.cx?a.aa():a.ba(),a=d.Xj().qe(_geo.geotoolkit.renderer.TextMetrics.measureText(this.rk.format(d.Oq()),d.Ib()).yna()),this.Y0a=c===_geo.geotoolkit.axis.xd.ic?
this.cx?a.ba():a.aa():this.cx?a.aa():a.ba();else if("MAJOR"===d.sj())return this.GY=d.lm(),this.sBa=d.lm(),this.INa=0,this.Qo;return 0};b.prototype.NIc=function(a,b,d,g){b=a+(b+1)*d;return this.wy("EDGE")&&null!=this.Kj("EDGE")&&(Math.abs(b-a)<this.Uqa||Math.abs(b-g)<this.Uqa)||Math.abs(this.GY-b)<this.Uqa?Number.NaN:this.GY=b};b.prototype.OIc=function(a,b,d){b=a+(b+.5)*d;if(this.GY===a){if(Math.abs(this.GY-b)<this.Uqa/2)return Number.NaN}else if(Math.abs(this.GY-b)<this.Uqa)return Number.NaN;return this.GY=
b};b.prototype.Tq=function(a,c,d,g){var h=this.z1a,l=d.sj().toUpperCase();a=d.lm();var n=d.Oq();if(this.WL===b.VQ.Kaa){if("EDGE"===l)return h=new _geo.geotoolkit.util.xc(1,1),g=0===g?n:a,c===_geo.geotoolkit.axis.xd.$b&&0>d.Xj().Pb()&&(d.Xj().xk(h,h),g+=h.height),c===_geo.geotoolkit.axis.xd.ic&&0>d.Xj().Ab()&&(d.Xj().xk(h,h),g+=h.width),g;if("MAJOR"===l)return this.NIc(a,g,h,n)}else if((this.WL===b.VQ.lb||this.WL===b.VQ.Range)&&"MAJOR"===l)return this.OIc(a,g,h);return Number.NaN};b.prototype.js=function(a,
c,d,g){var h=this.z1a,l=d.sj().toUpperCase();a=d.lm();var n=d.Oq();if(this.WL===b.VQ.Kaa){if("EDGE"===l)return 0===g?a:n;if("MAJOR"===l){g=this.NIc(a,g,h,n);h=_geo.geotoolkit.renderer.TextMetrics.measureText(this.rk.format(g),d.Ib()).yna();h=d.Xj().qe(h);c=c===_geo.geotoolkit.axis.xd.ic?this.cx?h.ba():h.aa():this.cx?h.aa():h.ba();if(Math.abs(g-a)<this.e0a+.5*c||Math.abs(g-n)<this.Y0a+.5*c||Math.abs(this.sBa-g)<.5*(this.INa+c))return Number.NaN;this.sBa=g;this.INa=c;return g}}return this.WL!==b.VQ.lb&&
this.WL!==b.VQ.Range||"MAJOR"!==l?Number.NaN:this.OIc(a,g,h)};b.prototype.hj=function(a,c,d,g,h){if(this.WL===b.VQ.Range){var l=d.sj().toUpperCase();if("MAJOR"===l)return l=d.lm(),h=l+g*this.z1a,l+=(g+1)*this.z1a,null==this.et?(a=this.rk.format(h),c=this.rk.format(l),a+"-"+c):this.et(this,a,c,d,g,h)+"-"+this.et(this,a,c,d,g,l)}return null==this.et?this.rk.format(h):this.et(this,a,c,d,g,h)};return b}();
_geo.geotoolkit.controls.shapes.MCb=function(){function b(){}b.prototype.YPa=_geo.geotoolkit.Ia;b.prototype.lab=_geo.geotoolkit.Ia;b.prototype.Ml=_geo.geotoolkit.Ia;return b}();
_geo.geotoolkit.controls.shapes.pl=function(){function b(a,b,e,c){return{minvalue:a+b*e,maxvalue:a+b*(e+1),binnumber:e,frequency:c[e]}}function a(b,d,e){b=_geo.geotoolkit.Ca(b,{data:b instanceof Array?b:null,bounds:d instanceof _geo.geotoolkit.util.Rect?d:null,bins:e,frequencytype:"absolute",accumulatedmode:"disabled",histogrammode:a.toa.xj,fillstyle:"rgba(128,100,255,1.0)",linestyle:"rgba(148,120,255,1.0)",autogradient:!1,binspacing:100,verticalscale:100,logstartvalue:0,highlightstyle:"pink",highvalueinclusive:!0,
minvalue:null,maxvalue:null,neatlimitsx:!1,neatlimitsy:!1,unit:null});_geo.geotoolkit.scene.shapes.Shape.call(this,b);this.ZIb=b.highvalueinclusive;this.eg=null;this.rE=[];this.CF=this.ft=null;this.Qo=0;this.dHb=!1;this.TLa=0;null!=b.minvalue&&null!=b.maxvalue?(this.b7=!0,this.zd=b.minvalue,this.Fd=b.maxvalue):(this.b7=!1,this.zd=0,this.Fd=1);this.qlb=b.neatlimitsx;this.rlb=b.neatlimitsy;this.oAa=[];this.IH=[];this.zba=[];this.$ia=b.logstartvalue;this.fnc=this.inc=this.xca=this.u1a=0;this.Ts=[];this.$d=
null;this.bounds=b.bounds;this.bDa=null;this.mt=!1;this.yza=b.binspacing;this.rza=!1;this.Pib=this.Qib=0;this.ur=this.yZ=null;this.Rmb=!1;this.mud={};this.yOa=b.verticalscale;this.Fjb=!1;this.Rd=_geo.geotoolkit.util.Mb.$b;this.c7=!1;this.bca=b.frequencytype;this.Aba=b.accumulatedmode;this.Ria=b.histogrammode;this.UO=this.cQ.bind(this);this.oLb=this.jvb.bind(this);null!=b.data&&this.setData(b);null!=b.bins?this.gT(b.bins):null!=b.binstep?this.Mwb(b.binstep):(this.rza=!0,this.fcb());this.Wma(b.autogradient);
this.Gab(b.highlightstyle);this.aG()}_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.shapes.Shape);_geo.geotoolkit.da(a,"geotoolkit.controls.shapes.Histogram");a.$={Zga:"dataUpdated",Ffb:"modelLimitsUpdated",YVa:"binsUpdated"};a.roa={None:0,wd:1,$c:2};a.uX={mIa:"absolute",Pfb:"normalized",lgb:"relative"};a.dX={oX:"disabled",YBb:"enabled"};a.toa={xj:"linear",rF:"logarithmic"};a.prototype.setData=function(a,b,e){if(Array.isArray(a)||a instanceof _geo.geotoolkit.data.Or||a instanceof _geo.geotoolkit.data.nH)return this.kC(a),
this.setOptions({minvalue:b,maxvalue:e}),this;a=_geo.geotoolkit.Ca(a,{data:null,minvalue:b,maxvalue:e});null!=a.data&&this.kC(a.data);this.setOptions(a);return this};a.prototype.getData=function(){return{data:this.rE,minvalue:this.zd,maxvalue:this.Fd}};a.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,a);this.setOptions(a);return this};a.prototype.setOptions=function(a){!0===a.autominmax&&this.vwb();null!=a.minvalue&&null!=a.maxvalue&&(this.b7=!0,this.zd=
a.minvalue,this.Fd=a.maxvalue);null!=a.neatlimitsx&&(this.qlb=a.neatlimitsx);null!=a.neatlimitsy&&(this.rlb=a.neatlimitsy);null!=a.logstartvalue&&(this.$ia=a.logstartvalue);null!=a.bounds&&(this.bounds=a.bounds);null!=a.binspacing&&(this.yza=a.binspacing);null!=a.verticalscale&&(this.yOa=a.verticalscale);null!=a.frequencytype&&(this.bca=a.frequencytype);null!=a.accumulatedmode&&(this.Aba=a.accumulatedmode);null!=a.histogrammode&&(this.Ria=a.histogrammode);null!=a.flipedx&&(this.Fjb=a.flipedx);null!=
a.orientation&&this.setOrientation(a.orientation);null!=a.bins?this.gT(a.bins):null!=a.binstep&&this.Mwb(a.binstep);null!=a.autogradient&&this.Wma(a.autogradient);null!=a.fillstyle&&this.ta(a.fillstyle);null!=a.linestyle&&this.ua(a.linestyle);null!=a.bounds&&this.Ea(a.bounds);null!=a.unit&&this.Fl(a.unit);this.Gab(a.highlightstyle);this.aG();this.ma();return this};a.prototype.vPc=function(a){"boolean"==typeof a&&this.qlb!==a&&(this.qlb=a,this.aG());return this};a.prototype.wPc=function(a){"boolean"==
typeof a&&this.rlb!==a&&(this.rlb=a,this.Fz());return this};a.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);return a=_geo.geotoolkit.Ca(a,this.jb())};a.prototype.jb=function(){var a={};this.b7&&null!=this.zd&&null!=this.Fd&&(a.minvalue=this.zd,a.maxvalue=this.Fd);a.logstartvalue=this.$ia;a.binspacing=this.yza;a.bins=this.CP();a.verticalscale=this.yOa;a.frequencytype=this.bca;a.accumulatedmode=this.Aba;a.histogrammode=this.Ria;a.autogradient=this.cta();a.highlightstyle=this.U6a();a.fillstyle=
this.sb();a.linestyle=this.Xa();a.unit=this.yZ;a.flipedx=this.Fjb;return a};a.prototype.Fl=function(a){this.yZ=_geo.geotoolkit.util.zf.Za().Tb(a);null!=this.eg?null==this.eg.Tb()||null!=this.eg.Tb()&&""===this.eg.Tb().be()?this.ur=null:!this.yZ.NI(this.ur)&&this.yZ.qr(this.ur)&&(this.ur=this.yZ,this.rE=this.eg.toArray(!0,this.ur),this.aG(),this.ma()):this.ur=this.yZ;return this};a.prototype.kC=function(a){var b=!1;if(null==a)return this.rE=this.eg=null,this;if(Array.isArray(a))this.rE=a,b=!0;else if((a instanceof
_geo.geotoolkit.data.Or||a instanceof _geo.geotoolkit.data.nH)&&a!==this.eg)null!=this.eg&&(this.eg.hb(_geo.geotoolkit.data.Yl.$.Hn,this.UO),this.eg.hb(_geo.geotoolkit.data.Lh.$.wO,this.oLb)),this.eg=a,this.eg.kb(_geo.geotoolkit.data.Yl.$.Hn,this.UO),this.eg.kb(_geo.geotoolkit.data.Lh.$.wO,this.oLb),null!=this.yZ&&this.yZ.qr(this.eg.Tb())?(this.rE=this.eg.toArray(!0,this.yZ),this.ur=this.yZ):(this.eg.Tb()&&""!==this.eg.Tb().be()?this.ur=this.eg.Tb():this.ur=null,this.rE=this.eg.toArray(!0));else throw Error("Only support Array or NumericalDataSeries(view) as data source");
a=this.rE;var e=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;this.ft=this.CF=null;for(var f=0,k=a.length,h=0;h<k;++h){var l=a[h];(0,window.isNaN)(l)||null==l||(l<e&&(e=l),l>c&&(c=l),f++)}this.dHb=!1;this.TLa=f;this.Qib=1>k?0:e;this.Pib=1>k?1:c;this.b7||(this.zd=this.Qib,this.Fd=this.Pib);b&&(this.fcb(),b={minValue:this.zd,maxValue:this.Fd,count:this.TLa,binCount:this.Qo},this.Ja(_geo.geotoolkit.controls.shapes.pl.$.Zga,this,b),this.zd=b.minValue,this.Fd=b.maxValue,this.Qo!==b.binCount&&(this.Qo=
b.binCount));this.aG();this.mt=this.Rmb=!1;return this};a.prototype.dispose=function(){null!=this.eg&&(this.eg.hb(_geo.geotoolkit.data.Yl.$.Hn,this.UO),this.eg.hb(_geo.geotoolkit.data.Lh.$.wO,this.oLb),this.eg=null);null!=this.Qia&&this.Kq(this.Qia,_geo.geotoolkit.scene.Node.$.Wc,this.nc());_geo.geotoolkit.scene.shapes.Shape.prototype.dispose.call(this)};a.prototype.setOrientation=function(a){this.Rd=a;this.mt=!1;this.ma();return this};a.prototype.Yk=function(){return this.Rd};a.prototype.wK=function(){return this.ur};
a.prototype.kTc=function(){var a=this.eg.Ug(this.ur),b=this.eg.Ih(this.ur);this.b7||(this.zd=a,this.Fd=b)};a.prototype.jvb=function(a,b,e){null!=this.yZ&&this.yZ.qr(e)?(this.ur=this.yZ,this.rE=this.eg.toArray(!0,this.ur)):(null!=e&&""!==e.be()?this.ur=e:this.ur=null,this.rE=this.eg.toArray(!0));this.kTc();this.aG();this.ma()};a.prototype.cQ=function(a,b,e){this.rE=this.eg.toArray(!0,this.ur);this.kTc();this.aG();this.ma()};a.prototype.vwb=function(){this.b7&&(this.b7=!1,this.zd=this.Qib,this.Fd=this.Pib,
this.mt=!1,this.aG())};a.prototype.r6b=function(a,b){this.b7=!0;this.zd=Math.min(a,b);this.Fd=Math.max(a,b);this.mt=!1;this.aG();return this};a.prototype.xOb=function(){return this.b7};a.prototype.Tc=function(){return this.zd};a.prototype.ad=function(){return this.Fd};a.prototype.so=function(){if(this.Rmb)return this.Ts;this.mt||this.aG();this.kPa();return this.Ts};a.prototype.DEc=function(){return"Sample Count;Min;Max;Average;Variance;Avg. Deviation;Std. Deviation;Skewness;Kurtosis;P10;P50;P90".split(";")};
a.prototype.CEa=function(){this.mt||this.aG();return this.xca};a.prototype.rQa=function(b,d){if(null==this.IH&&0>b&&b>=this.Qo)return 0;var e=1;this.bca===a.uX.Pfb&&(e=this.Aba===a.dX.oX?this.xca:this.TLa);if(this.Ria===a.toa.xj||d)return this.bca===a.uX.lgb&&(e=this.TLa),this.Aba===a.dX.oX?this.IH[b]/e:this.zba[b]/e;if(this.Ria===a.toa.rF){this.bca===a.uX.Pfb&&(e=100/e);var c=this.Aba===a.dX.oX?this.IH[b]:this.zba[b],c=c*e-this.$ia;if(1<c)return _geo.geotoolkit.util.Math.log10(c)}return 0};a.prototype.aG=
function(a){if(this.qlb&&!this.b7){var b=_geo.geotoolkit.util.Math.Hs(this.zd,this.Fd);this.zd=b.gb();this.Fd=b.nb()}this.fcb();if(0<this.Qo&&null!=this.rE&&0<this.TLa){var e,c=(this.Fd-this.zd)/this.Qo;this.IH=[];this.zba=[];this.CF=[];this.u1a=Number.POSITIVE_INFINITY;for(b=this.xca=0;b<this.Qo;++b)this.IH[b]=0,this.zba[b]=0;for(var f=this.rE.length,b=0;b<f;++b)e=this.hTb(this.rE[b],c),!1===(0,window.isNaN)(e)&&this.IH[e]++;this.zba[0]=this.IH[0];this.u1a=this.IH[0];this.xca=this.IH[0];for(b=1;b<
this.Qo;++b)this.u1a>this.IH[b]&&(this.u1a=this.IH[b]),this.xca<this.IH[b]&&(this.xca=this.IH[b]),this.zba[b]=this.zba[b-1]+this.IH[b];this.inc=1<this.xca-this.$ia?_geo.geotoolkit.util.Math.log10(this.xca-this.$ia):0;this.fnc=1<this.zba[this.Qo-1]-this.$ia?_geo.geotoolkit.util.Math.log10(this.zba[this.Qo-1]-this.$ia):0}else{this.IH=[];this.zba=[];this.CF=[];this.Ts=[];for(b=0;12>b;++b)this.Ts[b]=0;this.Rmb=!0}a||this.Fz();this.mt=!0;return this};a.prototype.$qb=function(){for(var a=[],d=(this.Fd-
this.zd)/this.Qo,e=0;e<this.Qo;e++)a.push(b(this.zd,d,e,this.IH));return a};a.prototype.P6a=function(b){var d=(this.Fd-this.zd)/this.Qo,e=Math.floor((b-this.zd)/d),e=e*d+this.zd,c=(100-this.yza)*d/100;return b<e+c/2?a.roa.wd:b>e+d-c/2?a.roa.$c:a.roa.None};a.prototype.Z8=function(g,d){if(g>this.Fd||g<this.zd||d&&this.P6a(g)!==a.roa.None)return null;var e=(this.Fd-this.zd)/this.Qo,c=Math.floor((g-this.zd)/e);c>=this.Qo&&(c=this.Qo-1);if(null!=this.CF&&null!=this.CF[c])return this.CF[c];null==this.CF&&
(this.CF=[]);null==this.CF[c]&&(this.CF[c]=b(this.zd,e,c,this.IH));return this.CF[c]};a.prototype.hTb=function(a,b){if((0,window.isNaN)(a)||a<this.zd||a>this.Fd)return Number.NaN;var e=Math.floor((a-this.zd)/b);if(e>=this.IH.length)if(a===this.Fd&&!0===this.ZIb)e--;else return Number.NaN;return e};a.prototype.dBc=function(a){if(0>a||a>this.Qo-1)return null;if(null!=this.CF&&null!=this.CF[a]&&null!=this.CF[a].indices)return this.CF[a].indices;for(var d=(this.Fd-this.zd)/this.Qo,e=this.rE.length,c=
[],f=0;f<e;f++)this.hTb(this.rE[f],d)===a&&(c[c.length]=f);null==this.CF&&(this.CF=[]);null==this.CF[a]&&(this.CF[a]=b(this.zd,d,a,this.IH));return this.CF[a].indices=c};a.prototype.oyc=function(a){for(var b=[],e=(this.Fd-this.zd)/this.Qo,c=0;c<a.length;c++){var f=a[c];b[b.length]=0>f||f>=this.rE.length?Number.NaN:this.hTb(this.rE[f],e)}return b};a.prototype.Un=function(a,b){for(var e=[],c=0;c<b.length;c++){var f=this.rQa(b[c].binnumber);(!this.gk()&&f>a.qa()||this.gk()&&f>a.za())&&e.push(b[c].binnumber)}return e};
a.prototype.arb=function(b){if(null==b)return[];var d=this.gk();if(b instanceof _geo.geotoolkit.util.na)return[this.Z8(d?b.getY():b.getX(),!0)];var e=0,c=-1;if(b instanceof _geo.geotoolkit.util.Range)e=b.gb(),c=b.nb();else if(b instanceof _geo.geotoolkit.util.Rect)e=d?b.getY():b.getX(),c=e+(d?b.ba():b.aa());else return[];b=this.Z8(e);d=this.Z8(c);if(null==b||null==d)return[];b=b.binnumber;d=d.binnumber;this.P6a(e)===a.roa.$c&&b++;this.P6a(c)===a.roa.wd&&d--;if(b>d)return[];e=this.$qb();return e.slice(b,
d+1)};a.prototype.hfa=function(a,b){!0===b&&(this.oAa=[]);if(null!=a&&0!==a.length){var e=this.oAa.concat(a).sort();this.oAa=[];for(var c=0;c<e.length;++c)0!==c&&e[c]===e[c-1]||this.oAa.push(e[c])}this.ma()};a.prototype.mla=function(){return this.oAa.slice(0,this.oAa.length)};a.prototype.Fz=function(){var b=0<this.rE.length,d;d=1;this.Ria===a.toa.rF&&this.bca===a.uX.Pfb&&(d=2);b&&this.bca===a.uX.mIa&&(this.Ria===a.toa.xj?d=this.Aba===a.dX.oX?this.xca:this.TLa:this.Ria===a.toa.rF&&(d=this.Aba===a.dX.oX?
this.inc:this.fnc));this.rlb&&this.bca===a.uX.mIa&&this.Aba===a.dX.oX&&!this.b7&&(d=_geo.geotoolkit.util.Math.Hs(0,d),d=d.nb());b=this.Fjb;this.gk()?(d=b?new _geo.geotoolkit.util.Rect(0,this.Fd,d,this.zd):new _geo.geotoolkit.util.Rect(0,this.zd,d,this.Fd),d.qb(d.aa()*(this.yOa/100))):(d=b?new _geo.geotoolkit.util.Rect(this.Fd,0,this.zd,d):new _geo.geotoolkit.util.Rect(this.zd,0,this.Fd,d),d.Db(d.ba()*(this.yOa/100)));null!=this.$d&&this.$d.Pj(d)||(this.$d=d,this.gk()||0!==this.$d.ba()||this.$d.Db(1),
this.gk()&&0===this.$d.aa()&&this.$d.qb(1),this.Ja(_geo.geotoolkit.controls.shapes.pl.$.Ffb,this,this.$d));this.ma()};a.prototype.gT=function(a){this.rza=!1;this.Qo=a;this.Ja(_geo.geotoolkit.controls.shapes.pl.$.YVa,this,this.Qo);this.mt=!1;this.aG();return this};a.prototype.Mwb=function(a){this.rza=!1;this.Qo=Math.floor((this.Fd-this.zd)/a);this.Ja(_geo.geotoolkit.controls.shapes.pl.$.YVa,this,this.Qo);this.mt=!1;this.aG();return this};a.prototype.d1b=function(){this.rza||(this.rza=!0,this.mt=!1,
this.aG())};a.prototype.qub=function(){return this.rza};a.prototype.fcb=function(a){if(!this.rza&&!0!==a||!0===this.dHb)return this;a=this.rE.length;if(1>a)return this.Qo=1,this;var b=this.rE.slice();b.sort(function(a,b){return a-b});b=b[Math.floor(3*a/4)]-b[Math.floor(a/4)];a=2*b/Math.pow(a,1/3);a=0<a?Math.round((this.Pib-this.Qib)/a):1;0===a%2&&a++;a=Math.min(a,128);a=Math.max(a,16);this.dHb=!0;b={binCount:a};this.Ja(_geo.geotoolkit.controls.shapes.pl.$.YVa,this,a);this.Ja("binCountCalculated",
this,b);this.Qo=b.binCount;return this};a.prototype.CP=function(){return this.Qo};a.prototype.eOc=function(a){this.ZIb=a;return this};a.prototype.TAc=function(){return this.ZIb};a.prototype.xa=function(){return this.$d};a.prototype.ga=function(){return null!=this.bounds?this.bounds:this.$d};a.prototype.ie=function(a){if(!1===this.ib())return!1;!0!==this.mt&&this.aG(!0);return _geo.geotoolkit.scene.shapes.Shape.bW(this.ga(),this.Yb(),a.qj())};a.prototype.Ea=function(a){this.bounds=a;this.ma();return this};
a.prototype.ee=function(){return this.bDa};a.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;this.yk(a);if(a.Gd()){a.ta(_geo.geotoolkit.attributes.Fa.Ui);a.zc(this.xa());var b=this.arb(a.qj());null!=b&&a.bp({histogram:this,bins:b,indices:b.map(function(a){return a.binnumber}),hittest:this.Un(a.qj(),b)});return this}this.z5a(a);this.hk(a);return this};a.prototype.z5a=function(a){!0!==this.mt&&this.aG();var b=this.gk(),e=b?this.$d.ba()/this.Qo:this.$d.aa()/this.Qo,c=a.Ra(),c=c.qe(a.$e()),
f=b?this.$d.qa():this.$d.sa(),k=b?this.$d.sa():this.$d.qa(),h,l,n,p;p=this.sb();var r=this.Qia;this.c7&&(null!=this.sb()?(p=_geo.geotoolkit.util.oi.Ph(this.sb().ac()),p=new _geo.geotoolkit.util.aO(p),p.Y2(-.1),p.iK(.1),p=p.jL(),n=_geo.geotoolkit.util.oi.Ph(this.sb().ac()),h=new _geo.geotoolkit.util.aO(n),h.Y2(.1),h.iK(-.1),n=h.jL(),h=n.ps(),l=p.ps(),n=n.ps()):(h="white",l="black",n="white"),p=new _geo.geotoolkit.attributes.Yp,p.ePa(),p.hm(0,h),this.c7&&p.hm(.5,l),p.hm(1,n),p.hna(new _geo.geotoolkit.util.na(0,
0)),b?p.setEndPoint(new _geo.geotoolkit.util.na(0,1)):p.setEndPoint(new _geo.geotoolkit.util.na(1,0)));a.ua(this.Xa());h=new _geo.geotoolkit.util.Ga;null!=this.xa()&&!1===this.xa().isEmpty()&&null!=this.ga()&&!1===this.ga().isEmpty()&&h.dwa(this.xa(),this.ga(),!1,!1,!1);for(l=0;l<this.Qo;++l,f+=e){n=this.Fjb?this.rQa(this.Qo-1-l,!1):this.rQa(l,!1);var t=f+(100-this.yza)*e/200,q=f+e-(100-this.yza)*e/200;n=b?new _geo.geotoolkit.util.Rect(k,t,n,q):new _geo.geotoolkit.util.Rect(t,k,q,n);h.ob(n,n);t=0>
this.oAa.indexOf(l)?p:r;c.intersects(n)&&(a.ta(t,n),a.zc(n))}};a.prototype.kPa=function(){this.Ts=[];var a=_geo.geotoolkit.util.Math.kPa(this.rE);this.Ts[0]=a.count;this.Ts[1]=a.minvalue;this.Ts[2]=a.maxvalue;this.Ts[3]=a.average;this.Ts[4]=a.variance;this.Ts[5]=a.avgdeviation;this.Ts[6]=a.stddeviation;this.Ts[7]=a.skewness;this.Ts[8]=a.kurtosis;this.Ts[9]=a.p10;this.Ts[10]=a.p50;this.Ts[11]=a.p90;this.Ts[12]=this.u1a;this.Ts[13]=this.xca;this.Rmb=!0};a.prototype.dQa=function(a,b){return _geo.geotoolkit.util.Math.dQa(a,
b)};a.prototype.Wma=function(a){this.c7=a;this.mt=!1;this.ma();return this};a.prototype.Zqb=function(){return this.yza};a.prototype.$1b=function(a){a=Math.min(a,100);this.yza=a=Math.max(a,50);this.ma();return this};a.prototype.v6b=function(a){this.yOa=a;this.Fz();return this};a.prototype.CXb=function(){return this.yOa};a.prototype.cta=function(){return this.c7};a.prototype.j3b=function(a){this.bca=a;this.mt=!1;this.aG();return this};a.prototype.mEa=function(){return this.bca};a.prototype.E1b=function(a){this.Aba=
a;this.Fz();return this};a.prototype.Xsa=function(){return this.Aba};a.prototype.u3b=function(a){this.Ria=a;this.Fz();return this};a.prototype.OUb=function(){return this.Ria};a.prototype.w9=function(){return this.$ia};a.prototype.Gab=function(a){if(this.Qia===a||void 0===a)return this;null!=this.Qia&&this.Kq(this.Qia,_geo.geotoolkit.scene.Node.$.Wc,this.nc());this.Qia=_geo.geotoolkit.attributes.Fa.ab(a);this.ma();null!=this.Qia&&this.Wj(this.Qia,_geo.geotoolkit.scene.Node.$.Wc,this.nc());return this};
a.prototype.U6a=function(){return this.Qia};a.prototype.SOc=function(a){this.$ia=a;this.mt=!1;this.aG();return this};a.prototype.gk=function(){return this.Yk()===_geo.geotoolkit.util.Mb.ic};return a}();
_geo.geotoolkit.controls.shapes.u6=function(){function b(d,e,g,f,k,h,l,m,n,q,t){e=_geo.geotoolkit.Ca(d,{x:Array.isArray(d)?d:[],y:Array.isArray(e)?e:[],linestyles:Array.isArray(g)?g:[new _geo.geotoolkit.attributes.Aa],fillstyles:Array.isArray(l)?l:null,bounds:f instanceof _geo.geotoolkit.util.Rect?f.clone():new _geo.geotoolkit.util.Rect(0,0,100,100),spline:"boolean"===typeof k?k:!1,logscale:"boolean"===typeof h?h:!1,baseline:"number"===typeof m?m:0,stackedarea:"boolean"===typeof n?n:!1,percentarea:"boolean"===
typeof q?q:!1,datainterpolationstrategy:b.GWa.Seb,modellimits:null,gridvisible:!0,autodatalimits:!0,symbols:null,arearange:Array.isArray(t)?t:null,labels:null},!0);e=_geo.geotoolkit.rc(e);e.symbols&&(e.symbols=_geo.geotoolkit.Ca(e.symbols,{linestyles:null,fillstyles:null,painters:null,width:10,height:10,sizeisindevicespace:!0,step:1,visible:!0},!0));e.labels&&(e.labels=_geo.geotoolkit.Ca(e.labels,{annotations:null,offsetx:0,offsety:0,textstyle:new _geo.geotoolkit.attributes.eb,showellipsis:!1}));
_geo.geotoolkit.scene.Group.call(this,e);this.Yh={x:e.x,y:e.y,linestyles:e.linestyles,fillstyles:e.fillstyles,size:e.y.length,logscale:e.logscale,spline:e.spline,baseline:e.baseline,stackedarea:e.stackedarea,percentarea:e.percentarea,datainterpolationstrategy:e.datainterpolationstrategy,symbols:e.symbols,labels:e.labels,arearange:e.arearange,autodatalimits:null==e.modellimits?e.autodatalimits:!1};!1===this.Yh.autodatalimits&&null==e.modellimits&&this.Sa(this.Ml());this.Pca=!0;this.rh=new x;this.Au=
this.NU=!1;this.lw=b.Zs.hB;this.ZLa=null;this.UO=this.cQ.bind(this);this.f2a=new _geo.geotoolkit.scene.shapes.Il;this.a3a=new _geo.geotoolkit.scene.shapes.Spline;this.E7=new _geo.geotoolkit.scene.shapes.Path;this.Ba=a(this.Yh);if(null!=this.Ba){if(c(this.Ba.x))for(g=0;g<this.Ba.x.length;g++)this.Ba.x[g].kb(_geo.geotoolkit.data.$.vf,this.UO);if(c(this.Ba.y))for(g=0;g<this.Ba.y.length;g++)this.Ba.y[g].kb(_geo.geotoolkit.data.$.vf,this.UO)}!1!==e.cache&&this.Tl(new _geo.geotoolkit.scene.Rk);e.gridvisible&&
(e=(new _geo.geotoolkit.axis.Zv).Tg("MINOR",!0).Tg("EDGE",!1),e.Kj("MAJOR").setColor(p),e.Kj("MINOR").setColor(r),g=this.Yh.logscale?new _geo.geotoolkit.axis.aJ:new _geo.geotoolkit.axis.Zv,g.Tg("MINOR",!0),g.Tg("EDGE",!1),g.Kj("MAJOR").setColor(p),g.Kj("MINOR").setColor(r),this.Fm=new _geo.geotoolkit.axis.Mx(g,e),this.va(this.Fm));this.setData(d)}function a(a){var b=e(a.y,a.logscale),c=e(a.x,!1),f=null,k=null;null!=a.symbols&&(f={U9:d(a.symbols.linestyles,b.length,_geo.geotoolkit.attributes.Aa.ab),
CM:d(a.symbols.fillstyles,b.length,_geo.geotoolkit.attributes.Fa.ab),hc:d(a.symbols.painters,b.length),width:a.symbols.width,height:a.symbols.height,gAd:a.symbols.sizeisindevicespace,step:a.symbols.step,visible:void 0!==a.symbols.visible?a.symbols.visible:!0});null!=a.labels&&(k={annotations:a.labels.annotations,offsetx:a.labels.offsetx,offsety:a.labels.offsety,textstyle:d(a.labels.textstyle,b.length,_geo.geotoolkit.attributes.eb.ab),showellipsis:a.labels.showellipsis},k.showellipsis&&v.Dy(!0));if(null!=
a.arearange){a.arearange=Array.isArray(a.arearange)?a.arearange:[a.arearange];for(var h=0;h<a.arearange.length;h++)a.arearange[h]=_geo.geotoolkit.Ca(a.arearange[h],{range:[],linestyles:Array.isArray(a.arearange[h].linestyles)?a.arearange[h].linestyles:[new _geo.geotoolkit.attributes.Aa],fillstyle:null}),a.arearange[h].range=e(a.arearange[h].range,a.logscale),a.arearange[h].linestyles=d(a.arearange[h].linestyles,2,_geo.geotoolkit.attributes.Aa.ab)}h=!1;if(a.stackedarea||a.percentarea)h=!0;var l=null,
m=null;h&&(l=a.datainterpolationstrategy===_geo.geotoolkit.controls.shapes.u6.GWa.yJa?_geo.geotoolkit.controls.util.Qaa.$oa.yJa:a.datainterpolationstrategy===_geo.geotoolkit.controls.shapes.u6.GWa.CXa?_geo.geotoolkit.controls.util.Qaa.$oa.CXa:_geo.geotoolkit.controls.util.Qaa.$oa.Seb,m=g(c,b,a.percentarea,l),l=e(m.ySeries,a.logscale),m=e(m.xSeries,!1));return{y:b,x:c,y8b:l,ITc:m,cjd:a.logscale,VUa:a.spline,Gda:a.baseline,YUa:h,dzd:a.percentarea,U9:d(a.linestyles,b.length,_geo.geotoolkit.attributes.Aa.ab),
CM:d(a.fillstyles,b.length,_geo.geotoolkit.attributes.Fa.ab),d3:a.arearange,$_:f,labels:k}}function g(a,b,c,d){var e,g=0,f=b.length,k=[],h=[],l=[],m=Array(f);for(e=0;e<a.length;e++){l.push(a[e].toArray(!1));for(var n=k.length,p=0,q=[];g<l[e].length&&p<n;)l[e][g]<k[p]?q[q.length-1]===l[e][g]?g++:q.push(l[e][g++]):q.push(k[p++]);for(;p<n;)q[q.length-1]===k[p]?p++:q.push(k[p++]);for(;g<l[e].length;)q[q.length-1]===l[e][g]?g++:q.push(l[e][g++]);g=0;k=q.slice()}for(e=0;e<f;e++)h.push(b[e].toArray(!1)),
m[e]=Array(k.length);g=l.length;for(e=0;e<f;e++)l[e]=l[e>=g?g-1:e];for(e=0;e<f;e++)l[e]=l[e].slice(0,h[e].length);if(!c)for(e=0;e<f;e++){b=0;n=l[e].length;for(g=0;g<l[e].length-1;g++){if(null==h[e][g])b++;else break;if(null!=h[e][g+1])break}for(g=l[e].length-1;0<g;g--){if(null==h[e][g])n--;else break;if(null!=h[e][g-1])break}l[e]=l[e].slice(b,n);h[e]=h[e].slice(b,n)}a=(new _geo.geotoolkit.controls.util.Qaa(k,l,h,d)).dVb();if(c)for(e=0;e<k.length;e++){for(g=c=0;g<f;g++)a[g][e]=(0,window.isNaN)(a[g][e])?
0:a[g][e],c+=a[g][e];0!==c&&(c=100/c);for(g=0;g<f;g++)a[g][e]*=c,0<g&&(a[g][e]+=a[g-1][e]),a[g][e]=100<a[g][e]?100:a[g][e]}else for(e=0;e<f;e++)for(g=0;g<k.length;g++)a[e][g]=(0,window.isNaN)(a[e][g])?null:a[e][g],0<e&&(a[e][g]=(0,window.isNaN)(a[e][g])?null:a[e][g],a[e][g]=a[e-1][g]+a[e][g]);if(d===_geo.geotoolkit.controls.util.Qaa.$oa.yJa)for(e=0;e<h.length;e++)m[e]=k.slice();else for(e=0;e<h.length;e++)b=_geo.geotoolkit.util.Math.findIndex(l[e][0],k),n=_geo.geotoolkit.util.Math.findIndex(l[e][l[e].length-
1],k),m[e]=k.slice(0,n+1),a[e].splice(n+1),m[e]=m[e].slice(b),a[e]=a[e].slice(b);return{ySeries:a,xSeries:m}}function d(a,b,c){var d,e;if(Array.isArray(a))if(a.length===b)e=a;else for(e=a.slice(),d=a.length;d<b;++d)e.push(a[a.length-1]);else for(e=[],d=0;d<b;++d)e.push(a);if(null!=c)for(d=0;d<e.length;++d)e[d]=c(e[d]);return e}function e(a,b){if(f(a)||c(a)){for(var d=[],e=0;e<a.length;++e)d.push(k(a[e],b));return d}return[k(a,b)]}function c(a){if(Array.isArray(a)){for(var b=0;b<a.length;b++)if(!_geo.geotoolkit.Pk(a[b],
_geo.geotoolkit.data.hha))return!1;return 0!==a.length}return!1}function f(a){return!(null==a||!Array.isArray(a)||0===a.length||!Array.isArray(a[0]))}function k(a,b){var c;c=_geo.geotoolkit.Pk(a,_geo.geotoolkit.data.hha)?a:Array.isArray(a)?new _geo.geotoolkit.data.Or({data:a}):new _geo.geotoolkit.data.Or;return!0===b?new _geo.geotoolkit.data.nH(c,{preprocessor:h}):c}function h(a){for(var b=Array.isArray(a)?a:[a],c=[],d,e=0;e<b.length;++e)d=b[e],c[e]=(0,window.isNaN)(d)||d<n?Number.NaN:Math.log(d)/
t;return Array.isArray(a)?c:c[0]}function l(a,b){if(null==b||null==a)return null;var c=new _geo.geotoolkit.util.Ga;if(a instanceof _geo.geotoolkit.scene.shapes.Symbol){var d=null!=a.Xa()?a.Xa().aa()/2:0;c.GD(a.width/2+d,a.height/2+d)}c=b.pr(c,new _geo.geotoolkit.util.na(0,0));if(null===c)return null;a instanceof _geo.geotoolkit.scene.shapes.Symbol?a.render(c):c.drawImage(a,0,0,a.width,a.height,0,0,a.width/_geo.geotoolkit.Dj(),a.height/_geo.geotoolkit.Dj());b.Lq();return b}var n=1E-5,p="#e0e0e0",r=
"#f5f5f5",t=Math.log(10),q=10,m=new _geo.geotoolkit.scene.shapes.Symbol({alignment:_geo.geotoolkit.util.Da.lb}),u=new _geo.geotoolkit.util.xc(0,0),v=new _geo.geotoolkit.scene.shapes.Text({alignment:_geo.geotoolkit.util.Da.lb,showellipses:!1,visible:!0,sizeIsInDeviceSpace:!0});v.Gj(_geo.geotoolkit.scene.shapes.Text.jf.Vs);var w=function(){function a(){this.values=this.indices=null;this.R4=0;this.Xua=!0}a.prototype.Fu=function(){this.indices=this.indices||[];this.values=this.values||[];this.R4=0};a.prototype.end=
function(){this.indices.splice(this.R4,this.indices.length-this.R4);this.values.splice(this.R4,this.values.length-this.R4)};a.prototype.tv=function(a,b){var c=this.R4;this.indices[c]=a;this.values[c]=b;this.R4=c+1};return a}(),x=function(){function a(){this.fQ=[];this.tG=null;this.hva=_geo.geotoolkit.controls.shapes.u6.Zs.XN}a.prototype.tv=function(a,b,c){this.fQ[a].tv(b,c)};a.prototype.D9a=function(a,b){return this.Xua||!this.tG||this.tG.Of!==a.Of||this.tG.tg!==a.tg||this.tG.rf!==a.rf||this.tG.Mg!==
a.Mg||this.hva!==b};a.prototype.w$=function(){this.Xua=!0};a.prototype.Mob=function(a,b){this.fQ[a].Fu(b)};a.prototype.Bwc=function(a){this.fQ[a].end()};a.prototype.Fu=function(a){if(0!==a&&(!this.fQ||this.fQ.length!==a)){this.fQ=Array(a);for(var b=0;b<a;b++)this.fQ[b]=new w}};a.prototype.end=function(a,b){this.tG=a;this.hva=b;this.Xua=!1};return a}();_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.sg(b,_geo.geotoolkit.controls.shapes.MCb);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.LineChart");
b.Zs={XN:0,hB:1};b.GWa={yJa:0,CXa:1,Seb:2};b.prototype.gF=function(a){if(this.lw===a)return this;this.ma();this.lw=a;this.Pa().ma();return this};b.prototype.nC=function(a){if(this.Au===a)return this;this.ma();this.Au=a;this.Pa().ma();return this};b.prototype.yHa=function(a){this.NU!==a&&(this.NU=a,this.Pa().ma());return this};b.prototype.getData=function(){return this.Yh};b.prototype.setData=function(b){if(null==b)return this;b=_geo.geotoolkit.Ca(b,{x:Array.isArray(b.x)?b.x:this.Yh.x,y:Array.isArray(b.y)?
b.y:this.Yh.y,linestyles:Array.isArray(b.linestyles)?b.linestyles:this.Yh.linestyles,fillstyles:Array.isArray(b.fillstyles)?b.fillstyles:this.Yh.fillstyles,baseline:"number"===typeof b.baseline?b.baseline:this.Yh.baseline,stackedarea:"boolean"===typeof b.stackedarea?b.stackedarea:this.Yh.stackedarea,percentarea:"boolean"===typeof b.percentarea?b.percentarea:this.Yh.percentarea,datainterpolationstrategy:this.Yh.datainterpolationstrategy,spline:"boolean"===typeof b.spline?b.spline:this.Yh.spline,logscale:"boolean"===
typeof b.logscale?b.logscale:this.Yh.logscale,symbols:"object"===typeof b.symbols?b.symbols:this.Yh.symbols,labels:"object"===typeof b.labels?b.labels:this.Yh.labels,modellimits:"object"===typeof b.modellimits?b.modellimits:this.xa(),arearange:null,autodatalimits:"boolean"===typeof b.autodatalimits?b.autodatalimits:this.Yh.autodatalimits},!0);this.Yh={x:b.x,y:b.y,linestyles:b.linestyles,fillstyles:b.fillstyles,size:b.y.length,logscale:b.logscale,spline:b.spline,baseline:b.baseline,stackedarea:b.stackedarea,
percentarea:b.percentarea,datainterpolationstrategy:b.datainterpolationstrategy,symbols:b.symbols,labels:b.labels,arearange:b.arearange,autodatalimits:b.autodatalimits};this.Obb=null;this.Ba=a(this.Yh);this.ZLa=null;null==this.UO&&(this.UO=this.cQ.bind(this));this.ROb();this.Pa().ma();return this};b.prototype.setOptions=function(b){if(null==b)return this;b=_geo.geotoolkit.Ca(b,{linestyles:Array.isArray(b.linestyles)?b.linestyles:this.Yh.linestyles,fillstyles:Array.isArray(b.fillstyles)?b.fillstyles:
this.Yh.fillstyles,baseline:"number"===typeof b.baseline?b.baseline:this.Yh.baseline,spline:"boolean"===typeof b.spline?b.spline:this.Yh.spline,symbols:"object"===typeof b.symbols?b.symbols:this.Yh.symbols,labels:"object"===typeof b.labels?b.labels:this.Yh.labels,modellimits:"object"===typeof b.modellimits?b.modellimits:this.xa(),autodatalimits:"boolean"===typeof b.autodatalimits?b.autodatalimits:this.Yh.autodatalimits},!0);this.Yh=_geo.geotoolkit.Sb(b,this.Yh);this.Obb=null;this.Ba=a(this.Yh);this.ZLa=
null;null!=this.UO&&(this.UO=this.cQ.bind(this));this.ROb().Pa().ma();return this};b.prototype.jb=function(){return{linestyles:this.Yh.linestyles,fillstyles:this.Yh.fillstyles,baseline:this.Yh.baseline,spline:this.Yh.spline,symbols:this.Yh.symbols,labels:this.Yh.labels,modellimits:this.xa(),autodatalimits:this.YPa()}};b.prototype.cQ=function(a,b,c){var d=null;if(b instanceof _geo.geotoolkit.data.xq&&null!=c&&null!=c.index&&null!=c.count&&"added"===c.type){var e=-1;for(a=0;a<this.Ba.x.length;a++)if(this.Ba.x[a]===
b||this.Ba.y[a]===b){e=a;break}if(-1!==e)if(d=this.Ba.x[e].toArray(!1),b=this.Ba.y[e].toArray(!1),e=0<c.index?c.index-1:0,d.length===b.length){var g=d[e],f=g,k=b[e],h=k,l=d.length;c=c.count;for(a=e;a<l&&a<e+c+2;a++)g=Math.min(g,d[a]),f=Math.max(f,d[a]),k=Math.min(k,b[a]),h=Math.max(h,b[a]);d=new _geo.geotoolkit.util.Rect(g,k,f,h);c=this.Xa();null!=c&&(c=new _geo.geotoolkit.util.xc(c,c),c=this.Ya().xk(c,c),d.fe(c.aa(),c.ba()));if(null!=this.Ba.$_&&null!=this.Yh.symbols&&this.Yh.symbols.visible){a=
this.Ba.$_;c=a.width;a=a.height;if(e=this.Yh.symbols.sizeIsInDeviceSpace)u.setSize(c,a),u=this.Ya().xk(u,u),c=u.aa(),a=u.ba();d.fe(c,a)}if(null!==this.Ba.d3||!0===this.Ba.YUa)c=this.xa(),d.setY(c.getY()).Db(c.ba())}else d=_geo.geotoolkit.util.Rect.ug}null!=d&&!1===d.isEmpty()?this.ma(d):this.ma();this.ROb().Pa()};b.prototype.dispose=function(){if(null!=this.Ba.x&&c(this.Ba.x))for(var a=0;a<this.Ba.x.length;a++)this.Ba.x[a].hb(_geo.geotoolkit.data.$.vf,this.UO);if(null!=this.Ba.y&&c(this.Ba.y))for(a=
0;a<this.Ba.x.length;a++)this.Ba.y[a].hb(_geo.geotoolkit.data.$.vf,this.UO);_geo.geotoolkit.scene.CompositeNode.prototype.dispose.call(this)};b.prototype.xa=function(){return this.Yh&&!0===this.Yh.autodatalimits?this.Ml():_geo.geotoolkit.scene.Group.prototype.xa.call(this)};b.prototype.Sa=function(a){this.Yh.autodatalimits=!1;_geo.geotoolkit.scene.Group.prototype.Sa.call(this,a);return this};b.prototype.ROb=function(){this.Pca=!0;this.rh.w$();return this};b.prototype.j$a=function(){var a=this.Au||
this.NU;if(this.Pca&&this.lw===b.Zs.hB&&a){var a=this.Ba.y.length,c=this.Ba.x.length,d,e,g,f;for(e=0;e<a;e++)g=this.Ba.x[e>=c?c-1:e].toArray(!1),f=this.Ba.y[e].toArray(!1),d=Math.min(g.length,f.length),this.kCa&&this.kCa.length===a||(this.kCa=Array(a)),this.kCa[e]&&this.kCa[e].length===d||(this.kCa[e]=_geo.geotoolkit.util.tc.Ic(d)),_geo.geotoolkit.util.$l.hTa(g,f,d,this.kCa[e]);this.Pca=!1}};b.prototype.u_b=function(a){var c=this.Au||this.NU;if(c&&(a=a.Ra(),this.rh.D9a(a,this.lw))){this.j$a();var c=
this.Ba.x.length,d=this.Ba.y.length;this.rh.Fu(d);for(var e=0;e<d;e++){var g=this.Ba.x[e>=c?c-1:e].toArray(!1),f=this.Ba.y[e].toArray(!1),k=Math.min(g.length,f.length);if(this.lw===b.Zs.hB){var h=this.kCa[e],f=_geo.geotoolkit.util.$l.O5a(g,f,h,k,a),g=Array.prototype.slice.call(f[_geo.geotoolkit.util.$l.ql.t1],0,f[_geo.geotoolkit.util.$l.ql.RN]),f=Array.prototype.slice.call(f[_geo.geotoolkit.util.$l.ql.u1],0,f[_geo.geotoolkit.util.$l.ql.RN]);this.K$c(e,g,f)}else this.Tcd(a,e,g,f)}this.rh.end(a,this.lw)}};
b.prototype.K$c=function(a,b,c){if(0===b.length||0===c.length)this.rh.Mob(a,b.length);else{var d=0,e=b.length;for(this.rh.Mob(a,b.length);d<e;d++)this.rh.tv(a,b[d],c[d])}this.rh.Bwc(a)};b.prototype.Tcd=function(a,b,c,d){if(0===c.length||0===d.length)this.rh.Mob(b,c.length);else{var e,g=a.dg(1,0).clone(),f=a.dg(0,0).clone();g.setX(g.x-f.x);g.setY(g.y-f.y);var k=Math.sqrt(g.x*g.x+g.y*g.y),f=g.x/k,g=g.y/k,h=0,k=c.length;this.rh.Mob(b,c.length);for(var l=window.NaN,m,n,p,q,r=this,t=function(){(0,window.isNaN)(l)||
(p!==n&&p!==m&&r.rh.tv(b,c[p],d[p]),m<n?(r.rh.tv(b,c[m],d[m]),r.rh.tv(b,c[n],d[n])):n<m?(r.rh.tv(b,c[n],d[n]),r.rh.tv(b,c[m],d[m])):r.rh.tv(b,c[n],d[n]),q!==n&&q!==m&&r.rh.tv(b,c[q],d[q]))};h<k;h++)(0,window.isNaN)(d[h])?(t(),this.rh.tv(b,c[h],d[h]),l=window.NaN):(e=a.dg(c[h],d[h]),e=f*e.x+g*e.y,!(0,window.isNaN)(l)&&1>Math.abs(e-l)?(d[h]<d[m]&&(m=h),d[n]<d[h]&&(n=h),q=h):(t(),l=e,p=q=m=n=h));t()}this.rh.Bwc(b)};b.prototype.amd=function(){if(null===this.ZLa){var a=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,
c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e,g,f,k,h,l=this.qx();for(e=0;e<this.Ba.y.length;e++)h=this.Ba.YUa?this.Ba.y8b[e]:this.Ba.y[e],k=e<this.Ba.x.length?this.Ba.x[e]:this.Ba.x[this.Ba.x.length-1],g=k.toArray(!1),f=h.toArray(!1),0!==g.length&&0!==f.length&&(a=Math.min(k.Ug(),a),c=Math.min(h.Ug(),c),b=Math.max(k.Ih(),b),d=Math.max(h.Ih(),d));c=Math.min(l,c);d=Math.max(l,d);a===Number.POSITIVE_INFINITY||b===Number.NEGATIVE_INFINITY?(a=-1,b=1):b===a&&(--a,b+=1);c===Number.POSITIVE_INFINITY||
d===Number.NEGATIVE_INFINITY?(c=-1,d=1):d===c&&(--c,d+=1);this.ZLa=new _geo.geotoolkit.util.Rect(a,c,b,d)}};b.prototype.Qh=function(a){this.yk(a);this.Ji().forEach(function(b){a.filter(b)&&(a.Gd()&&a.El(b),b.render(a))});this.und(a);this.hk(a)};b.Dmb=null;b.oMb=null;b.prototype.UJc=function(a,c,d,e,g,f,k){function h(){n.push({index:p,x:c[p],y:d[p],y1:null!=f?f[p]:[]})}var l=1,m=1;null==b.Dmb&&(b.Dmb=new _geo.geotoolkit.scene.shapes.Symbol({width:l,height:m,alignment:_geo.geotoolkit.util.Da.lb,sizeisindevicespace:!0,
painter:_geo.geotoolkit.scene.shapes.hc.Zoa,fillstyle:new _geo.geotoolkit.attributes.Fa("black")}));for(var n=[],p=0,q=a.$e(),r=a.Ra(),q=_geo.geotoolkit.util.Rect.I9(q,2*l,2*m),l=0;l<c.length;++l)p=l,m=r.dg(c[l],d[l]),!1===q.contains(m.x,m.y)||null==d[l]||(0,window.isNaN)(d[l])||(b.Dmb.yc(c[l],d[l]),a.ls(b.Dmb,h.bind(this)));if(0<n.length)a.bp({visual:this,series:e,indices:n.map(function(a){return a.index}),points:n});else{var t=!1;null!=g?a.ls(g,function(){t=!0}):this.xn(c,d,k,a,function(){t=!0});
t&&a.bp({visual:this,series:e,indices:[],points:[]})}};b.prototype.qx=function(){var a=this.Ba.Gda?this.Ba.Gda:0;this.Ba.cjd&&(a=h(a),(0,window.isNaN)(a)&&(a=1));return a};b.prototype.und=function(a){a.filter(this)&&a.El(this);if(0!==this.Ba.x.length&&0!==this.Ba.y.length)if(this.u_b(a),null!==this.Ba.d3&&this.U8c(a),!0===this.Ba.YUa)this.Ind(a);else{var b=this.Ba.x.length,c,d,e,g,f=this.qx();for(d=0;d<this.Ba.y.length;d++){var k=!1;e=this.Au?this.rh.fQ[d].indices:this.Ba.x[d>=b?b-1:d].toArray(!1);
g=this.Au?this.rh.fQ[d].values:this.Ba.y[d].toArray(!1);0!==e.length&&0!==g.length&&(2>e.length?c=this.f2a.ja({optimization:!1,x:e,y:g}):(null!=this.Ba.CM&&0<this.Ba.CM.length&&null!=this.Ba.CM[d]&&(this.SOb(this.E7,e,g,this.Ba.VUa,f),this.E7.ta(this.Ba.CM[d]).ua(null),this.E7.render(a)),null!=this.Ba.U9&&0<this.Ba.U9.length&&null!=this.Ba.U9[d]&&(!1===this.Ba.VUa?(this.xn(e,g,this.Ba.U9[d],a),k=!0):(this.a3a.ja({x:e,y:g}).ua(this.Ba.U9[d]).render(a),c=this.a3a))),a.Gd()&&(null!==c||k)&&this.UJc(a,
e,g,d,c,null,this.Ba.U9[d]),c=null)}this.z3(a)}};b.prototype.Ind=function(a){var b,c,d,e,g,f,k=this.Ba.x.length,h,l=[],m=this.qx();for(b=0;b<this.Ba.y.length;b++)if(d=this.Ba.y8b[b].toArray(!0),c=this.Ba.ITc[b].toArray(!0),g=this.Au?this.rh.fQ[b].indices:this.Ba.x[b>=k?k-1:b].toArray(!1),f=this.Au?this.rh.fQ[b].values:this.Ba.y[b].toArray(!0),0===b&&l.push(m),0!==c.length&&0!==d.length){2>c.length?h=this.f2a.ja({x:c,y:d}).nC(!1):(0<this.Ba.U9.length&&(h=!0===this.Ba.VUa?this.a3a.ja({x:c,y:d}):this.f2a.ja({x:c,
y:d}).nC(!1),l.push({x:h.Wf(),y:h.Jg()}),h.ua(this.Ba.U9[b]),h.render(a)),0<this.Ba.CM.length&&(this.SOb(this.E7,c,d,this.Ba.VUa,l,l.length-2),this.E7.ta(this.Ba.CM[b]),this.E7.ua(new _geo.geotoolkit.attributes.Aa(new _geo.geotoolkit.util.rb(255,255,255,0))),this.E7.render(a)));if(a.Gd()&&null!==h){var n=[],p=[];for(e=0;e<c.length;e++){var q=g.indexOf(c[e]);-1!==q&&(n.push(e),p.push(q))}for(e=0;e<n.length;e++)c[e]=c[n[e]],d[e]=d[n[e]],f[e]=f[p[e]];c.splice(n.length);d.splice(n.length);f.splice(n.length);
this.UJc(a,c,d,b,h,f)}h=null}this.z3(a)};b.prototype.U8c=function(a){for(var b=this.Ba.x.length,c,d,e,g,f=0;f<this.Ba.d3.length;f++)c=this.Au?this.rh.fQ[f].indices:this.Ba.x[f>=b?b-1:f].toArray(!1),d=this.Ba.d3[f].range.length,2===d&&0!==c.length&&(d=this.Ba.d3[f].range[0].toArray(!1),e=this.Ba.d3[f].range[1].toArray(!1),!0===this.Ba.VUa?(g=this.a3a.ja({x:c,y:d}),g.ua(this.Ba.d3[f].linestyles[0]),g.render(a),e=this.a3a.ja({x:c,y:e})):(g=this.f2a.ja({x:c,y:d}),g.ua(this.Ba.d3[f].linestyles[0]),g.render(a),
e=this.f2a.ja({x:c,y:e})),e.ua(this.Ba.d3[f].linestyles[1]),e.render(a),null!=this.Ba.d3[f].fillstyle&&(this.SOb(this.E7,c,d,this.Ba.VUa,[{x:e.Wf(),y:e.Jg()}],0),this.E7.ta(this.Ba.d3[f].fillstyle),this.E7.ua(new _geo.geotoolkit.attributes.Aa(new _geo.geotoolkit.util.rb(255,255,255,0))),this.E7.render(a)))};b.prototype.xn=function(a,c,d,e,g){var f=Math.min(a.length,c.length);if(!(2>f)){var k=e.$e(),k=e.Ra().qe(k),h=e;void 0!==g&&(null==b.oMb&&(b.oMb=new _geo.geotoolkit.scene.shapes.Path),h=b.oMb);
for(var l=new _geo.geotoolkit.util.na(0,0),m=l.clone(),n,p=!1,q=!1,r=!1,t=1;t<f;t++)l.bb(a[t-1],c[t-1]),m.bb(a[t],c[t]),n=k.Lda(l,m,l,m),0<=n?(q=!0,!1===p?(p=!0,h.ua(d),h.beginPath(),h.moveTo(a[t-1],c[t-1])):r&&(h.moveTo(a[t-1],c[t-1]),r=!1),h.lineTo(a[t],c[t])):r=!0;!1!==q&&(null!=g?e.ls(h,g):e.stroke())}};b.prototype.z3=function(a){var b,c,d,e,g,f,k,h,n,p=0,q,r=this.Ba.x.length,t=null!=this.Ba.$_&&this.Ba.$_.visible&&null!=this.Ba.$_.hc&&0<this.Ba.$_.hc.length,u=null!=this.Ba.labels;if(t||u)for(null==
this.Obb&&(this.Obb=[]),b=0;b<this.Ba.y.length;b++){if(!0===this.Ba.YUa){d=this.Ba.ITc[b].toArray(!0);e=this.Ba.y8b[b].toArray(!0);h=this.NU?this.rh.fQ[b].indices:this.Ba.x[b>=r?r-1:b].toArray(!1);q=this.NU?this.rh.fQ[b].values:this.Ba.y[b].toArray(!1);k=[];for(c=0;c<d.length;c++)-1!==h.indexOf(d[c])&&k.push(c);for(c=0;c<k.length;c++)d[c]=d[k[c]],e[c]=e[k[c]];d.splice(k.length);e.splice(k.length)}else d=this.NU?this.rh.fQ[b].indices:this.Ba.x[b>=r?r-1:b].toArray(!1),e=this.NU?this.rh.fQ[b].values:
this.Ba.y[b].toArray(!1);if(0!==d.length&&0!==e.length){if(t&&(h=this.Ba.$_,c=h.width,n=h.height,p=h.step,0<h.CM.length&&(g=h.CM[b],g||(g=_geo.geotoolkit.attributes.Fa.ug)),0<h.U9.length&&((f=h.U9[b])||(f=new _geo.geotoolkit.attributes.Aa("transparent",0))),k=h.hc[b],null==h.width&&(c=10),null==h.height&&(n=10),null==h.step&&(p=1),null!==g||null!=f)){h=this.Obb[b];null==h&&(m.ja({width:c,height:n,sizeisindevicespace:this.Yh.symbols.sizeisindevicespace,painter:k,linestyle:f,fillstyle:g}),h=null==m.Xa()?
0:m.Xa().aa()+1,h=a.ky(m.aa()+h,m.ba()+h),l(m,h),this.Obb[b]=h);k=null!=h?h.aa()/2:0;var x=null!=h?h.ba()/2:0,w=a.$e(),P=a.Ra(),w=_geo.geotoolkit.util.Rect.I9(w,2*c,2*n),S=null;n=Math.sqrt(c*c+n*n);var U=!0===this.Yh.symbols.decimate;for(c=0;c<d.length;c+=p||1){var R=P.dg(d[c],e[c]);if(U){if(null!=S&&_geo.geotoolkit.util.na.Cj(S,R)<n)continue;null==S?S=R.clone():S.bb(R.x,R.y)}!1!==w.contains(R.x,R.y)&&(null!=h?h.render(a,R.x-k,R.y-x):m.yc(d[c],e[c]).render(a))}}if(u)for(c=this.Ba.labels,h="number"===
typeof c.offsetx?c.offsetx:0,k="number"===typeof c.offsety?c.offsety:5,x=null!=c.annotations&&null!=c.annotations[b]?c.annotations[b]:null,null!=c.textstyle[b]&&v.wb(c.textstyle[b]),null!=x&&(x instanceof _geo.geotoolkit.data.pp||x instanceof _geo.geotoolkit.data.xq)&&(x=x.toArray(!1)),c=0;c<d.length;c+=p||1)v.yc(d[c]+h,e[c]+k),null!=x?v.jc(x[c]):this.Ba.YUa?v.jc(q[c]):v.jc(e[c]),v.TI(!0),v.render(a)}}};b.prototype.SOb=function(a,b,c,d,e,g){a.clear();var f,k,h,l,m,n;m=0;n=-1;var p,q,r,t,u,v,x;if(this.Ba.YUa||
null!=this.Ba.d3)if(e[g]!==this.qx()&&null!=e[g]){if(e[g].x[0]<=b[0]&&e[g].x[e[g].x.length-1]>=b[b.length-1])h=0,l=b.length-1,m=_geo.geotoolkit.util.Math.findIndex(b[0],e[g].x),n=_geo.geotoolkit.util.Math.findIndex(b[b.length-1],e[g].x);else if(e[g].x[0]<=b[0]){if(h=0,m=_geo.geotoolkit.util.Math.findIndex(b[0],e[g].x),n=e[g].x.length-1,l=_geo.geotoolkit.util.Math.findIndex(e[g].x[e[g].x.length-1],b),m===n||0>m)h=b.length-1,l=b.length-1}else if(e[g].x[e[g].x.length-1]>=b[b.length-1]){if(l=b.length-
1,n=_geo.geotoolkit.util.Math.findIndex(b[b.length-1],e[g].x),m=0,h=_geo.geotoolkit.util.Math.findIndex(e[g].x[0],b),m===n||0>n)h=b.length-1,l=b.length-1}else m=0,n=e[g].x.length-1,h=_geo.geotoolkit.util.Math.findIndex(e[g].x[0],b),l=_geo.geotoolkit.util.Math.findIndex(e[g].x[e[g].x.length-1],b);d&&(f=_geo.geotoolkit.scene.shapes.Yna.ZDa(b,c),p=f.Rsa,r=f.Ssa,q=f.Gva,t=f.Hva);if(0<=n&&0<=m){a.moveTo(e[g].x[m],e[g].y[m]);if(d){u=_geo.geotoolkit.scene.shapes.Yna.ZDa(e[g].x,e[g].y);k=u.Rsa;v=u.Ssa;x=
u.Gva;u=u.Hva;for(f=m;f<n;f++)a.bezierCurveTo(k[f],v[f],x[f],u[f],e[g].x[f+1],e[g].y[f+1]);a.lineTo(b[l],c[l]);for(f=l;f>h;f--)a.bezierCurveTo(q[f-1],t[f-1],p[f-1],r[f-1],b[f-1],c[f-1])}else{for(f=m;f<=n;f++)a.lineTo(e[g].x[f],e[g].y[f]);a.lineTo(b[l],c[l]);for(f=l;f>=h;f--)a.lineTo(b[f],c[f])}a.moveTo(e[g].x[m],e[g].y[m]);a.close()}n=-1;for(f=0;f<h;f++){m=0;a.moveTo(b[f],c[f]);for(k=g-1;0<k;k--)if(b[f]>=e[k].x[0]&&b[f]<=e[k].x[e[k].x.length-1]&&(n=_geo.geotoolkit.util.Math.findIndex(b[f],e[k].x)),
n!==e[k].x.length-1&&-1!==n){m=k;break}e[m]!==this.qx()?d?(a.bezierCurveTo(p[f],r[f],q[f],t[f],b[f+1],c[f+1]),a.lineTo(e[m].x[n+1],e[m].y[n+1]),u=_geo.geotoolkit.scene.shapes.Yna.ZDa(e[m].x,e[m].y),k=u.Rsa,v=u.Ssa,x=u.Gva,u=u.Hva,a.bezierCurveTo(x[n],u[n],k[n],v[n],e[m].x[n],e[m].y[n])):(a.lineTo(b[f+1],c[f+1]),a.lineTo(e[m].x[n+1],e[m].y[n+1]),a.lineTo(e[m].x[n],e[m].y[n])):(d?a.bezierCurveTo(p[f],r[f],q[f],t[f],b[f+1],c[f+1]):a.lineTo(b[f+1],c[f+1]),a.lineTo(b[f+1],e[m]),a.lineTo(b[f],e[m]));a.lineTo(b[f],
c[f]);a.close()}for(f=b.length-1;f>l;f--){m=0;a.moveTo(b[f],c[f]);for(k=g-1;0<k;k--)if(b[f]>=e[k].x[0]&&b[f]<=e[k].x[e[k].x.length-1]&&(n=_geo.geotoolkit.util.Math.findIndex(b[f],e[k].x)),-1!==n){m=k;break}e[m]!==this.qx()?d?(a.bezierCurveTo(q[f-1],t[f-1],p[f-1],r[f-1],b[f-1],c[f-1]),a.lineTo(e[m].x[n-1],e[m].y[n-1]),u=_geo.geotoolkit.scene.shapes.Yna.ZDa(e[m].x,e[m].y),k=u.Rsa,v=u.Ssa,x=u.Gva,u=u.Hva,a.bezierCurveTo(k[n-1],v[n-1],x[n-1],u[n-1],e[m].x[n],e[m].y[n])):(a.lineTo(b[f-1],c[f-1]),a.lineTo(e[m].x[n-
1],e[m].y[n-1]),a.lineTo(e[m].x[n],e[m].y[n])):(d?a.bezierCurveTo(q[f-1],t[f-1],p[f-1],r[f-1],b[f-1],c[f-1]):a.lineTo(b[f-1],c[f-1]),a.lineTo(b[f-1],e[m]),a.lineTo(b[f],e[m]));a.lineTo(b[f],c[f]);a.close()}}else{a.moveTo(b[0],e[g]);if(d)_geo.geotoolkit.scene.shapes.Spline.prototype.Ne.call(a,b,c);else for(f=0;f<b.length;f++)a.lineTo(b[f],c[f]);a.lineTo(b[b.length-1],e[g]);a.lineTo(b[0],e[g]);a.close()}else{a.moveTo(b[0],e);g=Math.min(b.length,c.length);if(d)_geo.geotoolkit.scene.shapes.Spline.prototype.Ne.call(a,
b,c);else for(f=0;f<g;f++)a.lineTo(b[f],c[f]);a.lineTo(b[g-1],e);a.lineTo(b[0],e);a.close()}return a};b.prototype.XNc=function(a){function b(a,d){a.hasOwnProperty("MAJOR")&&c("MAJOR",a.MAJOR,d);a.hasOwnProperty("MINOR")&&c("MINOR",a.MINOR,d);a.hasOwnProperty("EDGE")&&c("EDGE",a.EDGE,d)}function c(a,b,d){d.Dh(a,_geo.geotoolkit.attributes.Aa.ab(b))}if(a.hasOwnProperty("x")){var d=this.Fm.Fe(_geo.geotoolkit.util.Mb.$b);b(a.x,d)}a.hasOwnProperty("y")&&(d=this.Fm.Fe(_geo.geotoolkit.util.Mb.ic),b(a.y,d));
this.ma();return this};b.prototype.Ou=function(){return this.Fm};b.prototype.Hvd=function(a){for(var b=[],c=0;c<a.length;c++)b.push(h(a[c]));return b};b.prototype.Un=function(a,b,c){var d,e,g;void 0===b&&(b=q);a instanceof _geo.geotoolkit.util.Rect?(d=a.clone(),d.fe(b,b)):a instanceof _geo.geotoolkit.util.na&&(d=new _geo.geotoolkit.util.Rect(a.x-b,a.y-b,a.x+b,a.y+b));b=new _geo.geotoolkit.selection.am;if(null!=d)return a=this.getRoot().xa(),c===_geo.geotoolkit.util.Mb.$b?(d.setY(a.getY()),d.Db(a.ba())):
c===_geo.geotoolkit.util.Mb.ic&&(d.setX(a.getX()),d.qb(a.aa())),e=[d.sa(),d.za(),d.za(),d.sa()],g=[d.qa(),d.qa(),d.wa(),d.wa()],b.select(this.getRoot(),e,g,!0).filter(function(a){return!(a instanceof _geo.geotoolkit.scene.Node)&&a.visual===this}.bind(this));null!=a&&Array.isArray(a.x)&&Array.isArray(a.y)&&(e=a.x,g=a.y);return null!=e&&null!=g&&2<e.length&&2<g.length?b.select(this.getRoot(),e,g,!0).filter(function(a){return!(a instanceof _geo.geotoolkit.scene.Node)&&a.visual===this}.bind(this)):null};
b.prototype.YPa=function(){return this.Yh.autodatalimits};b.prototype.lab=function(a){if(this.Yh.autodatalimits===a)return this;this.ma();this.Yh.autodatalimits=a;this.Pa().ma();return this};b.prototype.Ml=function(){null==this.ZLa&&this.amd();return this.ZLa};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);return a=_geo.geotoolkit.Ca(this.jb(),a)};b.prototype.ja=function(a){if(null==a)return this;_geo.geotoolkit.Cc(this,a);this.setOptions(a);return this};return b}();
_geo.geotoolkit.controls.shapes.WEb=function(){function b(b){_geo.geotoolkit.scene.shapes.rl.call(this,b);var c={regressionmodel:{type:_geo.geotoolkit.controls.util.ll.xj},regressionline:{linestyle:new _geo.geotoolkit.attributes.Aa({color:a}),visible:!0},confidenceline:{visible:!1,linestyle:new _geo.geotoolkit.attributes.Aa({color:g}),probability:_geo.geotoolkit.controls.util.ll.Pr.lKa.iYa},predictionline:{visible:!1,linestyle:new _geo.geotoolkit.attributes.Aa({color:d}),probability:_geo.geotoolkit.controls.util.ll.Pr.lKa.iYa}};
b=_geo.geotoolkit.Sb(b,c);this.Kf={regression:new _geo.geotoolkit.scene.shapes.Spline,confidenceupper:new _geo.geotoolkit.scene.shapes.Spline,confidencelower:new _geo.geotoolkit.scene.shapes.Spline,predictionupper:new _geo.geotoolkit.scene.shapes.Spline,predictionlower:new _geo.geotoolkit.scene.shapes.Spline};this.Em=this.Kl=null;this.gK=[];this.KC=this.BB=this.gj=this.fmb=this.Uba=this.r7=this.xia=null;this.qkb=3;this.mra=this.Vca=0;this.V_a=!1;this.ai=this.Rb=null;this.mca=!0;this.L3a=this.w0a=
!1;this.setOptions(b);b.datax&&b.datay&&this.setData(b,!1)}var a="#757575",g="#eeeeee",d="#eeeeee";_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.rl);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.RegressionLine");b.prototype.setOptions=function(a){null!=a.extended&&this.V2b(a.extended);a.plotinterval&&this.f5b(a.plotinterval);a.regressionmodel&&this.Bpd(a.regressionmodel);a.regressionline&&this.Apd(a.regressionline);a.confidenceline&&this.Cod(a.confidenceline);a.predictionline&&this.xpd(a.predictionline);
a.horizontallogmode&&(this.w0a="boolean"===typeof a.horizontallogmode?a.horizontallogmode:!1);a.verticallogmode&&(this.L3a="boolean"===typeof a.verticallogmode?a.verticallogmode:!1);this.ma();return this};b.prototype.Sa=function(a){this.ai!==a&&(this.ai=a.clone(),this.V_a&&this.Kl&&this.Em&&(this.vi(),this.mca=!0,this.ma()));return this};b.prototype.xa=function(){return this.ai?this.ai.Mi():this.getParent()?this.getParent().xa():null};b.prototype.Ea=function(a){this.Rb!==a&&(this.Rb=a.clone());return this};
b.prototype.ga=function(){return this.Rb?this.Rb:this.xa()};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,a);this.setOptions(a);return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);return a=_geo.geotoolkit.Sb(this.jb(),a)};b.prototype.CWb=function(){if(this.gj){var a={};a.type=this.gj;return a=_geo.geotoolkit.Ca(this.gj.jb(),a)}return null};b.prototype.jb=function(){var a={};a.plotinterval=this.qkb;a.extended=this.V_a;a.regressionmodel=
this.CWb();a.regressionline=this.wVb("regression");a.confidenceline=this.wVb("confidence");a.predictionline=this.wVb("prediction");return a};b.prototype.V2b=function(a){"boolean"==typeof a&&this.V_a!==a&&(this.V_a=a,this.vi(),this.mca=!0);this.ma();return this};b.prototype.f5b=function(a){"number"==typeof a&&(this.qkb=a,this.mca=!0,this.ma());return this};b.prototype.Bpd=function(a){if(a.type){var b=a.type;b instanceof _geo.geotoolkit.controls.util.ll.Pr?(this.gj&&this.gj.hb(_geo.geotoolkit.controls.util.ll.Pr.$.dza,
this.N1a),this.gj=b,this.gj.setOptions(a)):"function"==typeof b.getClassName?this.fmb&&b.getClassName()===this.fmb.getClassName()||(this.gj&&this.gj.hb(_geo.geotoolkit.controls.util.ll.Pr.$.dza,this.N1a),this.gj=new b(a),this.fmb=b):(this.gj&&this.gj.hb(_geo.geotoolkit.controls.util.ll.Pr.$.dza,this.N1a),this.gj=new _geo.geotoolkit.controls.util.ll.Pr(a,b),this.fmb=null);this.gj.kb(_geo.geotoolkit.controls.util.ll.Pr.$.dza,this.N1a.bind(this))}else this.gj&&this.gj.setOptions(a);this.gj&&this.Kl&&
this.Em&&(this.gj.lx(this.Kl,this.Em,this.gK),this.vi());this.mca=!0;this.ma();return this};b.prototype.setData=function(a,b){if(!a)return this;var d,g,h;a.datax&&(d=this.RIb(a.datax,this.xia),this.Kl=b&&d?d.rawdata.concat(this.Kl?this.Kl:[]):d.rawdata,this.xia=d.datasource);a.datay&&(g=this.RIb(a.datay,this.r7),this.Em=b&&g?g.rawdata.concat(this.Em?this.Em:[]):g.rawdata,this.r7=g.datasource);a.weights&&(h=this.RIb(a.weights,this.Uba),this.gK=b&&h?h.rawdata.concat(this.gK?this.gK:[]):h.rawdata,this.Uba=
h.datasource);this.Kl&&this.Em&&this.gj&&(this.gj.xYb()||b||this.gj.zva(),this.gj.lx(d?d.rawdata:this.Kl,g?g.rawdata:this.Em,h?h.rawdata:this.gK),this.vi());this.mca=!0;this.ma();return this};b.prototype.RIb=function(a,b){return Array.isArray(a)?{rawdata:a,datasource:null}:a instanceof _geo.geotoolkit.data.Or||a instanceof _geo.geotoolkit.data.nH?(null!=b&&(b.hb(_geo.geotoolkit.data.Lh.$.S6,this.W1a),b.hb(_geo.geotoolkit.data.Lh.$.T6,this.J1),b.hb(_geo.geotoolkit.data.Lh.$.Px,this.J1),b instanceof
_geo.geotoolkit.data.pp&&b.hb(_geo.geotoolkit.data.pp.$.Txa,this.J1)),b!==a&&(b=a,b.kb(_geo.geotoolkit.data.Lh.$.S6,this.W1a.bind(this)),b.kb(_geo.geotoolkit.data.Lh.$.T6,this.J1.bind(this)),b.kb(_geo.geotoolkit.data.Lh.$.Px,this.J1.bind(this)),b instanceof _geo.geotoolkit.data.pp&&b.kb(_geo.geotoolkit.data.pp.$.Txa,this.J1.bind(this))),{rawdata:b.toArray(!0),datasource:b}):null};b.prototype.W1a=function(a,b,d){this.Kl=this.xia?this.xia.toArray(!0):this.Kl;this.Em=this.r7?this.r7.toArray(!0):this.Em;
this.gK=this.Uba?this.Uba.toArray(!0):this.gK;a=this.Kl.slice(d.from,d.from+d.count);b=this.Em.slice(d.from,d.from+d.count);d=this.gK.slice(d.from,d.from+d.count);a.length===b.length&&this.gj&&(this.gj.lx(a,b,d),this.vi());this.mca=!0;this.ma()};b.prototype.J1=function(a,b,d){this.Kl=this.xia?this.xia.toArray(!0):this.Kl;this.Em=this.r7?this.r7.toArray(!0):this.Em;this.gK=this.Uba?this.Uba.toArray(!0):this.gK;this.gj.zva();this.Kl&&this.Em&&(this.gj.lx(this.Kl,this.Em,this.gK),this.vi());this.mca=
!0;this.ma()};b.prototype.vi=function(){if(null!=this.Kl&&null!=this.Em){var a=this.xa();if(this.V_a)a&&(this.BB=a.sa(),this.KC=a.za(),this.iM=a.qa(),this.uU=a.wa());else{var b=_geo.geotoolkit.util.Math.qo(this.Kl),d=_geo.geotoolkit.util.Math.qo(this.Em);this.BB=b[0];this.KC=b[1];this.iM=d[0];this.uU=d[1];a&&(this.BB=this.BB<a.sa()?a.sa():this.BB,this.KC=this.KC>a.za()?a.za():this.KC,this.iM=this.iM<a.qa()?a.qa():this.iM,this.uU=this.uU>a.wa()?a.wa():this.uU)}}};b.prototype.N1a=function(a,b){this.mca=
!0;this.ma()};b.prototype.so=function(){return this.gj.so()};b.prototype.Q7b=function(a,b,d,g,h,l,n){var p=this.L3a?_geo.geotoolkit.util.Math.log10(this.gj.ZS(0===a?1:a)):this.gj.ZS(a);this.w0a?b.push(_geo.geotoolkit.util.Math.log10(0===a?1:a)):b.push(a);b=this.gj.irb(a);a=this.gj.Usb(a);d.push(p);g.push(p+b);h.push(p-b);l.push(p+a);n.push(p-a)};b.prototype.MSc=function(a,b,d,g,h,l,n){var p=this.w0a?_geo.geotoolkit.util.Math.log10(this.gj.hSa(0===a?1:a)):this.gj.hSa(a);this.L3a?b.push(_geo.geotoolkit.util.Math.log10(0===
a?1:a)):b.push(a);b=this.gj.irb(p);var r=this.gj.Usb(p);d.push(p);g.push(a+b);h.push(a-b);l.push(a+r);n.push(a-r)};b.prototype.Rwa=function(){if(this.gj&&null!=this.BB&&null!=this.KC){var a=[],b=[],d=[],g=[],h=[],l=[],n,p,r;if(this.gj instanceof _geo.geotoolkit.controls.util.ll.mJa){r=this.gj.hI(this.mra/this.Vca);var t=p=null,t=p=null;n=this.gj.erb()[1];if(0===n)for(n=Math.abs(this.KC-this.BB)<Math.abs(this.Vca)?Math.abs(this.KC-this.BB):this.Vca,r=this.L3a?_geo.geotoolkit.util.Math.log10(this.Em[0]):
this.Em[0],p=this.BB;p<=this.KC;p+=n)this.w0a?a.push(_geo.geotoolkit.util.Math.log10(p)):a.push(p),b.push(r),d.push(r),g.push(r),h.push(r),l.push(r);else if(0<n){n=Math.abs(this.KC-this.BB)<Math.abs(this.Vca)?Math.abs(this.KC-this.BB):this.Vca;if(this.BB<r&&(t=this.KC<r?this.KC:r,this.gj.ZS(t)>this.iM)){for(p=this.BB;p<t;p+=n)this.Q7b(p,a,b,d,g,h,l);a.push(t);b.push(this.gj.ZS(t))}if(this.KC>r&&(n=Math.abs(this.uU-this.iM)<Math.abs(this.mra)?Math.abs(this.uU-this.iM):this.mra,p=this.iM>this.gj.ZS(r)?
this.iM:this.gj.ZS(r),0===b.length||p<=b[b.length-1]))for(;p<=this.uU;p+=n)0<b.length&&b[b.length-1]===p||this.MSc(p,b,a,d,g,h,l)}else{if(this.BB<r&&(n=Math.abs(this.uU-this.iM)<Math.abs(this.mra)?Math.abs(this.uU-this.iM):this.mra,t=this.iM>this.gj.ZS(r)?this.iM:this.gj.ZS(r),this.gj.hSa(t)>this.BB)){for(p=this.uU;p>=t;p-=n)this.MSc(p,b,a,d,g,h,l);a.push(this.gj.hSa(t));b.push(t)}if(this.KC>r&&(n=Math.abs(this.KC-this.BB)<Math.abs(this.Vca)?Math.abs(this.KC-this.BB):this.Vca,p=this.BB<r?r:this.BB,
0===a.length||p<=a[a.length-1]))for(;p<this.KC;p+=n)this.Q7b(p,a,b,d,g,h,l)}}else if(this.gj instanceof _geo.geotoolkit.controls.util.ll.xj&&(0,window.isNaN)(this.gj.erb()[0]))for(n=Math.abs(this.uU-this.iM)<Math.abs(this.mra)?Math.abs(this.uU-this.iM):this.mra,t=this.w0a?_geo.geotoolkit.util.Math.log10(this.Kl[0]):this.Kl[0],p=this.iM;p<=this.uU;p+=n)r=this.L3a?_geo.geotoolkit.util.Math.log10(p):p,a.push(t),b.push(r),d.push(r),g.push(r),h.push(r),l.push(r);else for(n=Math.abs(this.KC-this.BB)<Math.abs(this.Vca)?
Math.abs(this.KC-this.BB):this.Vca,p=this.BB;p<=this.KC;p+=n)this.Q7b(p,a,b,d,g,h,l);2>a.length&&(a=null);this.Kf.regression.Ne(a,b);this.Kf.confidenceupper.Ne(a,d);this.Kf.confidencelower.Ne(a,g);this.Kf.predictionupper.Ne(a,h);this.Kf.predictionlower.Ne(a,l);this.mca=!1}};b.prototype.i4b=function(a,b){var d=_geo.geotoolkit.attributes.Aa.ab(a.linestyle);"regression"===b?(d instanceof _geo.geotoolkit.attributes.Aa&&this.Kf[b].ua(a.linestyle),"boolean"===typeof a.visible&&this.Kf[b].Ka(a.visible)):
(d instanceof _geo.geotoolkit.attributes.Aa&&(this.Kf[b+"upper"].ua(a.linestyle),this.Kf[b+"lower"].ua(a.linestyle)),"boolean"===typeof a.visible&&(this.Kf[b+"upper"].Ka(a.visible),this.Kf[b+"lower"].Ka(a.visible)));this.Pa();this.ma()};b.prototype.wVb=function(a){var b={};"regression"===a?(b.linestyle=this.Kf[a].Xa(),b.visible=this.Kf[a].ib()):(b.linestyle=this.Kf[a+"upper"].Xa(),b.visible=this.Kf[a+"upper"].ib(),"confidence"===a&&this.gj&&(b.probability=this.gj.vTb()),"prediction"===a&&this.gj&&
(b.probability=this.gj.rWb()));return b};b.prototype.render=function(a){var b=null!=this.mb()?a.qc(this.mb()):a;this.BB&&this.KC&&this.iM&&this.uU||this.vi();if(this.mca){var d=b.Ra();this.Vca=Math.abs(this.qkb/d.Ab());this.mra=Math.abs(this.qkb/d.Pb());if(this.Kl&&1<this.Kl.length)this.Rwa();else return this}this.yk(b);for(var g in this.Kf)this.Kf.hasOwnProperty(g)&&this.Kf[g].ib()&&this.Kf[g].render(b);this.hk(a);return this};b.prototype.xpd=function(a){this.i4b(a,"prediction");"number"==typeof a.probability&&
this.gj&&this.gj.l5b(a.probability);return this};b.prototype.Cod=function(a){this.i4b(a,"confidence");"number"==typeof a.probability&&this.gj&&this.gj.o2b(a.probability);return this};b.prototype.Apd=function(a){this.i4b(a,"regression");return this};b.prototype.dispose=function(){this.xia&&(this.xia.hb(_geo.geotoolkit.data.Lh.$.S6,this.W1a),this.r7.hb(_geo.geotoolkit.data.Lh.$.T6,this.J1),this.xia.hb(_geo.geotoolkit.data.Lh.$.Px,this.J1));this.r7&&(this.r7.hb(_geo.geotoolkit.data.Lh.$.S6,this.W1a),
this.r7.hb(_geo.geotoolkit.data.Lh.$.T6,this.J1),this.r7.hb(_geo.geotoolkit.data.Lh.$.Px,this.J1));this.Uba&&(this.Uba.hb(_geo.geotoolkit.data.Lh.$.S6,this.W1a),this.Uba.hb(_geo.geotoolkit.data.Lh.$.T6,this.J1),this.Uba.hb(_geo.geotoolkit.data.Lh.$.Px,this.J1));this.gj&&this.gj.hb(_geo.geotoolkit.controls.util.ll.Pr.$.dza,this.N1a);_geo.geotoolkit.scene.shapes.rl.prototype.dispose.call(this)};b.prototype.BWb=function(){return this.gj};return b}();
_geo.geotoolkit.controls.shapes.d6=function(){function b(b){var c={datax:[],minx:Number.NaN,maxx:Number.NaN,datay:[],miny:Number.NaN,maxy:Number.NaN,dataz:void 0,logx:!1,logy:!1,logz:!1,colorprovider:null,defaultcolor:"rgba(60,60,60,1)",defaultlinecolor:null,highlightcolor:"rgba(255,0,255,1)",symbolsize:8,painter:_geo.geotoolkit.controls.shapes.hc.Mdb};this.d8=8;_geo.geotoolkit.scene.shapes.nn.call(this,new _geo.geotoolkit.util.Rect(0,0,1,1));var d=new _geo.geotoolkit.util.hX;this.cda=d.isChrome?
new _geo.geotoolkit.controls.shapes.hc.B8b:null;this.dCa=[];this.dda=[];this.jt=this.Z1=null;this.oia=this.Eqa=!1;a(this,_geo.geotoolkit.Ca(b,c));this._clip=!1;this.ZY=null}function a(a,b){var c=a;b=_geo.geotoolkit.Ca(b,{datax:Array.isArray(b.datax)?b.datax:g(b.datax,c.iV),minx:null!=b.minx?b.minx:c.Ao,maxx:null!=b.maxx?b.maxx:c.Cs,datay:Array.isArray(b.datay)?b.datay:g(b.datay,c.kV),miny:null!=b.miny?b.minY:c.Bo,maxy:null!=b.maxy?b.maxy:c.Ds,dataz:Array.isArray(b.dataz)?b.dataz:g(b.dataz,c.vda),
logx:null!=b.logx?b.logx:c.Tra,logy:null!=b.logy?b.logy:c.Vra,logz:null!=b.logz?b.logz:c.y7c,colorprovider:b.colorprovider instanceof _geo.geotoolkit.util.Ie?b.colorprovider:c.EH,defaultcolor:"string"==typeof b.defaultcolor?b.defaultcolor:c.KO,defaultlinecolor:null===b.defaultlinecolor||"string"==typeof b.defaultlinecolor?b.defaultlinecolor:c.Z1,highlightcolor:"string"==typeof b.highlightcolor?b.highlightcolor:c.nAa,symbolsize:"number"==typeof b.symbolsize?b.symbolsize:c.d8,painter:null!=b.painter?
b.painter:c.gA,x:null!=b.x?b.x:{},y:null!=b.y?b.y:{},z:null!=b.z?b.z:{}});null!=b.x.data&&(b.datax=b.x.data);null!=b.x.min&&(b.minx=b.x.min);null!=b.x.max&&(b.maxx=b.x.max);null!=b.y.data&&(b.datay=b.y.data);null!=b.y.min&&(b.miny=b.y.min);null!=b.y.max&&(b.maxy=b.y.max);null!=b.z.data&&(b.dataz=b.z.data);c.$h=-1;c.bh=-1;c.iV=null!=b.datax?b.datax:[];c.kV=null!=b.datay?b.datay:[];c.vda=null!=b.dataz?b.dataz:[];c.Tra=null!=b.logx?b.logx:!1;c.Vra=null!=b.logy?b.logy:!1;c.y7c=null!=b.logz?b.logz:!1;
if(void 0!==b.painter&&c.gA!==b.painter||void 0!==b.symbolsize&&c.d8!==b.symbolsize||void 0!==b.colorprovider&&c.EH!==b.colorprovider||void 0!==b.highlightcolor&&c.nAa!==b.highlightcolor||void 0!==b.defaultcolor&&c.KO!==b.defaultcolor||void 0!==b.defaultlinecolor&&c.Z1!==b.defaultlinecolor)c.CPb(),c.jt=null;c.KO=new _geo.geotoolkit.util.rb(b.defaultcolor);c.Z1=null!=b.defaultlinecolor?new _geo.geotoolkit.util.rb(b.defaultlinecolor):null;c.EH=b.colorprovider;c.nAa=new _geo.geotoolkit.util.rb(b.highlightcolor);
c.gA=b.painter;c.d8=b.symbolsize;null!=c.cda&&c.cda.ja(b);for(var d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,t=Math.min(c.iV.length,c.kV.length),q=0;q<t;++q)(0,window.isNaN)(c.iV[q])||(0,window.isNaN)(c.kV[q])||(d=Math.min(d,c.iV[q]),e=Math.max(e,c.iV[q]),p=Math.min(p,c.kV[q]),r=Math.max(r,c.kV[q]));d=(0,window.isNaN)(b.minx)?d===Number.POSITIVE_INFINITY?Number.NaN:d:b.minx;e=(0,window.isNaN)(b.maxx)?e===Number.NEGATIVE_INFINITY?Number.NaN:
e:b.maxx;p=(0,window.isNaN)(b.miny)?p===Number.POSITIVE_INFINITY?Number.NaN:p:b.miny;r=(0,window.isNaN)(b.maxy)?r===Number.NEGATIVE_INFINITY?Number.NaN:r:b.maxy;c.Tra&&(d=0<d?_geo.geotoolkit.util.Math.log10(d):0,e=0<e?_geo.geotoolkit.util.Math.log10(e):0);c.Vra&&(p=0<p?_geo.geotoolkit.util.Math.log10(p):0,r=0<r?_geo.geotoolkit.util.Math.log10(r):0);c.Ao=d;c.Cs=e;c.Bo=p;c.Ds=r;d=new _geo.geotoolkit.util.Rect(c.Ao,c.Bo,c.Cs,c.Ds);c.Ea(d);c.mnb=0;c.Eqa=!1;c.oia=!1;c.ma()}function g(a,b){return null!=
a&&(a instanceof _geo.geotoolkit.data.Or||a instanceof _geo.geotoolkit.data.nH)?a.toArray(!1):b}var d=function(){function a(b,c,d,e,g){this._root=b;this._x=c.data;this._y=d.data;this.Tra=c.log;this.Vra=d.log;this.Pe=e;this.tja=g;this.PH=[];this.Vpa=!1;this.reset()}_geo.geotoolkit.fa(a,_geo.geotoolkit.util.Iterator);a.prototype.reset=function(){this.Vpa=!1;this.wHb=this.WLa=0;this.RJb=-1;this.cY=this.Jza=null;this.PH=[];this.$H(this._root)};a.prototype.Xf=function(){if(null!=this.cY)return!0;for(;this.WLa<
this.PH.length;this.WLa++){this.WLa!==this.RJb&&(this.Jza=this.PH[this.WLa],this.Vpa=this.Pe.$C(this.Jza.Pe.getX(),this.Jza.Pe.getY(),this.Jza.Pe.aa(),this.Jza.Pe.ba()));for(;this.wHb<this.Jza.Oj;){this.cY=this.Jza.ft[this.wHb++];if(this.Vpa){this.RJb=this.WLa;if(!this.Pe.contains(this.Tra?_geo.geotoolkit.util.Math.log10(this._x[this.cY-this._root.ud]):this._x[this.cY-this._root.ud],this.Vra?_geo.geotoolkit.util.Math.log10(this._y[this.cY-this._root.ud]):this._y[this.cY-this._root.ud]))continue;return!0}if(this.Pe.contains(this.Tra?
_geo.geotoolkit.util.Math.log10(this._x[this.cY-this._root.ud]):this._x[this.cY-this._root.ud],this.Vra?_geo.geotoolkit.util.Math.log10(this._y[this.cY-this._root.ud]):this._y[this.cY-this._root.ud]))return this.RJb=this.WLa,!0}this.wHb=0}this.cY=null;return!1};a.prototype.$H=function(a){null!=a&&a.Pe.intersects(this.Pe)&&(this.tja?(0<a.Oj&&this.PH.push(a),this.$H(a.fl),this.$H(a.Jm),this.$H(a.Am),this.$H(a.Bm)):(this.$H(a.fl),this.$H(a.Jm),this.$H(a.Am),this.$H(a.Bm),0<a.Oj&&this.PH.push(a)))};a.prototype.next=
function(){if(this.Xf()){var a=this.cY;this.cY=null;return a-this._root.ud}return null};a.prototype.filter=function(a){var b=[];for(this.reset();this.Xf();){var c=this.next();a(c)&&b.push(c)}return b};a.prototype.forEach=function(a){for(this.reset();this.Xf();)a(this.next());return this};return a}(),e=function(){function a(b,c){this.ft=[];this.Ek=c;this.Pe=b;this.Bm=this.Am=this.Jm=this.fl=null;this.ud=this.gx=this.Oj=0}a.prototype.ga=function(){return this.Pe};a.prototype.Ea=function(a){null!=this.Pe&&
this.Pe.Pj(a)||(this.Pe=a,this.Bm=this.Am=this.Jm=this.fl=null,this.ud=this.gx=this.Oj=0)};a.prototype.clear=function(){this.ft=[];this.ud=this.gx=this.Oj=0;null!=this.fl&&this.fl.clear();null!=this.Jm&&this.Jm.clear();null!=this.Am&&this.Am.clear();null!=this.Bm&&this.Bm.clear();return this};a.prototype.lp=function(a){this.ud=a;return this};a.prototype.Uc=function(){return this.gx};a.prototype.remove=function(a){var b=this.gx;if(0<this.Oj){for(var c=a+this.ud,d=-1,e=0;e<this.Oj;++e)this.ft[e]===
c?d=e:this.ft[e]>c&&this.ft[e]--; -1!==d&&(this.ft.splice(d,1),--this.gx,--this.Oj)}null!=this.fl&&(this.gx-=this.fl.remove(a));null!=this.Jm&&(this.gx-=this.Jm.remove(a));null!=this.Am&&(this.gx-=this.Am.remove(a));null!=this.Bm&&(this.gx-=this.Bm.remove(a));return b===this.gx?0:1};a.prototype.shift=function(){var a=this.gx;0<this.Oj&&this.ft[0]===this.ud&&(--this.gx,--this.Oj,this.ft.splice(0,1));this.ud++;null!=this.fl&&(this.gx-=this.fl.shift());null!=this.Jm&&(this.gx-=this.Jm.shift());null!=
this.Am&&(this.gx-=this.Am.shift());null!=this.Bm&&(this.gx-=this.Bm.shift());return a===this.gx?0:1};a.prototype.va=function(b,c,d){if((0,window.isNaN)(d))return this;this.gx+=1;if(0===this.Ek)return this.ft[this.Oj]=d+this.ud,this.Oj++,this;if(null==this.fl){var e=this.Pe,g=this.Ek;this.fl=(new a(new _geo.geotoolkit.util.Rect(e.x,e.y,e.x+e.width/2,e.y+e.height/2),g-1)).lp(this.ud);this.Jm=(new a(new _geo.geotoolkit.util.Rect(e.x+e.width/2,e.y,e.x+e.width,e.y+e.height/2),g-1)).lp(this.ud);this.Am=
(new a(new _geo.geotoolkit.util.Rect(e.x,e.y+e.height/2,e.x+e.width/2,e.y+e.height),g-1)).lp(this.ud);this.Bm=(new a(new _geo.geotoolkit.util.Rect(e.x+e.width/2,e.y+e.height/2,e.x+e.width,e.y+e.height),g-1)).lp(this.ud)}this.fl.Pe.contains(b,c)?this.fl.va(b,c,d):this.Jm.Pe.contains(b,c)?this.Jm.va(b,c,d):this.Am.Pe.contains(b,c)?this.Am.va(b,c,d):this.Bm.Pe.contains(b,c)?this.Bm.va(b,c,d):(this.ft[this.Oj]=d,this.Oj++);return this};a.prototype.bn=function(a,b,c){return new d(this,b,c,a)};a.prototype.bs=
function(a,b,c,d){var e=a.ga(),g=[];if(this.Pe.intersects(e)){for(e=0;e<this.Oj;e++){var f=this.ft[e];a.contains(b[f],c[f])&&g.push(f-this.ud)}null!=this.fl&&(g=g.concat(this.fl.bs(a,b,c,d)));null!=this.Jm&&(g=g.concat(this.Jm.bs(a,b,c,d)));null!=this.Am&&(g=g.concat(this.Am.bs(a,b,c,d)));null!=this.Bm&&(g=g.concat(this.Bm.bs(a,b,c,d)))}return g};return a}(),c=new _geo.geotoolkit.util.Rect(0,0,0,0);_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.CrossPlot");
b.prototype.setData=function(b){a(this,b);return this};b.prototype.getData=function(){return{datax:this.iV,minx:this.Ao,maxx:this.Cs,datay:this.kV,miny:this.Bo,maxy:this.Ds,dataz:this.vda,colorprovider:this.EH,defaultcolor:this.KO,defaultlinecolor:this.Z1,highlightcolor:this.nAa,symbolsize:this.d8,painter:this.gA}};b.prototype.zn=function(){return this.EH};b.prototype.isEmpty=function(){return 0===this.ga().aa()&&0===this.ga().ba()};b.prototype.kYb=function(){var a=this.EH.jta(),b=this.d8,c=4,d=Math.ceil(Math.sqrt(a+
4));this.jt={Nka:c,ERb:d,X$:b,JRc:b/2,current:{x:0,y:0},Dc:new _geo.geotoolkit.renderer.canvas.Mr(d*(b+2*c),d*(b+2*c)),image:null};b=this.jt.Dc.pr();a=(this.EH.ad()-this.EH.Tc())/a;for(c=this.EH.Tc()-.5*a;c<this.EH.ad()+a;c+=a)d=_geo.geotoolkit.util.oi.Ph(this.EH.ac(c)),this.PCa(d,b);this.PCa(this.KO,b);this.PCa(this.nAa,b);this.jt.image=this.jt.Dc.Kk()};b.prototype.JGa=function(a,b){for(var d=null!=this.ZY?this.ZY.aa():0,e=null!=this.ZY?this.ZY.ba():0,g,p,r=a+b-1;r>=a;r--)p=r<this.dda.length?this.dda[r]:
null,this.OH.remove(r),p&&(g=p.x,p=p.y,this.ma(c.zb(g-d,p-e,g+d,p+e)));this.dda.splice(a,b)};b.prototype.F6b=function(a){for(var b=null!=this.ZY?this.ZY.aa():0,d=null!=this.ZY?this.ZY.ba():0,e,g=0;g<a;g++){e=this.dda[0];if(!e)break;this.OH.shift();this.dda.shift();this.ma(c.zb(e.x-b,e.y-d,e.x+b,e.y+d))}};b.prototype.sP=function(a){var b=Math.min(this.iV.length,this.kV.length),d=null!=this.vda?Math.min(b,this.vda.length):0,e=null!=this.JH?Math.min(b,this.JH.length):0,g=null!=this.ZY?this.ZY.aa():0,
p=null!=this.ZY?this.ZY.ba():0;for(a=b-a;a<b;a++){var r=this.iV[a],t=this.kV[a],q=this.vda.length<=d?this.vda[a]:Number.NaN,m=a<e&&this.JH?this.JH[this.JH.length-1]:!1,q=m?this.nAa:(0,window.isNaN)(q)||null==this.EH?this.KO:_geo.geotoolkit.util.oi.Ph(this.EH.ac(q));this.$rc(this.PCa(q,null),r,t,a);this.ma(c.zb(r-g,t-p,r+g,t+p))}};b.prototype.$rc=function(a,b,c,d){this.dda[d]={symbol:a,x:b,y:c};null!=this.OH&&this.OH.va(b,c,d)};b.prototype.Pa=function(a,b){_geo.geotoolkit.scene.shapes.nn.prototype.Pa.call(this);
b===_geo.geotoolkit.scene.Node.bm.Roa&&(this.oia=this.Eqa=!1,this.ma());return this};b.prototype.vi=function(){var a=Math.min(this.iV.length,this.kV.length),b=null!=this.vda?Math.min(a,this.vda.length):0,c=null!=this.JH?Math.min(a,this.JH.length):0;this.mnb=a;null==this.OH?this.OH=new e(this.ga(),5):(this.OH.Ea(this.ga()),this.OH.clear());var d=0;if(0<this.mnb){var g=null;if(this.EH instanceof _geo.geotoolkit.util.nF)null==this.jt&&null==this.cda?this.kYb():this.oia||(this.CPb(),this.kYb());else{this.CPb();
var g=this.d8,p=4,r;r=null!=this.EH?Math.ceil(Math.sqrt(this.mnb)):2;this.jt={Nka:p,ERb:r,X$:g,JRc:g/2,current:{x:0,y:0},Dc:new _geo.geotoolkit.renderer.canvas.Mr(r*(g+2*p),r*(g+2*p)),image:null};g=this.jt.Dc.pr()}for(p=0;p<a;++p){r=this.iV[p];var t=this.kV[p],q=p<b?this.vda[p]:Number.NaN,m=p<c?this.JH[p]:!1;(0,window.isNaN)(r)||(0,window.isNaN)(t)||(d++,q=m?this.nAa:(0,window.isNaN)(q)||null==this.EH?this.KO:_geo.geotoolkit.util.oi.Ph(this.EH.ac(q)),this.$rc(this.PCa(q,g),r,t,p))}this.EH instanceof
_geo.geotoolkit.util.nF||(this.jt.image=this.jt.Dc.Kk())}0===d&&(0>=this.ga().aa()||0>=this.ga().ba())&&this.Ea(new _geo.geotoolkit.util.Rect(0,0,1,1));return this.oia=this.Eqa=!0};b.prototype.xQc=function(a){if(this.gA===a)return this;this.gA=a;this.jt=null;this.Eqa=!1;return this};b.prototype.LEc=function(){return this.gA};b.prototype.PCa=function(a,b){var c=null!=this.cda?this.cda.be(a):this.be(a);if(null!=c)return c;if(null!=this.cda)return c=this.cda.Aad(a),this.cda.r$a(a,c),c;if(null==b&&this.EH instanceof
_geo.geotoolkit.util.nF&&(this.kYb(),c=this.be(a),null!=c))return c;if(null==b)return null;null==this.gA&&(this.gA=_geo.geotoolkit.controls.shapes.hc.Mdb);var c=this.jt.Dc,d=this.jt.current,e=d.x*(this.jt.X$+this.jt.Nka),g=d.y*(this.jt.X$+this.jt.Nka),r=this.jt.JRc,t=a;b.ta(new _geo.geotoolkit.attributes.Fa(t.ps()));b.ua(null==this.Z1?null:(new _geo.geotoolkit.attributes.Aa(this.Z1,1)).Yd({x:!0,y:!0}));e=new _geo.geotoolkit.util.Rect(e,g,e+2*r,g+2*r);this.gA(null,e,b,t);c.Lq();c={x:d.x,y:d.y};d.x++;
d.x>=this.jt.ERb&&(d.x=0,d.y++);this.jt.current=d;this.r$a(a,c);return c};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;if(a.Gd()){var b=this.ga();a.ta(_geo.geotoolkit.attributes.Fa.Ui);a.zc(b.x,b.y,b.width,b.height);a.bp({crossplot:this,indices:0<this.mnb?this.HP(a.RZ()):[]})}else{if(this._clip){var c=a.$e(),b=a.Ra();if(0===b.CV())return;a.save();var c=b.qe(c),d=new _geo.geotoolkit.util.Rect(this.ga());d.intersect(c);b.ob(d,d);a.Ni(d)}this.Eqa||this.vi();this.sRb(a);this._clip&&
a.restore()}};b.prototype.LA=function(){return this._clip};b.prototype.Qf=function(a){this._clip=a;this.Pa();return this};b.prototype.sRb=function(a){this.sl=a;var b=this.sl.Ra();a=b.qe(a.$e());a.intersect(this.ga());var c=b.ob(a);c.fe(this.d8/2,this.d8/2);var d=new _geo.geotoolkit.util.Rect(c);b.qe(d,d);a=this.sl.Ra();this.ZY=b.qe(new _geo.geotoolkit.util.Rect(0,0,this.d8,this.d8));this.sl.kc(new _geo.geotoolkit.util.Ga);var e,g;if(null!=this.OH){e=this.OH.bn(d,{data:this.iV,log:this.Tra},{data:this.kV,
log:this.Vra});var d=new _geo.geotoolkit.util.na(0,0),r=_geo.geotoolkit.util.Iterator.toArray(e);r.sort(function(a,b){return a-b});var t=[],c=[];for(e=r.length-1;0<=e;e--){g=r[e];d.x=this.iV[g];d.y=this.kV[g];b.cb(d,d);var q=Math.round(d.x),m=Math.round(d.y);null==t[q]&&(t[q]=[]);null!=t[q][m]?t[q][m]++:(t[q][m]=1,c[c.length]=g)}for(e=c.length-1;0<=e;e--)if(g=c[e],g=this.dda[g])d.x=this.Tra?_geo.geotoolkit.util.Math.log10(g.x):g.x,d.y=this.Vra?_geo.geotoolkit.util.Math.log10(g.y):g.y,b.cb(d,d),this.qwc(g.symbol,
d.x,d.y,null)}else for(d=new _geo.geotoolkit.util.na(0,0),e=0;e<this.dda.length;++e)g=this.dda[e],d.x=this.Tra?_geo.geotoolkit.util.Math.log10(g.x):g.x,d.y=this.Vra?_geo.geotoolkit.util.Math.log10(g.y):g.y,b.cb(d,d),c.contains(d.x,d.y)&&this.qwc(this.dda[e].symbol,d.x,d.y,null);this.sl.kc(a);return this};b.prototype.qwc=function(a,b,c,d){if(null!=this.cda)return this.cda.w3(a,this.sl,b,c),this;if(this.jt.image){if(null==a)return this;var e=_geo.geotoolkit.Dj();d=a.x*(this.jt.X$+this.jt.Nka)*e;a=a.y*
(this.jt.X$+this.jt.Nka)*e;var g=(1+this.jt.X$)*e,e=(1+this.jt.X$)*e;b-=this.jt.X$/2;c-=this.jt.X$/2;var r=1+this.jt.X$,t=1+this.jt.X$;b=Math.round(b);c=Math.round(c);this.sl.drawImage(this.jt.image,d,a,g,e,b,c,r,t)}else a=new _geo.geotoolkit.attributes.Aa("#000",1.5),d=new _geo.geotoolkit.attributes.Fa(d),this.sl.ua(a),this.sl.ta(d),this.sl.iq(b-2,c-2,4,4,0,2*Math.PI);return this};b.prototype.be=function(a){var b=a.Bl(),c=a.zl(),d=a.xl();a=a.Km();var e=this.dCa;if(null==e[b])return null;b=e[b];if(null==
b[c])return null;c=b[c];if(null==c[d])return null;d=c[d];return null==d[a]?null:d[a]};b.prototype.r$a=function(a,b){var c=a.Bl(),d=a.zl(),e=a.xl(),g=a.Km(),r=this.dCa,t=r[c],q,m;null!=t?(m=t[d],null!=m?(q=m[e],null!=q?q[g]=b:(q=[],q[g]=b,m[e]=q)):(m=[],q=[],q[g]=b,m[e]=q,t[d]=m)):(t=[],m=[],q=[],q[g]=b,m[e]=q,t[d]=m,r[c]=t);return this};b.prototype.CPb=function(){this.dCa=[];return this};b.prototype.V6a=function(){var a=[];null==this.JH&&(this.JH=[]);for(var b=0;b<this.JH.length;++b)!0===this.JH[b]&&
a.push(b);return a};b.prototype.t8a=function(a,b){var c=this.HP(a);return this.VP(c,b)};b.prototype.AYb=function(a,b){return a.every(function(a){return a!==b})};b.prototype.VP=function(a,b){var c=!1,d;if(!0===b&&null!=this.JH)for(d=0;d<this.JH.length;++d)!0===this.JH[d]&&this.AYb(a,d)&&(c=!0,this.JH[d]=!1);null==this.JH&&(this.JH=[]);for(d=0;d<a.length;++d)!0!==this.JH[a[d]]&&(c=!0,this.JH[a[d]]=!0);c&&(this.Eqa=!1,this.ma());return this};b.prototype.HP=function(a){null==this.OH&&this.vi();return this.OH.bs(a,
this.iV,this.kV,null)};b.prototype.oWb=function(a){var b=[];a=this.HP(a);for(var c=0;c<a.length;++c){var d=a[c];b[c]={x:this.iV[d],y:this.kV[d],z:this.vda[d]}}return b};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.shapes.nn.prototype.ka.call(this);a.datax=null;a.dataz=null;a.datay=null;a.minx=this.Ao;a.maxx=this.Cs;a.miny=this.Bo;a.maxy=this.Ds;a.colorprovider=this.EH;a.defaultcolor=this.KO;a.defaultlinecolor=this.Z1;a.highlightcolor=this.nAa;a.symbolsize=this.d8;a.painter=this.gA;return a};
return b}();
_geo.geotoolkit.controls.shapes.ahb=function(){function b(a,b,d){this.Yo=this.Uf=null;this.sk=[];this.oj=a;this.Vf=b;this.Gb=d;this.Hc=d.Hc;this.bh=this.Hc.he.aa()*b;this.$h=this.Hc.he.ba()*a;this.ve=0;this.dqa=!1;_geo.geotoolkit.scene.shapes.nn.call(this,{left:0,top:0,right:this.bh,bottom:this.$h});this.vn=(new _geo.geotoolkit.attributes.Aa("white")).Yd({x:!0,y:!0});this.mM=(new _geo.geotoolkit.attributes.eb("#6b6b6b")).If("right").aj("middle").Gr("12px Courier");this.L1a=new _geo.geotoolkit.attributes.Fa("white");this.Q_a=
new _geo.geotoolkit.attributes.Fa("#f3f3f3");this.uGb=new _geo.geotoolkit.attributes.Fa("rgba(0,0,255,0.2)");this.CMa=new _geo.geotoolkit.attributes.Fa("rgba(255,0,0,0.2)");this.aJb=new _geo.geotoolkit.attributes.Fa("rgba(0,0,255,0.2)")}var a=new _geo.geotoolkit.util.Rect,g=new _geo.geotoolkit.util.Rect,d=new _geo.geotoolkit.util.Rect,e={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,
linestyle:null,value:null,bounds:null}};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.TableContent");b.prototype.setData=function(a){null!=a&&(null!=a.fittowidth&&(this.dqa=!0===a.fittowidth),void 0!==a.activerowfillstyle&&(this.uGb=_geo.geotoolkit.attributes.Fa.ab(a.activerowfillstyle)),void 0!==a.highlightrowfillstyle&&(this.CMa=_geo.geotoolkit.attributes.Fa.ab(a.highlightrowfillstyle)),void 0!==a.highlightcolumnfillstyle&&(this.aJb=_geo.geotoolkit.attributes.Fa.ab(a.highlightcolumnfillstyle)),
null!=a.defaultcellsize&&(this.Hc.he=a.defaultcellsize),a=a.content,null!=a&&("number"===typeof a.padding&&(this.ve=a.padding),void 0!==a.gridstyle&&(void 0!==a.gridstyle.horizontal||void 0!==a.gridstyle.vertical?(this.vn=a.gridstyle,this.vn.horizontal=_geo.geotoolkit.attributes.Aa.ab(this.vn.horizontal),this.vn.vertical=_geo.geotoolkit.attributes.Aa.ab(this.vn.vertical)):this.vn=_geo.geotoolkit.attributes.Aa.ab(a.gridstyle)),void 0!==a.textstyle&&(this.mM=_geo.geotoolkit.attributes.eb.ab(a.textstyle)),
void 0!==a.oddfillstyle&&(this.L1a=_geo.geotoolkit.attributes.Fa.ab(a.oddfillstyle)),void 0!==a.evenfillstyle&&(this.Q_a=_geo.geotoolkit.attributes.Fa.ab(a.evenfillstyle))))};b.prototype.dL=function(a,b,d,e){this.Uf=d;this.Yo=e;this.sk=null!=this.Uf?[]:null;this.Bj=null!=this.Yo?[]:null;this.oj=a;this.Vf=b;if(null!=d&&d.length===b)for(e=0,d=this.sk[0]=0;d<b;++d)e+=this.Uf[d],0<d&&(this.sk[d]=this.sk[d-1]+this.Uf[d-1]);else if(e=this.Hc.he.aa()*b,null!=this.Uf)for(d=0;d<b;++d)this.Uf[d]=this.Hc.he.aa(),
this.sk[d]=d*this.Hc.he.aa();this.bh=e;if(null!=this.Yo)for(b=0,d=this.Bj[0]=0;d<a;++d)b+=this.Yo[d],0<d&&(this.Bj[d]=this.Bj[d-1]+this.Yo[d-1]);else b=this.Hc.he.ba()*a;this.$h=b;this.zb(0,0,this.bh,this.$h)};b.prototype.SEc=function(){return this.Gb};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;a.El(this);var b=this.ga();a.Gd()?(a.ta(_geo.geotoolkit.attributes.Fa.Ui),a.zc(b)):this.Qh(a)};b.prototype.N$a=function(a,b,d,e,g,n){var p="oddFillAttribute"===n?this.L1a:this.Q_a;if(null!=
p){a.ta(p);a.beginPath();for(b=0!==b%2^"evenFillAttribute"===n?b:b+1;b<d;b+=2){n=e.sa();var p=null==this.Bj?b*this.Hc.he.ba():this.Bj[b],r=!0===this.dqa?e.za():(null!=this.sk?this.sk[g]:this.Hc.he.aa()*g)+(null!=this.Uf?this.Uf[g]:this.Hc.he.aa()),t=null==this.Bj?(b+1)*this.Hc.he.ba():this.Bj[b]+this.Yo[b];a.moveTo(n,p).lineTo(r,p).lineTo(r,t).lineTo(n,t).lineTo(n,p)}a.closePath().si()}};b.prototype.Qh=function(a){var b=a.Ra().je(a.$e()),d=0,e,g;if(null==this.sk)d=Math.floor(b.sa()/this.Hc.he.aa());
else for(;d<=this.Vf&&this.sk[d]<b.sa();++d);0>d?d=0:0<d&&--d;d>this.Vf&&(d=this.Vf);var n=0;if(null==this.sk)n=Math.ceil(b.za()/this.Hc.he.aa());else for(;n<this.Vf&&this.sk[n]<b.za();++n);n>=this.Vf&&(n=this.Vf-1);if(!(n<d)){var p=b.qa()/this.Hc.he.ba()>>0;0>p&&(p=0);var r=Math.min(b.wa()/this.Hc.he.ba()+1,this.oj)>>0;if(null!=this.Bj){for(p=r=0;p<=this.oj&&this.Bj[p]<b.qa();++p);for(;r<this.oj&&this.Bj[r]<b.wa();++r);}var t=0,q=0,m=0,u=0;this.N$a(a,p,r,b,n,"oddFillAttribute");this.N$a(a,p,r,b,
n,"evenFillAttribute");var v=function(d,e){d>=p&&d<r&&(a.ta(e),a.beginPath(),t=b.sa(),m=null==this.Bj?d*this.Hc.he.ba():this.Bj[d],q=!0===this.dqa?b.za():(null!=this.sk?this.sk[n]:this.Hc.he.aa()*n)+(null!=this.Uf?this.Uf[n]:this.Hc.he.aa()),u=null==this.Bj?(d+1)*this.Hc.he.ba():this.Bj[d]+this.Yo[d],a.moveTo(t,m),a.lineTo(q,m),a.lineTo(q,u),a.lineTo(t,u),a.lineTo(t,m),a.closePath(),a.si())}.bind(this);null!=this.CMa&&0<=this.Gb.V3()&&v(this.Gb.V3(),this.CMa);null!=this.uGb&&0<this.Gb.BP().length&&
this.Gb.BP().forEach(function(a){v(a,this.uGb)}.bind(this));e=this.Gb.FV();e>=d&&e<=n&&(a.ta(this.aJb),a.beginPath(),t=null!=this.sk?this.sk[e]:this.Hc.he.aa()*e,m=null==this.Bj?p*this.Hc.he.ba():this.Bj[p],q=(null!=this.sk?this.sk[e]:this.Hc.he.aa()*e)+(null!=this.Uf?this.Uf[e]:this.Hc.he.aa()),u=null==this.Bj?r*this.Hc.he.ba():this.Bj[r]+this.Yo[r],a.moveTo(t,m),a.lineTo(q,m),a.lineTo(q,u),a.lineTo(t,u),a.lineTo(t,m),a.closePath(),a.si());if(null!=this.vn){a.beginPath();if(this.vn.horizontal instanceof
_geo.geotoolkit.attributes.Aa||this.vn instanceof _geo.geotoolkit.attributes.Aa)for(a.ua(this.vn instanceof _geo.geotoolkit.attributes.Aa?this.vn:this.vn.horizontal),e=p;e<r;e++)t=b.sa(),q=!0===this.dqa?b.za():(null!=this.sk?this.sk[n]:this.Hc.he.aa()*n)+(null!=this.Uf?this.Uf[n]:this.Hc.he.aa()),null==this.Bj?(m=e*this.Hc.he.ba(),u=(e+1)*this.Hc.he.ba()):(m=this.Bj[e],u=this.Bj[e]+this.Yo[e]),a.moveTo(t,u),a.lineTo(q,u);if(this.vn.vertical instanceof _geo.geotoolkit.attributes.Aa||this.vn instanceof
_geo.geotoolkit.attributes.Aa){a.ua(this.vn instanceof _geo.geotoolkit.attributes.Aa?this.vn:this.vn.vertical);t=null!=this.sk?this.sk[d]:this.Hc.he.aa()*d;null==this.Bj?(m=p*this.Hc.he.ba(),u=r*this.Hc.he.ba()):(m=this.Bj[p]+this.Yo[p],u=this.Bj[r]+this.Yo[r]);for(g=0!==d?d:1;g<=n;g++)t=null!=this.sk?this.sk[g]:this.Hc.he.aa()*g,a.moveTo(t,m),a.lineTo(t,u);q=t+(null!=this.Uf?this.Uf[n]:this.Hc.he.aa());a.moveTo(q,m);a.lineTo(q,u)}a.stroke()}this.Gb.VSa(p,r,d,n);if(null==this.Gb.ded())for(a.wb(this.mM),
e=p;e<r;e++)for(g=d;g<=n;g++)this.Csa(a,e,g,this.uRb);else for(e=p;e<r;e++)for(g=d;g<=n;g++)this.Csa(a,e,g,this.tRb)}};b.prototype.Csa=function(a,b,d,e){var g=null!=this.sk?this.sk[d]:Math.round(this.Hc.he.aa()*d),n=null!=this.Uf?this.Uf[d]:this.Hc.he.aa(),p=null==this.Bj?b*this.Hc.he.ba():this.Bj[b],r=null==this.Yo?this.Hc.he.ba():this.Yo[b];a.save();g=a.Ra().ob(new _geo.geotoolkit.util.Rect(g,p,g+n,p+r));a.Ni(g);e.call(this,a,b,d);a.restore()};b.prototype.uRb=function(a,b,d){var e=null!=this.sk?
this.sk[d]:Math.round(this.Hc.he.aa()*d),g=null==this.Bj?b*this.Hc.he.ba():this.Bj[b],n=0;null!=this.vn&&(this.vn instanceof _geo.geotoolkit.attributes.Aa?n=this.vn.aa():null!=this.vn.vertical&&(n=this.vn.vertical.aa()));switch(this.mM.as()){case "left":e+=this.ve+n;break;case "right":e+=(null!=this.Uf?this.Uf[d]:this.Hc.he.aa())-this.ve-n;break;case "center":e+=(null!=this.Uf?this.Uf[d]:this.Hc.he.aa())/2;break;default:e+=null!=this.Uf?this.Uf[d]:this.Hc.he.aa();break}d=this.Gb.nta(d,b);a.de(e,g+
(null==this.Yo?this.Hc.he.ba():this.Yo[b])/2,d)};b.prototype.tRb=function(b,f,k){var h=this.Gb.nta(k,f),l=null!=this.sk?this.sk[k]:Math.round(this.Hc.he.aa()*k),n=null!=this.Uf?this.Uf[k]:this.Hc.he.aa(),p=null==this.Bj?f*this.Hc.he.ba():this.Bj[f],r=null==this.Yo?this.Hc.he.ba():this.Yo[f];a.zb(0,0,n,r).fe(-this.ve,0);g.zb(0,0,n,r).fe(-this.ve,0);d.zb(0,0,n,r).fe(0,0);e.selection.row=this.Gb.V3();e.selection.column=this.Gb.FV();e.background.fillstyle=null;e.background.linestyle=null;e.background.bounds=
a;e.text.fillstyle=null;e.text.linestyle=null;e.text.textstyle=this.mM;e.text.value=h;e.text.bounds=g;e.icon.fillstyle=null;e.icon.linestyle=null;e.icon.value=null;e.icon.bounds=d;e.border=null;f=this.Gb.kdd(k,f,e);if(null==f)return this;k=f.text.textstyle;var h=f.text.value,t=f.background.bounds,q=f.text.bounds,m=f.icon.bounds;null!=t&&t.setX(l+t.getX()).setY(p+t.getY());null!=q&&q.setX(l+q.getX()).setY(p+q.getY());null!=m&&m.setX(l+m.getX()).setY(p+m.getY());null==t||null==f.background.fillstyle&&
null==f.background.linestyle||(b.ta(_geo.geotoolkit.attributes.Fa.ab(f.background.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.background.linestyle)),b.zc(t));null!=f.border&&(null!=f.border.top&&(b.beginPath(),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.border.top)),b.moveTo(l,p),b.lineTo(l+n,p),b.stroke()),null!=f.border.right&&(b.beginPath(),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.border.right)),b.moveTo(l+n,p),b.lineTo(l+n,p+r),b.stroke()),null!=f.border.bottom&&(b.beginPath(),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.border.bottom)),
b.moveTo(l+n,p+r),b.lineTo(l,p+r),b.stroke()),null!=f.border.left&&(b.beginPath(),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.border.left)),b.moveTo(l,p+r),b.lineTo(l,p),b.stroke()));if(null!=m){if(null!=f.icon.fillstyle||null!=f.icon.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(f.icon.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.icon.linestyle)),b.zc(m);null!=f.icon.value&&(b.save(),l=b.qc(_geo.geotoolkit.util.Ga.kj(l,p)),f.icon.value.render(l),b.restore())}if(null!=q){if(null!=f.text.fillstyle||
null!=f.text.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(f.text.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(f.text.linestyle)),b.zc(q);if(null!=h&&null!=k){switch(k.as()){case "left":l=q.sa();break;case "right":l=q.za();break;case "center":l=q.Pc();break;default:l=q.sa();break}b.wb(k);b.de(l,q.Qc(),h)}}return this};return b}();
_geo.geotoolkit.controls.shapes.KXc=function(){function b(a,b){this.Uf=null;this.sk=[];this.Vf=a;this.Gb=b;this.Hc=b.Hc;this.bh=this.Hc.he.aa()*a;this.$h=this.Hc.qD;this.ve=0;this.dqa=!1;_geo.geotoolkit.scene.shapes.nn.call(this,{left:0,top:0,right:this.bh,bottom:this.$h});this.vn=(new _geo.geotoolkit.attributes.Aa("white")).Yd({x:!0,y:!0});this.mM=(new _geo.geotoolkit.attributes.eb("#6b6b6b")).If("center").aj("middle").Gr("bold 11px Tahoma");this.Clc=new _geo.geotoolkit.attributes.Fa("#cccccc")}
var a=new _geo.geotoolkit.util.Rect,g=new _geo.geotoolkit.util.Rect,d=new _geo.geotoolkit.util.Rect,e={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.HeaderContent");b.prototype.setData=function(a){null!=a&&(null!=a.fittowidth&&(this.dqa=!0===
a.fittowidth),null!=a.defaultheadersize?this.Hc.qD=a.defaultheadersize.ba():null!=a.defaultcellsize&&(this.Hc.qD=a.defaultcellsize.ba()),a=a.header,null!=a&&("number"===typeof a.padding&&(this.ve=a.padding),void 0!==a.gridstyle&&(this.vn=_geo.geotoolkit.attributes.Aa.ab(a.gridstyle)),void 0!==a.textstyle&&(this.mM=_geo.geotoolkit.attributes.eb.ab(a.textstyle)),void 0!==a.headerfillstyle&&(this.Clc=_geo.geotoolkit.attributes.Fa.ab(a.headerfillstyle))))};b.prototype.dL=function(a,b,d){this.Uf=d;this.sk=
null!=this.Uf?[]:null;this.Vf=b;var e;if(null!=d&&d.length===b)for(a=0,e=this.sk[0]=0;e<b;++e)this.Uf[e]=d[e],a+=this.Uf[e],0<e&&(this.sk[e]=this.sk[e-1]+this.Uf[e-1]);else if(a=this.Hc.he.aa()*b,null!=this.Uf)for(e=0;e<b;++e)this.Uf[e]=this.Hc.he.aa(),this.sk[e]=e*this.Hc.he.aa();this.bh=a;this.zb(0,0,this.bh,this.$h)};b.prototype.SEc=function(){return this.Gb};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;a.El(this);if(a.Gd()){var b=this.ga();a.ta(_geo.geotoolkit.attributes.Fa.Ui);
a.zc(b)}else this.Qh(a)};b.prototype.Qh=function(a){var b=a.Ra().je(a.$e()),d=0;if(null==this.sk)d=Math.floor(b.sa()/this.Hc.he.aa());else for(;d<=this.Vf&&this.sk[d]<b.sa();++d);0<d&&--d;d>this.Vf&&(d=this.Vf);var e=0,g;if(null==this.sk)e=Math.ceil(b.za()/this.Hc.he.aa());else for(;e<this.Vf&&this.sk[e]<b.za();++e);e>=this.Vf&&(e=this.Vf-1);if(!(e<d)){a.ta(this.Clc);a.beginPath();var n=0,p=b.sa(),r=n*this.Hc.qD;g=!0===this.dqa?b.za():(null!=this.sk?this.sk[e]:this.Hc.he.aa()*e)+(null!=this.Uf?this.Uf[e]:
this.Hc.he.aa());n=(n+1)*this.Hc.qD;a.moveTo(p,r);a.lineTo(g,r);a.lineTo(g,n);a.lineTo(p,n);a.lineTo(p,r);a.closePath();a.si();a.wb(this.mM);for(g=d;g<=e;g++)null==this.Gb.Fed()?this.Csa(a,g,this.wnd):this.Csa(a,g,this.rnd);if(null!=this.vn){a.ua(this.vn);a.beginPath();g=_geo.geotoolkit.util.Ec.oc(0,1,a.Ra());p=null!=this.sk?this.sk[d]:this.Hc.he.aa()*d;r=0*this.Hc.qD;n=1*this.Hc.qD-g;for(g=0!==d?d:1;g<=e;g++)p=null!=this.sk?this.sk[g]:this.Hc.he.aa()*g,a.moveTo(p,r),a.lineTo(p,n);g=p+(null!=this.Uf?
this.Uf[e]:this.Hc.he.aa());a.moveTo(g,r);a.lineTo(g,n);p=b.sa();g=!0===this.dqa?b.za():(null!=this.sk?this.sk[e]:this.Hc.he.aa()*e)+(null!=this.Uf?this.Uf[e]:this.Hc.he.aa());a.moveTo(p,r);a.lineTo(g,r);a.moveTo(p,n);a.lineTo(g,n);a.stroke()}}};b.prototype.Csa=function(a,b,d){var e=null!=this.sk?this.sk[b]:Math.round(this.Hc.he.aa()*b),g=null!=this.Uf?this.Uf[b]:this.Hc.he.aa(),n=0*this.Hc.qD,p=this.Hc.qD;a.save();e=a.Ra().ob(new _geo.geotoolkit.util.Rect(e,n,e+g,n+p));a.Ni(e);d.call(this,a,b);a.restore()};
b.prototype.wnd=function(a,b){var d=null!=this.sk?this.sk[b]:Math.round(this.Hc.he.aa()*b),e=this.Gb.uS(b);a.de(d+(null!=this.Uf?this.Uf[b]:this.Hc.he.aa())/2,this.Hc.qD/2,e)};b.prototype.rnd=function(b,f){var k=this.Gb.uS(f),h=this.mM,l=null!=this.sk?this.sk[f]:Math.round(this.Hc.he.aa()*f),n=0,p=null!=this.Uf?this.Uf[f]:this.Hc.he.aa(),r=this.Hc.qD;a.zb(0,0,p,r).fe(-this.ve,0);g.zb(0,0,p,r).fe(-this.ve,0);d.zb(0,0,p,r).fe(0,0);e.selection.row=this.Gb.V3();e.selection.column=this.Gb.FV();e.background.fillstyle=
null;e.background.linestyle=null;e.background.bounds=a;e.text.fillstyle=null;e.text.linestyle=null;e.text.textstyle=h.clone();e.text.value=k;e.text.bounds=g;e.icon.fillstyle=null;e.icon.linestyle=null;e.icon.value=null;e.icon.bounds=d;p=this.Gb.ndd(f,e);if(null==p)return this;var h=p.text.textstyle,k=p.text.value,t=p.background.bounds,r=p.text.bounds,q=p.icon.bounds;null!=t&&t.setX(l+t.getX()).setY(n+t.getY());null!=r&&r.setX(l+r.getX()).setY(n+r.getY());null!=q&&q.setX(l+q.getX()).setY(n+q.getY());
null==t||null==p.background.fillstyle&&null==p.background.linestyle||(b.ta(_geo.geotoolkit.attributes.Fa.ab(p.background.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(p.background.linestyle)),b.zc(t));if(null!=q){if(null!=p.icon.fillstyle||null!=p.icon.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(p.icon.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(p.icon.linestyle)),b.zc(q);null!=p.icon.value&&(b.save(),l=b.qc(_geo.geotoolkit.util.Ga.kj(l,n)),p.icon.value.render(l),b.restore())}if(null!=
r){if(null!=p.text.fillstyle||null!=p.text.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(p.text.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(p.text.linestyle)),b.zc(r);if(null!=k&&null!=h){switch(h.as()){case "left":l=r.sa();break;case "right":l=r.za();break;case "center":l=r.Pc();break;default:l=r.sa();break}b.wb(h);b.de(l,r.Qc(),k)}}return this};return b}();
_geo.geotoolkit.controls.shapes.mXc=function(){function b(a,b){this.Yo=null;this.oj=a;this.Gb=b;this.Hc=b.Hc;this.bh=this.Hc.sD;this.$h=this.Hc.he.ba()*a;_geo.geotoolkit.scene.shapes.nn.call(this,{left:0,top:0,right:this.bh,bottom:this.$h});this.vn=(new _geo.geotoolkit.attributes.Aa("white")).Yd({x:!0,y:!0});this.mM=(new _geo.geotoolkit.attributes.eb("#6b6b6b")).If("right").aj("middle").Gr("bold 12px Courier");this.cnc=(new _geo.geotoolkit.attributes.Aa("white")).Yd({x:!0,y:!0});this.bnc=new _geo.geotoolkit.attributes.Fa("red");
this.L1a=new _geo.geotoolkit.attributes.Fa("#f3f3f3");this.Q_a=new _geo.geotoolkit.attributes.Fa("#dadada");this.CMa=new _geo.geotoolkit.attributes.Fa("rgba(255,0,0,0.2)")}var a=new _geo.geotoolkit.util.Rect,g=new _geo.geotoolkit.util.Rect,d=new _geo.geotoolkit.util.Rect,e={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);
_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.FixedColumnContent");b.prototype.setData=function(a){null!=a&&(void 0!==a.highlightrowfillstyle&&(this.CMa=_geo.geotoolkit.attributes.Fa.ab(a.highlightrowfillstyle)),void 0!==a.highlightcolumnfillstyle&&(this.aJb=_geo.geotoolkit.attributes.Fa.ab(a.highlightcolumnfillstyle)),null!=a.defaultcellsize&&(this.Hc.he=a.defaultcellsize),a=a.index,null!=a&&(void 0!==a.gridstyle&&(this.vn=void 0!==a.gridstyle.horizontal||void 0!==a.gridstyle.vertical?a.gridstyle:
_geo.geotoolkit.attributes.Aa.ab(a.gridstyle)),void 0!==a.textstyle&&(this.mM=_geo.geotoolkit.attributes.eb.ab(a.textstyle)),void 0!==a.oddfillstyle&&(this.L1a=_geo.geotoolkit.attributes.Fa.ab(a.oddfillstyle)),void 0!==a.evenfillstyle&&(this.Q_a=_geo.geotoolkit.attributes.Fa.ab(a.evenfillstyle)),void 0!==a.markerfillstyle&&(this.bnc=_geo.geotoolkit.attributes.Fa.ab(a.markerfillstyle)),void 0!==a.markerlinestyle&&(this.cnc=_geo.geotoolkit.attributes.Aa.ab(a.markerlinestyle))))};b.prototype.dL=function(a,
b,d,e){this.oj=a;this.Yo=e;this.Bj=null!=this.Yo?[]:null;if(null!=this.Yo)for(this.$h=0,a=this.Bj[0]=0;a<this.Yo.length;a++)this.$h+=this.Yo[a],0<a&&(this.Bj[a]=this.Bj[a-1]+this.Yo[a-1]);else this.$h=this.Hc.he.ba()*a;this.zb(0,0,this.bh,this.$h)};b.prototype.SEc=function(){return this.Gb};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;var b=this.ga().qb(this.Hc.sD);a.Gd()?(a.ta(_geo.geotoolkit.attributes.Fa.Ui),a.zc(b)):this.Qh(a)};b.prototype.N$a=function(a,b,d,e,g){e="oddFillAttribute"===
g?this.L1a:this.Q_a;if(null!=e){a.ta(e);a.beginPath();for(b=0!==b%2^"evenFillAttribute"===g?b:b+1;b<d;b+=2){g=0;e=null==this.Bj?b*this.Hc.he.ba():this.Bj[b];var n=1*this.Hc.sD,p=null==this.Bj?(b+1)*this.Hc.he.ba():this.Bj[b]+this.Yo[b];a.moveTo(g,e).lineTo(n,e).lineTo(n,p).lineTo(g,p).lineTo(g,e)}a.closePath().si()}};b.prototype.Qh=function(a){var b=a.Ra().je(a.$e()),d=Math.floor(b.qa()/this.Hc.he.ba());0>d&&(d=0);var e=Math.round(Math.min(b.wa()/this.Hc.he.ba()+1,this.oj));if(null!=this.Bj){for(d=
e=0;d<=this.oj&&this.Bj[d]<b.qa();++d);for(;e<this.oj&&this.Bj[e]<b.wa();++e);}var g,n,p;this.N$a(a,d,e,b,"oddFillAttribute");this.N$a(a,d,e,b,"evenFillAttribute");p=this.Gb.V3();p>=d&&p<e&&(a.ta(this.CMa),a.beginPath(),b=0*this.Hc.sD,g=p*this.Hc.he.ba(),n=1*this.Hc.sD,p=(p+1)*this.Hc.he.ba(),a.moveTo(b,g),a.lineTo(n,g),a.lineTo(n,p),a.lineTo(b,p),a.lineTo(b,g),a.closePath(),a.si());this.Gb.Ovb(d,e);if(null==this.Gb.Hed())for(a.wb(this.mM),g=d;g<e;g++)this.Csa(a,g,this.uRb);else for(g=d;g<e;g++)this.Csa(a,
g,this.tRb);a.ua(this.cnc);a.ta(this.bnc);for(g=d;g<e;g++)this.Cnd(a,g);if(null!=this.vn){a.beginPath();if(this.vn.horizontal instanceof _geo.geotoolkit.attributes.Aa||this.vn instanceof _geo.geotoolkit.attributes.Aa)for(a.ua(this.vn instanceof _geo.geotoolkit.attributes.Aa?this.vn:this.vn.horizontal),g=d;g<e;g++)b=0*this.Hc.sD,n=1*this.Hc.sD,p=null==this.Bj?(g+1)*this.Hc.he.ba():this.Bj[g]+this.Yo[g],a.moveTo(b,p),a.lineTo(n,p);if(this.vn.vertical instanceof _geo.geotoolkit.attributes.Aa||this.vn instanceof
_geo.geotoolkit.attributes.Aa){a.ua(this.vn instanceof _geo.geotoolkit.attributes.Aa?this.vn:this.vn.vertical);n=_geo.geotoolkit.util.Ec.oc(1,0,a.Ra());for(var r=0;2>r;r++)b=r*this.Hc.sD,null==this.Bj?(g=d*this.Hc.he.ba(),p=e*this.Hc.he.ba()):(g=this.Bj[d]+this.Yo[d],p=this.Bj[e]+this.Yo[e]),a.moveTo(0,g),a.lineTo(0,p),a.moveTo(b-n,g),a.lineTo(b-n,p)}a.stroke()}};b.prototype.Csa=function(a,b,d){var e=0,g=this.Hc.sD,n=null==this.Bj?b*this.Hc.he.ba():this.Bj[b],p=null==this.Yo?this.Hc.he.ba():this.Yo[b];
a.save();e=a.Ra().ob(new _geo.geotoolkit.util.Rect(e,n,e+g,n+p));a.Ni(e);d.call(this,a,b);a.restore()};b.prototype.uRb=function(a,b){var d=this.Gb.Rrb(b);if(null==d)return this;var e=Math.round(this.Hc.sD),g=b*this.Hc.he.ba(),n=0;null!=this.vn&&(this.vn instanceof _geo.geotoolkit.attributes.Aa?n=this.vn.aa():null!=this.vn.vertical&&(n=this.vn.vertical.aa()));var p=this.mM;switch(p.as()){case "left":e=n;break;case "right":n=_geo.geotoolkit.util.Ec.oc(2+n,0,a.Ra());e-=n;break;case "center":e/=2;break;
default:e/=2;break}a.de(e,g+(null==this.Yo?this.Hc.he.ba():this.Yo[b])/2,d);return this};b.prototype.tRb=function(b,f){var k=this.Gb.Rrb(f),h=0,l=this.Hc.sD,n=null==this.Bj?f*this.Hc.he.ba():this.Bj[f],p=null==this.Yo?this.Hc.he.ba():this.Yo[f];a.zb(0,0,l,p);g.zb(0,0,l,p);d.zb(0,0,l,p);e.selection.row=this.Gb.V3();e.selection.column=this.Gb.FV();e.background.fillstyle=null;e.background.linestyle=null;e.background.bounds=a;e.text.fillstyle=null;e.text.linestyle=null;e.text.textstyle=this.mM;e.text.value=
k;e.text.bounds=g;e.icon.fillstyle=null;e.icon.linestyle=null;e.icon.value=null;e.icon.bounds=d;l=this.Gb.odd(f,e);if(null==l)return this;var p=l.text.textstyle,k=l.text.value,r=l.background.bounds,t=l.text.bounds,q=l.icon.bounds;null!=r&&r.setX(h+r.getX()).setY(n+r.getY());null!=t&&t.setX(h+t.getX()).setY(n+t.getY());null!=q&&q.setX(h+q.getX()).setY(n+q.getY());null==r||null==l.background.fillstyle&&null==l.background.linestyle||(b.ta(_geo.geotoolkit.attributes.Fa.ab(l.background.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(l.background.linestyle)),
b.zc(r));if(null!=q){if(null!=l.icon.fillstyle||null!=l.icon.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(l.icon.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(l.icon.linestyle)),b.zc(q);null!=l.icon.value&&(h=b.qc(_geo.geotoolkit.util.Ga.kj(h,n)),l.icon.value.render(h))}if(null!=t){if(null!=l.text.fillstyle||null!=l.text.linestyle)b.ta(_geo.geotoolkit.attributes.Fa.ab(l.text.fillstyle)),b.ua(_geo.geotoolkit.attributes.Aa.ab(l.text.linestyle)),b.zc(t);if(null!=k&&null!=p){switch(p.as()){case "left":h=
t.sa();break;case "right":h=t.za();break;case "center":h=t.Pc();break;default:h=t.sa();break}b.wb(p);b.de(h,t.Qc(),k)}}return this};b.prototype.Cnd=function(a,b){var d=this.Gb.GVb(b);if(d){var d=10,e=b*this.Hc.he.ba(),g=(this.Hc.he.ba()-d)/2;null!=this.Bj&&(e=this.Bj[b],g=(this.Yo[b]-d)/2);a.zc(g,e+g,d,d)}};return b}();
_geo.geotoolkit.controls.shapes.Cxa=function(){function b(a,b){_geo.geotoolkit.scene.Group.call(this);this.Mp=a;this.Ad(!0);this.Wx=(new _geo.geotoolkit.scene.Group).Ad(!0).va(this.Mp);this.va(this.Wx)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.ContentView");b.prototype.dL=function(a,b,d,e){this.Mp.dL(a,b,d,e);this.Wx.Sa(this.Mp.ga());this.Wx.Ea(this.Mp.ga())};b.prototype.setData=function(a){this.Mp.setData(a)};b.prototype.uK=function(){return this.Wx};
b.prototype.xv=function(){return this.Mp};b.prototype.Ea=function(a){_geo.geotoolkit.scene.Group.prototype.Ea.call(this,a);this.Sa(new _geo.geotoolkit.util.Rect(0,0,a.aa(),a.ba()));return this};b.prototype.xgd=function(){return this.Wx.Nb()};b.prototype.d9=function(){return this.Wx.ga()};b.prototype.y7b=function(a,b){this.Wx.translate(a,b);return this};b.prototype.Fwd=function(){return this.Wx.Ya()};b.prototype.fOb=function(){return this.Wx.Hk()};return b}();
_geo.geotoolkit.controls.shapes.cE=function(){function b(a,b){return a.length===b.length&&a.every(function(a){return-1!==b.indexOf(a)})}function a(a){null==a&&(a={});a=_geo.geotoolkit.Ca(a,{rows:null!=a.rows?a.rows:1,cols:null!=a.cols?a.cols:1,bounds:a.bounds instanceof _geo.geotoolkit.util.Rect?a.bounds:new _geo.geotoolkit.util.Rect(0,0,400,400),fixedsize:null!=a.fixedsize?a.fixedsize:!1,indexwidth:null!=a.indexwidth?a.indexwidth:100,headerheight:null!=a.headerheight?a.headerheight:20,cellsize:a.cellsize instanceof
_geo.geotoolkit.util.xc?a.cellsize:new _geo.geotoolkit.util.xc(100,20)});_geo.geotoolkit.scene.Group.call(this,a);this.Hc={he:a.cellsize,qD:a.headerheight,sD:a.indexwidth};this.Qf(!0);this.t3a=(new _geo.geotoolkit.scene.shapes.lc).ta(new _geo.geotoolkit.attributes.Fa("#cccccc")).ua((new _geo.geotoolkit.attributes.Aa("white")).Yd({x:!0,y:!0}));this.mCa=new _geo.geotoolkit.scene.shapes.Text("Depth",Math.round(this.Hc.sD/2),Math.round(this.Hc.qD/2),0,0,(new _geo.geotoolkit.attributes.eb("#6b6b6b")).If("center").aj("middle").Gr("bold 11px Tahoma"),
!0);this.mCa.Cd(_geo.geotoolkit.util.Da.lb);this.mCa.Gj(_geo.geotoolkit.scene.shapes.Text.jf.Vs);this.BJ=new _geo.geotoolkit.controls.shapes.Cxa(new _geo.geotoolkit.controls.shapes.ahb(a.rows,a.cols,this));this.BJ.Qf(!0);this.va(this.BJ);this.oY=new _geo.geotoolkit.controls.shapes.Cxa(new _geo.geotoolkit.controls.shapes.KXc(a.cols,this));this.oY.Qf(!0);this.va(this.oY);this.NC=new _geo.geotoolkit.controls.shapes.Cxa(new _geo.geotoolkit.controls.shapes.mXc(a.rows,this));this.NC.Qf(!0);this.va(this.NC);
this.va(this.t3a);this.va(this.mCa);this.Lzb();this.hAa=a.fixedsize;this.q1a=this.IMa=this.z0a=this.A0a=this.r0a=this.p_a=this.r_a=this.Uf=this.K1=null;this.$h=this.bh=0;this.vGb=[];this.bJb=this.cJb=-1;this.setData(a)}function g(a,b){for(var c=0,g=0;g<b.length;g++)if(c+=b[g],c>=a)return g+1-(c-a)/b[g];return b.length}_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(a,"geotoolkit.controls.shapes.TableView");a.$={W9b:"onColumnWidthChanging",QIa:"onColumnWidthChanged"};a.prototype.uK=
function(){return this.BJ};a.prototype.Lzb=function(){var a=this.NC.ib();this.BJ.Ea(new _geo.geotoolkit.util.Rect(a?this.Hc.sD:0,this.Hc.qD,this.ga().aa(),this.ga().ba()));this.oY.Ea(new _geo.geotoolkit.util.Rect(a?this.Hc.sD:0,0,this.ga().aa(),this.Hc.qD));a&&(this.NC.Ea(new _geo.geotoolkit.util.Rect(0,this.Hc.qD,this.Hc.sD,this.ga().ba())),this.t3a.Ea(new _geo.geotoolkit.util.Rect(0,0,this.Hc.sD-1,this.Hc.qD-1)),this.mCa.yc(Math.round(this.Hc.sD/2),Math.round(this.Hc.qD/2)))};a.prototype.dL=function(a,
b,c){a=null==a?this.oj:a;b=null==b?this.Vf:b;if(this.oj===a&&this.Vf===b&&!1===c||null==a||null==b)return this;this.oj=a;this.Vf=b;this.p9a();this.BJ.dL(a,b,this.Uf,this.Yo);this.oY.dL(a,b,this.Uf,this.Yo);this.NC.dL(a,1,this.Uf,this.Yo);null!=this.ga()&&this.Ea(this.ga());return this};a.prototype.p9a=function(){if(!0===this.hAa)return this.bh=this.Hc.he.aa()*this.Vf,this;if(null!=this.Uf&&this.Vf===this.Uf.length)return this;var a=[];this.bh=0;for(var b,c=0;c<this.Vf;c++)b={width:this.Hc.he.aa()},
null!=this.Uf&&this.Uf.length>c&&(b.width=this.Uf[c]),null!=this.K1&&(b=this.xjd(c,this.oY.xv().mM,this.BJ.xv().mM,b)),a[c]=b.width,this.bh+=0<b.width?b.width:0;this.Uf=a;if(!0!==this.G9c())return this.Yo=null,this;var a=[],g;b=!0;for(c=0;c<this.oj;c++)g={height:this.Hc.he.ba()},g=this.yjd(c,this.oY.xv().mM,this.BJ.xv().mM,g),g=0<g.height?g.height:0,a[c]=g,this.$h+=g,b=b&&g===this.Hc.he.ba();b||(this.Yo=a);return this};a.prototype.RDa=function(a){return 0>a?this.Hc.sD:null!=this.Uf?this.Uf[a]:this.Hc.he.aa()};
a.prototype.jHa=function(a,b){if(0>a)return this.Vod(b);if(a>=this.Vf)throw Error("Index is out of range");null==this.Uf&&(this.hAa=!1,this.p9a());var c={column:a,width:{old:this.Uf[a],"new":b}};this.Ja(_geo.geotoolkit.controls.shapes.cE.$.W9b,c);b=c.width["new"];var g=this.Uf[a];b!==g&&(this.bh+=b-(0<g?g:0),this.Uf[a]=b,this.BJ.dL(this.oj,this.Vf,this.Uf),this.oY.dL(this.oj,this.Vf,this.Uf),this.NC.dL(this.oj,this.Vf,this.Uf),this.asa(),this.ma());c.width.current=this.Uf[a];this.Ja(_geo.geotoolkit.controls.shapes.cE.$.QIa,
c);return this};a.prototype.Vod=function(a){if(this.Hc.sD===a)return this;this.Hc.sD=a;this.Lzb();return this};a.prototype.DM=function(a){var b=this.y9().aa(),c=this.NC.ib(),g=this.Nb().aa(),k;if((c||0<b)&&0<g)if(k=c?-1:0,a)for(g/=c?b+1:b,b=this.y9().aa();k<b;k++)this.jHa(k,g);else{a=0;for(c=k;c<b;c++)a+=this.RDa(c);for(c=k;c<b;c++)k=this.RDa(c)*g/a,this.jHa(c,k)}return this};a.prototype.Ea=function(a){if(null==a)return this;_geo.geotoolkit.scene.Group.prototype.Ea.call(this,a);this.Sa(new _geo.geotoolkit.util.Rect(0,
0,a.aa(),a.ba()));this.Lzb();return this};a.prototype.B9=function(){return this.BJ.xgd()};a.prototype.WDa=function(){return this.BJ.d9()};a.prototype.wQa=function(){return this.oY.ga()};a.prototype.qQa=function(){return this.NC.ga()};a.prototype.y9=function(){return new _geo.geotoolkit.util.xc(this.Vf,this.oj)};a.prototype.g_=function(){var a=this.B9(),b=a.qa()/this.Hc.he.ba(),c=a.wa()/this.Hc.he.ba()-1,f=0,k=0;return null==this.Uf||0===this.Uf.length?(f=a.sa()/this.Hc.he.aa(),k=a.za()/this.Hc.he.aa(),
new _geo.geotoolkit.util.Rect(f,b,k,c)):new _geo.geotoolkit.util.Rect(g(a.sa(),this.Uf),b,g(a.za(),this.Uf),c)};a.prototype.w5=function(a,b){if(null==a&&null==b)return this;a=null!=a?Math.floor(a):null;b=null!=b?Math.floor(b):null;var c=this.B9(),g=this.g_(),g=this.Tka(null==a?g.qa():a,null==b?g.sa():b);if(null==g||c.$C(g))return this;var k=0,h=0;null!=b&&(g.sa()<c.sa()||g.za()>c.za())&&(k=g.Pc()<c.Pc()?c.sa()-g.sa():c.za()-g.za());null!=a&&(g.qa()<c.qa()||g.wa()>c.wa())&&(h=g.Qc()<c.Qc()?c.qa()-
g.qa():c.wa()-g.wa());this.C5(k,h);return this};a.prototype.hMc=function(a,b){if(!0!==b){var c=this.g_();this.w5(c.qa(),a)}else{for(var c=this.B9(),g=0,k=0;k<=a;k++)g+=this.Uf[k];this.C5(c.za()-g,0)}return this};a.prototype.jMc=function(a,b){if(!0!==b){var c=this.g_();this.w5(a,c.sa())}else{var c=this.B9(),g=(a+1)*this.Hc.he.ba();this.C5(0,c.wa()-g)}return this};a.prototype.zRa=function(){return new _geo.geotoolkit.util.Rect(0,0,this.Vf-1,this.oj-1)};a.prototype.C5=function(a,b){this.BJ.y7b(a,b);
this.oY.y7b(a,0);this.NC.y7b(0,b);this.asa();return this};a.prototype.asa=function(){this.BJ.fOb();this.oY.fOb();this.NC.fOb();return this};a.prototype.setData=function(a){if(null==a)return this;var b=0;if(null!=a.defaultcellsize||null!=a.defaultheadersize)b=null!=a.defaultcellsize?a.defaultcellsize.aa():a.defaultheadersize.aa(),a.defaultcellsize=a.defaultcellsize||this.Hc.he,a.defaultheadersize=a.defaultheadersize||a.defaultcellsize||this.Hc.qD,0===b&&(b=Math.max(a.defaultcellsize.aa(),a.defaultheadersize.aa())),
a.defaultcellsize.setSize(b,a.defaultcellsize.ba()),a.defaultheadersize.setSize(b,a.defaultheadersize.ba());this.BJ.setData(a);this.oY.setData(a);this.NC.setData(a);a.hasOwnProperty("header")&&(a.header.hasOwnProperty("textstyle")&&this.mCa.wb(a.header.textstyle),a.header.hasOwnProperty("headerfillstyle")&&this.t3a.ta(a.header.headerfillstyle),a.header.hasOwnProperty("gridstyle")&&this.t3a.ua(a.header.gridstyle));a.hasOwnProperty("headerprovider")&&this.wt(a.headerprovider);a.hasOwnProperty("headerformatprovider")&&
this.r3b(a.headerformatprovider);a.hasOwnProperty("contentmeasure")&&this.t2b(a.contentmeasure);a.hasOwnProperty("contentprepare")&&this.u2b(a.contentprepare);a.hasOwnProperty("contentprovider")&&this.v2b(a.contentprovider);a.hasOwnProperty("contentformatprovider")&&this.s2b(a.contentformatprovider);a.hasOwnProperty("indexprepare")&&this.G3b(a.indexprepare);a.hasOwnProperty("indexprovider")&&this.H3b(a.indexprovider);a.hasOwnProperty("indexformatprovider")&&this.F3b(a.indexformatprovider);a.hasOwnProperty("markerprovider")&&
this.p4b(a.markerprovider);b=a.fixedsize;null!=b&&this.hAa!==b&&(this.hAa=Boolean(b),!0===this.hAa&&(this.Uf=null),this.p9a());a.hasOwnProperty("bounds")&&this.Ea(a.bounds);this.hrd(a.defaultcellsize,a.defaultheadersize);this.dL(a.rows,a.cols,void 0!==a.defaultcellsize||void 0!==a.contentmeasure);b=null;a.hasOwnProperty("indexvisible")&&(b=!1!==a.indexvisible);a.hasOwnProperty("indextitle")&&this.Iab(a.indextitle);a.hasOwnProperty("index")&&(null==a.index?(b=!1,this.Iab(null)):(a.index.hasOwnProperty("visible")&&
(b=!0===a.index.visible),a.index.hasOwnProperty("title")&&this.Iab(a.index.title)));if(!1===b||!0===b)this.NC.Ka(b),this.mCa.Ka(b),this.t3a.Ka(b),a=this.ga(),this.oY.Ea(new _geo.geotoolkit.util.Rect(b?this.Hc.sD:0,0,a.za(),this.Hc.qD)),this.BJ.Ea(new _geo.geotoolkit.util.Rect(b?this.Hc.sD:0,this.Hc.qD,a.za(),a.wa()));this.asa();return this};a.prototype.hrd=function(a,b){if(null==a)return this;null==b&&(b=a);this.Hc.he=a;this.Hc.qD=b.ba();this.Lzb();return this};a.prototype.Iab=function(a){this.mCa.jc(a);
return this};a.prototype.t2b=function(a){this.K1=a;return this};a.prototype.u2b=function(a){this.r_a=a;return this};a.prototype.v2b=function(a){this.p_a=a;return this};a.prototype.s2b=function(a){this.q_a=a;return this};a.prototype.ded=function(){return this.q_a};a.prototype.wt=function(a){if(null==a)return this;this.r0a=a;return this};a.prototype.r3b=function(a){if(void 0===a)return this;this.mAa=a;return this};a.prototype.Fed=function(){return this.mAa};a.prototype.G3b=function(a){if(null==a)return this;
this.A0a=a;return this};a.prototype.H3b=function(a){if(void 0===a)return this;this.z0a=a;return this};a.prototype.Hed=function(){return this.IMa};a.prototype.F3b=function(a){if(void 0===a)return this;this.IMa=a;return this};a.prototype.p4b=function(a){if(null==a)return this;this.q1a=a;return this};a.prototype.xjd=function(a,b,c,g){if(null!=this.K1){if("function"===typeof this.K1)return this.K1.call(this,a>>0,b,c,g);var k=this.K1.measureContent||this.K1.measureColumn;if(k)return k(a>>0,b,c,g)}return g};
a.prototype.yjd=function(a,b,c,g){return null!=this.K1&&this.K1.hasOwnProperty("measureRow")?this.K1.measureRow(a,b,c,g):g};a.prototype.G9c=function(){return null!=this.K1&&this.K1.hasOwnProperty("measureRow")};a.prototype.VSa=function(a,b,c,g){return null!=this.r_a?"function"===typeof this.r_a?this.r_a.call(this,a>>0,b>>0,c>>0,g>>0):this.r_a.prepareContent(a>>0,b>>0,c>>0,g>>0):null};a.prototype.nta=function(a,b){return null!=this.p_a?"function"===typeof this.p_a?this.p_a.call(this,a>>0,b>>0):this.p_a.getContentData(a>>
0,b>>0):a+"x"+b};a.prototype.kdd=function(a,b,c){return null!=this.q_a?"function"===typeof this.q_a?this.q_a.call(this,a>>0,b>>0,c):this.q_a.getContentFormat(a>>0,b>>0,c):c};a.prototype.uS=function(a){return null!=this.r0a?"function"===typeof this.r0a?this.r0a.call(this,a>>0):this.r0a.getHeaderData(a>>0):"Column #"+a};a.prototype.ndd=function(a,b){return null!=this.mAa?"function"===typeof this.mAa?this.mAa.call(this,a>>0,b):void 0===this.mAa.getHeaderFormat?this.mAa.getContentFormat(a>>0,b):this.mAa.getHeaderFormat(a>>
0,b):b};a.prototype.Ovb=function(a,b){return null==this.A0a?null:"function"===typeof this.A0a?this.A0a.call(this,a>>0,b>>0):this.A0a.prepareIndex(a>>0,b>>0)};a.prototype.Rrb=function(a){return null!=this.z0a?"function"===typeof this.z0a?this.z0a.call(this,a>>0):this.z0a.getIndexData(a>>0):"Row # "+a};a.prototype.odd=function(a,b){if(null!=this.IMa)if("function"===typeof this.IMa)this.IMa.call(this,a>>0,b);else return this.IMa.getIndexFormat(a>>0,b);return b};a.prototype.GVb=function(a){return null!=
this.q1a?"function"===typeof this.q1a?this.q1a.call(this,a>>0):this.q1a.getMarkerData(a>>0):!1};a.prototype.hab=function(a){_geo.geotoolkit.warn("TableView.setActiveRow() is deprecated since 2.4");return this.Kva([a])};a.prototype.Kva=function(a){null==a&&(a=[]);a=Array.isArray(a)?a:[a];b(a,this.vGb)||(this.vGb=a.slice(),this.Pa(),this.ma());return this};a.prototype.Z5a=function(){_geo.geotoolkit.warn("TableView.getActiveRow() is deprecated since 2.4");return this.BP()[0]};a.prototype.BP=function(){return this.vGb};
a.prototype.lua=function(a){this.cJb!==a&&(this.cJb=a,this.Pa(),this.ma());return this};a.prototype.V3=function(){return this.cJb};a.prototype.ifa=function(a){this.bJb!==a&&(this.bJb=a,this.Pa(),this.ma());return this};a.prototype.FV=function(){return this.bJb};a.prototype.Fvb=function(a,b){a instanceof _geo.geotoolkit.util.na&&(b=a.y,a=a.x);var c=this.Ya().cb(new _geo.geotoolkit.util.na(a,b)),g=this.NC.Wx.Ya().Ue(c);g.x>this.qQa().aa()&&(g=null);c=this.oY.Wx.Ya().Ue(c,c);a=c.x;b=c.y;c=Math.floor(b/
this.Hc.qD);if(null!=g)return new _geo.geotoolkit.util.na(-1,c);var k;if(0<=a){var h=g=0;if(null!=this.Uf)for(;void 0===k&&g<this.Vf;){var l=null!=this.Uf?this.Uf[g]:this.Std.width;k=void 0===l||h+(0<l?l:0)>a?g:void 0;h+="number"===typeof l&&0<l?l:0;g++}else k=a/this.Hc.he.aa()}void 0===k&&(k=-1);return new _geo.geotoolkit.util.na(k,c)};a.prototype.TJc=function(a,b){a instanceof _geo.geotoolkit.util.na&&(b=a.y,a=a.x);var c=this.Ya().cb(new _geo.geotoolkit.util.na(a,b)),g=this.NC.Wx.Ya().Ue(c);if(g.x>=
this.qQa().aa())return new _geo.geotoolkit.util.na(-1,-1);c=this.NC.Wx.Ya().Ue(c,c);a=c.x;b=c.y;var k;0<=b&&(k=Math.floor(b/this.Hc.he.ba()));void 0===k&&(k=-1);c=Math.floor(a/this.NC.ga().aa());return new _geo.geotoolkit.util.na(c,k)};a.prototype.KI=function(a,b,c){a instanceof _geo.geotoolkit.util.na&&(b=a.y,a=a.x);b=this.Ya().cb(new _geo.geotoolkit.util.na(a,b));b=this.uK().Wx.Ya().Ue(b,b);a=b.x;b=b.y;var g;if(0<=a)if(null==this.Uf)g=!0===c?a/this.Hc.he.aa():Math.floor(a/this.Hc.he.aa());else for(var k=
0;k<this.Vf;k++){var h=this.Uf[k]||0;if(a>h)a-=h;else{g=k+(!0===c?a/h:0);break}}if(void 0===g||0>g)g=-1;a=!0===c?b/this.Hc.he.ba():Math.floor(b/this.Hc.he.ba());return new _geo.geotoolkit.util.na(g,a)};a.prototype.Tka=function(a,b){var c=this.Hc.he.ba()*a;if(-1===b)return new _geo.geotoolkit.util.Rect(0,c,this.NC.ga(),c+this.Hc.he.ba());if(b<this.Vf){var g=0;if(null==this.Uf)g=this.Hc.he.aa()*b;else for(var k=0;k<b;k++)g+=0<this.Uf[k]?this.Uf[k]:0;var h=b|0,k=0<=h?null!=this.Uf?this.Uf[h]:this.Hc.he.aa():
0,l=b-h,n=0;0<l&&h<this.Uf.length-1&&(h=null!=this.Uf?this.Uf[h+1]:this.Hc.he.aa(),n=h*l);return new _geo.geotoolkit.util.Rect(g,c,g+k+n,c+this.Hc.he.ba())}return null};return a}();_geo.geotoolkit.controls.shapes.wq={Se:"north",pd:"east",Yc:"south",Rc:"west"};
_geo.geotoolkit.controls.shapes.U9b=function(){function b(a,b,d,e,c){_geo.geotoolkit.scene.shapes.lc.call(this,0,0,1,1);this.ua(d);this.ae=a;this.Gpa=b;this.xh="number"!=typeof e||(0,window.isNaN)(e)?this.ae?this.ae.Tc():0:e;this.fi="number"!=typeof c||(0,window.isNaN)(c)?this.ae?this.ae.ad():1:c;this.z8a(b)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.lc);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.ColorBox");b.prototype.clone=function(){return new _geo.geotoolkit.controls.shapes.U9b(this.ae,
this.Gpa,this.Xa(),this.xh,this.fi)};b.prototype.xea=function(){return this.Gpa};b.prototype.M_=function(a){if(this.Gpa===a)return this;this.Gpa=a;this.z8a();return this};b.prototype.zn=function(){return this.ae};b.prototype.UA=function(a){this.ae=a;this.z8a();return this};b.prototype.rUa=function(a,b){if(this.xh===a&&this.fi===b)return this;this.xh=a;this.fi=b;this.ma();this.z8a();return this};b.prototype.Ug=function(){return this.xh};b.prototype.Ih=function(){return this.fi};b.prototype.z8a=function(){var a,
b;if(null==this.ae)return this;if(this.fi===this.xh){var d=this.ae.ac(this.xh);d&&this.ta(new _geo.geotoolkit.attributes.Fa(d.ND()));return this}var d=(0,window.isFinite)(this.fi)||!this.ae.ac(this.fi)?null:this.ae.ac(this.fi).ND(),e=(0,window.isFinite)(this.xh)||!this.ae.ac(this.xh)?null:this.ae.ac(this.xh).ND();if(null!=d&&null==e)return this.ta(new _geo.geotoolkit.attributes.Fa(d)),this;if(null==d&&null!=e)return this.ta(new _geo.geotoolkit.attributes.Fa(e)),this;var c=null!=d&&null!=e;b=1/(this.fi-
this.xh);a=c?0:b*(this.ae.Tc()-this.xh);b=c?1:b*(this.ae.ad()-this.xh);this.Gpa===_geo.geotoolkit.controls.shapes.wq.Rc||this.Gpa===_geo.geotoolkit.controls.shapes.wq.pd?(a=new _geo.geotoolkit.util.na(.5,a),b=new _geo.geotoolkit.util.na(.5,b)):(a=new _geo.geotoolkit.util.na(a,.5),b=new _geo.geotoolkit.util.na(b,.5));a=new _geo.geotoolkit.attributes.Yp({startPoint:a,endPoint:b,colorProvider:c?void 0:this.ae,startColor:c?e:void 0,endColor:c?d:void 0});c&&(a.hm(.5,e),a.hm(.5,d));this.ta(a);return this};
b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.colorprovider=this.ae;a.colorbarlocation=this.Gpa;a.min=this.xh;a.max=this.fi;return a};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);a.hasOwnProperty("colorprovider")&&(this.ae=a.colorprovider);a.hasOwnProperty("colorbarlocation")&&(this.Gpa=a.colorbarlocation);a.hasOwnProperty("min")&&(this.xh=a.min);a.hasOwnProperty("max")&&(this.fi=a.max);this.z8a();return this};return b}();
_geo.geotoolkit.controls.shapes.T9b=function(){function b(a,b,d,e){_geo.geotoolkit.scene.Group.call(this);this.AJ=a;this.Y2c=d;this.MZa=b;this.GL=e;this.va([this.AJ,this.MZa])}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.ColorAnnotation");b.prototype.Ydd=function(){return this.Y2c};b.prototype.M_=function(a){if(null!=this.GL)switch(a){case _geo.geotoolkit.controls.shapes.wq.Rc:this.GL.vm(_geo.geotoolkit.axis.qd.Pf.$c);this.GL.du(_geo.geotoolkit.axis.qd.Bk.$c);
this.GL.setOrientation(_geo.geotoolkit.axis.xd.$b);this.GL.Sa(new _geo.geotoolkit.util.Rect(0,0,1,1));break;case _geo.geotoolkit.controls.shapes.wq.pd:this.GL.vm(_geo.geotoolkit.axis.qd.Pf.wd);this.GL.du(_geo.geotoolkit.axis.qd.Bk.wd);this.GL.setOrientation(_geo.geotoolkit.axis.xd.$b);this.GL.Sa(new _geo.geotoolkit.util.Rect(0,0,1,1));break;case _geo.geotoolkit.controls.shapes.wq.Se:this.GL.vm(_geo.geotoolkit.axis.qd.Pf.Zf);this.GL.du(_geo.geotoolkit.axis.qd.Bk.Zf);this.GL.setOrientation(_geo.geotoolkit.axis.xd.ic);
this.GL.Sa(new _geo.geotoolkit.util.Rect(0,0,1,1));break;default:this.GL.vm(_geo.geotoolkit.axis.qd.Pf.Ub);this.GL.du(_geo.geotoolkit.axis.qd.Bk.Ub);this.GL.setOrientation(_geo.geotoolkit.axis.xd.ic);this.GL.Sa(new _geo.geotoolkit.util.Rect(0,0,1,1));break}};b.prototype.zv=function(a){return a?[this.AJ,this.MZa]:[this.MZa,this.AJ]};b.prototype.qb=function(a,b,d){this.pb(new _geo.geotoolkit.ea.Ag({width:void 0,height:d}));this.AJ.pb(new _geo.geotoolkit.ea.Ag({width:a,height:void 0}));this.MZa.pb(new _geo.geotoolkit.ea.Ag({width:b,
height:void 0}))};b.prototype.Db=function(a,b,d){this.pb(new _geo.geotoolkit.ea.Ag({height:void 0,width:d}));this.AJ.pb(new _geo.geotoolkit.ea.Ag({height:a,width:void 0}));this.MZa.pb(new _geo.geotoolkit.ea.Ag({height:b,width:void 0}))};b.prototype.ta=function(a){this.AJ.ta(a)};return b}();
_geo.geotoolkit.controls.shapes.Z5=function(){function b(a,b,d,g,h,l){a=b.getName();if("\u221e"===a){if(1===h)return a}else if(0===h)return a;return""}function a(a){_geo.geotoolkit.scene.Group.call(this,a);this.la=null;this.clipping=!0;this.AY=this.AJ=this.p0a=this.Kia=this.JC=this.lg=this.Je=this.T1a=null;this.Lmb="33%";this.Fja=this.NBa="50%";this.S2a="8%";this.zH={};this.plc=this.wY=null;this.setOptions(a)}var g=_geo.geotoolkit.controls.shapes.wq,d={NegativeInfinity:"-\u221e",PositiveInfinity:"+\u221e"};
_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(a,"geotoolkit.controls.shapes.ColorBar");a.prototype.clone=function(){var a=_geo.geotoolkit.Sb(this.jb(),{});a.axis&&a.axis.item&&(a.axis.item=a.axis.item.clone());return(new _geo.geotoolkit.controls.shapes.Z5(a)).pb(this.Sc())};a.Egc=_geo.geotoolkit.util.Ga.dn(-Math.PI/2,.5,.5);a.N0=new _geo.geotoolkit.util.Ga;a.prototype.setOptions=function(a){a||(a={});if(a.min>a.max){var b=a.min;a.min=a.max;a.max=b;"undefined"===typeof a.flip&&
(a.flip=null!=this.jb()?this.jb().flip:!0)}else"undefined"===typeof a.flip&&(a.flip=null!=this.jb()?this.jb().flip:!1);null!=this.la&&(a.axis=_geo.geotoolkit.Ca(a.axis,this.la.axis),a=_geo.geotoolkit.Ca(a,this.la));a=_geo.geotoolkit.Ca(a,{title:{},axis:{},colorbox:{},range:{},namedcolors:{}});null!=a.componentsizes&&(null!=a.componentsizes.title&&(a.title.size=a.componentsizes.title),null!=a.componentsizes.colorbox&&(a.colorbox.size=a.componentsizes.colorbox),null!=a.componentsizes.axis&&(a.axis.size=
a.componentsizes.axis),null!=a.componentsizes.namedcolors&&(a.namedcolors.size=a.componentsizes.namedcolors));null!=a.min&&(a.range.min=a.min);null!=a.max&&(a.range.max=a.max);null!=a.titletext&&(a.title.text=a.titletext);var d=a.title,d=_geo.geotoolkit.Ca(d,{size:void 0,visible:!0,item:new _geo.geotoolkit.scene.shapes.Text("",.5,.5,void 0,void 0,new _geo.geotoolkit.attributes.eb,!0)});d.text&&d.item.jc(d.text);d.textstyle&&d.item.wb(d.textstyle);d.item.nga(!0);var k=a.axis,k=_geo.geotoolkit.Ca(k,
{visible:!0,size:void 0,item:this.Je||new _geo.geotoolkit.axis.ng,autolabelrotation:!1,visiblebaseline:!0}),b=a.colorbox,b=_geo.geotoolkit.Ca(b,{visible:!0,size:void 0,linestyle:null,independentrange:!1});a=_geo.geotoolkit.Ca(a,{colorprovider:new _geo.geotoolkit.util.ym,location:g.pd,flip:!1,linestyle:null});a.axis=k;a.title=d;a.colorbox=b;var h=a.colorprovider instanceof _geo.geotoolkit.util.gO||a.colorprovider instanceof _geo.geotoolkit.util.VN;this.la=a;this.T1a||(this.T1a=(new _geo.geotoolkit.scene.shapes.lc).kk(!1));
this.T1a.ua(a.linestyle);null!=a.range.min&&h&&(a.range.min=a.colorprovider.faa(a.range.min));null!=a.range.max&&h&&(a.range.max=a.colorprovider.faa(a.range.max));null==a.range.min&&(a.range.min=a.colorprovider.Tc());null==a.range.max&&(a.range.max=a.colorprovider.ad());d=a.range.min;k=a.range.max;this.Kia?void 0!==a.axis.item&&this.Je!==a.axis.item&&(null!=this.Je&&this.Kia.removeChild(this.Je),this.Je=a.axis.item,null!=this.Je&&(this.Je.Ea(this.Kia.xa()),this.Kia.va(this.Je))):(this.Kia=(new _geo.geotoolkit.scene.Group).Sa(new _geo.geotoolkit.util.Rect(0,
0,1,1)),this.Je=a.axis.item,this.Je.Ea(this.Kia.xa()),this.Kia.va(this.Je));this.Je=a.axis.item;void 0!==a.axis.visible&&this.Kia.Ka(a.axis.visible);void 0!==a.axis.autolabelrotation&&this.Je.iC(a.axis.autolabelrotation);void 0!==a.axis.text&&this.Je.mp(a.axis.text);if(void 0!==a.axis.baseline){var l={};a.axis.baseline.hasOwnProperty("visible")&&(l.visiblebaseline=a.axis.baseline.visible);a.axis.baseline.hasOwnProperty("linestyle")&&(l.baselinestyle=a.axis.baseline.linestyle);this.Je.ja(l)}void 0!==
a.axis.tickgenerator&&(l={tickgenerator:a.axis.tickgenerator},this.Je.ja(l));!h||a.colorprovider.rS()!==_geo.geotoolkit.util.gO.fJ.rF&&a.colorprovider.rS()!==_geo.geotoolkit.util.VN.fJ.rF||this.Je.Fe()instanceof _geo.geotoolkit.axis.aJ||this.Je.Vg(new _geo.geotoolkit.axis.aJ);null!=a.tickgenerator&&a.tickgenerator instanceof _geo.geotoolkit.axis.Jl&&this.Je.Vg(a.tickgenerator);if(a.colorprovider instanceof _geo.geotoolkit.util.ST&&a.colorprovider.rS()===_geo.geotoolkit.util.ST.fJ.n9b){for(var l=a.colorprovider,
d=l.ka(),n=d.values,p=d.colors,d=0,k=n.length,r=[],t=[],q=[],h=0;h<k;h+=1)0===h&&(t.push(n[0].gb()),q.push(h)),t.push(n[h].nb()),q.push(h+1),r.push(new _geo.geotoolkit.util.Range(h,h+1));l=(new _geo.geotoolkit.util.ST({values:r,colors:p})).dbb(_geo.geotoolkit.util.Ie.Kp.NaN,l.KE(_geo.geotoolkit.util.Ie.Kp.NaN)).dbb(_geo.geotoolkit.util.Ie.Kp.W0,l.KE(_geo.geotoolkit.util.Ie.Kp.W0)).dbb(_geo.geotoolkit.util.Ie.Kp.b1,l.KE(_geo.geotoolkit.util.Ie.Kp.b1));a.colorprovider=l;h=(new _geo.geotoolkit.axis.hJa({labels:t,
positions:q})).cu("MAJOR",null).cu("MINOR",null).cu("EDGE",null);this.Je.Vg(h)}null!=a.axis.labelrotation&&this.Je.Fe().aL("EDGE",a.axis.labelrotation).aL("MAJOR",a.axis.labelrotation);void 0!==a.axis.size&&(this.NBa=a.axis.size);this.lg=a.title.item;this.I7?this.I7.set(0,this.lg):(this.I7=(new _geo.geotoolkit.scene.Group).Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)),this.I7.va(this.lg));void 0!==a.title.visible&&this.I7.Ka(a.title.visible);void 0!==a.title.size&&(this.Lmb=a.title.size);null==this.JC&&
(this.JC=(new _geo.geotoolkit.controls.shapes.U9b(a.colorprovider,a.location,a.colorbox.linestyle,d,k)).zb(0,0,1,1));h=a.colorprovider;void 0!==h&&this.JC.UA(h);void 0!==a.location&&this.JC.M_(a.location);void 0!==a.colorbox.linestyle&&this.JC.ua(a.colorbox.linestyle);!0===b.independentrange&&null!=h?this.JC.rUa(h.Tc(),h.ad()):this.JC.rUa(d,k);this.p0a||(this.p0a=new _geo.geotoolkit.scene.Group,this.p0a.Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)),this.p0a.va(this.JC));this.AJ||(this.AJ=new _geo.geotoolkit.controls.shapes.T9b(this.p0a,
this.Kia));this.AY||(this.AY=new _geo.geotoolkit.scene.Group,this.AY.va(this.AJ));void 0!==a.colorbox.size&&(this.Fja=a.colorbox.size);void 0!==a.namedcolors.size&&(this.S2a=a.namedcolors.size);this.GNb=a.namedcolors.visible;1>this.Uc()&&(b=[this.AY,this.I7,this.T1a],this.va(b));if(null!=h&&this.GNb)for(b=h.KE(),h=0;h<b.length;h++)d=b[h],d.name!==_geo.geotoolkit.util.Ie.Kp.NaN&&d.name!==_geo.geotoolkit.util.Ie.Kp.W0&&d.name!==_geo.geotoolkit.util.Ie.Kp.b1||this.oad(d,a.colorbox.linestyle);null!=a.layoutstyle&&
this.pb(a.layoutstyle);this.M_(a.location);this.nQ(a.flip);return this};a.prototype.oad=function(a,c){var g=null,k=this.zH[a.name];if(null!=k){g=k.Ydd();if(null!=g)return g.ua(c).ta(a.value),k;this.AY.removeChild(a.name)}var g=a.value,h=null!=d[a.name]?d[a.name]:a.name;null!=g&&g.hasOwnProperty("value")&&(g.hasOwnProperty("title")&&(h=g.title),g=g.value);g=new _geo.geotoolkit.scene.shapes.lc(0,0,1,1,void 0,void 0,!0,c,g);k=(new _geo.geotoolkit.scene.Group).Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)).va(g);
h=(new _geo.geotoolkit.axis.ng).yb(h);h.Fe().Tg("MAJOR",!1).Tg("MINOR",!1).Qs(b);var l=(new _geo.geotoolkit.scene.Group).Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)).va(h),k=new _geo.geotoolkit.controls.shapes.T9b(k,l,g,h);this.AY.oh(0,k);return this.zH[a.name]=k};a.prototype.jb=function(){return this.la};a.prototype.xb=function(a){a=this.Le();if(!a)return this;var b=this.xa();if(!b)return this;b=new _geo.geotoolkit.util.Rect(b);a.zb(b);this.T1a.zb(b);a.ea();return this};a.prototype.M_=function(b){this.wY=
b;var c=this.xa(),d=_geo.geotoolkit.axis.qd.Pf,g=_geo.geotoolkit.axis.xd,h,l,n=this.JC.Ug(),p=this.JC.Ih();if(n!==p&&(0,window.isFinite)(n)&&(0,window.isFinite)(p))this.Je.Fe().Qs(null);else{var n=.1,p=1,r=this.JC.Ug().toString(),t=this.JC.Ih().toString();this.Je.Fe().Tg("MINOR",!1);this.Je.Fe().Tg("MAJOR",!1);this.Je.Fe().Qs(function(a,b,c,d,e,g){return"EDGE"!==d.sj()?"":0===e?r:t})}h=this.JC.zn();if(h instanceof _geo.geotoolkit.util.gO&&h.rS()===_geo.geotoolkit.util.gO.fJ.xj||h instanceof _geo.geotoolkit.util.VN&&
h.rS()===_geo.geotoolkit.util.VN.fJ.xj)n=h.V9(n),p=h.V9(p);var q=!1,m=_geo.geotoolkit.ea.gv;switch(this.wY){case _geo.geotoolkit.controls.shapes.wq.Rc:c=new _geo.geotoolkit.ea.No(c);h=new _geo.geotoolkit.ea.No;l=new _geo.geotoolkit.ea.gv;c.add([this.I7,this.AY]);h.add(this.AJ.zv());m=_geo.geotoolkit.ea.No;this.Je.vm(d.$c);this.Je.du(_geo.geotoolkit.axis.qd.Bk.$c);this.Je.setOrientation(g.$b);this.Je.Sa(new _geo.geotoolkit.util.Rect(0,n,1,p));this.lg.Td(a.Egc);break;case _geo.geotoolkit.controls.shapes.wq.pd:c=
new _geo.geotoolkit.ea.No(c);h=new _geo.geotoolkit.ea.No;l=new _geo.geotoolkit.ea.gv;c.add([this.AY,this.I7]);h.add(this.AJ.zv(!0));q=!0;m=_geo.geotoolkit.ea.No;this.Je.vm(d.wd);this.Je.du(_geo.geotoolkit.axis.qd.Bk.wd);this.Je.setOrientation(g.$b);this.Je.Sa(new _geo.geotoolkit.util.Rect(0,n,1,p));this.lg.Td(a.Egc);break;case _geo.geotoolkit.controls.shapes.wq.Se:c=new _geo.geotoolkit.ea.gv(c);h=new _geo.geotoolkit.ea.gv;l=new _geo.geotoolkit.ea.No;c.add([this.I7,this.AY]);h.add(this.AJ.zv());this.Je.vm(d.Zf);
this.Je.du(_geo.geotoolkit.axis.qd.Bk.Zf);this.Je.setOrientation(g.ic);this.Je.Sa(new _geo.geotoolkit.util.Rect(n,0,p,1));this.lg.Td(a.N0);break;default:c=new _geo.geotoolkit.ea.gv(c);h=new _geo.geotoolkit.ea.gv;l=new _geo.geotoolkit.ea.No;c.add([this.AY,this.I7]);h.add(this.AJ.zv(!0));q=!0;this.Je.vm(d.Ub);this.Je.du(_geo.geotoolkit.axis.qd.Bk.Ub);this.Je.setOrientation(g.ic);this.Je.Sa(new _geo.geotoolkit.util.Rect(n,0,p,1));this.lg.Td(a.N0);break}for(var u in this.zH)this.zH.hasOwnProperty(u)&&
(d=new m,d.add(this.zH[u].zv(q)),this.zH[u].pe(d),this.zH[u].M_(this.wY));u=[];null!=this.zH[_geo.geotoolkit.util.Ie.Kp.NaN]&&u.push(this.zH[_geo.geotoolkit.util.Ie.Kp.NaN]);null!=this.zH[_geo.geotoolkit.util.Ie.Kp.W0]&&u.push(this.zH[_geo.geotoolkit.util.Ie.Kp.W0]);u.push(this.AJ);null!=this.zH[_geo.geotoolkit.util.Ie.Kp.b1]&&u.push(this.zH[_geo.geotoolkit.util.Ie.Kp.b1]);l.add(u);this.JC.M_(b);this.xrd(c);this.pe(c);this.AY.pe(l);this.AJ.pe(h);return this};a.prototype.xea=function(){return this.wY};
a.prototype.xrd=function(a){if(!a)return this;var b,d=this.Fja+this.NBa;if((0,window.isNaN)(d)||!(0,window.isFinite)(d))d=void 0;if(a instanceof _geo.geotoolkit.ea.No)for(b in this.AY.pb(new _geo.geotoolkit.ea.Ag({width:d,height:void 0})),this.AJ.qb(this.Fja,this.NBa),this.I7.pb(new _geo.geotoolkit.ea.Ag({width:this.Lmb,height:void 0})),this.zH)this.zH.hasOwnProperty(b)&&this.zH[b].qb(this.Fja,this.NBa,this.S2a);else{this.AY.pb(new _geo.geotoolkit.ea.Ag({height:d,width:void 0}));this.AJ.Db(this.Fja,
this.NBa);this.I7.pb(new _geo.geotoolkit.ea.Ag({height:this.Lmb,width:void 0}));for(var g in this.zH)this.zH.hasOwnProperty(g)&&this.zH[g].Db(this.Fja,this.NBa,this.S2a)}return this};a.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.min=this.la.min;a.max=this.la.max;a.flip=this.la.flip;a.linestyle=this.la.linestyle;a.colorprovider=this.la.colorprovider;a.location=this.la.location;a.titletextstyle=this.la.title.textstyle;a.titlesize=this.la.title.size;a.titletext=this.la.title.text;a.titlevisible=
this.la.title.visible;a.titleitem=this.la.title.item;a.axisautolabelrotation=this.la.axis.autolabelrotation;a.axisautolabelrotationangle=this.la.axis.autolabelroationangle;a.axissize=this.la.axis.size;a.axisvisible=this.la.axis.visible;a.axistitle=this.la.axis.title;a.axisitem=this.la.axis.item;null!=this.Je&&(a.axisbaselinevisible=this.Je.fTb(),a.axisbaselinestyle=this.Je.cea());a.colorboxindependentrange=this.la.colorbox.independentrange;a.colorboxlinestyle=this.la.colorbox.linestyle;a.colorboxsize=
this.la.colorbox.size;return a};a.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);var b={title:{},axis:{},colorbox:{}};_geo.geotoolkit.Sb(a,b);this.setOptions(b);return this};a.prototype.nQ=function(a){this.plc=a;this.wY===_geo.geotoolkit.controls.shapes.wq.Rc||this.wY===_geo.geotoolkit.controls.shapes.wq.pd?(this.Nv(!1),this.mk(a)):(this.Nv(a),this.mk(!1));this.Pa();return this};a.prototype.Fe=function(){return this.Je.Fe()};a.prototype.Vg=function(a){if(this.Fe()===a)return this;
this.Je.Vg(a);this.Pa().ma();return this};a.prototype.rAc=function(){return this.plc};a.prototype.lWb=function(a){var b=this.JC.zn().Tc(),d=this.JC.zn().ad(),g=0,h=this.gk(),l=this.ga(),n=h?l.aa():l.ba();a<b?a=-window.Infinity:a>d&&(a=window.Infinity);g=Number.isFinite(a)?this.T9c(a,n,b,d):this.S9c(a,n);return 0>g||g>n?-window.Infinity:h?l.getX()+g:l.getY()+g};a.prototype.gk=function(){var a=this.xea();return a===_geo.geotoolkit.controls.shapes.wq.Se||a===_geo.geotoolkit.controls.shapes.wq.Yc};a.prototype.S9c=
function(a,b){var d=b,g=-1,h=this.rAc(),l=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.W0),n=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.b1),p=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.NaN),r=(0,window.parseInt)(this.S2a);if(!this.GNb)return g;switch(a){case window.Infinity:if(!n)return-1;l&&(d-=r);p&&(d-=r);if(0>d)return-1;d-=r;g=0>d?h?r/2+d:b-d-r/2:h?r/2:b-r/2;break;case -window.Infinity:if(!l)return-1;g=p?h?b-3*r/2:3*r/2:h?b-r/2:r/2;break;default:if(!p)return-1;g=h?b-r/2:r/2;break}return g};
a.prototype.T9c=function(a,b,d,g){var h=!1,l=b,n=0,p=this.rAc(),r=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.W0),t=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.b1),q=null!=this.JC.ae.KE(_geo.geotoolkit.util.Ie.Kp.NaN),m=(0,window.parseInt)(this.S2a);if(this.GNb){r&&(n+=p?0:m,l-=m);q&&(n+=p?0:m,l-=m);if(0>l)return-1;t&&(n+=p?m:0,l-=m);0>l&&(l=1,h=!0)}a=l*(a-d)/(g-d);p&&(h?(a=b,r&&(a-=m),q&&(a-=m)):a=l-a);h||(a+=n);return a};return a}();
_geo.geotoolkit.controls.shapes.vYa=function(){function b(a){this.options=_geo.geotoolkit.Ca(a,{center:{x:0,y:0},outerradius:50,modelradius:90,angle:45,startangle:0});this.setOptions(this.options,!1);this.Dwb=[];a=new _geo.geotoolkit.util.Rect(this.center.x-this.radius,this.center.y-this.radius,this.center.x+this.radius,this.center.y+this.radius);_geo.geotoolkit.scene.shapes.nn.call(this,a);this.ua(this.options.linestyle)}function a(a){null==a.linestyle||a.linestyle instanceof _geo.geotoolkit.attributes.Aa||
(a.linestyle=new _geo.geotoolkit.attributes.Aa(a.linestyle));null==a.center||a.center instanceof _geo.geotoolkit.util.na||(a.center=new _geo.geotoolkit.util.na(a.center.x,a.center.y));null==a.center&&(a.center=new _geo.geotoolkit.util.na);null==a.gridlines&&(a.gridlines={});null==a.gridlines&&(a.gridlines={});var b=a.gridlines;null==b.radius&&(b.radius={});null==b.angles&&(b.angles={});var e=b.radius,b=b.angles;null==e.linestyle?e.linestyle=a.linestyle:e.linestyle instanceof _geo.geotoolkit.attributes.Aa||
(e.linestyle=new _geo.geotoolkit.attributes.Aa(e.linestyle));null==b.linestyle?b.linestyle=a.linestyle:b.linestyle instanceof _geo.geotoolkit.attributes.Aa||(b.linestyle=new _geo.geotoolkit.attributes.Aa(b.linestyle));null==b.textstyle?b.textstyle=new _geo.geotoolkit.attributes.eb({color:"black"}):b.textstyle instanceof _geo.geotoolkit.attributes.eb||(b.textstyle=new _geo.geotoolkit.attributes.eb(b.textstyle));null==e.step&&(e.step=10);Array.isArray(e.values)||(e.values=null);null==e.visible&&(e.visible=
!0);null==e.highlighted&&(e.highlighted=null);null==b.visible&&(b.visible=!0);null==b.visiblelabels&&(b.visiblelabels=!0);if(null==b.labels){for(var e={values:[],text:[]},c=0;359>c;c+=a.angle)e.values.push(c),e.text.push(c);b.labels=e}null==b.labeloffset&&(b.labeloffset=0);null==b.labelsalongcircumference&&(b.labelsalongcircumference=!1)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.PolarGrid");b.prototype.ZPc=function(a){this.Dwb=a;this.ma();
return this};b.prototype.setOptions=function(b,d){this.options=_geo.geotoolkit.Ca(b,this.options);a(this.options);this.center=this.options.center;this.radius=this.options.outerradius;this.bGa=this.options.modelradius;this.hn=this.options.startangle;this.angle=this.options.angle;this.nOb=this.options.gridlines.angles.linestyle;this.n0b=this.options.gridlines.radius.linestyle;this.m0b=this.options.gridlines.radius.step;this.w$a=null==this.options.gridlines.radius.values?this.gad(this.bGa,this.m0b):
this.E$c(this.options.gridlines.radius.values);this.nGc=this.options.gridlines.radius.highlighted;this.h8b=this.options.gridlines.radius.visible;this.d8c=this.options.gridlines.angles.visible;this.Hub=this.options.gridlines.angles.textstyle;this.labels=this.options.gridlines.angles.labels;this.eW=this.options.gridlines.angles.labeloffset;this.QYb=this.options.gridlines.angles.labelsalongcircumference;this.vTc=this.options.gridlines.angles.visiblelabels;null!=d&&!0!==d||this.ma();return this};b.prototype.jb=
function(){return this.options};b.prototype.SE=function(a){return a/this.bGa*this.radius};b.prototype.render=function(a){this.ARb(a);this.BRb(a);this.qRb(a);var b=this.center.x-this.radius,e=this.center.y-this.radius,c=2*this.radius,f=2*this.radius;a.ua(this.Xa());a.po(b,e,c,f);this.FPa(a)};b.prototype.ARb=function(a){if(this.Dwb){for(var b=new _geo.geotoolkit.attributes.Fa("white"),e=0;e<this.Dwb.length;e++){var c=this.Dwb[e],f=(this.hn+c.start)*Math.PI/180,k=(this.hn+c.end)*Math.PI/180,h=c.color;
b.setColor(h);var c=c.length,l=null!=c?c/this.bGa*this.radius:this.radius,c=this.center.x-l,h=this.center.y-l,n=2*l,l=2*l;a.ta(b);a.iq(c,h,n,l,f,k)}a.ta(null)}};b.prototype.qRb=function(a){if(this.d8c){a.ua(this.nOb);for(var b=this.hn;b<=359+this.hn;b+=this.angle){var e=b*Math.PI/180;a.Pd(this.center.getX(),this.center.getY(),this.center.getX()+this.radius*Math.cos(e),this.center.getY()+this.radius*Math.sin(e))}}};b.prototype.pj=function(a){a%=2*Math.PI;0>a&&(a+=2*Math.PI);return 0===a?_geo.geotoolkit.util.Da.We:
a<Math.PI/2?_geo.geotoolkit.util.Da.Gg:a===Math.PI/2?_geo.geotoolkit.util.Da.Og:a<Math.PI?_geo.geotoolkit.util.Da.Ck:a===Math.PI?_geo.geotoolkit.util.Da.Ng:a<3*Math.PI/2?_geo.geotoolkit.util.Da.cl:a===3*Math.PI/2?_geo.geotoolkit.util.Da.Ei:_geo.geotoolkit.util.Da.Ij};b.prototype.FPa=function(a){!0===this.QYb?this.pDa(a):this.qDa(a)};b.prototype.qDa=function(a){if(this.vTc){var b=this.Hub.clone(),e=new _geo.geotoolkit.scene.shapes.Text;e.wb(b);e.TI(!0);for(var b=this.radius+2/Math.max(Math.abs(a.Ra().Ab()),
Math.abs(a.Ra().Pb())),c,f=0;f<this.labels.values.length;f++){c=this.labels.values[f]+this.hn;c=c*Math.PI/180;var k=this.center.getX()+(b+this.eW)*Math.cos(c),h=this.center.getY()+(b+this.eW)*Math.sin(c);e.jc(this.labels.text[f]);e.Cd(this.pj(c));e.yc(k,h);e.render(a)}}};b.prototype.pDa=function(a){if(this.vTc){var b=this.Hub.clone(),e=new _geo.geotoolkit.scene.shapes.Text;e.wb(b);for(var b=this.radius+7/Math.max(Math.abs(a.Ra().Ab()),Math.abs(a.Ra().Pb())),c,f=0;f<this.labels.values.length;f++){c=
this.labels.values[f]+this.hn;c=c*Math.PI/180;var k=this.center.getX()+(b+this.eW)*Math.cos(c),h=this.center.getY()+(b+this.eW)*Math.sin(c);e.jc(this.labels.text[f]);e.Cd(_geo.geotoolkit.util.Da.lb);e.rotate(c+Math.PI/2,k,h);e.yc(k,h);e.render(a);e.rotate(-(c+Math.PI/2),k,h)}}};b.prototype.gad=function(a,b){for(var e=this.SE(a),c=this.SE(b),f=[],k=c;k<e;)f.push(k),k+=c;return f};b.prototype.E$c=function(a){var b=[];if(Array.isArray(a))for(var e=0;e<a.length;++e)b.push(this.SE(a[e]));return b};b.prototype.BRb=
function(a){if(this.h8b&&this.w$a){a.ua(this.n0b);var b,e,c,f,k;if(null!=this.nGc){f=this.SE(this.bGa);b=new _geo.geotoolkit.attributes.Fa(this.nGc);var h=0,l=0;for(k=0;!(h=l,l=k<this.w$a.length?this.w$a[k]:f,l>f&&(l=f),0===k%2&&(e=this.center.x,c=this.center.y,a.ta(b),a.jx(e,c,h,l,0,2*Math.PI),a.ta(null)),k++,l>=f););}for(k=0;k<this.w$a.length;++k)b=this.w$a[k],e=this.center.x-b,c=this.center.y-b,f=2*b,b*=2,a.po(e,c,f,b)}};b.prototype.w_=function(a,b){var e=b*Math.PI/180;return new _geo.geotoolkit.util.na(a*
Math.cos(e),a*Math.sin(e))};b.prototype.J4a=function(a,b){var e=Math.sqrt(a*a+b*b),c=180*Math.atan2(b,a)/Math.PI;return new _geo.geotoolkit.util.na(e,c)};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.shapes.nn.prototype.ka.call(this);null!=this.options&&(a.options=this.options);return a};b.prototype.ja=function(a){_geo.geotoolkit.scene.shapes.nn.prototype.ja.call(this,a);a.hasOwnProperty("options")&&this.setOptions(a.options);return this};return b}();
_geo.geotoolkit.controls.shapes.xfc=function(){function b(a){var b={name:"Polar Chart",data:null,polargrid:null,center:new _geo.geotoolkit.util.na(0,0),startangle:0,modelradius:90,outerradius:50};_geo.geotoolkit.scene.shapes.Shape.call(this);this.options=_geo.geotoolkit.Ca(a,b);this.setData(this.options)}_geo.geotoolkit.da(b,"geotoolkit.scene.shapes.PolarChart");_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Shape);b.prototype.abb=function(a){this.aQ=a;this.ma();return this};b.prototype.D7a=function(){return this.aQ};
b.prototype.setData=function(a){this.options=_geo.geotoolkit.Ca(a,this.options);this.name=null!=a.name?a.name:this.name;this.data=a.data;this.Ama=null!=a.polargrid?a.polargrid:this.Ama;this.outerRadius=null!=a.outerradius?a.outerradius:this.outerRadius;this.aQ=null!=a.modelradius?a.modelradius:this.aQ;this.hn=null!=a.startangle?a.startangle:this.hn;this.center=_geo.geotoolkit.util.na.ab(a.center||this.center);null!=this.Ama&&(a=this.Ama.jb(),this.options=_geo.geotoolkit.Ca(a,this.options),this.center=
a.center,this.outerRadius=a.outerradius,this.hn=a.startangle,this.aQ=a.modelradius);this.bounds=new _geo.geotoolkit.util.Rect(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.ma();return this};b.prototype.ga=function(){return null!=this.bounds?this.bounds:null};b.prototype.jb=function(){return this.options};b.prototype.Ea=function(a){this.bounds=a;this.Pa();return this};b.prototype.tTa=function(a,b,d){var e=b.data,c=
Math.min(e.radius.length,e.angle.length);if(0!==c){var f=(new _geo.geotoolkit.scene.shapes.Path).ta(_geo.geotoolkit.attributes.Fa.ab(b.fillstyle)).ua(_geo.geotoolkit.attributes.Aa.ab(b.linestyle)),k=null,h,l=0,n=0,l=null;for(h=0;h<c;h++)l=this.SE(e.radius[h]),n=e.angle[h]+this.hn,l=this.w_(l,n).translate(this.center.x,this.center.y),0===h&&(k=l,f.moveTo(l.x,l.y)),f.lineTo(l.x,l.y);f.lineTo(k.x,k.y);f.render(a);var p=[];if(null!=b.symbol||null!=b.hightlightedsymbol){f=b.symbol?b.symbol:a.Gd()?b.hightlightedsymbol:
null;b=b.hightlightedsymbol?b.hightlightedsymbol:f;var r,t=function(){p.push({index:r,angle:e.angle[r],value:e.radius[r]})};for(h=0;h<c;h++)if(k=e.selected&&!0===e.selected[h]?b:f)l=this.SE(e.radius[h]),n=e.angle[h]+this.hn,l=this.w_(l,n).translate(this.center.x,this.center.y),k.yc(l),a.Gd()?(r=h,a.ls(k,t.bind(this))):k.render(a)}a.Gd()&&0<p.length&&a.bp({visual:this,series:d,indices:p.map(function(a){return a.index}),points:p})}};b.prototype.KLc=function(){if(0<this.data.length){for(var a=0;a<this.data.length;++a){var b=
this.data[a].data;if(b.selected)for(var d=Math.min(b.radius.length,b.angle.length),e=0;e<d;++e)b.selected[e]=!1}this.ma()}};b.prototype.VP=function(a,b,d){if(this.data.length>b){b=this.data[b].data;b.selected||(b.selected=[]);for(var e=Math.min(b.radius.length,b.angle.length),c=0;c<e;++c)this.AYb(a,c)?!0===d&&(b.selected[c]=!1):b.selected[c]=!0;this.ma()}return this};b.prototype.AYb=function(a,b){return a.every(function(a){return a!==b})};b.prototype.Un=function(a,b){var d=new _geo.geotoolkit.selection.am;
if(a instanceof _geo.geotoolkit.util.Rect){var e=[a.sa(),a.za(),a.za(),a.sa()],c=[a.qa(),a.qa(),a.wa(),a.wa()];return d.select(this.getRoot(),e,c,!0).filter(function(a){return!(a instanceof _geo.geotoolkit.scene.Node)&&a.visual===this}.bind(this))}return d.select(this.getRoot(),a.x,a.y,b?b:10).filter(function(a){return!(a instanceof _geo.geotoolkit.scene.Node)&&a.visual===this}.bind(this))};b.prototype.render=function(a){if(null!=this.data)for(var b=0;b<this.data.length;b++)this.tTa(a,this.data[b],
b)};b.prototype.w_=function(a,b){var d=b*Math.PI/180;return new _geo.geotoolkit.util.na(a*Math.cos(d),a*Math.sin(d))};b.prototype.SE=function(a){return Math.min(a/this.aQ,1)*this.outerRadius};return b}();
_geo.geotoolkit.controls.shapes.yfc=function(){function b(a){this.DG=_geo.geotoolkit.Ca(a,{center:null,outerradius:50,modelradius:90,startangle:0,data:null,polargrid:null,colorprovider:null,painter:null,defaultcolor:"rgba(60,60,60,1)",highlightcolor:"rgba(255,0,255,1)",symbolsize:8});_geo.geotoolkit.controls.shapes.d6.call(this,this.uIc(a))}function a(a,b,e,c,f,k){var h={};if(null!=a&&null!=b&&null!=e){if(null!=a.radius&&a.angle){h.datax=[];h.datay=[];for(var l,n,p=0;p<a.radius.length;++p)null==a.radius[p]||
null==a.angle[p]||(0,window.isNaN)(a.radius[p])||(0,window.isNaN)(a.angle[p])||a.radius[p]>k||0>a.radius[p]?(h.datax[p]=Number.NaN,h.datay[p]=Number.NaN):(l=(c+a.angle[p])*Math.PI/180,n=a.radius[p]/k*f,h.datax[p]=n*Math.cos(l)+b,h.datay[p]=n*Math.sin(l)+e)}null!=a.variable&&(h.dataz=a.variable)}return h}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.shapes.d6);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.PolarCrossPlot");b.prototype.uIc=function(b){this.DG=_geo.geotoolkit.Ca(b,this.DG);null!=this.DG.polargrid&&
(this.DG=_geo.geotoolkit.Ca(this.DG.polargrid.jb(),this.DG));b=this.DG.center;b=a(this.DG.data,null!=b?b.x:null,null!=b?b.y:null,this.DG.startangle,this.DG.outerradius,this.DG.modelradius);b.colorprovider=this.DG.colorprovider;b.painter=this.DG.painter;b.defaultcolor=this.DG.defaultcolor;b.symbolsize=this.DG.symbolsize;b.highlightcolor=this.DG.highlightcolor;return b};b.prototype.setData=function(a){_geo.geotoolkit.controls.shapes.d6.prototype.setData.call(this,this.uIc(a));return this};b.prototype.w_=
function(a,b){var e=b*Math.PI/180;return new _geo.geotoolkit.util.na(a*Math.cos(e),a*Math.sin(e))};b.prototype.J4a=function(a,b){var e=Math.sqrt(a*a+b*b),c=180*Math.atan2(b,a)/Math.PI;return new _geo.geotoolkit.util.na(e,c)};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.shapes.Shape.prototype.ka.call(this);if(null!=this.DG){a.options={};for(var b in this.DG)this.DG.hasOwnProperty(b)&&"data"!==b&&(a.options[b]=this.DG[b])}return a};b.prototype.ja=function(a){_geo.geotoolkit.scene.shapes.Shape.prototype.ja.call(this,
a);a.hasOwnProperty("options")&&this.setData(a.options);return this};return b}();
_geo.geotoolkit.controls.shapes.sgb=function(){function b(a){var d={name:"Rose Chart",bins:8,data:null,polargrid:null,center:new _geo.geotoolkit.util.na,startangle:0,modelradius:200,outerradius:200,rosemode:b.cR.qAb};_geo.geotoolkit.scene.shapes.Shape.call(this,a);this.options=_geo.geotoolkit.Ca(a,d);this.Ida=[];this.Ytb=0;this.Ju=[];this.k_=[];this.setData(this.options)}var a=function(){function a(b,e,c,g){this.B8=b;this.length=b.values.length;this.vDa=e;this.getStyle=c;this.eXb=g;this.reset()}_geo.geotoolkit.fa(a,
_geo.geotoolkit.util.Iterator);a.prototype.next=function(){return this.Xf()?(this.match=!1,this.eGa):null};a.prototype.Xf=function(){if(this.match)return!0;for(;this.i<this.eXb.call(this.B8);)if(this.eGa=this.getStyle.call(this.B8,this.i++),this.vDa(this.eGa))return this.match=!0;return!1};a.prototype.forEach=function(a){for(var b=0;b<this.eXb.call(this.B8);b++){var c=this.getStyle.call(this.B8,b);this.vDa(c)&&a(c)}return this};a.prototype.filter=function(a){for(var b=[],c=0;c<this.eXb.call(this.B8);c++){var g=
this.getStyle.call(this.B8,c);this.vDa(g)&&a(g)&&b.push(g)}return b};a.prototype.reset=function(){this.eGa=null;this.i=0;this.match=!1;return this};return a}();_geo.geotoolkit.da(b,"geotoolkit.scene.shapes.RoseChart");_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Shape);b.cR={qAb:"bar",pl:"histogram",Hha:"slices"};b.prototype.I_=function(a){if(null!=this.Ju)for(var b=0;b<this.Ju.length;b++)this.Kq(this.Ju[b],_geo.geotoolkit.scene.Node.$.Wc,this.nc());!1===a instanceof _geo.geotoolkit.util.Iterator&&
(!1===Array.isArray(a)&&(a=[a]),a=_geo.geotoolkit.util.Iterator.Zm(a));this.Ju=[];for(b=null;a.Xf();)b=_geo.geotoolkit.attributes.Fa.ab(a.next()),this.Ju.push(b),null!=b&&this.Wj(b,_geo.geotoolkit.scene.Node.$.Wc,this.nc());return this};b.prototype.sS=function(g){return this.xN===b.cR.Hha?new a(this,g,this.sb.bind(this),this.Crb.bind(this)):null===this.Ju?null:_geo.geotoolkit.util.Iterator.Zm(this.Ju,g)};b.prototype.sb=function(a){return void 0===a?_geo.geotoolkit.scene.shapes.Shape.prototype.sb.call(this):
this.xN===b.cR.Hha?null==this.values||null==this.values[a]?null:this.values[a].fillstyle||(0!==this.Ju.length?this.Ju[a%this.Ju.length]:null):this.Ju[a]};b.prototype.Crb=function(){return this.xN===b.cR.Hha?null!=this.values?this.values.length:0:null!=this.Ju?this.Ju.length:0};b.prototype.Gxb=function(a){if(null!=this.k_)for(var b=0;b<this.k_.length;b++)this.Kq(this.k_[b],_geo.geotoolkit.scene.Node.$.Wc,this.nc());!1===a instanceof _geo.geotoolkit.util.Iterator&&(!1===Array.isArray(a)&&(a=[a]),a=
_geo.geotoolkit.util.Iterator.Zm(a));this.k_=[];for(b=null;a.Xf();)b=_geo.geotoolkit.attributes.Aa.ab(a.next()),this.k_.push(b),null!=b&&this.Wj(b,_geo.geotoolkit.scene.Node.$.Wc,this.nc());return this};b.prototype.zVb=function(g){return this.xN===b.cR.Hha?new a(this,g,this.Xa.bind(this),this.nsb.bind(this)):null===this.k_?null:_geo.geotoolkit.util.Iterator.Zm(this.k_,g)};b.prototype.Xa=function(a){return void 0===a?_geo.geotoolkit.scene.shapes.Shape.prototype.Xa.call(this):this.xN===b.cR.Hha?null==
this.values||null==this.values[a]?null:this.values[a].linestyle||(0!==this.k_.length?this.k_[a%this.k_.length]:null):this.k_[a]};b.prototype.nsb=function(){return this.xN===b.cR.Hha?null!=this.values?this.values.length:0:null!=this.k_?this.k_.length:0};b.prototype.setValues=function(a){this.values=a;this.xN===b.cR.pl&&this.B0b();this.Pa().ma();return this};b.prototype.TPc=function(a){if(this.xN===a)return this;this.xN=a;this.Pa().ma();return this};b.prototype.SDc=function(){return this.xN};b.prototype.abb=
function(a){if(this.aQ===a)return this;this.aQ=a;this.Pa().ma();return this};b.prototype.D7a=function(){return this.aQ};b.prototype.setData=function(a){this.options=_geo.geotoolkit.Ca(a,this.options);this.name=a.name||this.name;this.Ama=a.polargrid||this.Ama;this.xN=a.rosemode||this.xN;this.outerRadius=a.outerradius||this.outerRadius;this.aQ=a.modelradius||this.aQ;this.hn=a.startangle||this.hn;this.center=a.center||this.center;a.hasOwnProperty("fillstyle")&&this.ta(a.fillstyle);a.hasOwnProperty("linestyle")&&
this.ua(a.linestyle);if(a.hasOwnProperty("data")){var d=a.data;this.data=a.data;this.KCa=d.bins||this.KCa;d.hasOwnProperty("values")&&(this.values=d.values);d.hasOwnProperty("fillstyles")?this.I_(d.fillstyles):d.hasOwnProperty("fillstyle")&&this.I_([d.fillstyle]);d.hasOwnProperty("linestyles")?this.Gxb(d.linestyles):d.hasOwnProperty("linestyle")&&this.Gxb([d.linestyle])}null!=this.Ama&&(a=this.Ama.jb(),this.options=_geo.geotoolkit.Ca(a,this.options),this.center=a.center,this.outerRadius=a.outerradius,
this.hn=a.startangle,this.aQ=a.modelradius);this.bounds=new _geo.geotoolkit.util.Rect(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.xN===b.cR.pl&&this.B0b();this.Pa().ma();return this};b.prototype.jb=function(){return{name:"name",rosemode:this.xN,outerradius:this.outerRadius,modelradius:this.aQ,startangle:this.hn,center:this.center,linestyle:this.sb(),fillstyle:this.sb(),data:{values:this.values,bins:this.KCa,linestyles:this.zVb(),
fillstyles:this.sS()}}};b.prototype.B0b=function(){this.Ida=[];this.Ytb=0;var a=360/this.KCa,b;for(b=0;b<this.values.length;b++){var e=Math.floor(this.values[b]/a);null==this.Ida[e]&&(this.Ida[e]=0);this.Ida[e]++;this.Ida[e]>this.Ytb&&(this.Ytb=this.Ida[e])}for(b=0;b<this.Ida.length;b++)this.Ida[b]=this.Ida[b]/this.Ytb*this.aQ;return this};b.prototype.CP=function(){return this.KCa};b.prototype.gT=function(a){if(this.KCa===a)return this;this.KCa=a;this.B0b().Pa().ma();return this};b.prototype.Ea=function(a){if(null!=
this.bounds&&this.bounds.Pj(a,_geo.geotoolkit.util.Math.Jc))return this;this.bounds=a;this.Pa().ma();return this};b.prototype.ga=function(){return null!=this.bounds?this.bounds.Mi():null};b.prototype.tTa=function(a,b,e,c){b=this.SE(b);e=e*Math.PI/180;c=c*Math.PI/180;var f=this.center.x-b,k=this.center.y-b;a.iq(f,k,2*b,2*b,e,c)};b.prototype.Qh=function(a){for(var d=this.xN!==b.cR.pl?this.values:this.Ida,e=360/(this.xN===b.cR.qAb?this.values.length:this.KCa),c=this.hn,f=c+e,k,h=this.Crb(),l=this.nsb(),
n,p,r=0;r<d.length;r++)(k=d[r],null==k||Number.isNaN(k)||(p=0!==h?this.sb(r%h):null,n=0!==l?this.Xa(r%l):null,this.xN===b.cR.Hha&&(k.hasOwnProperty("fillstyle")&&(p=_geo.geotoolkit.attributes.Fa.ab(k.fillstyle)),k.hasOwnProperty("linestyle")&&(n=_geo.geotoolkit.attributes.Aa.ab(k.linestyle))),null==p&&null==n))||(a.ta(p),a.ua(n),this.xN===b.cR.Hha?this.tTa(a,k.value,k.start,k.end):(this.tTa(a,k,c,f),c=f,f=c+e))};b.prototype.render=function(a){var b=this.ga();if(null!=b){a=this.mb()?a.qc(this.mb()):
a;var e=this.sb();null!=e&&(a.ta(this.sb(),b),a.ua(null),null==this.Ama?a.zc(b.sa(),b.qa(),b.aa(),b.ba()):this.tTa(a,this.aQ,0,360));e=this.Xa();null!=e&&(a.ta(null),a.ua(e),null==this.Ama?a.zc(b.sa(),b.qa(),b.aa(),b.ba()):this.tTa(a,this.aQ,0,360));null!=this.data&&null!=this.values&&this.Qh(a)}};b.prototype.SE=function(a){return Math.min(a/this.aQ,1)*this.outerRadius};return b}();
_geo.geotoolkit.controls.shapes.Kz=function(){function b(a,c){this.nMb={};null==a&&(a={});var d=this,e={outerradius:150,maxouterradius:150,innerradius:25,piemode:b.Poa.xEb,startangle:0,direction:b.le.xdb,minpercentage:0,maxslices:0,linestyle:new _geo.geotoolkit.attributes.Aa("lightgrey"),autogradient:!1,fillstyles:[],"selected-fillstyles":[],createselectedstyle:f,showpercentagesthreshold:0,modellimitsmode:b.UJa.Sfc,label:{hideifdontfit:!1,format:function(a,b){return a+" ("+(100*b/d.zga).toFixed(2)+
"%)"},location:b.LT.Qk,direction:b.jya.ic,textstyle:(new _geo.geotoolkit.attributes.eb).Gr("10pt Roboto")},outsideline:{linestyle:new _geo.geotoolkit.attributes.Aa("lightgrey"),length:10,pad:2},sliceshift:{offsets:[]},depth3d:30,inclination3d:60};null!=a.sliceshift&&(null!=a.sliceshift.index&&(_geo.geotoolkit.warn("geotoolkit.controls.shapes.DonutChart(options.sliceshift.index) is deprecated since 2.6"),null==a.sliceshift.offset&&(e.sliceshift.offset=40)),null!=a.sliceshift.offset&&_geo.geotoolkit.warn("geotoolkit.controls.shapes.DonutChart(options.sliceshift.offset) is deprecated since 2.6"));
_geo.geotoolkit.scene.Group.call(this);this.kLb=this.xkd.bind(this);a=_geo.geotoolkit.Sb(a,e);this.setOptions(a);this.zga=0;this.slices=[];this.PZa=[];this.QZa=[];this.YAa={label:[],annulusArc:[],stripArc:[],rect:[],line:[]};this.wka=null;this.data={mode:b.yC.c1,order:b.bk.dH,values:[]};c&&this.setData(c)}function a(a,b,c,d){for(var e=0;e<b.length;++e){var g=c[b[e]];if(null!=g&&0!==g){var f=a[d[b[e]]];f.label.Wq(f.label.ny()+g);f.tma.Pq().translate(0,g)}}}function g(a,b,c){return a.sort(function(a,
d){var e=a.outerArc.ka(),g=e.startarc,f=e.endarc;if(g>b&&f<b)return-c;var h=d.outerArc.ka(),e=h.startarc,h=h.endarc;if(e>b&&h<b)return c;g=Math.abs(b-(g+f)/2);e=Math.abs(b-(e+h)/2);return g>e?c:-c})}function d(a){var b=Math.ceil(a/q)-1;a-=b*q;return 0>a?a+q:a}function e(a,b,d,e){for(var g=Math.PI,f=[],h=a,k=(Math.floor(a/g)+1)*g,l=[d];h<b;){if(k>=b){l=null==l?[e]:Math.sin(a)<Math.sin(b)?[d,e]:[e,d];f.push(c(h,b,l));break}f.push(c(h,k,l));h=k;k+=g;l=null}return f}function c(a,b,c){if(a>q||b>q)a-=q,
b-=q;if(0>a||0>b)a+=q,b+=q;return{start:a,end:b,Vq:c||[]}}function f(a){var b=_geo.geotoolkit.util.oi.Ph(a.ac());a=b.Bl();var c=b.zl(),b=b.xl(),d=Math.max(a,c,b);a===d?(a=(255+a)/2,c/=2,b/=2):c===d?(c=(255+c)/2,a/=2,b/=2):(b=(255+b)/2,a/=2,c/=2);a=new _geo.geotoolkit.util.rb(a,c,b);return new _geo.geotoolkit.attributes.Fa(a)}function k(a){a=_geo.geotoolkit.util.oi.Ph(a);var b=new _geo.geotoolkit.util.aO(a);a=b.clone();a.Y2(-.2);a.iK(.2);a=a.jL().ps();b.Y2(.2);b.iK(-.2);b=b.jL().ps();b=new _geo.geotoolkit.attributes.Yp({startcolor:b,
endcolor:b});b.hm(.5,a);return b}function h(a,b){return b.value-a.value}var l=90,n=180,p=270,r=360,t=Math.PI/180,q=2*Math.PI,m=3*Math.PI/2,u=Math.PI/2,v=new _geo.geotoolkit.util.Rect,w=20,x={label:_geo.geotoolkit.scene.shapes.Text,annulusArc:_geo.geotoolkit.scene.shapes.taa,stripArc:_geo.geotoolkit.scene.shapes.sFb,rect:_geo.geotoolkit.scene.shapes.lc,line:_geo.geotoolkit.scene.shapes.Line};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.DonutChart");
b.prototype.setData=function(a){a||(a={mode:b.yC.c1,order:b.bk.dH,values:[]});if(a.values instanceof _geo.geotoolkit.data.Or||a.values instanceof _geo.geotoolkit.data.nH)a.values!==this.wka?(null!=this.wka&&this.wka.hb(_geo.geotoolkit.data.$.vf,this.kLb),this.wka=a.values,this.wka.kb(_geo.geotoolkit.data.$.vf,this.kLb),a.values=this.wka.toArray(!0)):delete a.values;_geo.geotoolkit.Ca(a,this.data);this.Hqb();this.Pa();this.ma();this.Ja(_geo.geotoolkit.scene.Node.$.Mj,this);return this};b.prototype.getData=
function(){return this.data};b.prototype.xkd=function(){var a=this.wka.toArray(!0);this.setData({values:a})};b.prototype.jb=function(){return _geo.geotoolkit.Sb(this.options,{})};b.prototype.setOptions=function(a){this.options=_geo.geotoolkit.Sb(a,this.options);this.options.label.textstyle=_geo.geotoolkit.attributes.eb.ab(this.options.label.textstyle);null!=this.options.sliceshift&&(null!=this.options.sliceshift.index&&_geo.geotoolkit.warn("geotoolkit.controls.shapes.DonutChart.setOptions(options.sliceshift.index) is deprecated since 2.6"),
null!=this.options.sliceshift.offset&&_geo.geotoolkit.warn("geotoolkit.controls.shapes.DonutChart.setOptions(options.sliceshift.offset) is deprecated since 2.6"));this.options.maxouterradius<this.options.outerradius&&(this.options.maxouterradius=this.options.outerradius);this.Hqb();this.Pa().ma();this.Ja(_geo.geotoolkit.scene.Node.$.Mj,this);return this};b.Poa={xEb:"Pie2D",qYa:"Pie3D"};b.UJa={Sfc:"radius",Wec:"padded",lac:"dynamic",RD:"auto"};b.yC={c1:"Raw",Jga:"Associative"};b.LT={Qk:"Inside",dr:"Outside"};
b.jya={ic:"Horizontal",QEb:"Radial"};b.le={xdb:"Clockwise",fVc:"CounterClockwise"};b.bk={lF:"Ascending",dH:"Descending",zdc:"Natural"};b.prototype.WLc=function(){var a=this.slices,b=this;this.slices=[];a.forEach(function(a){b.SGa("annulusArc",a.arc);null!=a.arcBottom&&b.SGa("annulusArc",a.arcBottom);null!=a.tma&&b.SGa("line",a.tma);a.label instanceof _geo.geotoolkit.scene.shapes.Text&&b.SGa("label",a.label)})};b.prototype.$bd=function(){function a(b){b.dispose()}for(var b in this.YAa)this.YAa[b].forEach(a),
this.YAa[b]=[]};b.prototype.Hqb=function(){if(this.data){this.WLc();var a,c,d,e=this.data.values;if(this.data.mode===b.yC.c1)for(this.zga=e.length,d={},a=0;a<this.zga;a++)d[e[a]]=d[e[a]]+1||1;else if(this.data.mode===b.yC.Jga)for(c in this.zga=0,d=e,e)e.hasOwnProperty(c)&&0<e[c]&&(this.zga+=e[c]);else throw Error("Unknown DonutChart Data Mode Enum :"+this.data.mode);var g={label:"Other",value:0},f=[];a=this.options.minpercentage*this.zga/100;for(var k in d)d.hasOwnProperty(k)&&(d[k]<a?g.value+=d[k]:
f.push({label:k,value:d[k]}));f.sort(h);a=f.length+(0<g.value?1:0);if(0<this.options.maxslices&&a>this.options.maxslices)for(a=f.length+1-this.options.maxslices,d=0;d<a;++d)k=f.pop(),g.value+=k.value;0<g.value&&f.push(g);if(this.data.order===b.bk.zdc){d={};var l=f.map(function(a){return a.label});if(this.data.mode===b.yC.c1)for(a=0;a<this.data.values.length;++a)d[this.data.values[a]]||(k=l.indexOf(this.data.values[a]),-1<k&&(this.slices.push(f[k]),d[l[k]]=!0));else if(this.data.mode===b.yC.Jga)for(c in e)e.hasOwnProperty(c)&&
(k=l.indexOf(c),-1<k&&this.slices.push(f[k]));0<g.value&&this.slices.push(g)}else this.data.order===b.bk.lF?this.slices=f.reverse():this.data.order===b.bk.dH&&(this.slices=f);this.gub();this.Ixc()}};b.prototype.VLc=function(){function a(d){null!=d.outerArc&&c.SGa("stripArc",d.outerArc);null!=d.innerArc&&c.SGa("stripArc",d.innerArc);null!=d.Xmd&&d.Xmd.forEach(b)}function b(a){c.SGa("rect",a)}var c=this;this.PZa.forEach(a);this.QZa.forEach(a);this.PZa=[];this.QZa=[]};b.prototype.Ixc=function(){this.VLc();
var a=this.options.startangle,c=this.options.sliceshift.offsets,f=this.options.outerradius,h=-f,k=-f,l=f,n=f,p,q;this.options.piemode===b.Poa.qYa?(this.kZ=this.options.inclination3d/90,p=this.options.depth3d/this.kZ,q=_geo.geotoolkit.util.Ga.km(1,this.kZ)):(this.kZ=1,q=null);if(null!=this.options.sliceshift.offset){if(null!=this.options.sliceshift.index){for(var c=[],v=this.options.sliceshift.index,x=0;x<this.slices.length;++x)c[x]=0;if(Array.isArray(v))for(x=0;x<v.length;++x)c[v[x]]=this.options.sliceshift.offset;
else c[v]=this.options.sliceshift.offset}this.options.sliceshift.offsets=c}if(null==c||0===c.length)this.options.sliceshift.offsets=this.slices.map(function(){return 0});for(v=0;v<this.slices.length;v++){this.slices[v].SJc=this.slices[v].value/this.zga;x=this.slices[v].SJc*r;x=a+x;this.wdd(this.slices[v],a,x);var w=this.slices[v].start*t,M=this.slices[v].end*t;this.Bad(v,q);var a=q,L=null;if(null!=this.options.sliceshift.index){var N=this.options.sliceshift.index;if(Array.isArray(N)&&-1<N.indexOf(v)||
N===v)L=this.vtc(this.slices[v],v)}else null!=c&&0!==c[v]&&(L=this.vtc(this.slices[v],v));null!=L&&(h=Math.min(-f+L.x,h),k=Math.min(-f+L.y,k),l=Math.max(f+L.x,l),n=Math.max(f+L.y,n),a=null!=q?q.clone().translate(L.x,L.y):_geo.geotoolkit.util.Ga.kj(L.x,L.y));this.slices[v].arc=this.Pta("annulusArc",{x:0,y:0,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:w,endarc:M,linestyle:this.options.linestyle},a);if(this.options.piemode===b.Poa.qYa){this.slices[v].arcBottom=
this.Pta("annulusArc",{x:0,y:p,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:w,endarc:M,linestyle:this.options.linestyle},a);for(var T=a.clone().qga(0,Math.tan(w)),L=a.clone().qga(0,Math.tan(M)),Q=Math.cos(w),N=Math.cos(M),T=this.Pta("rect",{left:this.options.innerradius*Q,top:0,right:this.options.outerradius*Q,bottom:p,linestyle:this.options.linestyle},T),L=this.Pta("rect",{left:this.options.innerradius*N,top:0,right:this.options.outerradius*N,bottom:p,linestyle:this.options.linestyle},
L),w=e(w,M,T,L),P,M=0;M<w.length;M++)0<this.options.innerradius&&(P=this.Pta("stripArc",{outerradius:this.options.innerradius,startarc:w[M].end,endarc:w[M].start,height:p,linestyle:this.options.linestyle},a)),L=this.Pta("stripArc",{outerradius:this.options.outerradius,startarc:w[M].end,endarc:w[M].start,height:p,linestyle:this.options.linestyle},a),L={slice:this.slices[v],outerArc:L,innerArc:P,LKc:w[M].Vq,index:v},d(w[M].end)>Math.PI?this.PZa.push(L):this.QZa.push(L)}a=x}g(this.PZa,m,1);g(this.QZa,
u,-1);this.options.modellimitsmode===b.UJa.lac?this.Sa(new _geo.geotoolkit.util.Rect(h,k,l,n)):this.options.modellimitsmode===b.UJa.Wec?(f+=Math.max.apply(null,this.options.sliceshift.offsets),this.Sa(new _geo.geotoolkit.util.Rect(-f,-f,f,f))):this.options.modellimitsmode===b.UJa.RD?(c=this.options.maxouterradius,this.Sa(new _geo.geotoolkit.util.Rect(-c,-c,c,c))):this.Sa(new _geo.geotoolkit.util.Rect(-f,-f,f,f));this.L9c()};b.prototype.wdd=function(a,c,d){a.start=this.options.direction===b.le.xdb?
c:r-d;a.GGa=a.start;0>a.GGa&&(a.GGa+=r);a.GGa>r&&(a.GGa-=r);a.end=this.options.direction===b.le.xdb?d:r-c;a.FGa=a.end;0>a.FGa&&(a.FGa+=r);a.FGa>r&&(a.FGa-=r);c=(a.start+a.end)/2;c>r&&(c-=r);0>c&&(c+=r);a.r9a=c;c*=t;a.gma=Math.sin(c);a.fma=Math.cos(c)};b.prototype.Bad=function(a,c){var d=this.slices[a];d.label instanceof _geo.geotoolkit.scene.shapes.Text||(d.qOb=d.label);var e=this.options.label.format,e=null!==e?e(d.qOb,d.value):null;null!==e&&""!==e&&(d.label=this.Pta("label",{ax:0,ay:0,text:e,textstyle:this.options.label.textstyle,
preservereadingorientation:!0,ispointingup:!0,preserverightangle:!0,preserveaspectratio:!0},c),this.z9c(a),this.options.label.location!==b.LT.dr?d.label.Cd(_geo.geotoolkit.util.Da.lb):(d.label.Cd(this.options.label.direction===b.jya.ic&&d.r9a>=l&&d.r9a<p?_geo.geotoolkit.util.Da.Ng:_geo.geotoolkit.util.Da.We),this.options.piemode===b.Poa.qYa&&(d.tma.scale(1,this.kZ),0<=d.r9a&&d.r9a<n&&(d.tma.translate(0,this.options.depth3d),d.label.translate(0,this.options.depth3d)))))};b.prototype.Pta=function(a,
b,c){0===this.YAa[a].length?(a=x[a],a=new a(b)):(a=this.YAa[a].pop(),a.ja(b));a.Td(c);return a};b.prototype.SGa=function(a,b){this.YAa[a].length<w?this.YAa[a].push(b):b.dispose()};b.prototype.L9c=function(){if(this.options.label.location===b.LT.dr&&this.options.label.direction===b.jya.ic&&0!==this.slices.length){for(var c=[],d=0,e=-window.Infinity,g=this.options.showpercentagesthreshold*this.zga/100,f=0;f<this.slices.length;++f)if(this.slices[f].label instanceof _geo.geotoolkit.scene.shapes.Text){var h=
this.slices[f].value>=g;this.slices[f].label.Ka(h);this.slices[f].tma.Ka(h);h&&(c.push(f),e<this.slices[f].value&&(e=this.slices[f].value,d=c.length-1))}if(0!==c.length){for(var e=this.Ya(),g=this.options.outerradius*this.options.outerradius,f=0,h=c.length,k,l=this.slices[c[d]].label.ga(),m=l,n={},p=[],q=d,r=(d+1)%h;r!==d;r=(r+1)%h){k=this.slices[c[r]].label.ga();if(k.intersects(m)){var f=f||(k.getY()>l.getY()?1:-1),t=null!=e?e.qe(k).ba():k.ba(),t=(n[q]||0)+f*t;0===p.length&&p.push(q);m!==v&&(v.zb(l),
m=v);var q=Math.min(Math.abs(k.sa()),Math.abs(k.za())),u=Math.min(Math.abs(l.qa()+t),Math.abs(l.wa()+t));if(q*q+u*u>=g)n[r]=t-(k.getY()-l.getY()),l=Math.min(m.getX(),k.getX()),t=Math.max(m.za(),k.za()),q=Math.min(m.getY(),k.getY()+n[r]),u=Math.max(m.wa(),k.wa()+n[r]),m.zb(l,q,t,u);else{t=0<m.getY()?k.wa()-m.getY():k.getY()-m.wa();for(l=0;l<p.length;++l)n[p[l]]=n[p[l]]||0,n[p[l]]+=t;m.setY(m.getY()+t);m.union(k)}p.push(r)}else m=k,0<p.length&&(a(this.slices,p,n,c),p=[],n={});l=k;q=r}a(this.slices,
p,n,c)}}};b.prototype.gub=function(){this.zi=this.zi||{fillstyles:[],"selected-fillstyles":[]};this.options.fillstyles=this.options.fillstyles||[];this.options["selected-fillstyles"]=this.options["selected-fillstyles"]||[];for(var a=0;a<this.slices.length;a++){this.options.fillstyles[a]||(this.options.fillstyles[a]=new _geo.geotoolkit.attributes.Fa(new _geo.geotoolkit.util.rb(Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),255)));var b=_geo.geotoolkit.attributes.Fa.ab(this.options.fillstyles[a]);
!0===this.options.autogradient&&(b=k(b.ac()));this.zi.fillstyles[a]=b;this.options["selected-fillstyles"][a]||(this.options["selected-fillstyles"][a]=this.options.createselectedstyle(b));b=_geo.geotoolkit.attributes.Fa.ab(this.options["selected-fillstyles"][a]);this.zi["selected-fillstyles"][a]=b}};b.prototype.z9c=function(a){var c=this.slices[a],d;if(null!=this.options.sliceshift.index){var e=this.options.sliceshift.index;d=(a=Array.isArray(e)&&0<=e.indexOf(a)||e===a)?this.options.sliceshift.offset:
0}else d=this.options.sliceshift.offsets[a];a=c.r9a*t;var g=this.mb(),f,h=c.label.ga(),k=this.options.innerradius+d,l=this.options.outerradius+d,e=(k+l)/2;if(this.options.label.location===b.LT.dr)e=l,f=e+this.options.outsideline.length,g=f+this.options.outsideline.pad,c.label.yc(g*c.fma,g*c.gma),c.tma=this.Pta("line",{from:new _geo.geotoolkit.util.na(e*c.fma,e*c.gma),to:new _geo.geotoolkit.util.na(f*c.fma,f*c.gma),linestyle:this.options.outsideline.linestyle},null),f=!1;else if(this.options.label.direction===
b.jya.QEb){this.options.piemode===b.Poa.qYa&&(g=g?g.clone():new _geo.geotoolkit.util.Ga,g.rotate(a,0,0).scale(1,this.kZ));var m=new _geo.geotoolkit.util.na(k*c.fma,k*c.gma),n=new _geo.geotoolkit.util.na(l*c.fma,l*c.gma);g.cb(m,m);g.cb(n,n);var p=_geo.geotoolkit.util.na.Cj(m,n);(f=h.aa()>p)?(e=h.aa()/(2*p),e=new _geo.geotoolkit.util.na(m.getX()+e*(n.getX()-m.getX()),m.getY()+e*(n.getY()-m.getY())),c.label.yc(g.Ue(e))):c.label.yc(e*c.fma,e*c.gma)}else{h=g?g.qe(h):h;f=c.start*t;m=c.end*t;g=Math.sin(f);
f=Math.tan(f);var q=Math.sin(m),m=Math.tan(m),n=k*g,p=k*q,r=l*g,q=l*q,u,g=h.aa()/2,v=h.ba()/2,h=l*l,l=k*k,k=[],x=d*c.fma;d*=c.gma;for(var w=e*c.fma,e=e*c.gma,v=[e-v,e+v],S=0;S<v.length;S++){u=v[S];u>n!==u>r&&k.push((u-d)/f+x);u>p!==u>q&&k.push((u-d)/m+x);var U=u*u;U<=h&&(u=Math.sqrt(h-U),k.push(u),k.push(-u));U<=l&&(u=Math.sqrt(l-U),k.push(u),k.push(-u))}m=Math.max.apply(null,k.filter(function(a){return a<w}));n=Math.min.apply(null,k.filter(function(a){return a>w}));if(f=w-m<g||n-w<g)w=(m+n)/2,f=
w-m<g||n-w<g;c.label.yc(w,e)}c.label.Ka(!f||!this.options.label.hideifdontfit);this.options.label.direction===b.jya.QEb&&(c.label.rotate(a,c.label.uA(),c.label.ny()),c.label.scale(1,this.kZ),c.label.Wq(c.label.ny()/this.kZ))};b.prototype.vtc=function(a,b){return{x:this.options.sliceshift.offsets[b]*a.fma,y:this.options.sliceshift.offsets[b]*a.gma}};b.prototype.rEc=function(a){return!0!==this.nMb[a]?this.zi.fillstyles[a]:this.zi["selected-fillstyles"][a]};b.prototype.pLc=function(a,b,c){for(var d=
0;d<this.slices.length;++d){var e=this.slices[d][b],g=this.rEc(d);e&&(e.ta(g),a.filter(e)&&(c&&(e.Tp(d),a.El(e)),e.render(a),c&&a.El(null)))}};b.prototype.znd=function(a){for(var b=0;b<this.slices.length;++b){var c=this.slices[b];c.tma&&a.filter(c.tma)&&c.tma.render(a);c.label instanceof _geo.geotoolkit.scene.shapes.Text&&a.filter(c.label)&&c.label.render(a)}};b.prototype.oLc=function(a,b,c,d,e){for(var g=0;g<b.length;++g){var f=b[g],h=this.rEc(f.index),k=f[c];k&&(k.ta(h),a.filter(k)&&k.render(a));
for(k=0;k<f.LKc.length;++k){var l=f.LKc[k];l.ta(h);a.filter(l)&&l.render(a)}if(k=f[d])k.ta(h),a.filter(k)&&(e&&(k.Tp(f.index),a.El(k)),k.render(a),e&&a.El(null))}};b.prototype.Qh=function(a){if(!(0>=this.zga||0>=this.options.outerradius)){this.yk(a);for(var c=a.Gd(),d=this.Uc(),e=0;e<d;e++){var g=this.vc(e);a.filter(g)&&(c&&a.El(g),g.render(a))}a.ua(null);this.options.piemode!==b.Poa.xEb&&(this.pLc(a,"arcBottom"),this.oLc(a,this.PZa,"outerArc","innerArc"),this.oLc(a,this.QZa,"innerArc","outerArc",
c));this.pLc(a,"arc",c);this.znd(a);this.hk(a)}};b.prototype.Ea=function(a){var b=this.ga();if(null!==b&&!b.Pj(a)||null!==a&&!a.Pj(b))_geo.geotoolkit.scene.Group.prototype.Ea.call(this,a),this.Hqb();return this};b.prototype.ie=function(a){var b=this.options.sliceshift.index;if(Array.isArray(b)&&0===b.length||!this.options.sliceshift.offsets.some(function(a){return 0<a}))return _geo.geotoolkit.scene.Group.prototype.ie.call(this,a);var b=_geo.geotoolkit.renderer.Bb.stc(a,this.Xa()),c=this.ga();null!=
c&&(c=c.clone(),c.fe(Math.max.apply(null,this.options.sliceshift.offsets)));return!0===this.ib()&&_geo.geotoolkit.scene.shapes.Shape.bW(c,this.Yb(),a.qj(),b)};b.prototype.Sa=function(a){var b=this.xa();if(null!==b&&!b.Pj(a)||null!==a&&!a.Pj(b))_geo.geotoolkit.scene.Group.prototype.Sa.call(this,a),this.Hqb();return this};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.Group.prototype.ka.call(this);_geo.geotoolkit.Sb(this.options,a);return a};b.prototype.ja=function(a){if(null==a)return this;
_geo.geotoolkit.Sb(a,this.options);a=_geo.geotoolkit.rc(a);_geo.geotoolkit.scene.Group.prototype.ja.call(this,a);this.Ixc();return this};b.prototype.sEc=function(){return null==this.slices||null==this.slices.length?0:this.slices.length};b.prototype.qEc=function(a){var b=this.slices[a];return null==b?null:{label:b.qOb,value:b.value,percentage:b.SJc,color:this.options.fillstyles[a],angleDegStart:b.GGa,angleDegEnd:b.FGa}};b.prototype.pMc=function(a,b,c){function d(a){null!==a&&(a=a.qg(),null!==a&&0>
e.indexOf(a)&&e.push(a))}var e=[],g;g=null!=this.parent?new _geo.geotoolkit.selection.am(this.parent.Ya()):new _geo.geotoolkit.selection.am;g.p4a(d,this,a,b,2);c&&this.QXb(e);return e};b.prototype.QXb=function(a,b){b||(this.nMb={});var c=this;a.forEach(function(a){c.nMb[a]=!0});this.ma();return this};b.prototype.dispose=function(){this.WLc();this.VLc();this.$bd();this.wka&&this.wka.hb(_geo.geotoolkit.data.$.vf,this.kLb);_geo.geotoolkit.scene.Group.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.shapes.nba=function(){function b(d){_geo.geotoolkit.scene.shapes.Shape.call(this,d);d=_geo.geotoolkit.Ca(d,{left:null,right:null,label:null,bounds:new _geo.geotoolkit.util.Rect(0,0,200,200),leftfillstyle:"rgba(128,100,255,1.0)",rightfillstyle:"rgba(128,100,255,1.0)",linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),leftlinestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),rightlinestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(0,0,0,1.0)",
pixelsnapmode:!0}),lefttextstyle:new _geo.geotoolkit.attributes.eb(a,"middle","left",g),righttextstyle:new _geo.geotoolkit.attributes.eb(a,"middle","right",g),labelposition:b.UKa.lb,spacing:.2,autogradient:!0,sort:_geo.geotoolkit.controls.shapes.nba.NKa.None,drawlabels:!1});this.QBa=d.sort;this.Ea(d.bounds);this.Yca=d.spacing;this.I_a=d.drawlabels;this.Ba=[];this.qp=[];this.c7=d.autogradient;this.o3a=d.labelposition;this.setData(d);this.gyb(d.righttextstyle);this.Exb(d.lefttextstyle);this.Dxb(d.leftlinestyle);
this.fyb(d.rightlinestyle);this.$va(d.leftfillstyle);this.fwa(d.rightfillstyle);this.ta(d.fillstyle);this.ua(d.linestyle)}var a="#757575",g="12px Roboto";_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.TornadoChart");_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Shape);b.NKa={kdc:"maxtomin",rdc:"mintomax",None:"none"};b.UKa={Qk:0,dr:1,lb:2};b.prototype.setData=function(a){if(null==a)return this;var b=a.left,c=a.right,g=a.label;null!=a.sort&&a.sort&&(this.QBa=a.sort);this.Ba=[];this.qp=[];if(null!=
b&&b instanceof Array&&null!=c&&c instanceof Array){for(a=0;a<b.length&&a<c.length;a++){var k=null;null!=g&&null!=g[a]&&(k=g[a]);this.Ba.push({left:b[a],right:c[a],label:k})}this.Lyb()}b=Number.NEGATIVE_INFINITY;for(a=0;a<this.qp.length;a++)this.qp[a].left>b&&(b=this.qp[a].left),this.qp[a].right>b&&(b=this.qp[a].right);this.$d=b===Number.NEGATIVE_INFINITY?new _geo.geotoolkit.util.Rect(0,0,1,1):new _geo.geotoolkit.util.Rect(-b,.5,b,this.qp.length+.5);this.X8c();return this};b.prototype.Lyb=function(){this.QBa===
_geo.geotoolkit.controls.shapes.nba.NKa.None?this.qp=this.Ba:(this.qp=this.Ba.slice(),this.QBa===_geo.geotoolkit.controls.shapes.nba.NKa.kdc?this.qp.sort(function(a,b){return b.left+b.right-(a.left+a.right)}):this.QBa===_geo.geotoolkit.controls.shapes.nba.NKa.rdc&&this.qp.sort(function(a,b){return a.left+a.right-(b.left+b.right)}))};b.prototype.X8c=function(){var a,b=[];for(a=0;a<this.qp.length;++a)b.push({position:a+1,grade:"MAJOR"});var c=[];for(a=0;a<this.qp.length;++a)c.push({position:a+1,grade:"MAJOR",
label:this.qp[a].label});this.oM={ticks:b,labels:c}};b.prototype.e8a=function(){return this.oM};b.prototype.Wma=function(a){this.c7!==a&&(this.c7=a,this.fwa(this.Bva),this.$va(this.Gua));return this};b.prototype.cta=function(){return this.c7};b.prototype.FUa=function(a){this.Yca=a;return this};b.prototype.YZ=function(){return this.Yca};b.prototype.JNc=function(a){this.I_a=a;if(!this.I_a){a=Number.NEGATIVE_INFINITY;for(var b=0;b<this.qp.length;b++)this.qp[b].left>a&&(a=this.qp[b].left),this.qp[b].right>
a&&(a=this.qp[b].right);this.$d=new _geo.geotoolkit.util.Rect(-a,.5,a,this.qp.length+.5)}return this};b.prototype.Hzc=function(){return this.I_a};b.prototype.du=function(a){this.o3a=a;return this};b.prototype.j9=function(){return this.o3a};b.prototype.getData=function(){return this.qp};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;this.yk(a);if(a.Gd())return a.ta(_geo.geotoolkit.attributes.Fa.Ui),a.zc(this.xa()),this;this.z5a(a);this.hk(a);return this};b.prototype.fyb=function(a,
b){if(this.W$a===a)return this;this.W$a=_geo.geotoolkit.attributes.Aa.ph(this,this.W$a,a,b,this.nc());this.Pa().ma();return this};b.prototype.Dxb=function(a,b){if(this.X8a===a)return this;this.X8a=_geo.geotoolkit.attributes.Aa.ph(this,this.X8a,a,b,this.nc());this.Pa().ma();return this};b.prototype.fwa=function(a,b){if(this.Bva===a)return this;this.Bva=_geo.geotoolkit.attributes.Fa.ph(this,this.Bva,a,b,this.nc());this.Pma=null;if(this.c7){var c,g,k;c=_geo.geotoolkit.util.oi.Ph(this.Bva.ac());g=new _geo.geotoolkit.util.aO(c);
g.Y2(-.1);g.iK(.1);c=g.jL();k=_geo.geotoolkit.util.oi.Ph(this.Bva.ac());g=new _geo.geotoolkit.util.aO(k);g.Y2(.1);g.iK(-.1);k=g.jL();g=k.ps();c=c.ps();k=k.ps();this.Pma=new _geo.geotoolkit.attributes.Yp;this.Pma.ePa();this.Pma.hm(0,g);this.Pma.hm(.5,c);this.Pma.hm(1,k);this.Pma.hna(new _geo.geotoolkit.util.na(0,0));this.Pma.setEndPoint(new _geo.geotoolkit.util.na(0,1))}this.Pa().ma();return this};b.prototype.RDc=function(){return this.W$a};b.prototype.MBc=function(){return this.X8a};b.prototype.Q7a=
function(){return this.Bva};b.prototype.m7a=function(){return this.Gua};b.prototype.$va=function(a,b){if(this.Gua===a)return this;this.Gua=_geo.geotoolkit.attributes.Fa.ph(this,this.Gua,a,b,this.nc());this.Xla=null;if(this.c7){var c,g,k;c=_geo.geotoolkit.util.oi.Ph(this.Gua.ac());g=new _geo.geotoolkit.util.aO(c);g.Y2(-.1);g.iK(.1);c=g.jL();k=_geo.geotoolkit.util.oi.Ph(this.Gua.ac());g=new _geo.geotoolkit.util.aO(k);g.Y2(.1);g.iK(-.1);k=g.jL();g=k.ps();c=c.ps();k=k.ps();this.Xla=new _geo.geotoolkit.attributes.Yp;
this.Xla.ePa();this.Xla.hm(0,g);this.Xla.hm(.5,c);this.Xla.hm(1,k);this.Xla.hna(new _geo.geotoolkit.util.na(0,0));this.Xla.setEndPoint(new _geo.geotoolkit.util.na(0,1))}this.Pa().ma();return this};b.prototype.Exb=function(a,b){if(this.Y8a===a)return this;this.Y8a=_geo.geotoolkit.attributes.eb.ph(this,this.Y8a,a,b,this.nc());this.Pa().ma();return this};b.prototype.gyb=function(a,b){if(this.X$a===a)return this;this.X$a=_geo.geotoolkit.attributes.eb.ph(this,this.X$a,a,b,this.nc());this.Pa().ma();return this};
b.prototype.z5a=function(a){if(!(0>=this.qp.length)){var b=a.Ra(),c=b.qe(a.$e()),b=b.ob(this.ga());a.ua(this.Xa());this.Igd(a,b);b=new _geo.geotoolkit.util.Ga;b.dwa(this.xa(),this.ga(),!1,!1,!1);var g=this.Gua,k=this.Bva;null!=this.Xla&&(g=this.Xla);null!=this.Pma&&(k=this.Pma);for(var h=this.qp.length,l=0;l<h;l++){var n=this.$d.qa()+(1*l+this.Yca/2*1),p=n+1*(1-this.Yca),r=new _geo.geotoolkit.util.Rect(-this.qp[l].left,n,0,p),n=new _geo.geotoolkit.util.Rect(0,n,this.qp[l].right,p);b.ob(r,r);b.ob(n,
n);c.intersects(r)&&(a.ua(this.X8a),a.ta(g,r),a.zc(r));c.intersects(n)&&(a.ua(this.W$a),a.ta(k,n),a.zc(n))}this.I_a&&this.yM(a,b);a.ua(this.Xa());c=this.bounds.sa()+this.bounds.aa()/2;a.Pd(c,this.bounds.qa(),c,this.bounds.wa())}};b.prototype.yM=function(a,b){var c=a.Ra(),g=_geo.geotoolkit.util.Ga.multiply(c,b);a.kc(new _geo.geotoolkit.util.Ga);a.wb(this.Y8a);a.Lk().textBaseline="middle";var k=null,h;for(h=0;h<this.VMa.length;h++)a.Lk().textAlign=this.VMa[h].align,k=g.cb(this.VMa[h].position),a.de(k.x,
k.y,this.VMa[h].label);a.wb(this.X$a);a.Lk().textBaseline="middle";for(h=0;h<this.SNa.length;h++)a.Lk().textAlign=this.SNa[h].align,k=g.cb(this.SNa[h].position),a.de(k.x,k.y,this.SNa[h].label);a.kc(c)};b.prototype.Igd=function(a,e){if(this.I_a){var c=!0;null!=this.VMa&&this.SNa?c=!1:(this.VMa=[],this.SNa=[]);var g=Number.NEGATIVE_INFINITY,k;for(k=0;k<this.qp.length;k++)this.qp[k].left>g&&(g=this.qp[k].left),this.qp[k].right>g&&(g=this.qp[k].right);var h=this.qp.length;for(k=0;k<h;k++){var l=e.aa()/
2,n=l/g*this.qp[k].left,p=this.hj(this.qp[k].left,"left"),r=_geo.geotoolkit.renderer.TextMetrics.measureText(p,this.Y8a),t=l/g*this.qp[k].right,q=this.hj(this.qp[k].right,"right"),m=_geo.geotoolkit.renderer.TextMetrics.measureText(q,this.X$a),u=new _geo.geotoolkit.util.na(-this.qp[k].left,k+1),v=new _geo.geotoolkit.util.na(this.qp[k].right,k+1),w="right",x="left";this.o3a===b.UKa.dr?(r.aa()+n>=l&&(r=r.aa()+n-l,n*=g/(n-r),n>g&&(g=n)),m.aa()+t>=l&&(r=m.aa()+t-l,n=g/(t-r)*t,n>g&&(g=n))):this.o3a===b.UKa.Qk?
c&&(r.width<n&&(w="left"),m.width<t&&(x="right")):this.o3a===b.UKa.lb&&c&&(r.width<n&&(u=new _geo.geotoolkit.util.na(0,k+1)),m.width<t&&(v=new _geo.geotoolkit.util.na(0,k+1)));c&&(this.VMa.push({label:p,position:u,align:w}),this.SNa.push({label:q,position:v,align:x}))}this.$d=new _geo.geotoolkit.util.Rect(-g,.5,g,this.qp.length+.5)}};b.prototype.hj=function(a){var b=100;null!=this.lE&&(b=this.lE);a=(Math.round(a*b)/b).toString();return" "+a+" "};b.prototype.xa=function(){return this.$d};b.prototype.uEc=
function(){return this.QBa};b.prototype.N5b=function(a){this.QBa=a;this.Lyb();return this};b.prototype.ga=function(){return null!=this.bounds?this.bounds:this.$d};b.prototype.Ea=function(a){this.bounds=a;this.ma();return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.limits=this.$d;a.bounds=this.bounds;a.lefttextstyle=this.Y8a;a.leftfillstyle=this.Gua;a.leftlinestyle=this.X8a;a.linestyle=this.pf;a.righttextstyle=this.X$a;a.rightlinestyle=this.W$a;a.rightfillstyle=this.Bva;a.data=
this.qp;a.autogradient=this.c7;a.spacing=this.Yca;a.sort=this.QBa;return a};b.prototype.ja=function(a){_geo.geotoolkit.Cc(this,a);a.hasOwnProperty("limits")&&(this.$d=a.limits);a.hasOwnProperty("bounds")&&(this.bounds=a.bounds);a.hasOwnProperty("lefttextstyle")&&this.Exb(a.lefttextstyle,!1===a.lefttextstyle instanceof _geo.geotoolkit.attributes.eb);a.hasOwnProperty("leftfillstyle")&&this.$va(a.leftfillstyle,!1===a.leftfillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("leftlinestyle")&&
this.Dxb(a.leftlinestyle,!1===a.leftlinestyle instanceof _geo.geotoolkit.attributes.Aa);a.hasOwnProperty("linestyle")&&this.ua(a.linestyle,!1===a.linestyle instanceof _geo.geotoolkit.attributes.Aa);a.hasOwnProperty("righttextstyle")&&this.gyb(a.righttextstyle,!1===a.righttextstyle instanceof _geo.geotoolkit.attributes.eb);a.hasOwnProperty("rightlinestyle")&&this.fyb(a.rightlinestyle,!1===a.rightlinestyle instanceof _geo.geotoolkit.attributes.Aa);a.hasOwnProperty("rightfillstyle")&&this.fwa(a.rightfillstyle,
!1===a.rightfillstyle instanceof _geo.geotoolkit.attributes.Fa);a.hasOwnProperty("data")&&this.setData(a.data);a.hasOwnProperty("autogradient")&&this.Wma(a.autogradient);a.hasOwnProperty("spacing")&&(this.Yca=a.spacing);a.hasOwnProperty("sort")&&this.N5b(a.sort);a.hasOwnProperty("left")&&a.hasOwnProperty("right")&&this.setData(a);return this};return b}();
_geo.geotoolkit.controls.shapes.s0=function(){function b(c,d){this.L2a=[];this.zi=null;this.it=(new _geo.geotoolkit.scene.shapes.lc).ke(!1);this.Lb=(new _geo.geotoolkit.scene.shapes.Text).pq(window.NaN).Wq(window.NaN).nga(!0).TI(!0).O$(!0).eu(!0).ke(!1);c=_geo.geotoolkit.Sb(c,{clipping:!0});_geo.geotoolkit.scene.Group.call(this,c);this.la={orientation:b.Mb.Zf,barmode:b.S5.AC,barvalues:{visible:!1,textstyle:new _geo.geotoolkit.attributes.eb,location:b.KQ.XKa,decimalprecision:2,rotationangle:0,margins:{anchorx:0,
anchory:0}},barwidth:5,barpad:5,barmaxwidth:null,autogradient:!1,ismissingvalue:g,createselectedstyle:a};this.nlb=0;this.B1a=!1;this.CB=[];this.ke(!1);this.setOptions(c);d&&this.setData(d);this.ke(!0)}function a(a){var b;a instanceof _geo.geotoolkit.attributes.Aa?(b=new _geo.geotoolkit.attributes.Aa,b.ja(a.ka()),b.qb(a.aa()+3)):a instanceof _geo.geotoolkit.attributes.Fa&&(b=new _geo.geotoolkit.attributes.Fa,a=a.ka(),delete a.fillpattern,b.ja(a));return b}function g(a){return null===a}function d(a,
b){var c,d,e;c=_geo.geotoolkit.util.oi.Ph(a.ac());d=new _geo.geotoolkit.util.aO(c);d.Y2(-.2);d.iK(.2);c=d.jL();e=_geo.geotoolkit.util.oi.Ph(a.ac());d=new _geo.geotoolkit.util.aO(e);d.Y2(.2);d.iK(-.2);e=d.jL();d=e.ps();c=c.ps();e=e.ps();var g=new _geo.geotoolkit.attributes.Yp;g.ePa();g.hm(0,d);g.hm(.5,c);g.hm(1,e);g.hna(new _geo.geotoolkit.util.na(0,0));b?g.setEndPoint(new _geo.geotoolkit.util.na(0,1)):g.setEndPoint(new _geo.geotoolkit.util.na(1,0));return g}function e(a,b){a[3]=b}function c(a,b){a[1]=
b}function f(a,b){a[2]=b}function k(a,b){a[0]=b}function h(a){return a[3]}function l(a){return a[2]}function n(a){return a[1]+a[3]}function p(a){return a[1]}function r(a){return a[0]+a[2]}function t(a){return a[0]}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.BarChart");b.S5={AC:"Default",WYa:"Stacked",i6:"Float"};b.yC={c1:"Raw",Jga:"Associative",fR:"Single"};b.KQ={XKa:"TopOutside",iZa:"TopInside",bWa:"BottomInside",lb:"Center"};b.Mb={Zf:"Bottom",
wd:"Left",Ub:"Top",$c:"Right"};b.prototype.setData=function(a){a.mode&&(this.wia=a.mode);this.wia||(this.wia=b.yC.Jga);var c=a.datasets;if(null!=c&&(c instanceof Array||(c=[c]),this.nlb=c.length,!this.zi)){for(var d=[],e=0;e<this.nlb;++e)d.push({linestyles:new _geo.geotoolkit.attributes.Aa({color:"darkgrey",width:1}),fillstyles:new _geo.geotoolkit.attributes.Fa({color:"lightgrey"})});this.gub(d)}this.Gxc(c,a.append);this.ma()};b.prototype.getData=function(){return{mode:this.wia,datasets:this.jv}};
b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{});_geo.geotoolkit.Sb(a,this.la);this.gub(this.la.barstyles);this.la.valuelimits&&(this.zd=this.la.valuelimits.minvalue,this.Fd=this.la.valuelimits.maxvalue);"boolean"==typeof this.la.neatlimits&&(this.B1a=this.la.neatlimits);this.la.barmode&&(this.xpa=this.la.barmode);this.la.barvalues&&(this.F2c=this.la.barvalues.visible,this.qib=this.la.barvalues.location,this.xLa=this.la.barvalues.decimalprecision,this.Gba=this.la.barvalues.rotationangle,
this.Lb.wb(this.la.barvalues.textstyle),this.la.barvalues.margins&&(this.rib=this.la.barvalues.margins));this.Gxc();this.ma();return this};b.prototype.rQc=function(a,b){this.zi||(this.zi={});var c=a.label,e=a[b];if(!this.zi[c]){if(!e)throw Error("No styles provided for the property: "+c);this.zi[c]={}}var g=this.gk(),f=this.zi[c],h,k;f[b]=[];c=f[b];if(e instanceof Array){if(2>e.length)throw Error("Array of "+b+" must contain _TWO_ elements");c.push(e[0].clone());c.push(e[1].clone())}else c.push(e.clone()),
c.push(e.clone());e="selected-"+b;f[e]=[];f=f[e];if(e=a[e])if(e instanceof Array){if(2>e.length)throw Error("Array of "+b+" must contain _TWO_ elements");f.push(e[0].clone());f.push(e[1].clone())}else f.push(e.clone()),f.push(e.clone());else f.push(this.la.createselectedstyle(c[0])),f.push(this.la.createselectedstyle(c[1]));f.push(h);f.push(k);"fillstyles"===b&&this.la.autogradient&&(c[0]=d(c[0],g),c[1]=d(c[1],g),f[0]=d(f[0],g),f[1]=d(f[1],g))};b.prototype.gub=function(a){if(a)for(var b=0;b<a.length;++b){var c=
a[b];c.label||(c.label=b.toString());var d;if(Array.isArray(c.linestyles))for(d=0;d<c.linestyles.length;d++)c.linestyles[d]=_geo.geotoolkit.attributes.Aa.ab(c.linestyles[d]);else c.linestyles=_geo.geotoolkit.attributes.Aa.ab(c.linestyles);if(Array.isArray(c.fillstyles))for(d=0;d<c.fillstyles.length;d++)c.fillstyles[d]=_geo.geotoolkit.attributes.Fa.ab(c.fillstyles[d]);else c.fillstyles=_geo.geotoolkit.attributes.Fa.ab(c.fillstyles);this.rQc(c,"linestyles");this.rQc(c,"fillstyles")}};b.prototype.Eed=
function(){return this.xpa===b.S5.WYa?this.la.barwidth:this.la.barwidth*this.nlb};b.prototype.t4=function(){return this.la.orientation===b.Mb.Ub||this.la.orientation===b.Mb.Zf};b.prototype.gk=function(){return this.la.orientation===b.Mb.wd||this.la.orientation===b.Mb.$c};b.cfd=function(a,b){return _geo.geotoolkit.util.Math.Hs(a,b,!1,!1).gb()};b.bfd=function(a,b){return _geo.geotoolkit.util.Math.Hs(a,b,!1,!1).nb()};b.prototype.BFc=function(a){a||(a=this.pV);if(!a)return[];if(!this.la.valuelimits&&
!this.B1a)return[a.min,a.max];var b=!1,c=null;null!=this.zd&&(c="function"==typeof this.zd?this.zd(a.min,a.max):this.zd,b=!0);null===c&&(c=a.min);var d=null;null!=this.Fd&&(d="function"==typeof this.Fd?this.Fd(a.min,a.max):this.Fd,b=!0);null===d&&(d=a.max);d<c&&(a=d,d=c,c=a);this.B1a&&!b&&(b=_geo.geotoolkit.util.Math.Hs(c,d,!1,!1),c=b.gb(),d=b.nb());return[c,d]};b.prototype.Gxc=function(a,c){if(a)if(this.jv&&c)for(var d=0;d<a.length;++d)this.jv[d].values=this.jv[d].values.concat(a[d].values);else this.jv=
a;else{if(!this.jv){null!=this.zd&&null!=this.Fd&&(this.gk()?this.Sa(new _geo.geotoolkit.util.Rect(this.zd,0,this.Fd,1)):this.Sa(new _geo.geotoolkit.util.Rect(0,this.zd,1,this.Fd)));return}a=this.jv;c=!1}this.wia===b.yC.c1&&this.G$c(a);var d=this.o7b(a),e=this.BFc(d),g=this.Eed(),f=d.data.length,h=0;if(this.pV&&c){h=this.BFc(this.pV);e[0]=Math.min(e[0],h[0]);e[1]=Math.max(e[1],h[1]);var k=this.pV.data.length,h=k+this.la.barpad/(g+this.la.barpad),f=f+k}f+=this.la.barpad/(g+this.la.barpad);this.f7=
this.la.barwidth/(g+this.la.barpad);this.Vjc=this.la.barpad/(g+this.la.barpad);this.ke(!1);g=-(g/2)/(this.la.barpad+g);k=g-this.Vjc;this.gk()?this.Sa(new _geo.geotoolkit.util.Rect(e[0],k,e[1],f+k)):this.Sa(new _geo.geotoolkit.util.Rect(k,e[0],f+k,e[1]));this.Q$c(d,0===h?g:k+h,c);this.ke(!0)};b.prototype.G$c=function(a){var b,c,d;for(b=0;b<a.length;b++){d=a[b];d.values instanceof Array||(d.values=[d.values]);var e=[],g={},f=0;for(c=0;c<d.values.length;c++){var h=[d.values[c]];null==g[h]&&(g[h]=f,f++);
null==e[g[h]]?(e[g[h]]={},e[g[h]][h]=1):e[g[h]][h]++}d.values=e}};b.prototype.o7b=function(a){var c,d,e,g,f=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,k={};for(c=0;c<a.length;c++)for(e=a[c],d=0;d<e.values.length;d++){var l=e.values[d];this.xpa===b.S5.i6?(f=Math.min(l[0],l[1],f),h=Math.max(l[0],l[1],h)):(f=Math.min(l,f),h=Math.max(l,h));k.hasOwnProperty(d)||(k[d]={haa:[]});k[d].haa.push(l)}a=[];for(g in k)if(k.hasOwnProperty(g)&&(d=k[g],a.push({vzd:g,haa:d.haa}),this.xpa===b.S5.WYa)){for(c=
l=e=0;c<d.haa.length;c++)0<=d.haa[c]?e+=d.haa[c]:l+=d.haa[c];h=Math.max(e,h);f=Math.min(l,f)}f=Math.floor(f);h=Math.ceil(h);return{min:f,max:h,data:a}};b.prototype.Q$c=function(a,c,d){for(var e=this.gk(),g=this.xpa===b.S5.WYa,f=this.xpa===b.S5.i6,h=a.data,k=null!=this.la.barmaxwidth&&!(0,window.isNaN)(this.la.barmaxwidth),l=0;l<h.length;l++){var n=h[l];n.Vq=[];for(var p=0,r=0,t=0;t<this.nlb;t++){k&&(this.CB[t]=[]);var H=n.haa[t],G=this.la.ismissingvalue(H);if(G)g||(c+=this.f7),n.Vq.push(null);else{var J=
0,G=H;g?(J=t-1,0<=J&&(0>n.haa[J]?r+=n.haa[J]:p+=n.haa[J]),J=0>H?r:p):f&&(J=H[0],G=H[1]-H[0]);var I;e?(H=J,J=c,I=G,G=this.f7):(H=c,I=this.f7);n.Vq.push([H,J,I,G]);g||(c+=this.f7)}}g&&(c+=this.f7);c+=this.Vjc}d&&this.pV?(this.pV.data=this.pV.data.concat(a.data),this.pV.min=Math.min(this.pV.min,a.min),this.pV.max=Math.max(this.pV.max,a.max)):this.pV=a};b.prototype.mwa=function(){var a=_geo.geotoolkit.util.Da;if(this.gk())switch(this.qib){case b.KQ.XKa:a=this.Gba?a.Og:a.We;break;case b.KQ.iZa:a=this.Gba?
a.Ei:a.Ng;break;case b.KQ.bWa:a=this.Gba?a.Og:a.We;break;default:a=a.lb;break}else switch(this.qib){case b.KQ.XKa:a=this.Gba?a.Ng:a.Og;break;case b.KQ.iZa:a=this.Gba?a.We:a.Ei;break;case b.KQ.bWa:a=this.Gba?a.Ng:a.Og;break;default:a=a.lb;break}this.Lb.Cd(a)};b.prototype.ETa=function(a,b,c){function d(a){a instanceof _geo.geotoolkit.scene.shapes.lc&&(a=a.qg())&&a instanceof _geo.geotoolkit.controls.data.Cgb&&e.push(a)}var e=[],g=new _geo.geotoolkit.selection.am(this.Ya());g.p4a(d,this,a,b,2);c&&(this.L2a=
e.slice(0),this.ma());return e};b.prototype.WRa=function(a,b){a=0<a.length?a.slice(0):[];b?this.L2a.concat(a):this.L2a=a;this.ma();return this};b.prototype.Qs=function(a){"function"==typeof a&&this.SPa!==a&&(this.SPa=a);return this};b.prototype.qLc=function(a,c,d,e,g,f){this.it.zb(c[0],c[1],c[0]+c[2],c[1]+c[3]);if(a.filter(this.it)){d&&(this.it.Tp(new _geo.geotoolkit.controls.data.Cgb(e,g)),a.El(this.it));c="linestyles";d="fillstyles";for(var h=0;h<this.L2a.length;++h){var k=this.L2a[h];if(k.OWb()===
e&&k.IWb()===g){c="selected-linestyles";d="selected-fillstyles";break}}f=this.zi[f[e]];e=0;this.wia===b.yC.fR?(f=Object.keys(this.zi).length,g=g<f?g:f-1,this.it.ua(this.zi[g][c][e]),this.it.ta(this.zi[g][d][e])):(this.it.ua(f[c][e]),this.it.ta(f[d][e]));this.it.render(a);return!0}return!1};b.prototype.PGa=function(a,c,d,e){var g=c[0],f=c[1],h=c[2];c=c[3];var k,l;if(this.gk()){l=f+c/2;switch(this.qib){case b.KQ.XKa:k=g+h;break;case b.KQ.iZa:k=g+h;break;case b.KQ.bWa:k=g;break;default:k=g+h/2;break}g=
this.xpa===b.S5.i6?(0,window.parseFloat)(h.toFixed(this.xLa)):0>g?(0,window.parseFloat)("-"+h.toFixed(this.xLa)):(0,window.parseFloat)(h.toFixed(this.xLa));this.SPa&&(g=this.SPa(g,d,e,h))}else{k=g+h/2;switch(this.qib){case b.KQ.XKa:l=f+c;break;case b.KQ.iZa:l=f+c;break;case b.KQ.bWa:l=f;break;default:l=f+c/2;break}g=this.xpa===b.S5.i6?(0,window.parseFloat)(c.toFixed(this.xLa)):0>f?(0,window.parseFloat)("-"+c.toFixed(this.xLa)):(0,window.parseFloat)(c.toFixed(this.xLa));this.Ojb&&(g=this.Ojb(g,d,e,
c))}this.Lb.jc(g);l+=this.rib.anchory?Math.abs(a.yr().Pb())*this.rib.anchory:0;k+=this.rib.anchorx?Math.abs(a.yr().Ab())*this.rib.anchorx:0;this.Lb.yc(k,l);this.Gba&&this.Lb.rotate(this.Gba,k,l);this.Lb.render(a);this.Gba&&this.Lb.rotate(-this.Gba,k,l)};b.prototype.Qh=function(a){this.yk(a);for(var d=a.Gd(),g=this.Uc(),v=0;v<g;v++){var w=this.vc(v);a.filter(w)&&(d&&a.El(w),w.render(a))}if(this.pV&&0<this.pV.data.length){var x=a.Ra(),g=this.pV.data,v=this.gk(),w=this.xpa===b.S5.WYa,A=this.wia===b.yC.fR;
(d=this.F2c&&!d)&&this.mwa();var z=Object.getOwnPropertyNames(this.zi),C=a.qj(),D;v?(D=C.qa(),C=C.wa()):(D=C.sa(),C=C.za());var E=g[0].Vq[0],F=g[0].Vq.length,K=0,H=0,G=this.la.barmaxwidth,F=F/2;if(null!=G&&!(0,window.isNaN)(G)){var J;v?(J=_geo.geotoolkit.util.Math.MI(_geo.geotoolkit.util.Ec.Ok(0,h(E),x),2),J>G&&(K=_geo.geotoolkit.util.Ec.oc(0,G,x),H=h(E)-K,w||A||(E=_geo.geotoolkit.util.Math.MI(_geo.geotoolkit.util.Ec.Ok(0,p(E)+H,x),2),E-=F*G,0<E&&(H=_geo.geotoolkit.util.Ec.oc(0,E,x)+H)))):(J=_geo.geotoolkit.util.Math.MI(_geo.geotoolkit.util.Ec.Ok(l(E),
0,x),2),J>G&&(K=_geo.geotoolkit.util.Ec.oc(G,0,x),H=l(E)-K,w||A||(E=_geo.geotoolkit.util.Math.MI(_geo.geotoolkit.util.Ec.Ok(t(E)+H,0,x),2),E-=F*G,0<E&&(H=_geo.geotoolkit.util.Ec.oc(E,0,x)+H))))}for(x=0;x<g.length;++x){for(var E=g[x],I=0;I<E.Vq.length;++I)F=E.Vq[I],null!==F&&(null!=G&&!(0,window.isNaN)(G)&&0<H?(v?(w||A?c(this.CB[I],p(E.Vq[I])+H/2):0===I?c(this.CB[I],p(E.Vq[I])+H):c(this.CB[I],p(this.CB[I-1])+h(this.CB[I-1])),e(this.CB[I],K),k(this.CB[I],t(E.Vq[I])),f(this.CB[I],l(E.Vq[I]))):(w||A?
k(this.CB[I],t(E.Vq[I])+H/2):0===I?k(this.CB[I],t(E.Vq[I])+H):k(this.CB[I],t(this.CB[I-1])+l(this.CB[I-1])),f(this.CB[I],K),c(this.CB[I],p(E.Vq[I])),e(this.CB[I],h(E.Vq[I]))),this.qLc(a,this.CB[I],a.Gd(),I,x,z),d&&(v?(J=p(this.CB[I]),F=n(this.CB[I])):(J=t(this.CB[I]),F=r(this.CB[I])),D<=F&&C>=J&&this.PGa(a,this.CB[I],x,I))):this.qLc(a,F,a.Gd(),I,x,z));if(d&&0>=H)for(I=0;I<E.Vq.length;++I){var O=E.Vq[I];null!==O&&(v?(J=p(O),F=n(O)):(J=t(O),F=r(O)),D<=F&&C>=J&&this.PGa(a,O,x,I))}}}this.hk(a)};return b}();
_geo.geotoolkit.controls.shapes.qxa=function(){function b(a){a||(a={});a=_geo.geotoolkit.Ca(a,{left:"number"===typeof a.left?a.left:0,width:"number"===typeof a.width?a.width:1,whiskerswidth:"number"===typeof a.whiskerswidth?a.whiskerswidth:1,min:"number"===typeof a.min?a.min:0,max:"number"===typeof a.max?a.max:1,median:"number"===typeof a.median?a.median:1,firstquartile:"number"===typeof a.firstquartile?a.firstquartile:1,thirdquattile:"number"===typeof a.thirdquattile?a.thirdquattile:1,isoutliersvisible:"boolean"===
typeof a.isoutliersvisible?a.isoutliersvisible:!0,ishorizontal:"boolean"===typeof a.ishorizontal?a.ishorizontal:!1,linestyle:a.linestyle instanceof _geo.geotoolkit.attributes.Aa?a.linestyle:null,connectedlinepattern:Array.isArray(a.connectedlinepattern)||null==a.connectedlinepattern?a.connectedlinepattern:_geo.geotoolkit.attributes.Aa.qH.RYa,primaryfillstyle:a.primaryfillstyle instanceof _geo.geotoolkit.attributes.Fa?a.primaryfillstyle:null});a.primaryfillstyle=_geo.geotoolkit.attributes.Fa.ab(a.primaryfillstyle);
a.secondaryfillstyle=_geo.geotoolkit.attributes.Fa.ab(a.secondaryfillstyle)||a.primaryfillstyle;_geo.geotoolkit.scene.shapes.rl.call(this,a);this.bq=a.left;this.bh=a.width;this.zCa=a.whiskerswidth>a.width?a.width:a.whiskerswidth;this.xh=a.min;this.fi=a.max;this.yY=a.median;this.HJ=a.firstquartile;this.hP=a.thirdquartile;this.kE=a.ishorizontal;this.uqa=a.isoutliersvisible;this.IY=a.primaryfillstyle;this.WR=a.secondaryfillstyle;this.PLa=a.connectedlinepattern;this.Fqa=a.linestyle;this.Rb=this.kE?new _geo.geotoolkit.util.Rect(this.xh,
this.bq,this.fi,this.bq+this.bh):new _geo.geotoolkit.util.Rect(this.bq,this.xh,this.bq+this.bh,this.fi)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.rl);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.Box");b.prototype.ga=function(){return this.Rb.Mi()};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;a.El(this);var b=a.Ra(),d,e,c,f,k;k=7;var h=this.ga(),l=this.hP-this.HJ,n=this.Xa().WI(null);a.ua(n);this.yk(a);a.Gd()&&(a.ta(_geo.geotoolkit.attributes.Fa.Ui),a.zc(h));!0!==
this.kE?(d=this.bq,e=this.xh,c=this.bh,f=this.zCa,f=(c-f)/2,k=c/k,b=Math.abs(b.wS()/b.k9()),this.HJ-this.xh>1.5*l&&this.uqa&&(a.ta(this.WR,h),a.po(d+(c-k)/2,e-b*k/2,k,b*k),e=this.HJ-1.5*l),this.fi-this.hP>1.5*l&&this.uqa&&(a.ta(this.IY,h),a.po(d+(c-k)/2,this.fi-b*k/2,k,b*k),this.fi=this.hP+1.5*l),a.Pd(d+f,e,d+c-f,e),a.ta(this.WR,h),a.zc(d,this.HJ,c,this.yY-this.HJ),a.ta(this.IY,h),a.zc(d,this.yY,c,this.hP-this.yY),a.Pd(d,this.yY,d+c,this.yY),a.Pd(d+f,this.fi,d+c-f,this.fi),a.ua(n.WI(this.PLa)),a.Pd(d+
c/2,e,d+c/2,this.HJ),a.Pd(d+c/2,this.hP,d+c/2,this.fi)):(d=this.xh,e=this.bq,c=this.bh,f=this.zCa,f=(c-f)/2,k=c/k,b=Math.abs(b.k9()/b.wS()),this.HJ-this.xh>1.5*(this.hP-this.HJ)&&this.uqa&&(a.ta(this.WR),a.po(d-b*k/2,e+(c-k)/2,b*k,k),d=this.HJ-1.5*(this.hP-this.HJ)),this.fi-this.hP>1.5*(this.hP-this.HJ)&&this.uqa&&(a.ta(this.IY),a.po(this.fi-b*k/2,e+(c-k)/2,b*k,k),this.fi=this.hP+1.5*(this.hP-this.HJ)),a.Pd(d,e+f,d,e+c-f),a.ta(this.WR),a.zc(this.HJ,e,this.yY-this.HJ,c),a.ta(this.IY),a.zc(this.yY,
e,this.hP-this.yY,c),a.Pd(this.yY,e,this.yY,e+c),a.Pd(this.fi,e+f,this.fi,e+c-f),a.ua(n.WI(this.PLa)),a.Pd(d,e+c/2,this.HJ,e+c/2),a.Pd(this.hP,e+c/2,this.fi,e+c/2));this.hk(a)};b.prototype.setData=function(a){a&&(this.bq="number"===typeof a.left?a.left:this.bq,this.bh="number"===typeof a.width?a.width:this.bh,this.zCa="number"===typeof a.whiskerswidth?a.whiskerswidth:this.zCa,this.zCa>this.bh&&(this.zCa=this.bh),this.xh="number"===typeof a.min?a.min:this.xh,this.fi="number"===typeof a.max?a.max:this.fi,
this.HJ="number"===typeof a.firstquartile?a.firstquartile:this.HJ,this.yY="number"===typeof a.median?a.median:this.yY,this.hP="number"===typeof a.thirdquartile?a.thirdquartile:this.hP,this.Rb=this.kE?new _geo.geotoolkit.util.Rect(this.xh,this.bq,this.fi,this.bq+this.bh):new _geo.geotoolkit.util.Rect(this.bq,this.xh,this.bq+this.bh,this.fi),this.Pa())};b.prototype.getData=function(){return{left:this.bq,width:this.bh,whiskerswidth:this.zCa,min:this.xh,firstquartile:this.HJ,median:this.yY,thirdquartile:this.hP,
max:this.fi}};b.prototype.X4b=function(a){this.uqa="boolean"===typeof a?a:this.uqa;this.ma();return this};b.prototype.bDc=function(){return this.uqa};b.prototype.w3b=function(a){this.Rb=(this.kE="boolean"===typeof a?a:this.kE)?new _geo.geotoolkit.util.Rect(this.xh,this.bq,this.fi,this.bq+this.bh):new _geo.geotoolkit.util.Rect(this.bq,this.xh,this.bq+this.bh,this.fi);this.ma();return this};b.prototype.gk=function(){return this.kE};b.prototype.vUa=function(a){if(this.IY===a)return this;null!=this.IY&&
this.Kq(this.IY,_geo.geotoolkit.scene.Node.$.Wc,this.nc());this.IY=_geo.geotoolkit.attributes.Fa.ab(a);this.ma();null!=this.IY&&this.Wj(this.IY,_geo.geotoolkit.scene.Node.$.Wc,this.nc());return this};b.prototype.sDc=function(){return this.IY};b.prototype.DUa=function(a){if(this.WR===a)return this;null!=this.WR&&this.Kq(this.WR,_geo.geotoolkit.scene.Node.$.Wc,this.nc());this.WR=_geo.geotoolkit.attributes.Fa.ab(a);this.WR=null==this.WR?this.IY:this.WR;this.ma();null!=this.WR&&this.Wj(this.WR,_geo.geotoolkit.scene.Node.$.Wc,
this.nc());return this};b.prototype.eEc=function(){return this.WR};b.prototype.p2b=function(a){this.PLa=a instanceof Array||null==a?a:this.PLa;this.ma();return this};b.prototype.Oyc=function(){return this.PLa};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,a);a.hasOwnProperty("primaryfillstyle")&&this.vUa(a.primaryfillstyle);a.hasOwnProperty("secondaryfillstyle")&&this.DUa(a.secondaryfillstyle);a.hasOwnProperty("connectedlinepattern")&&this.p2b(a.connectedlinepattern);
a.hasOwnProperty("isoutliersvisible")&&this.X4b(a.isoutliersvisible);a.hasOwnProperty("ishorizontal")&&this.w3b(a.ishorizontal);return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.primaryfillstyle=this.IY;a.secondaryfillstyle=this.WR;a.connectedlinepattern=this.PLa;a.ishorizontal=this.kE;a.isoutliersvisible=this.uqa;return a};return b}();
_geo.geotoolkit.controls.shapes.coa=function(){function b(g,d){this.wJ=(new _geo.geotoolkit.controls.shapes.qxa).ke(!1);this.Lb=(new _geo.geotoolkit.scene.shapes.Text).pq(window.NaN).Wq(window.NaN).nga(!0).TI(!0).O$(!0).eu(!0).ke(!1);_geo.geotoolkit.scene.shapes.rl.call(this,g);this.la={boxvalues:{visible:!0,suppress:!1,textstyle:new _geo.geotoolkit.attributes.eb,location:null,verticaloffset:0,horizontaloffset:0,decimalprecision:2},boxwidth:1,boxpad:2,whiskerswidth:1,linestyle:new _geo.geotoolkit.attributes.Aa({color:"grey",
width:1,pixelsnapmode:{x:!0,y:!0}}),primaryfillstyle:new _geo.geotoolkit.attributes.Fa({color:"lightblue"}),secondaryfillstyle:new _geo.geotoolkit.attributes.Fa({color:"lightgreen"}),orientation:b.Mb.$b,connectedlinepattern:_geo.geotoolkit.attributes.Aa.qH.RYa,isoutliersvisible:!1,ismissingvalue:a};null==this.la.whiskerswidth&&(this.la.whiskerswidth=this.la.boxwidth);this.YGb=this.la.boxvalues.visible;this.WGb=this.la.boxvalues.suppress;this.UGb=this.la.boxvalues.location;this.VGb=this.la.boxvalues.decimalprecision;
this.XGb=this.la.boxvalues.verticaloffset;this.ZGb=this.la.boxvalues.horizontaloffset;this.F1=this.la.boxwidth;this.TGb=this.la.boxpad;this.JNb=this.la.whiskerswidth;this.Fd=this.zd=null;this.wia=b.yC.c1;this.FHb=this.Bca=0;this.mia=[];this.eg=[];this.rY=[];this.Bca=0;this.jv=this.ai=null;this.c_a=0;this.FJb=!0;this.mmc=!1;this.znb=[];this.ke(!1);this.setOptions(g);d&&this.setData(d);this.ke(!0)}function a(a){return null===a}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.rl);_geo.geotoolkit.da(b,
"geotoolkit.controls.shapes.BoxPlot");b.yC={c1:"Raw",Jga:"Associative"};b.Mb={ic:"Horizontal",$b:"Vertical"};b.NIa={Ub:"Top",bdb:"Below",wd:"Left",$c:"Right"};b.prototype.ga=function(){return this.ai};b.prototype.setData=function(a){a=_geo.geotoolkit.Ca(a,{mode:b.yC.Jga,datasets:null});this.wia=a.mode;a=a.datasets;null!==a&&(Array.isArray(a)||(a=[a]),this.Bca=a.length);this.JSb(a);this.Pa().ma();return this};b.prototype.setOptions=function(a){a=_geo.geotoolkit.Ca(a,{});_geo.geotoolkit.Sb(a,this.la);
this.la.linestyle=_geo.geotoolkit.attributes.Aa.ab(this.la.linestyle);this.la.valuelimits&&(this.zd=this.la.valuelimits.minvalue,this.Fd=this.la.valuelimits.maxvalue,this.mmc=this.la.valuelimits.neatlimits);this.la.boxvalues&&(this.YGb=this.la.boxvalues.visible,this.WGb=this.la.boxvalues.suppress,this.UGb=this.la.boxvalues.location,this.VGb=this.la.boxvalues.decimalprecision,this.XGb=this.la.boxvalues.verticaloffset,this.ZGb=this.la.boxvalues.horizontaloffset,this.Lb.wb(this.la.boxvalues.textstyle));
this.FJb=!(a.fixedboxwidth||!(this.FJb||a.boxwidth||a.boxpad||a.whiskerswidth));this.JSb();this.ma();return this};b.prototype.gk=function(){return this.la.orientation===b.Mb.ic};b.prototype.rjd=function(a){var b,e=0;for(b=0;b<a.length;b++)0===a[b].values.length||Array.isArray(a[b].values[0])||(a[b].values=[a[b].values]),a[b].values.length>e&&(e=a[b].values.length);this.FHb=e};b.prototype.Bgd=function(a){return function(b,e,c){var f=b=null,k=0,h=null,l=0;if(c.data instanceof _geo.geotoolkit.util.ZN)b=
c.data,b.C5a(function(b,c){for(var d=c.length,e=0;e<d;e++)if(h=c[e].data?c[e].data:c[e].root?c[e].root:c[e].child,l=this.rY[a].length,h instanceof _geo.geotoolkit.data.Or||h instanceof _geo.geotoolkit.data.nH)c[e].event===_geo.geotoolkit.data.Yl.$.br&&(f=h.toArray(!0),f=this.aPa(f),this.rY[a][l]=h,this.jv[a].values[l]=f),c[e].event===_geo.geotoolkit.data.Yl.$.Us&&(k=this.rY[a].indexOf(h),this.rY[a].splice(k,1),this.jv[a].values.splice(k,1)),c[e].event===_geo.geotoolkit.data.$.vf&&d===e+1&&(k=this.rY[a].indexOf(h),
f=h.toArray(!0),f=this.aPa(f),this.jv[a].values[k]=f)}.bind(this));else{h=c.data?c.data:c.root?c.root:c.child;l=this.rY[a].length;if(!(h instanceof _geo.geotoolkit.data.Or||h instanceof _geo.geotoolkit.data.nH))return;c.event===_geo.geotoolkit.data.Yl.$.br&&(f=h.toArray(!0),f=this.aPa(f),this.rY[a][l]=h,this.jv[a].values[l]=f);c.event===_geo.geotoolkit.data.Yl.$.Us&&(k=this.rY[a].indexOf(h),this.rY[a].splice(k,1),this.jv[a].values.splice(k,1));c.event===_geo.geotoolkit.data.$.vf&&(k=this.rY[a].indexOf(h),
f=h.toArray(!0),f=this.aPa(f),this.jv[a].values[k]=f)}this.JSb();this.ma()}.bind(this)};b.prototype.aPa=function(a){var b=a.length;a.sort(function(a,b){return a-b});return a=[a[0],a[Math.floor(b/4)],a[Math.floor(b/2)],a[Math.floor(3*b/4)],a[b-1]]};b.prototype.qmd=function(a){var b,e,c,f,k;this.eg=[];this.rY=[];for(b=0;b<a.length;b++)if(a[b].datasource)for(this.rY[b]=[],this.eg[b]=a[b].datasource,this.znb[b]=this.Bgd(b),this.eg[b].kb(_geo.geotoolkit.data.B0.$.Jha,this.znb[b]),f=this.eg[b].Uc(),e=0;e<
f;e++){k=this.eg[b].vc(e);if(k instanceof _geo.geotoolkit.data.Or||k instanceof _geo.geotoolkit.data.nH)this.rY[b][e]=k,c=k.toArray(!0);c&&0!==c.length&&(c=this.aPa(c),null==a[b].values&&(a[b].values=[]),a[b].values[e]=c)}else for(0===a[b].values.length||Array.isArray(a[b].values[0])||(a[b].values=[a[b].values]),e=0;e<a[b].values.length;e++)c=a[b].values[e],null!=c&&(c=this.aPa(c),a[b].values[e]=c)};b.prototype.Sa=function(a){this.ai=a;this.Ja(_geo.geotoolkit.scene.Node.$.ss,this);this.ma();return this};
b.prototype.xa=function(){return this.ai};b.prototype.vDc=function(){return this.jv};b.prototype.JSb=function(a){if(a)this.wia===b.yC.c1&&this.qmd(a),this.jv=a;else{if(!this.jv)return;a=this.jv}this.rjd(a);a=this.o7b(a);this.xod(a);this.ke(!0)};b.prototype.u9c=function(){var a=10;this.F1=1/(this.Bca+this.la.boxpad/this.la.boxwidth+(this.Bca-1)/a);this.TGb=this.F1*this.la.boxpad/this.la.boxwidth;this.JNb=this.F1*this.la.whiskerswidth/this.la.boxwidth;this.c_a=this.F1/a};b.prototype.$Ob=function(a){a=
a.Ra();a=this.gk()?a.Pb():a.Ab();var b=_geo.geotoolkit.util.zf.Za(),e=b.gta(),c=b.Tb("in"),f;this.la.boxwidthunit&&(f=b.Tb(this.la.boxwidthunit,null,!0));f||(f=b.Tb("in"));f=f.convert(this.la.fixedboxwidth,c);this.F1=f*e/Math.abs(a);this.c_a=2/Math.abs(a);this.TGb=1-(this.F1*this.Bca+this.c_a*(this.Bca-1));this.JNb=this.F1};b.prototype.xod=function(a){var b=this.FHb;this.ke(!1);var e=-.5;this.gk()?this.Sa(new _geo.geotoolkit.util.Rect(a.gb(),e,a.nb(),b+e)):this.Sa(new _geo.geotoolkit.util.Rect(e,
a.gb(),b+e,a.nb()))};b.prototype.o7b=function(a){var b,e,c,f=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;for(b=0;b<a.length;b++)for(c=a[b],e=0;e<c.values.length;e++){var h=c.values[e];null!==h&&(f=Math.min(h[0],f),k=Math.max(h[4],k))}f=Math.floor(f);k=Math.ceil(k);this.la.valuelimits&&(null!==this.zd&&this.zd<=f&&(f=this.zd),null!==this.Fd&&this.Fd>=k&&(k=this.Fd));a=new _geo.geotoolkit.util.Range(f,k);this.mmc&&(a=_geo.geotoolkit.util.Math.Hs(f,k));return a};b.prototype.R$c=function(a){this.mia=
[];for(var b=this.jv,e,c,f=0,k=a;f<this.FHb;f++){this.mia[f]=[];for(var h=0;h<this.Bca;h++)a=null,e=b[h].values[f],(c=this.la.ismissingvalue(e))?this.mia[f][h]=null:(b[h].fillstyle&&(a=Array.isArray(b[h].fillstyle)?1===b[h].fillstyle.length?b[h].fillstyle[0]:b[h].fillstyle[f]:b[h].fillstyle),this.mia[f][h]=[k,e,a]),k+=this.F1,h!==this.Bca-1&&(k+=this.c_a);k+=this.TGb}};b.prototype.ocb=function(){var a=_geo.geotoolkit.util.Da;if(this.gk())switch(this.UGb){case b.NIa.$c:a=a.We;break;case b.NIa.wd:a=
a.Ng;break;default:a=a.We;break}else switch(this.UGb){case b.NIa.Ub:a=a.Og;break;case b.NIa.bdb:a=a.Ei;break;default:a=a.Og;break}this.Lb.Cd(a)};b.prototype.qnd=function(a,b){var e,c={ishorizontal:this.gk(),isoutliersvisible:this.la.isoutliersvisible,connectedlinepattern:this.la.connectedlinepattern};return null!=b[1]&&(e={left:b[0],width:this.F1,whiskerswidth:this.JNb,min:b[1][0],firstquartile:b[1][1],median:b[1][2],thirdquartile:b[1][3],max:b[1][4]},this.wJ.setData(e),this.wJ.ja(c),a.filter(this.wJ))?
(this.wJ.ua(this.la.linestyle),b[2]?b[2]instanceof _geo.geotoolkit.attributes.Fa?(this.wJ.vUa(b[2]),this.wJ.DUa(b[2])):(this.wJ.vUa(b[2].primaryfillstyle),this.wJ.DUa(b[2].secondaryfillstyle)):(this.wJ.vUa(this.la.primaryfillstyle),this.wJ.DUa(this.la.secondaryfillstyle)),this.wJ.render(a),!0):!1};b.prototype.PGa=function(a,b){var e,c,f,k,h=0,l=0;e=a.Ra();var n=this.ZGb?this.ZGb/Math.abs(e.Ab()):0,p=this.XGb?this.XGb/Math.abs(e.Pb()):0,r=.2;if(!0!==this.gk())for(c=b[0]+this.F1/2+n,e=0;e<b[1].length;e++)f=
b[1][e]+p,k=(0,window.parseFloat)(b[1][e].toFixed(this.VGb)),this.Lb.jc(k),this.Lb.yc(c,f),this.WGb?0<e&&f-l<h||(this.Lb.render(a),h=this.Lb.getBoundingBox(a).height*(1-r),l=b[1][e]+p):this.Lb.render(a);else for(f=b[0]+this.F1/2+p,e=0;e<b[1].length;e++)c=b[1][e]+n,k=(0,window.parseFloat)(b[1][e].toFixed(this.VGb)),this.Lb.jc(k),this.Lb.yc(c,f),this.WGb?0<e&&c-l<h||(this.Lb.render(a),h=this.Lb.getBoundingBox(a).width,l=b[1][e]+n):this.Lb.render(a)};b.prototype.render=function(a){var b=null!=this.mb()?
a.qc(this.mb()):a;this.yk(b);b.Gd()&&(b.ta(_geo.geotoolkit.attributes.Fa.Ui),b.zc(this.xa()));this.FJb?this.u9c():this.$Ob(b);var e=-(this.F1*this.Bca+(this.Bca-1)*this.c_a)/2;this.R$c(e);if(this.mia&&0<this.mia.length)for(this.YGb&&this.ocb(),e=0;e<this.mia.length;++e)for(var c=0;c<this.mia[e].length;++c){var f=this.mia[e][c];null!=f&&this.qnd(b,f)&&this.YGb&&this.PGa(b,f)}this.hk(a);return this};b.prototype.dispose=function(){for(var a=0;a<this.eg.length;a++)this.eg[a].hb(_geo.geotoolkit.data.B0.$.Jha,
this.znb[a]);this.znb=[];_geo.geotoolkit.scene.shapes.rl.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.shapes.nL=function(){function b(a,b){_geo.geotoolkit.scene.shapes.rl.call(this);var d={datax:[],minx:null,maxx:null,autominmaxx:!1,neatlimitx:!0,datay:[],miny:null,maxy:null,autominmaxy:!1,neatlimity:!0,dataz:[],minz:null,maxz:null,autominmaxz:!0,datas:[],mins:null,maxs:null,labels:[],autominmaxs:!0,validlength:null,minsize:16,maxsize:48,cachewidthlimit:32766,cacheheightlimit:32766,bounds:new _geo.geotoolkit.util.Rect(0,0,1,1),defaultcolor:"rgba(128,192,255,1)",defaultfillstyle:"rgba(128,192,255,1)",
selectable:!0};this.Kl=d.datax;this.Em=d.datay;this.pU=d.dataz;this.oU=d.datas;this.Pi=d.lables;this.Nkb=!1;this.T0a=new _geo.geotoolkit.attributes.eb;this.Kkb=null;this.Lkb=0;this.G2a=null;this.V7=[];this.Rb=d.bounds;this.bM=d.minsize;this.e2=d.maxsize;this.ae=this.$R=null;this.Vy=_geo.geotoolkit.attributes.Fa.ab(d.defaultfillstyle||d.defaultcolor);this.mR=_geo.geotoolkit.attributes.Aa.ab(d.defaultlinestyle);this.zIb=d.minx;this.yIb=d.maxx;this.BIb=d.miny;this.AIb=d.maxy;this.vIb=this.rIb=this.uIb=
this.tIb=!1;this.Xqa=d.neatlimitx;this.Yqa=d.neatlimity;this.tza=d.autominmaxx;this.uza=d.autominmaxy;this.iib=d.autominmaxz;this.hib=d.autominmaxs;this.xIb=d.mins;this.wIb=d.maxs;this.DIb=d.minz;this.CIb=d.maxz;this.vnc=this.qnc=this.snc=this.nnc=this.unc=this.pnc=this.tnc=this.onc=null;this.Oj=d.validlength;this.Rb=this.ai=null;this.Eqa=this.oia=this.Um=!1;this.xib=d.cachewidthlimit;this.wib=d.cacheheightlimit;this.K2a=d.selectable;this.Jja=null;this.zLa=[];this.m2=new _geo.geotoolkit.util.na(0,
0);this.Lb=(new _geo.geotoolkit.scene.shapes.Text).pq(window.NaN).Wq(window.NaN).nga(!0).TI(!0).O$(!0).eu(!0).Cd(_geo.geotoolkit.util.Da.lb).ke(!1);this.setData(a);this.vi(b)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.rl);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.BubbleChart");b.LT={Ub:"Top",Zf:"Bottom",lb:"Center"};b.prototype.setData=function(a){null==a&&(a={});a=_geo.geotoolkit.Ca(a,{datax:Array.isArray(a.datax)?a.datax:this.Kl,autominmaxx:"boolean"==typeof a.autominmaxx?a.autominmaxx:
this.tza,neatlimitx:"boolean"==typeof a.neatlimitx?a.neatlimitx:this.Xqa,datay:Array.isArray(a.datay)?a.datay:this.Em,autominmaxy:"boolean"==typeof a.autominmaxx?a.autominmaxx:this.uza,neatlimity:"boolean"==typeof a.neatlimity?a.neatlimity:this.Yqa,dataz:Array.isArray(a.dataz)?a.dataz:this.pU,autominmaxz:"boolean"==typeof a.autominmaxz?a.autominmaxz:this.iib,datas:Array.isArray(a.datas)?a.datas:this.oU,autominmaxs:"boolean"==typeof a.autominmaxs?a.autominmaxs:this.hib,labels:Array.isArray(a.labels)?
a.labels:this.Pi,labelvisible:"boolean"==typeof a.labelvisible?a.labelvisible:this.Nkb,labeltextstyle:_geo.geotoolkit.attributes.eb.ab(a.labeltextstyle)||this.T0a,labellocation:null!=a.labellocation?a.labellocation:this.Kkb,labelpadding:"number"==typeof a.labelpadding?a.labelpadding:this.Lkb,secondarylocation:null!=a.secondarylocation?a.secondarylocation:this.G2a,validlength:"number"==typeof a.validlength?a.validlength:null,colorprovider:a.colorprovider instanceof _geo.geotoolkit.util.Ie?a.colorprovider:
this.ae,defaultcolor:null!=a.defaultcolor?a.defaultcolor:this.Vy,defaultfillstyle:_geo.geotoolkit.attributes.Fa.ab(a.defaultfillstyle)||this.Vy,defaultlinestyle:_geo.geotoolkit.attributes.Aa.ab(a.defaultlinestyle)||this.mR,minsize:"number"==typeof a.minsize?a.minsize:this.bM,maxsize:"number"==typeof a.maxsize?a.maxsize:this.e2,sizebin:"number"==typeof a.sizebin?a.sizebin:this.$R,cachewidthlimit:"number"==typeof a.cachewidthlimit&&32766>=a.cachewidthlimit?a.cachewidthlimit:this.xib,cacheheightlimit:"number"==
typeof a.cacheheightlimit&&32766>=a.cacheheightlimit?a.cacheheightlimit:this.wib,symbol:null!=a.symbol?a.symbol:_geo.geotoolkit.scene.shapes.hc.Hz,selectable:null!=a.selectable?a.selectable:this.K2a});if(a.autominmaxx||a.neatlimitx)this.tIb=!1;if(a.autominmaxy||a.nearlimity)this.uIb=!1;a.autominmaxs&&(this.rIb=!1);a.autominmaxz&&(this.vIb=!1);this.la=a;this.gA=a.symbol;this.Kl=null!=a.datax?a.datax:[];this.Em=null!=a.datay?a.datay:[];this.pU=null!=a.dataz?a.dataz:[];this.oU=null!=a.datas?a.datas:
[];this.Pi=null!=a.labels?a.labels:[];this.Nkb=a.labelvisible;this.T0a=_geo.geotoolkit.attributes.eb.ab(a.labeltextstyle);this.Lkb=a.labelpadding;this.Lb.wb(this.T0a);this.Kkb=a.labellocation?a.labellocation:b.LT.lb;this.G2a=a.secondarylocation;this.tza=a.autominmaxx;this.uza=a.autominmaxy;this.iib=a.autominmaxz;this.hib=a.autominmaxs;this.Xqa=a.neatlimitx;this.Yqa=a.neatlimity;!0===this.tza&&(this.Xqa=!1);!0===this.uza&&(this.Yqa=!1);"number"==typeof a.minx&&"number"==typeof a.maxx&&(this.tIb=!0,
this.Xqa=this.tza=!1,this.yIb=a.maxx,this.zIb=a.minx,this.jV=this.yIb,this.lP=this.zIb);"number"==typeof a.miny&&"number"==typeof a.maxy&&(this.uIb=!0,this.Yqa=this.uza=!1,this.AIb=a.maxy,this.BIb=a.miny,this.T2=this.AIb,this.jZ=this.BIb);"number"==typeof a.mins&&"number"==typeof a.maxs&&(this.rIb=!0,this.hib=!1,this.wIb=a.maxs,this.xIb=a.mins,this.GBa=this.wIb,this.HBa=this.xIb);"number"==typeof a.minz&&"number"==typeof a.maxz&&(this.vIb=!0,this.iib=!1,this.CIb=a.maxz,this.DIb=a.minz,this.Xnb=this.CIb,
this.JOa=this.DIb);this.ae=a.colorprovider;this.Vy=_geo.geotoolkit.attributes.Fa.ab(a.defaultfillstyle||a.defaultcolor);this.mR=_geo.geotoolkit.attributes.Aa.ab(a.defaultlinestyle);this.K2a=null!=a.selectable?a.selectable:this.K2a;this.Oj=a.validlength;this.bM=a.minsize;this.e2=a.maxsize;this.$R=a.sizebin?a.sizebin:this.e2-this.bM;this.xib=a.cachewidthlimit;this.wib=a.cacheheightlimit;null==this.Oj&&(this.Oj=null==this.ae?Math.min(this.Kl.length,this.Em.length,this.oU.length):Math.min(this.Kl.length,
this.Em.length,this.pU.length,this.oU.length));this.otc();this.ma()};b.prototype.getData=function(a,b){var d={datax:this.Kl,datay:this.Em,dataz:this.pU,datas:this.oU,autominmaxx:this.tza,autominmaxy:this.uza,autominmaxs:this.hib,autominmaxz:this.iib,neatlimitx:this.Xqa,neatlimity:this.Yqa,labels:this.Pi,labeltextstyle:this.T0a,labellocation:this.Kkb,secondarylocation:this.G2a,labelpadding:this.Lkb,labelvisible:this.Nkb,validlength:this.Oj,minsize:this.bM,maxsize:this.e2,sizebin:this.$R,colorprovider:this.ae,
defaultcolor:null!=this.Vy?this.Vy.ac():null,defaultfillstyle:this.Vy,defaultlinestyle:this.mR,symbol:this.gA},e;e=a?b?{minx:this.tnc,maxx:this.onc,miny:this.unc,maxy:this.pnc,minz:this.vnc,maxz:this.qnc,mins:this.snc,maxs:this.nnc}:{minx:this.lP,maxx:this.jV,miny:this.jZ,maxy:this.T2,minz:this.JOa,maxz:this.Xnb,mins:this.HBa,maxs:this.GBa}:{minx:this.zIb,maxx:this.yIb,miny:this.BIb,maxy:this.AIb,minz:this.DIb,maxz:this.CIb,mins:this.xIb,maxs:this.wIb};return _geo.geotoolkit.Ca(e,d)};b.prototype.otc=
function(a,b){var d=!1,e,c;e=_geo.geotoolkit.util.Math.qo(this.Kl);var f=_geo.geotoolkit.util.Math.qo(this.Em);c=_geo.geotoolkit.util.Math.qo(this.oU);var k=_geo.geotoolkit.util.Math.qo(this.pU);this.tnc=e[0];this.onc=e[1];this.unc=f[0];this.pnc=f[1];this.snc=c[0];this.nnc=c[1];this.vnc=k[0];this.qnc=k[1];if(!a||(0,window.isNaN)(this.lP)||(0,window.isNaN)(this.jZ))this.tIb||(this.lP=e[0],this.jV=e[1]),this.uIb||(this.jZ=f[0],this.T2=f[1]);if(!b&&this.K2a){if(!this.rIb){e=c[0];c=c[1];if(e!==this.HBa||
c!==this.GBa)d=!0;this.HBa=e;this.GBa=c}this.vIb||(this.JOa=k[0],this.Xnb=k[1])}return d};b.prototype.sP=function(a){this.Oj=null==this.pU||0===this.pU.length?Math.min(this.Kl.length,this.Em.length,this.oU.length):Math.min(this.Kl.length,this.Em.length,this.pU.length,this.oU.length);var b=this.otc(!0);b?this.vi(null,0,this.Oj):this.vi(null,this.Oj-a,this.Oj)};b.prototype.JGa=function(a,b){this.Oj=null==this.pU||0===this.pU.length?Math.min(this.Kl.length,this.Em.length,this.oU.length):Math.min(this.Kl.length,
this.Em.length,this.pU.length,this.oU.length);var d,e,c;e=Math.abs(this.l2.za()-this.l2.sa());d=Math.abs(this.l2.qa()-this.l2.wa());e/=this.Rb.za()-this.Rb.sa();c=d/(this.Rb.qa()-this.Rb.wa());for(d=a;d<a+b;d++)this.OH.IGa(d);for(d=a+b;d<this.Oj+b;d++)this.zLa[d].index-=b;for(d=a;d<a+b;d++){var f=this.V7[d]/2/e,k=Math.abs(e/c),h=this.zLa[d].datax,l=this.zLa[d].datay,f=new _geo.geotoolkit.util.Rect(h-f,l-k*f,h+f,l+k*f);this.ma(f)}this.V7.splice(a,b);this.zLa.splice(a,b)};b.prototype.cwa=function(a){this.l2=
a;return this};b.prototype.fDc=function(){return this.l2};b.prototype.Ea=function(a){if(this.Rb&&this.Rb.Pj(a))return!1;this.Rb=a;return!0};b.prototype.ga=function(){return this.Rb};b.prototype.Pa=function(a,b){_geo.geotoolkit.scene.Node.prototype.Pa.call(this);b===_geo.geotoolkit.scene.Node.bm.Roa&&(this.oia=!1,this.ma());return this};b.prototype.vi=function(a,b,d){this.l2=null!=a?a:this.l2;if(null!=this.l2){null==b&&(b=0);null==d&&(d=this.Oj);var e,c,f;e=Math.abs(this.l2.za()-this.l2.sa());c=Math.abs(this.l2.qa()-
this.l2.wa());a=e/(this.jV-this.lP);f=c/(this.T2-this.jZ);var k,h;h=[];var l=(this.e2-this.bM)/(this.$R-1);for(k=0;k<this.$R;k++)h[k]=this.bM+k*l;for(k=0;k<this.Oj;k++)l=Math.floor((this.oU[k]-this.HBa)*this.$R/(this.GBa-this.HBa)),0>l&&(l=0),this.oU[k]>=this.GBa&&(l=this.$R-1),this.V7[k]=h[l];if(this.tza||this.uza||this.Xqa||this.Yqa)for(k=b;k<d;k++){h=this.V7[k]/2;var n=l=0;if(this.tza||this.Xqa)this.Kl[k]+h/a>this.jV&&(l=(e-h)/(this.Kl[k]-this.lP),this.jV=Math.ceil(h/l+this.Kl[k])),this.Em[k]+
h/f>this.T2&&(n=(c-h)/(this.Em[k]-this.jZ),this.T2=Math.ceil(h/n+this.Em[k]));if(this.uza||this.Yqa)this.Kl[k]-h/a<this.lP&&(l=(e-h)/(this.jV-this.Kl[k]),this.lP=Math.floor(this.Kl[k]-h/l)),this.Em[k]-h/f<this.jZ&&(n=(c-h)/(this.T2-this.Em[k]),this.jZ=Math.floor(this.Em[k]-h/n));0!==l&&(a=l);0!==n&&(f=n)}this.Xqa&&(a=_geo.geotoolkit.util.Math.Hs(this.lP,this.jV),this.lP=a.gb(),this.jV=a.nb());this.Yqa&&(a=_geo.geotoolkit.util.Math.Hs(this.jZ,this.T2),this.jZ=a.gb(),this.T2=a.nb());this.Eqa=!0;h=this.Ea(new _geo.geotoolkit.util.Rect(this.lP,
this.jZ,this.jV,this.T2));this.Sa(this.Rb);a=e/(this.Rb.za()-this.Rb.sa());f=c/(this.Rb.qa()-this.Rb.wa());if(null==this.OH||h)this.OH=new _geo.geotoolkit.controls.shapes.nL.MEb(this.Rb,5),h&&(b=0,d=this.Oj,this.ma());0===b&&d===this.Oj&&this.OH.clear();for(k=b;k<d;k++)b=this.V7[k]/2/a,e=Math.abs(a/f),b=new _geo.geotoolkit.util.Rect(this.Kl[k]-b,this.Em[k]-e*b,this.Kl[k]+b,this.Em[k]+e*b),b.index=k,b.datax=this.Kl[k],b.datay=this.Em[k],this.OH.va(b),this.zLa[k]=b,h||this.ma(b)}};b.prototype.hYb=function(){var a=
2;this.ura=Math.floor((this.e2-this.bM)/(this.$R-1));var b=this.$R*this.bM+this.$R*(this.$R-1)*this.ura/2+2*a*this.$R;if(b>this.xib){var d=this.ura/2,e=this.bM+2*a-d,c=-this.xib,d=Math.floor((Math.sqrt(e*e-4*d*c)-e)/(2*d)),b=d*this.bM+d*(d-1)*this.ura/2+2*a*d;this.o4c=d-1}this.ae?(d=this.ae instanceof _geo.geotoolkit.util.nF?this.ae.ad()-this.ae.Tc():this.Xnb-this.JOa,this.Dza=this.ae instanceof _geo.geotoolkit.util.nF?this.ae.jta():this.Oj,this.tkc=d/this.Dza):this.Dza=1;var f=this.e2*this.Dza+2*
a*(this.Dza+1);f>this.wib&&(d=Math.floor((this.wib-2*a)/(this.e2+2*a)),f=this.e2*d+2*a*(d+1),this.n4c=d-1);var d=this.ae instanceof _geo.geotoolkit.util.nF?this.ae.Tc():this.JOa,k,h,l,e=_geo.geotoolkit.attributes.Fa.ab(this.Vy),c=_geo.geotoolkit.attributes.Aa.ab(this.mR||{color:this.Vy,width:2});this.Jja={Nka:a,Dc:new _geo.geotoolkit.renderer.canvas.Mr(b,f),image:null};for(var n=new _geo.geotoolkit.util.Rect(0,0,this.bM,this.bM),f=this.Jja.Dc.pr(),b=0;b<this.Dza;b++)for(null!=this.ae&&(a=_geo.geotoolkit.util.oi.Ph(this.ae.ac(d+
b*this.tkc)),f.ta(e.setColor(a),n),f.ua(null!=this.mR?c:c.setColor(a))),k=0;k<this.$R;k++){l=h=this.bM+k*this.ura;if(null==this.ae){var a=this.Jja.Nka,p=a+k*this.bM+k*(k-1)*this.ura/2+2*a*k,a=a+b*this.e2+2*a*b;n.zb(p,a,p+h,a+l);f.ta(e,n);f.ua(c,n)}this.PCa(b,k,f,h,l)}this.Jja.Dc.Lq();this.Jja.image=this.Jja.Dc.Kk();this.oia=!0};b.prototype.PCa=function(a,b,d,e,c){var f=this.Jja.Nka;b=f+b*this.bM+b*(b-1)*this.ura/2+2*f*b;a=f+a*this.e2+2*f*a;this.gA(null,new _geo.geotoolkit.util.Rect(b,a,b+e,a+c),d)};
b.prototype.Sa=function(a){this.ai=a};b.prototype.xa=function(){return this.ai};b.prototype.uFa=function(){this.oia=!1};b.prototype.setActive=function(a){_geo.geotoolkit.warn("BubbleChart.setActive() is deprecated since 2.6");this.Um=a};b.prototype.render=function(a){a=null!=this.mb()?a.qc(this.mb()):a;var b=a.Ra();this.oia||this.hYb();this.yk(a);if(a.Gd()&&this.K2a)b=this.ga(),a.ta(_geo.geotoolkit.attributes.Fa.Ui),a.zc(b.x,b.y,b.width,b.height),a.bp({bubblechart:this,indices:this.HP(a.RZ(),a)});
else{a.El(this);var d,e,c=[];d=this.HP(a.qj(),a);for(e=0;e<d.length;e++)d[e].datax&&d[e].datay&&c.push(d[e].index);c.sort(function(a,b){return a-b});this.cNb=a;this.cNb.kc(new _geo.geotoolkit.util.Ga);for(e=0;e<c.length;++e)d=c[e],this.e0b(d,a,b);this.cNb.kc(b);this.Nkb&&this.O$a(a);this.hk(a)}};b.prototype.e0b=function(a,b,d){var e=Math.floor((this.oU[a]-this.HBa)*this.$R/(this.GBa-this.HBa));if(!(0,window.isNaN)(e)){0>e&&(e=0);this.oU[a]>=this.GBa&&(e=this.$R-1);var c;null==this.ae?c=0:(c=Math.floor((this.pU[a]-
this.JOa)*this.Dza/(this.ae.ad()-this.ae.Tc())),0>c&&(c=0),this.pU[a]>=this.Xnb&&this.pU[a]>=this.ae.ad()&&(c=this.Dza-1));e>this.o4c||c>this.n4c?(b.kc(d),this.ucd(a,c,b),b.kc(new _geo.geotoolkit.util.Ga)):this.w3(a,e,c,d)}};b.prototype.O$a=function(a){var g=a.Ra(),d=this.Lkb,e;for(e=0;e<this.Pi.length;e++){var c=0,f=this.Kl[e],k=this.Kkb;this.Lb.jc(this.Pi[e]);var h=Math.abs(g.Ab()/g.Pb()),l=(this.V7[e]+2*d)/g.Ab(),n=_geo.geotoolkit.renderer.TextMetrics.measureText(this.Pi[e],this.T0a);this.Kl[e]+
n.aa()/(2*g.Ab())>this.jV&&(c=this.jV-(this.Kl[e]+(n.aa()+2*d)/(2*g.Ab())));this.Kl[e]-n.aa()/(2*g.Ab())<this.lP&&(c=this.lP-(this.Kl[e]-(n.aa()+2*d)/(2*g.Ab())));f+=c;this.G2a&&(k===b.LT.Ub&&this.Em[e]+h*l/2+n.ba()/Math.abs(g.Pb())>this.T2||k===b.LT.Zf&&this.Em[e]-h*l/2-n.ba()/Math.abs(g.Pb())<this.jZ)&&(k=this.G2a);k===b.LT.Ub?(this.Lb.Cd(_geo.geotoolkit.util.Da.Og),this.Lb.yc(f,this.Em[e]+h*l/2)):k===b.LT.Zf?(this.Lb.Cd(_geo.geotoolkit.util.Da.Ei),this.Lb.yc(f,this.Em[e]-h*l/2)):(this.Lb.Cd(_geo.geotoolkit.util.Da.lb),
this.Lb.yc(f,this.Em[e]));this.Lb.render(a)}};b.prototype.HP=function(a,b){null==this.OH&&this.vi();var d=b.Ra();return d=4>a.ga().aa()*Math.abs(d.Ab())&&4>a.ga().ba()*Math.abs(d.Pb())?this.OH.jj(a.ga(),b):this.OH.bs(a.ga(),b)};b.prototype.w3=function(a,b,d,e){this.m2.x=this.Kl[a];this.m2.y=this.Em[a];e.cb(this.m2,this.m2);e=this.m2.x-this.V7[a]/2;var c=this.m2.y-this.V7[a]/2,f=this.V7[a];a=this.V7[a];var k=_geo.geotoolkit.Dj(),h=this.Jja.Nka,l=(b*this.bM+b*(b-1)*this.ura/2+2*h*b)*k;d=(d*this.e2+
2*h*d)*k;b=(this.bM+b*this.ura+2*h)*k;this.Jja.Dc.render(this.cNb,e,c,f,a,l,d,b,b)};b.prototype.ucd=function(a,b,d){var e=d.Ra(),c=Math.abs(e.Ab()/e.Pb()),f=this.V7[a]/2/e.Ab(),k=this.Kl[a]-f,h=this.Em[a]-c*f;a=_geo.geotoolkit.attributes.Fa.ab(this.Vy);e=_geo.geotoolkit.attributes.Aa.ab(this.mR||{color:this.Vy,width:2});c=new _geo.geotoolkit.util.Rect(k,h,k+2*f,h+2*c*f);null==this.ae?(d.ta(a,c),d.ua(e,c)):(f=this.ae instanceof _geo.geotoolkit.util.nF?this.ae.Tc():this.JOa,b=_geo.geotoolkit.util.oi.Ph(this.ae.ac(f+
b*this.tkc)),d.ta(a.setColor(b),c),d.ua(null!=this.mR?e:e.setColor(b)));this.gA(null,c,d)};return b}();
_geo.geotoolkit.controls.shapes.nL.MEb=function(){function b(a,b){_geo.geotoolkit.util.MX.call(this,a,b)}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.MX);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.BubbleChart.QuadForBubble");b.prototype.va=function(a){var g=a.getBounds();if(!this.Pe.intersects(g))return this;if(0===this.Ek)return this.Fh.push(a),this;if(null==this.fl){var d=this.Pe,e=this.Ek;this.fl=new b(new _geo.geotoolkit.util.Rect(d.x,d.y,d.x+d.width/2,d.y+d.height/2),e-1);this.Jm=new b(new _geo.geotoolkit.util.Rect(d.x+
d.width/2,d.y,d.x+d.width,d.y+d.height/2),e-1);this.Am=new b(new _geo.geotoolkit.util.Rect(d.x,d.y+d.height/2,d.x+d.width/2,d.y+d.height),e-1);this.Bm=new b(new _geo.geotoolkit.util.Rect(d.x+d.width/2,d.y+d.height/2,d.x+d.width,d.y+d.height),e-1)}d=0;e=null;this.fl.Pe.intersects(g)&&(d++,e=this.fl);this.Jm.Pe.intersects(g)&&(d++,e=this.Jm);2>d&&this.Am.Pe.intersects(g)&&(d++,e=this.Am);2>d&&this.Bm.Pe.intersects(g)&&(d++,e=this.Bm);1===d?e.va(a):this.Fh.push(a);return this};b.prototype.IGa=function(a){var b,
d=this.Fh.length;for(b=0;b<d;b++)if(this.Fh[b].index===a)return this.Fh.splice(b,1),this;null!=this.fl&&this.fl.IGa(a);null!=this.Jm&&this.Jm.IGa(a);null!=this.Am&&this.Am.IGa(a);null!=this.Bm&&this.Bm.IGa(a);return this};b.prototype.jj=function(a,b){var d=[];this.Pe.intersects(a)&&(d=d.concat(this.Fh).filter(function(b){return null!=b.getBounds&&b.getBounds().intersects(a)}),null!=this.fl&&(d=d.concat(this.fl.jj(a,b))),null!=this.Jm&&(d=d.concat(this.Jm.jj(a,b))),null!=this.Am&&(d=d.concat(this.Am.jj(a,
b))),null!=this.Bm&&(d=d.concat(this.Bm.jj(a,b))));if(0<d.length){for(var e=b.Ra(),e=e.Ab()/e.Pb(),c=a.sa(),f=a.qa(),k=Number.POSITIVE_INFINITY,h,l=-1,n=0;n<d.length;n++){if(d[n].dis)h=d[n].dis;else{h=(d[n].sa()+d[n].za())/2;var p=(d[n].wa()+d[n].qa())/2;h=(h-c)*(h-c)+(p*e-f*e)*(p*e-f*e)}h<k&&(k=h,l=n)}d[l].dis=k;return[d[l]]}return[]};return b}();
_geo.geotoolkit.controls.shapes.Oaa=function(){function b(a,d){this.bounds=this.Ba=null;this.wlb=this.vlb=!1;this.xh=Number.POSITIVE_INFINITY;this.fi=Number.NEGATIVE_INFINITY;this.z2=this.RY=this.Kt=this.Jt=null;this.xja=[[]];this.Qlc=this.Rlc=null;this.mkb=!1;this.zra=null;this.QY=this.bY=b.dv.tH;this.rkb=this.rJb=!0;this.WAa=(new _geo.geotoolkit.util.hX).isSafari;this.ae=null;this.Nba=[];this.nv=this.mv=0;this.DU=!1;this.$X=null;this.wkb=!1;this.W0a=new _geo.geotoolkit.attributes.eb;this.Ll=new _geo.geotoolkit.scene.shapes.Text;
_geo.geotoolkit.scene.shapes.rl.call(this,d);this.ke(!1);this.setData(a);this.setOptions(d);this.ke(!0)}function a(a){return!(0,window.isNaN)((0,window.parseFloat)(a))&&(0,window.isFinite)(a)}var g=256,d=256,e=256;_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.rl);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.HeatMap");b.dv={tH:"STEP",Saa:"LINEARINBOUND",Taa:"LINEARLOOP",kfb:"LINEARMIRROR"};b.prototype.xa=function(){if(!this.Ba)return null;var a,d,e,g;this.bY===b.dv.Saa?(a=0,d=this.Jt-1):this.bY===
b.dv.Taa?(a=this.DU?0:Array.isArray(this.mv)?0:this.mv,d=this.Jt+(this.DU?0:Array.isArray(this.mv)?0:this.mv)):(a=-.5+(this.DU?0:Array.isArray(this.mv)?0:this.mv),d=this.Jt-.5+(this.DU?0:Array.isArray(this.mv)?0:this.mv));this.QY===b.dv.Saa?(e=0,g=this.Kt-1):this.QY===b.dv.Taa?(e=this.DU?0:Array.isArray(this.nv)?0:this.nv,g=this.Kt+(this.DU?0:Array.isArray(this.nv)?0:this.nv)):(e=-.5+(this.DU?0:Array.isArray(this.nv)?0:this.nv),g=this.Kt-.5+(this.DU?0:Array.isArray(this.nv)?0:this.nv));return new _geo.geotoolkit.util.Rect(a,
e,d,g)};b.prototype.Ea=function(a){a instanceof _geo.geotoolkit.util.Rect&&(this.bounds=a);return this};b.prototype.ga=function(){return this.bounds?this.bounds:this.xa()};b.prototype.setOptions=function(a){null==a&&(a={});null!=a.bounds&&this.Ea(a.bounds);null!=a.colplottype&&this.j2b(a.colplottype);null!=a.rowplottype&&this.u5b(a.rowplottype);null==a.min&&null==a.max||this.rUa(a.min,a.max);null==a.offsetx&&null==a.offsety||this.E4b(a.offsetx,a.offsety);null!=a.keepmodellimits&&this.U3b(a.keepmodellimits);
null!=a.lables&&(a.labels.visible&&this.tHa(a.labels.visible),a.labels.textstyle&&this.c4b(a.labels.textstyle));null!=a.colorprovider?this.UA(a.colorprovider):(this.ae=this.ae?this.ae:new _geo.geotoolkit.util.ym({values:[this.xh,(this.xh+this.fi)/2,this.fi],colors:["rgba(0, 0,255,1)","rgba(0,255,0,1)","rgba(255,0,0,1)"]}),this.Nba=this.ruc(this.ae,e));this.ma();return this};b.prototype.jb=function(){return{rowplottype:this.etb(),colplottype:this.grb(),min:this.xh,max:this.fi,offsetx:this.mv,offsety:this.nv,
keepmodellimits:this.BYb(),labels:{visible:this.Y3(),textstyle:this.rVb()},colorprovider:this.zn()}};b.prototype.U3b=function(a){this.DU="boolean"==typeof a?a:this.DU;return this};b.prototype.BYb=function(){return this.DU};b.prototype.E4b=function(b,d){this.mv=null!=b?b:this.mv;this.nv=null!=d?d:this.nv;if(Array.isArray(this.mv))for(var e=0;e<this.mv.length;e++)0>this.mv[e]&&(this.mv[e]=(this.Jt+this.mv[e])%this.Jt);else if(a(this.mv))0>this.mv&&(this.mv=(this.Jt+this.mv)%this.Jt);else return this;
if(Array.isArray(this.nv))for(e=0;e<this.nv.length;e++)0>this.nv[e]&&(this.nv[e]=(this.Kt+this.nv[e])%this.Kt);else if(a(this.nv))0>this.nv&&(this.nv=(this.Kt+this.nv)%this.Kt);else return this;this.DU||this.Ja(_geo.geotoolkit.scene.Node.$.ss,this);this.ma();return this};b.prototype.xsb=function(){return{offsetx:this.mv,offsety:this.nv}};b.prototype.rUa=function(b,d){this.xh=a(b)?b:this.xh;this.fi=a(d)?d:this.fi;this.ma();return this};b.prototype.UA=function(a){if(this.ae===a)return this;null!=this.ae&&
this.Kq(this.ae,_geo.geotoolkit.util.ym.$.Wc,this.nc());this.ae=a instanceof _geo.geotoolkit.util.Ie?a:_geo.geotoolkit.util.Ie.r6a(a.type).ab(a);null!=this.ae&&this.Wj(this.ae,_geo.geotoolkit.util.ym.$.Wc,this.nc());this.Nba=this.ruc(this.ae,e);this.Pa();this.ma();return this};b.prototype.zn=function(){return this.ae};b.prototype.ac=function(a,b,d){var e=a.Tc();a=a.ad();if(d<=e)return b[0];if(d>=a)return b[b.length-1];a=(a-e)/b.length;d=Math.round((d-e)/a);return b[d<b.length?d:b.length-1]};b.prototype.ruc=
function(a,b){for(var d=[],e=a.Tc(),g=a.ad(),g=(g-e)/b,n=0;n<b;n++)d[n]=a.ac(e+g*n);return d};b.prototype.j2b=function(a){a!==b.dv.Saa&&a!==b.dv.tH&&a!==b.dv.Taa&&a!==b.dv.kfb||this.bY===a||(this.bY=a,this.Ja(_geo.geotoolkit.scene.Node.$.ss,this),this.ma());return this};b.prototype.grb=function(){return this.bY};b.prototype.u5b=function(a){a!==b.dv.Saa&&a!==b.dv.tH&&a!==b.dv.Taa&&a!==b.dv.kfb||this.QY===a||(this.QY=a,this.Ja(_geo.geotoolkit.scene.Node.$.ss,this),this.ma());return this};b.prototype.etb=
function(){return this.QY};b.prototype.setData=function(a){if(a instanceof _geo.geotoolkit.data.vh||a instanceof _geo.geotoolkit.data.lu)this.Ba=a,this.Ba.kb(_geo.geotoolkit.data.$.vf,this.goc.bind(this));else if(Array.isArray(a))this.Ba=a;else return this;this.z2=this.Kt=this.Zj(this.Ba);this.RY=this.Jt=this.Av(this.Ba);for(a=0;a<this.Kt;a++)for(var b=0;b<this.Jt;b++){var d=this.getValue(this.Ba,a,b);d>this.fi&&(this.fi=d);d<this.xh&&(this.xh=d)}this.ma();return this};b.prototype.goc=function(){this.rkb=
!0;this.ma()};b.prototype.h6a=function(a,b,d){var e=this.zra;if(null==e||e.aa()!==b||e.ba()!==d){this.zra=e=a.ky(b,d,!0);if(null==e)return null;this.$X=e.vM(b,d);this.rJb=!1}else!0===this.rJb&&(this.kpb(this.$X,e),this.rJb=!1);return this.$X};b.prototype.kpb=function(a,b){if(null!=a){b&&this.WAa&&b.clear();for(var d=a.getData(),e=4*a.aa()*a.ba(),g=0;g<e;++g)d[g]=0}};b.prototype.getValue=function(a,b,d){return b>=this.Zj(a)||d>=this.Av(a)?0:Array.isArray(a)?a[b]&&"number"==typeof a[b][d]?a[b][d]:this.xh:
"number"==typeof a.getValue(b,d)?a.getValue(b,d):this.xh};b.prototype.Zj=function(a){return Array.isArray(a)?a.length:"function"==typeof a.Zj?a.Zj():0};b.prototype.Av=function(a){return Array.isArray(a)?a[0]?a[0].length:0:"function"==typeof a.Av?a.Av():0};b.prototype.iod=function(a,b,d,e){var g,n=0,p,r=0,t=[];this.Kt=this.Zj(this.Ba);this.Jt=this.Av(this.Ba);this.Rlc===d&&Math.floor(d)!==a||this.Qlc===d&&Math.floor(e)!==b?this.mkb=!1:(this.Rlc=d,this.Qlc=e,this.mkb=!0);this.vlb=this.Jt>2*d?!0:!1;
this.wlb=this.Kt>2*e?!0:!1;if(this.mkb&&this.vlb||this.rkb&&this.vlb){g=Math.floor(this.Jt/d);r=Math.floor(this.Jt/g);p=this.Jt-r*g;for(a=0;a<this.Kt;a++){t[a]=[];for(b=0;b<r;b++){for(d=0;d<g;d++)n+=this.getValue(this.Ba,a,g*b+d);t[a].push(n/g);n=0}if(p){for(b=this.Jt-p;b<this.Jt;b++)n+=this.getValue(this.Ba,a,b);t[a].push(n/p);n=0}}this.RY=r+(p?1:0);this.xja=t}if(this.mkb&&this.wlb||this.rkb&&this.wlb){e=Math.floor(this.Kt/e);r=Math.floor(this.Kt/e);p=this.Kt-r*e;g=0===t.length?this.Ba:this.xja;
var q=0===t.length?this.Jt:this.RY,t=[];for(a=0;a<r;a++)for(t[a]=[],b=0;b<q;b++){for(d=0;d<e;d++)n+=this.getValue(g,a*e+d,b);t[a].push(n/e);n=0}if(p)for(t[r]=[],b=0;b<q;b++){for(a=this.Kt-p;a<this.Kt;a++)n+=this.getValue(g,a,b);t[r].push(n/p);n=0}this.z2=r+(p?1:0);this.xja=t}this.rkb=!1};b.prototype.render=function(a){if(null!=this.ae&&null!=this.Ba){a=null!=this.mb()?a.qc(this.mb()):a;var b=a.Ra(),d=a.qj(),e=d.sa(),g=d.za(),n=d.qa(),d=d.wa(),e=b.ob(new _geo.geotoolkit.util.Rect(e,n,g,d));e.zb(Math.round(e.sa()),
Math.round(e.qa()),Math.round(e.za()),Math.round(e.wa()));b=b.ob(new _geo.geotoolkit.util.Rect(this.xa()));b.zb(Math.round(b.sa()),Math.round(b.qa()),Math.round(b.za()),Math.round(b.wa()));var g=e.aa(),n=e.ba(),d=b.aa(),p=b.ba();this.iod(g,n,d,p);e.intersect(b);this.RY=this.vlb?this.RY:this.Jt;this.z2=this.wlb?this.z2:this.Kt;this.z2===this.Kt&&this.RY===this.Jt&&(this.xja=this.Ba);b=(this.RY-1)/(this.Jt-1);g=(this.z2-1)/(this.Kt-1);this.Mnd(a,e,b,g);this.wkb&&this.yM(a)}};b.prototype.yM=function(a){for(var b=
this.xja,d=0;d<b.length;d++)for(var e=0;e<b[d].length;e++)this.Ll.ja({ax:e>=this.mv?e:e+this.RY,ay:d>=this.nv?d:d+this.z2,text:b[d][e],textstyle:this.W0a}),this.Ll.render(a)};b.prototype.tHa=function(a){this.wkb!==a&&(this.wkb=a,this.ma());return this};b.prototype.rHc=function(){return this.wkb};b.prototype.c4b=function(a,b){if(this.W0a===a)return this;this.W0a=_geo.geotoolkit.attributes.eb.ph(this,this.W0a,a,b,this.nc());this.ma();return this};b.prototype.rVb=function(){return this.W0a};b.prototype.Mnd=
function(a,e,k,h){var l=a.Ra(),n=a.yr(),p,r,t,q,m=0,u=Math.min(g,e.aa()),v=Math.min(d,e.ba()),w=Math.ceil(e.aa()/u),x=Math.ceil(e.ba()/v),A=!1,z=n.Qi(),C=n.rj(),D=n.Ab(),E=n.Pb(),F=e.sa()*n.Ab()+e.qa()*n.Qi()+n.ti(),K=e.qa()*n.Pb()+e.sa()*n.rj()+n.Th(),H=0,G=0,J=0,I=0;Array.isArray(this.mv)||(H=this.DU&&this.bY!==b.dv.Taa?F+this.mv:F,J=this.bY===b.dv.Saa?this.Jt-1+H:this.Jt+H);Array.isArray(this.nv)||(G=this.DU&&this.QY!==b.dv.Taa?K+this.nv:K,I=this.QY===b.dv.Saa?this.Kt-1+G:this.Kt+G);this.$X=this.h6a(a,
u,v);for(var O=0;O<x;O++)for(var M=0;M<w;M++){m=0;q=this.$X.getData();for(n=O*v;n<O*v+v;n++){if(A){A=!1;break}for(t=M*u;t<M*u+u;t++){if(Array.isArray(this.mv)||Array.isArray(this.nv))if(!Array.isArray(this.mv)&&Array.isArray(this.nv)){p=z*n+D*t+H;if(p>J||-1>p){m+=4*(M*u+u-t);break}p=this.Gta(p,this.bY,k,this.Jt,this.RY);G=(this.nv[p.position]?this.nv[p.position]:0)+K;r=C*t+E*n+G;I=this.QY===b.dv.Saa?this.Kt-1+G:this.QY===b.dv.Taa?this.Kt+G:this.Kt-.5+G;if(r>I||-1>r){A=!0;break}r=this.Gta(r,this.QY,
h,this.Kt,this.z2)}else if(Array.isArray(this.mv)&&!Array.isArray(this.nv)){r=C*t+E*n+G;if(r>I||-1>r){A=!0;break}r=this.Gta(r,this.QY,h,this.Kt,this.z2);H=(this.mv[r.position]?this.mv[r.position]:0)+F;p=z*n+D*t+H;J=this.bY===b.dv.Saa?this.Jt-1+H:this.bY===b.dv.Taa?this.Jt+H:this.Jt-.5+H;if(p>J||-1>p){m+=4*(M*u+u-t);break}p=this.Gta(p,this.bY,k,this.Jt,this.RY)}else throw Error("It is not supported to set array of offsets for both column and row");else{p=z*n+D*t+H;r=C*t+E*n+G;if(p>J||-1>p){m+=4*(M*
u+u-t);break}if(r>I||-1>r){A=!0;break}p=this.Gta(p,this.bY,k,this.Jt,this.RY);r=this.Gta(r,this.QY,h,this.Kt,this.z2)}p=this.getValue(this.xja,r.position,p.position)*(1-p.ysa)*(1-r.ysa)+this.getValue(this.xja,r.position,p.next)*p.ysa*(1-r.ysa)+this.getValue(this.xja,r.next,p.position)*r.ysa*(1-p.ysa)+this.getValue(this.xja,r.next,p.next)*p.ysa*r.ysa;p=this.ac(this.ae,this.Nba,p);q[m++]=p.red;q[m++]=p.green;q[m++]=p.blue;q[m++]=p.alpha}}this.zra.vN(this.$X,0,0);a.kc(new _geo.geotoolkit.util.Ga);a.drawImage(this.zra,
0,0,this.zra.aa(),this.zra.ba(),e.sa()+M*u,e.qa()+O*v,this.zra.aa(),this.zra.ba());a.kc(l)}};b.prototype.Un=function(a){var b=this.Ya();a=b.Ue(a);return this.xa().contains(a.x,a.y)?(a.x=this.Gta(a.x,this.bY,(this.RY-1)/(this.Jt-1),this.Jt,this.RY).position,a.y=this.Gta(a.y,this.QY,(this.z2-1)/(this.Kt-1),this.Kt,this.z2).position,a):null};b.prototype.Gta=function(a,d,e,g,l){d===b.dv.Taa?(a>=g&&(a-=g),a*=e,d=Math.floor(a),e=a-d,l=a>l-1?0:d+1):d===b.dv.kfb?(a>=g&&(a-=g),a*=e,a>l-1||0>a?(d=Math.round(a),
d=d===l?l-1:d,e=0):(d=Math.floor(a),e=a-d),l=d+1):d===b.dv.Saa?(a*=e,d=Math.floor(a),l=d+1,e=a-d):(a>=g-.5&&(a-=g),d=Math.round(a*e),d=d===l?l-1:d,l=d+1,e=0);return{position:d,next:l,ysa:e}};b.prototype.dispose=function(){(this.Ba instanceof _geo.geotoolkit.data.vh||this.Ba instanceof _geo.geotoolkit.data.lu)&&this.Ba.hb(_geo.geotoolkit.data.$.vf,this.goc);_geo.geotoolkit.scene.shapes.rl.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.shapes.ffc=function(){function b(a,b){a||(a={});_geo.geotoolkit.Ca({innerradius:0},a);_geo.geotoolkit.controls.shapes.Kz.call(this,a,b)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.shapes.Kz);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.PieChart");b.prototype.setOptions=function(a){a=_geo.geotoolkit.Sb(a,{});_geo.geotoolkit.Ca({innerradius:0},a);_geo.geotoolkit.controls.shapes.Kz.prototype.setOptions.call(this,a);return this};return b}();
_geo.geotoolkit.controls.shapes.Rfc=function(){function b(a){this.options=_geo.geotoolkit.Ca(a,{center:{x:0,y:0},outerradius:50,modelradius:10,angle:45,startangle:-90,linestyle:new _geo.geotoolkit.attributes.Aa});_geo.geotoolkit.scene.shapes.nn.call(this,new _geo.geotoolkit.util.Rect);this.setOptions(this.options,!1);a=new _geo.geotoolkit.util.Rect(this.center.x-this.radius,this.center.y-this.radius,this.center.x+this.radius,this.center.y+this.radius);this.Ea(a)}function a(a){null==a.linestyle||a.linestyle instanceof
_geo.geotoolkit.attributes.Aa||(a.linestyle=new _geo.geotoolkit.attributes.Aa(a.linestyle));null==a.center||a.center instanceof _geo.geotoolkit.util.na||(a.center=new _geo.geotoolkit.util.na(a.center.x,a.center.y));null==a.center&&(a.center=new _geo.geotoolkit.util.na);null==a.gridlines&&(a.gridlines={});var b=a.gridlines;null==b.linestyle?b.linestyle=a.linestyle:b.linestyle instanceof _geo.geotoolkit.attributes.Aa||(b.linestyle=new _geo.geotoolkit.attributes.Aa(b.linestyle));null==a.categories&&
(a.categories={});var c=a.categories;null==c.linestyle?c.linestyle=a.linestyle:c.linestyle instanceof _geo.geotoolkit.attributes.Aa||(c.linestyle=new _geo.geotoolkit.attributes.Aa(c.linestyle));null==c.textstyle?c.textstyle=new _geo.geotoolkit.attributes.eb({color:"black"}):c.textstyle instanceof _geo.geotoolkit.attributes.eb||(c.textstyle=new _geo.geotoolkit.attributes.eb(c.textstyle));null==b.step&&(b.step=2);null==b.visible&&(b.visible=!1);g(a.content);null==c.labelsalongcircumference&&(c.labelsalongcircumference=
!1)}function g(a){if(void 0!==a&&null!==a){a instanceof Array||(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];c.data instanceof Array&&(c.data=new _geo.geotoolkit.data.Or({data:c.data,name:c.name}));null==c.linestyle?c.linestyle=new _geo.geotoolkit.attributes.Aa({color:"black"}):c.linestyle instanceof _geo.geotoolkit.attributes.Aa||(c.linestyle=new _geo.geotoolkit.attributes.Aa(c.linestyle));null==c.fillstyle?c.fillstyle=new _geo.geotoolkit.attributes.Fa({color:"black"}):c.fillstyle instanceof _geo.geotoolkit.attributes.Fa||
(c.fillstyle=new _geo.geotoolkit.attributes.Fa(c.fillstyle))}}}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.RadarChart");b.prototype.setOptions=function(b,e){null!=b.gridlines&&(b.gridlines=_geo.geotoolkit.Ca(b.gridlines,this.options.gridlines));null!=b.categories&&(b.categories=_geo.geotoolkit.Ca(b.categories,this.options.categories));this.options=_geo.geotoolkit.Ca(b,this.options);a(this.options);this.center=this.options.center;this.radius=
this.options.outerradius;this.ua(this.options.linestyle);this.bGa=this.options.modelradius;this.hn=this.options.startangle;var c=this.options.gridlines;this.n0b=c.linestyle;this.m0b=c.step;this.h8b=c.visible;c=this.options.categories;this.nOb=c.linestyle;this.Hub=c.textstyle;this.qA=c.data;this.QYb=c.labelsalongcircumference;this.Mp=this.options.content;null!=e&&!0!==e||this.ma();return this};b.prototype.jb=function(){return this.options};b.prototype.SE=function(a){return a/this.bGa*this.radius};
b.prototype.qab=function(a){g(a);this.Mp=a;this.ma();return this};b.prototype.xv=function(){return this.Mp};b.prototype.render=function(a){this.Qh(a);this.yM(a)};b.prototype.Qh=function(a){var b,c,g,k=[],h=[],l=[];b=[];var n=this.SE(this.bGa);a.ua(this.nOb);l=360/this.qA.length;for(g=0;g<this.qA.length;g++)b=this.hn+l*g,c=b*Math.PI/180,b=Math.cos(c),c=Math.sin(c),k.push(b),h.push(c),a.Pd(this.center.getX(),this.center.getY(),this.center.getX()+this.radius*b,this.center.getY()+this.radius*c);if(this.h8b){a.ua(this.n0b);
for(var p=c=this.SE(this.m0b);p<n;){l=[];b=[];for(g=0;g<k.length;g++)l.push(this.center.x+k[g]*p),b.push(this.center.y+h[g]*p);a.Ik(l,b);p+=c}}l=[];b=[];for(g=0;g<k.length;g++)l.push(this.center.x+k[g]*n),b.push(this.center.y+h[g]*n);a.ua(this.Xa());a.Ik(l,b);if(null!=this.Mp)if(this.Mp instanceof Array)for(g=0;g<this.Mp.length;g++)this.pwc(a,this.Mp[g],k,h);else this.pwc(a,this.Mp,k,h)};b.prototype.pwc=function(a,b,c,g){var k=[],h=[];a.ua(b.linestyle);a.ta(b.fillstyle);for(var l=0;l<c.length;l++){var n=
this.SE(b.data.getValue(l));(0,window.isNaN)(n)&&(n=0);k.push(this.center.x+c[l]*n);h.push(this.center.y+g[l]*n)}a.Ik(k,h)};b.prototype.pj=function(a){a%=2*Math.PI;0>a&&(a+=2*Math.PI);return 0===a?_geo.geotoolkit.util.Da.We:a<Math.PI/2?_geo.geotoolkit.util.Da.Gg:a===Math.PI/2?_geo.geotoolkit.util.Da.Og:a<Math.PI?_geo.geotoolkit.util.Da.Ck:a===Math.PI?_geo.geotoolkit.util.Da.Ng:a<3*Math.PI/2?_geo.geotoolkit.util.Da.cl:a===3*Math.PI/2?_geo.geotoolkit.util.Da.Ei:_geo.geotoolkit.util.Da.Ij};b.prototype.yM=
function(a){!0===this.QYb?this.pDa(a):this.qDa(a)};b.prototype.FPa=function(a,b){var c=this.Hub.clone(),g=new _geo.geotoolkit.scene.shapes.Text;g.wb(c);"regular"===b&&g.TI(!0);for(var c=this.radius+("regular"===b?2:7)/Math.max(Math.abs(a.Ra().Ab()),Math.abs(a.Ra().Pb())),k=360/this.qA.length,h,l=0;l<this.qA.length;l++){h=k*l+this.hn;h=h*Math.PI/180;var n=this.center.getX()+c*Math.cos(h),p=this.center.getY()+c*Math.sin(h);g.jc(this.qA[l]);g.Cd(this.pj(h));"alongCircumference"===b&&g.rotate(h+Math.PI/
2,n,p);g.yc(n,p);g.render(a);"alongCircumference"===b&&g.rotate(-(h+Math.PI/2),n,p)}};b.prototype.qDa=function(a){this.FPa(a,"regular")};b.prototype.pDa=function(a){this.FPa(a,"alongCircumference")};b.prototype.w_=function(a,b){var c=b*Math.PI/180;return new _geo.geotoolkit.util.na(a*Math.cos(c),a*Math.sin(c))};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.shapes.nn.prototype.ka.call(this);null!=this.options&&(a.options=this.options);return a};b.prototype.ja=function(a){_geo.geotoolkit.scene.shapes.nn.prototype.ja.call(this,
a);a.hasOwnProperty("options")&&this.setOptions(a.options);return this};return b}();
_geo.geotoolkit.controls.shapes.qba=function(){function b(a,b,c,d){for(var e=0,g=0;g<a.length;g++)e+=a[g].value;return(d?b:c)/e}function a(a,b,c,d){return Math.max(d*d*b/(c*c),c*c/(d*d*a))}function g(a,b,c){b=b*c/e(a);for(c=0;c<a.length;c++)a[c].value*=b;return a}function d(a){a.sort(function(a,b){return b.value-a.value});return a}function e(a){null==a&&(a=[]);for(var b=0,c=0;c<a.length;c++)b+=a[c].value;return b}function c(a,b){this.MY=new _geo.geotoolkit.util.Rect;this.Lb=(new _geo.geotoolkit.scene.shapes.Text).nga(!0).TI(!0).O$(!0).eu(!0).ke(!1);
_geo.geotoolkit.scene.shapes.nn.call(this,a);this.la={nodevalues:{visible:!0,textstyle:new _geo.geotoolkit.attributes.eb,location:c.fEb.Ub},linestyle:new _geo.geotoolkit.attributes.Aa({color:"gray",width:1}),fillstyle:new _geo.geotoolkit.attributes.Fa({color:"lightblue"})};this.Inc=this.la.nodevalues.visible;this.Hnc=this.la.nodevalues.location;this.sca=c.dO.PKa;this.jv=[];this.fj=[];this.mt=!1;this.RR=this.F2=0;this.p2a=!0;this.I0a=!1;this.dd=null;this.vud=0;this.setOptions(a);b&&this.setData(b)}
function f(a){for(var b=0;b<a.length;b++)if(a[b].id=l++,a[b].hasOwnProperty("level")){f(a[b].level);for(var c=a[b].children=0;c<a[b].level.length;c++)a[b].children=a[b].children+a[b].level[c].children+1}else a[b].children=0}function k(a,b){for(var c=0;c<a.length;c++)a[c].atlevel=b,0<a[c].children&&(b+=1,k(a[c].level,b),--b)}function h(a,b){for(var c=0;c<a.length;c++){if(0===a[c].atlevel)a[c].parent=-1,b=[];else{var d=a[c].atlevel;b=b.slice(0,d);a[c].parent=b[b.length-1]}0<a[c].children&&(b.push(a[c].id),
h(a[c].level,b))}}var l=0;_geo.geotoolkit.fa(c,_geo.geotoolkit.scene.shapes.nn);_geo.geotoolkit.da(c,"geotoolkit.controls.shapes.Treemap");c.dO={PKa:"Squarify",Geb:"HorizontalSliceAndDice",Chb:"VerticalSliceAndDice",Jcb:"AlternateSliceAndDice"};c.fEb={Ub:"Top",bdb:"Below",wd:"Left",$c:"Right"};c.$={yBb:"onDataChanged"};c.prototype.KOc=function(a){switch(a){case c.dO.Jcb:this.sca=c.dO.Jcb;break;case c.dO.Geb:this.sca=c.dO.Geb;break;case c.dO.Chb:this.sca=c.dO.Chb;break;default:this.sca=c.dO.PKa}this.mt=
!1;return this};c.prototype.JBc=function(){return this.sca};c.prototype.setData=function(a){a=_geo.geotoolkit.Ca(a,{mode:c.dO.PKa,datasets:null});this.sca=a.mode;a=a.datasets;_geo.geotoolkit.Sb(a,this.jv);this.Ja(_geo.geotoolkit.controls.shapes.qba.$.yBb,this.jv);this.ma()};c.prototype.getData=function(){return{mode:this.sca,datasets:this.jv}};c.prototype.JSc=function(a){Array.isArray(a)&&0<a.length&&(this.jv=a,this.mt=!1,this.Ja(_geo.geotoolkit.controls.shapes.qba.$.yBb,a))};c.prototype.setOptions=
function(a){a=_geo.geotoolkit.Ca(a,{});_geo.geotoolkit.Sb(a,this.la);this.la.nodevalues&&(this.Inc=this.la.nodevalues.visible,this.Hnc=this.la.nodevalues.location,this.Lb.wb(this.la.nodevalues.textstyle));this.la.linestyle=_geo.geotoolkit.attributes.Aa.ab(this.la.linestyle);this.la.fillstyle=_geo.geotoolkit.attributes.Fa.ab(this.la.fillstyle);this.ma();return this};c.prototype.jb=function(){return{nodevalues:{visible:this.Inc,location:this.Hnc,textstyle:this.Lb.Ib()}}};c.prototype.xdd=function(a,
b){if(null!=this.jv&&b){a=a.slice(0);var e,f=b.getX(),h=b.getY(),k=b.aa(),l=b.ba();this.fj=[];if(this.sca===c.dO.PKa)e=g(a,k,l),e=d(e),this.x5a(e,[],k,l,f,h);else{switch(this.sca){case c.dO.Geb:e="vertical";break;case c.dO.Chb:e="horizontal";break;case c.dO.Jcb:e="alternate";break;default:e=(e=this.$h<this.bh)?"horizontal":"vertical";break}this.iwc(a,k,l,f,h,e)}}};c.prototype.x5a=function(b,c,f,h,k,l){if(0<=b.length){var u=h<f,v=u?h:f,w=b[0],x=null!=w?w.value:0,A=c.map(function(a){return a.value}),
z=e(c),C=_geo.geotoolkit.util.Math.Ug(A),A=_geo.geotoolkit.util.Math.Ih(A),x=a(Math.min(C,x),Math.max(A,x),z+x,v),C=a(C,A,z,v);if(0===c.length||x<C)b.shift(),c.push(w),this.x5a(b,c,f,h,k,l);else{for(var A="",D,w=k,C=l,v=z/v,z=0;z<c.length;z++)x=c[z].value/v,A=c[z].hasOwnProperty("name")?c[z].name:"",D=c[z].hasOwnProperty("color")?c[z].color:"",u?(this.fj.push({x:w,y:C,width:v,height:x,color:D,name:A,children:c[z].children,id:c[z].id,atlevel:c[z].atlevel,parent:c[z].parent}),c[z].hasOwnProperty("level")&&
(A=g(c[z].level,v,x),A=d(A),this.x5a(A,[],v,x,w,C)),C+=x):(this.fj.push({x:w,y:C,width:x,height:v,color:D,name:A,children:c[z].children,id:c[z].id,atlevel:c[z].atlevel,parent:c[z].parent}),c[z].hasOwnProperty("level")&&(A=g(c[z].level,x,v),A=d(A),this.x5a(A,[],x,v,w,C)),w+=x);u?(k+=v,f-=v):(l+=v,h-=v);0<b.length&&this.x5a(b,[],f,h,k,l)}}};c.prototype.iwc=function(a,c,d,e,g,f){var h=[],k=!1;null==f&&(f="");switch(f){case "horizontal":f=!0;break;case "vertical":f=!1;break;case "alternate":f=d<c;k=!0;
break;default:f=d<c;break}var l,x,A=c,z=d;if(k)for(l=f;0<a.length;)x=b(a,A,z,l),h.push({scaledValue:a[0].value*x,color:a[0].hasOwnProperty("color")?a[0].color:"",child:a[0].hasOwnProperty("level")?a[0].level:null,name:a[0].hasOwnProperty("name")?a[0].name:"",children:a[0].children,id:a[0].id,atlevel:a[0].atlevel,parent:a[0].parent}),l?A-=a[0].value*x:z-=a[0].value*x,l=!l,a.shift();else for(x=b(a,A,z,f);0<a.length;)h.push({scaledValue:a[0].value*x,color:a[0].hasOwnProperty("color")?a[0].color:"",child:a[0].hasOwnProperty("level")?
a[0].level:null,name:a[0].hasOwnProperty("name")?a[0].name:"",children:a[0].children,id:a[0].id,atlevel:a[0].atlevel,parent:a[0].parent}),a.shift();l=f;for(a=0;a<h.length;a++)this.fj.push({x:e,y:g,width:l?h[a].scaledValue:c,height:l?d:h[a].scaledValue,color:h[a].color,name:h[a].name,children:h[a].children,id:h[a].id,atlevel:h[a].atlevel,parent:h[a].parent}),null!=h[a].child&&this.iwc(h[a].child,l?h[a].scaledValue:c,l?d:h[a].scaledValue,e,g,k?"alternate":f?"vertical":"horizontal"),k?(l?(e+=h[a].scaledValue,
c-=h[a].scaledValue):(g+=h[a].scaledValue,d-=h[a].scaledValue),l=!l):f?e+=h[a].scaledValue:g+=h[a].scaledValue};c.prototype.pwb=function(a,b,c,d){var e={x:b.x,y:b.y,width:b.width,height:b.height},g=this.la.fillstyle;""!==b.color&&null==c&&(g=new _geo.geotoolkit.attributes.Fa({color:b.color}));null!=c&&""!==c&&(g=new _geo.geotoolkit.attributes.Fa({color:c}));b=this.MY.zb(e);!0===d&&(this.dd=_geo.geotoolkit.util.Ga.hf(b,this.bounds));null!=this.dd&&(b=this.dd.transform(b));a.ta(g,b);a.ua(this.la.linestyle,
b);a.zc(b)};c.prototype.PGa=function(a,b){var c=b.name.trim(),d=b.x+b.width/2,e=b.y+b.height/2;null!=this.dd&&(e=this.dd.dg(d,e),d=e.getX(),e=e.getY());this.Lb.jc(c);this.Lb.yc(d,e);this.Lb.render(a)};c.prototype.zcd=function(){var a;if(0===this.RR)for(a=0;a<this.fj.length;a++)this.fj[a].visible=0===this.fj[a].atlevel,this.fj[a].visibleborder=!0;else{var b=null,c=0;for(a=0;a<this.fj.length;a++)null==b||c>=b?(this.fj[a].id===this.F2?(this.fj[a].visibleborder=!0,b=this.fj[a].children):this.fj[a].visibleborder=
!1,this.fj[a].visible=!1):(c+=1,this.fj[a].visible=this.fj[a].atlevel===this.RR,this.fj[a].visibleborder=!0)}};c.prototype.Qnd=function(a){var b=!0,c;for(c=0;c<this.fj.length;c++){var d;this.fj[c].visible?(this.pwb(a,this.fj[c]),d=this.fj[c].color):this.fj[c].visibleborder&&(0<this.RR&&b?(this.pwb(a,this.fj[c],d,!0),b=!1):(0===this.RR&&(this.dd=null),this.pwb(a,this.fj[c],d,!1)))}for(c=0;c<this.fj.length;c++)this.fj[c].visible&&this.PGa(a,this.fj[c])};c.prototype.Rnd=function(a){for(var b=0;b<this.fj.length;b++)this.pwb(a,
this.fj[b]),this.PGa(a,this.fj[b])};c.prototype.fIc=function(){if(!this.mt){this.mt=!0;var a=this.ga(),b=[];0>=this.jv.length&&(this.jv=[{value:1,name:"Empty Tree"}]);if(0===a.aa()||0===a.ba())a=null;_geo.geotoolkit.Sb(this.jv,b);l=0;this.p2a=!0;f(b);k(b,0);h(b,[]);this.xdd(b,a);this.sca===c.dO.PKa&&this.fj.sort(function(a,b){return a.id-b.id})}};c.prototype.render=function(a){var b=null!=this.mb()?a.qc(this.mb()):a;this.yk(b);this.fIc();this.p2a&&(this.p2a=!1,this.zcd());this.I0a?this.Qnd(b):this.Rnd(b);
this.hk(a);return this};c.prototype.bIc=function(a){this.fIc();if(this.mt){for(var b=[],c=0;c<this.fj.length;c++)this.fj[c].name===a&&b.push(this.fj[c].id);return b}return[]};c.prototype.Un=function(a){var b=this.Ya();a=b.Ue(a);for(var b=[],c=0;c<this.fj.length;c++)if(this.MY.zb({x:this.fj[c].x,y:this.fj[c].y,width:this.fj[c].width,height:this.fj[c].height}),!this.I0a||this.fj[c].visible)null!=this.dd&&(this.MY=this.dd.transform(this.MY)),this.MY.contains(a.getX(),a.getY())&&b.push(this.fj[c]);return b};
c.prototype.Lod=function(a){this.I0a=a;return this};c.prototype.cGc=function(a){this.I0a=this.p2a=!0;if((0,window.isNaN)(a)||0>a||a>this.fj.length-1||0>this.fj.length)this.F2=this.RR=0,this.ma(),this.dd=null;else{var b=this.fj[a];if(null!=b){var c=b.parent;1<=b.children?(this.F2=a,this.RR=b.atlevel+1):-1===c?this.RR=this.F2=0:(this.F2=c,this.RR=b.atlevel);this.ma()}}};c.prototype.Cgd=function(a){if(!((0,window.isNaN)(a)||0>a||a>this.fj.length-1||0>this.fj.length)&&(this.I0a=this.p2a=!0,a=this.fj[a],
null!=a)){a=a.parent;if(-1===a)this.RR=this.F2=0;else{var b=this.fj[a].parent;-1===b?this.RR=this.F2=0:(this.F2=b,this.RR=this.fj[a].atlevel)}this.dd=null;this.ma()}};c.prototype.Hyb=function(a,b){b?this.Cgd(a):this.cGc(a)};c.prototype.lRc=function(a){if(!((0,window.isNaN)(a)||0>=a)){for(var b=0;b<a;b++)if(-1!==this.F2){var c=this.fj[this.F2];this.F2=c.parent}this.cGc(this.F2)}};return c}();
_geo.geotoolkit.controls.shapes.I9b=function(){function b(a,b,e,c,f,k,h){_geo.geotoolkit.scene.shapes.Fn.call(this,a.x,a.y,e.width,e.height,c,f);this.Ymb=a;this.D1=b;this.cMb=this.bMb=0;this.Md=_geo.geotoolkit.attributes.eb.ab(h)||new _geo.geotoolkit.attributes.eb}function a(a,b){var e=b.Ra(),c=e.Vd(),f=new _geo.geotoolkit.util.Rect(0,0,a.D1.x,a.D1.y);c.ob(f,f);var f=new _geo.geotoolkit.util.na(a.Ymb.x+f.aa(),a.Ymb.y+f.ba()),k=a.Ymb,h=new _geo.geotoolkit.util.xc(a.aa(),a.ba());c.Hy(h,h);h.setSize(h.aa()/
2,h.ba()/2);var l;l=0>f.x-k.x?-1:1;var n=0>f.y-k.y?-1:1,p=Math.abs(f.x-k.x),r=Math.abs(f.y-k.y),t=1E-7;l=0===p||0===r||Math.abs(p/r-h.width/h.height)<t?p===r?new _geo.geotoolkit.util.na(f.x,f.y):0===p?new _geo.geotoolkit.util.na(f.x,f.y+n*h.height):new _geo.geotoolkit.util.na(f.x+l*h.width,f.y):p/r>h.width/h.height?new _geo.geotoolkit.util.na(f.x+l*h.width,f.y+h.width*r/p*n):new _geo.geotoolkit.util.na(f.x+h.height*p/r*l,f.y+n*h.height);h=new _geo.geotoolkit.util.Rect(l.x-h.width,l.y-h.height,l.x+
h.width,l.y+h.height);l=new _geo.geotoolkit.scene.shapes.Text(a.me(),h.x,h.y,h.aa(),h.ba(),a.Md,!1);l.Cd(_geo.geotoolkit.util.Da.Gg);l.TI(!0);l.Pa();l.Ib().aj("top");e.ob(h,h);h.fe(3,3);c.ob(h,h);r=c.Hy(new _geo.geotoolkit.util.xc(1,1));l.Ib().aj("bottom");var e=new _geo.geotoolkit.scene.shapes.Path,n=a.bMb/2,p=a.cMb/2,r=h.intersects(k.x,k.y,r.width,r.height),q=180*Math.atan(Math.abs(f.y-h.Qc())/Math.abs(f.x-h.Pc()))/Math.PI,m=180*Math.atan(Math.abs(k.y-h.Qc())/Math.abs(k.x-h.Pc()))/Math.PI,u=5,u=
new _geo.geotoolkit.util.xc(u,u);c.Hy(u,u);var u=u.aa(),c=a.bMb,v=a.cMb;k.y<h.qa()&&(m>q||Math.abs(q-90)<t)&&!r?(e.moveTo(h.getX()+n,h.getY()),f.x<h.sa()+c+u&&(f.x=h.sa()+c+u),f.x>h.za()-c-u&&(f.x=h.za()-c-u),e.lineTo(f.x-u,h.getY()),e.lineTo(k.x,k.y),e.lineTo(f.x+u,h.getY()),e.lineTo(h.getX()+h.aa()-n,h.getY()),r=!0):(e.moveTo(h.getX()+n,h.getY()),e.lineTo(h.getX()+h.aa()-n,h.getY()));k.x>h.za()&&(m<q||Math.abs(m)<t)&&!r?(f.y<h.wa()+v+u&&(f.y=h.wa()+v+u),f.y>h.qa()-v-u&&(f.y=h.qa()-v-u),e.lineTo(h.za(),
f.y-u),e.lineTo(k.x,k.y),e.lineTo(h.za(),f.y+u),e.lineTo(h.getX()+h.aa(),h.getY()+h.ba()-p),r=!0):e.lineTo(h.getX()+h.aa(),h.getY()+h.ba()-p);k.y>h.wa()&&(m>q||Math.abs(q-90)<t)&&!r?(f.x<h.sa()+c+u&&(f.x=h.sa()+c+u),f.x>h.za()-c-u&&(f.x=h.za()-c-u),e.lineTo(f.x+u,h.getY()+h.ba()),e.lineTo(k.x,k.y),e.lineTo(f.x-u,h.getY()+h.ba()),e.lineTo(h.getX()+n,h.getY()+h.ba()),r=!0):e.lineTo(h.getX()+n,h.getY()+h.ba());k.x<h.sa()&&(m<q||Math.abs(m)<t)&&!r&&(f.y<h.wa()+v+u&&(f.y=h.wa()+v+u),f.y>h.qa()-v-u&&(f.y=
h.qa()-v-u),e.lineTo(h.sa(),f.y+u),e.lineTo(k.x,k.y),e.lineTo(h.sa(),f.y-u));e.lineTo(h.getX(),h.getY()+p);return{F9c:e,text:l}}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Fn);_geo.geotoolkit.da(b,"geotoolkit.extensions.shapes.Callout");b.prototype.ie=function(a){if(!this.ib())return!1;a.measureText&&(a=_geo.geotoolkit.renderer.TextMetrics.measureText(this.Lb,this.Md),this.setSize(new _geo.geotoolkit.util.xc(a.aa(),a.ba())));return!0};b.prototype.fu=function(a,b){this.Ymb=new _geo.geotoolkit.util.na(a,
b);return this};b.prototype.Ib=function(){return this.Md};b.prototype.wb=function(a,b){if(this.Md===a)return this;this.Md=_geo.geotoolkit.attributes.eb.ph(this,this.Md,a,b,this.nc());this.Pa().ma();return this};b.prototype.jc=function(a){this.Lb=a;return this};b.prototype.me=function(){return this.Lb};b.prototype.PMc=function(a,b){this.bMb=a;this.cMb=b;this.ma();return this};b.prototype.render=function(b){b=null!=this.mb()?b.qc(this.mb()):b;var d=a(this,b),e=d.F9c;e.ua(this.Xa());e.ta(this.sb());
e.render(b);d=d.text;d.render(b)};return b}();
_geo.geotoolkit.controls.shapes.Jfc=function(){function b(a){_geo.geotoolkit.scene.CompositeNode.call(this,a);var b={name:[],value:[],fillstyle:[],invert:!1,align:"right",linestyle:[new _geo.geotoolkit.attributes.Aa("black")],border:[new _geo.geotoolkit.attributes.Aa("white",3)],linelength:20,highlight:!0,highlightstyle:new _geo.geotoolkit.util.rb(255,255,255)};this.nd=b.name;this.uk=b.value;this.fAa=b.fillstyle;this.Via=b.invert;this.mza=b.align;this.Fqa=b.linestyle;this.gr=b.border;this.aNa=b.linelength;
this.AMa=b.highlight;this.EMa=b.highlightstyle;this.colors="cyan pink green red orange brown yellow magenta".split(" ");this.Umc=[];this.Vmc=[];this.DGb=[];this.EGb=[];this.xmc=[];this.ai=new _geo.geotoolkit.util.Rect(50,50,750,350);this.Eh=new _geo.geotoolkit.selection.am;this.Cra=new _geo.geotoolkit.scene.shapes.Fc;this.gZ=[];this.zmb={x:[],y:[],id:null};this.QMb=null;this.setData(a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.CompositeNode);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.PyramidChart");
b.prototype.setData=function(a){a||(a={});for(var b in a)if(b!==b.toLowerCase()){var d=b.toLowerCase();a[d]=a[b]}this.nd=a.name&&Array.isArray(a.name)?a.name:this.nd;this.uk=a.value&&Array.isArray(a.value)?a.value:this.uk;this.fAa=a.fillstyle&&Array.isArray(a.fillstyle)?a.fillstyle:this.fAa;this.Via="boolean"===typeof a.invert?a.invert:this.Via;this.mza="string"===typeof a.align?a.align:this.mza;this.Fqa=a.linestyle&&Array.isArray(a.linestyle)?a.linestyle:[new _geo.geotoolkit.attributes.Aa("black")];
this.gr=a.border&&Array.isArray(a.border)?a.border:[new _geo.geotoolkit.attributes.Aa("white",3)];this.aNa="number"===typeof a.linelength?a.linelength:this.aNa;this.AMa="boolean"===typeof a.hightlight?a.highlight:this.AMa;this.EMa=a.highlightstyle instanceof _geo.geotoolkit.util.rb?a.highlightstyle:this.EMa;this.Tqa=this.nd.length<=this.uk.length?this.nd.length:this.uk.length;this.tQb();this.ma();return this};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);a.hasOwnProperty("fillstyle")&&
(this.fAa=a.fillstyle);a.hasOwnProperty("linestyle")&&(this.Fqa=a.linestyle);a.hasOwnProperty("border")&&(this.gr=a.border);a.hasOwnProperty("align")&&(this.mza=a.align);a.hasOwnProperty("invert")&&(this.Via=a.invert);a.hasOwnProperty("linelength")&&(this.aNa=a.linelength);a.hasOwnProperty("highlight")&&(this.AMa=a.highlight);a.hasOwnProperty("highlightstyle")&&(this.EMa=a.highlightstyle);this.tQb();this.ma();return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);a.fillstyle=this.fAa;
a.linestyle=this.Fqa;a.border=this.gr;a.invert=this.Via;a.align=this.mza;a.linelength=this.aNa;a.highlight=this.AMa;a.highlightstyle=this.EMa;return a};b.prototype.getData=function(){return{name:this.nd,value:this.uk,fillstyle:this.fAa,invert:this.Via,align:this.mza,linestyle:this.Fqa,border:this.gr,linelength:this.aNa,highlight:this.AMa,highlightstyle:this.EMa}};b.prototype.xa=function(){return this.ai};b.prototype.Sa=function(a){if(null!=this.ai&&this.ai.Pj(a))return this;this.ai!==a&&(this.ai=
a?new _geo.geotoolkit.util.Rect(a):null);this.tQb();this.Pa();this.Ja(_geo.geotoolkit.scene.Node.$.ss,this);this.ma();return this};b.prototype.fQa=function(){var a=.01,b=this.aNa,d=this.xa(),e=d.aa(),c=d.ba(),f=d.getX(),d=d.getY(),k;k=this.uk;var h=this.Umc,l=this.Vmc,n=this.DGb,p=this.EGb,r=0,t=0,q=0,m=0,u=0,v=[],v=this.bg(k);this.CJ={Gvb:{La:[],Na:[]},Hvb:{La:[],Na:[]},Ivb:{La:[],Na:[]},Jvb:{La:[],Na:[]}};!0===this.Via&&(q=100);for(k=0;k<this.Tqa;k++)t=u,m=u=t+=v[k],!0===this.Via&&(m=t=100-t,t=
0<100-t?100-t:100),this.CJ.Gvb.La[k]=f+e/2-e/2*r*a,this.CJ.Gvb.Na[k]=d+c*q*a,this.CJ.Hvb.La[k]=f+e/2+e/2*r*a,this.CJ.Hvb.Na[k]=d+c*q*a,this.CJ.Ivb.La[k]=f+(e/2+e/2*t*a),this.CJ.Ivb.Na[k]=d+c*m*a,this.CJ.Jvb.La[k]=f+(e/2-e/2*t*a),this.CJ.Jvb.Na[k]=d+c*m*a,"right"===this.mza?(!0===this.Via&&(q=m),h[k]=f+(e/2+e/2*(v[k]/2+r)*a),l[k]=d+c*(v[k]/2+q)*a,n[k]=h[k]+b):(!0===this.Via&&(q=m),h[k]=f+e/2-e/2*(v[k]/2+r)*a,l[k]=d+c*(v[k]/2+q)*a,n[k]=h[k]-b),p[k]=l[k],r=t,q=m};b.prototype.tQb=function(){var a,b=this.Tqa-
1;this.gZ=[];var d=[],e=[];this.fQa();this.removeChild(this.Cra);this.jh(!0);this.ma();for(a=0;a<this.Tqa;a++){var c={x:[this.CJ.Gvb.La[a],this.CJ.Hvb.La[a],this.CJ.Ivb.La[a],this.CJ.Jvb.La[a]],y:[this.CJ.Gvb.Na[a],this.CJ.Hvb.Na[a],this.CJ.Ivb.Na[a],this.CJ.Jvb.Na[a]]};this.gZ[a]=new _geo.geotoolkit.scene.shapes.Fc(c);0===this.fAa.length?this.gZ[a].ta(new _geo.geotoolkit.attributes.Fa(this.colors[b])):this.gZ[a].ta(this.fAa[b]);1===this.gr.length?this.gZ[a].ua(this.gr[0]):this.gZ[a].ua(this.gr[b]);
var c=new _geo.geotoolkit.util.na(this.Umc[a],this.Vmc[a]),f=new _geo.geotoolkit.util.na(this.DGb[a],this.EGb[a]);d[a]=new _geo.geotoolkit.scene.shapes.Line(c,f);1===this.Fqa.length?d[a].ua(this.Fqa[0]):d[a].ua(this.Fqa[b]);e[a]=(new _geo.geotoolkit.scene.shapes.Text).Cd(_geo.geotoolkit.util.Da.Ng);this.xmc[a]=this.nd[b]+"<br>("+this.uk[b]+")";b--;"right"===this.mza&&e[a].Cd(_geo.geotoolkit.util.Da.We);e[a].yc(this.DGb[a],this.EGb[a]).jc(this.xmc[a]);this.va(this.gZ[a]);this.gZ[a].Kd(a);this.va(d[a]);
this.va(e[a]);this.ma()}0!==this.Tqa&&this.va(this.Cra)};b.prototype.fEc=function(a){if(null==a)return null;for(var b=0;b<this.gZ.length;b++)if(this.gZ[b].od()===a)return a=this.Tqa-a-1,{name:this.nd[a],value:this.uk[a]};return null};b.prototype.fN=function(a){if(null==this.gZ[a]||!1===this.AMa)return this;this.Cra.Ka(!1);this.QMb=null;var b=this.gZ[a];a=this.Tfd(a);b.od()!==this.QMb&&(this.Cra=this.Gpd(a),b=_geo.geotoolkit.util.oi.Ph(this.EMa),b.yN(.5),this.Cra.ta(b),this.QMb=a.id,this.Cra.Ka(!0));
return this};b.prototype.Tfd=function(a){a=this.gZ[a];this.zmb.x=a.Wf();this.zmb.y=a.Jg();this.zmb.id=a.od();return this.zmb};b.prototype.Gpd=function(a){this.Cra.Ne(a.x,a.y);return this.Cra};b.prototype.Un=function(a,b){var d=this.Eh.select(this.getRoot(),a.x,a.y,b);if(null==d)return-1;for(var e=0;e<d.length;e++)if(d[e]instanceof _geo.geotoolkit.scene.shapes.Fc)return d[e].od();return-1};b.prototype.bg=function(a){var b=[],d=0,e,c=this.Tqa-1,f=0;for(e=0;e<this.Tqa;e++)f+=a[e];for(e=0;e<this.Tqa;e++)d=
a[e],d=d/f*100,b[c]=d,c--;return b};return b}();_geo.geotoolkit.controls.shapes.hc.Mdb=function(){function b(a,b,d){a=d.sb();var e=new _geo.geotoolkit.util.rb(a.ac()),c=b.sa(),f=b.qa(),k=b.aa();b=b.ba();a.setColor(e.EQb().ps());d.ta(a);d.iq(c,f,k,b,0,2*Math.PI);a.setColor(e.ps());d.ta(a);d.iq(c+.5,f+.5,k-2,b-2,0,2*Math.PI);a.setColor(e.light().light().ps());d.ta(a);d.iq(c+1.5,f+1.5,k-5,b-5,0,2*Math.PI)}_geo.geotoolkit.da(b,"geotoolkit.scene.shapes.painters.CrossPlotPainter");return b}();
_geo.geotoolkit.controls.shapes.hc.B8b=function(){function b(a,b){this.gA=a?a:_geo.geotoolkit.controls.shapes.hc.Mdb;this.bV=b?b:8;this.dCa=[];this.Z1=null}b.prototype.ja=function(a){var b=a.painter?a.painter:_geo.geotoolkit.controls.shapes.hc.Mdb,d=a.symbolsize?a.symbolsize:8;a=a.defaultlinecolor;if(b!==this.gA||d!==this.bV||a!==this.Z1)this.gA=b,this.bV=d,this.Z1=a,this.dCa=[]};b.prototype.be=function(a){var b=a.Bl(),d=a.zl(),e=a.xl();a=a.Km();var c=this.dCa;if(null==c[b])return null;b=c[b];if(null==
b[d])return null;d=b[d];if(null==d[e])return null;e=d[e];return null==e[a]?null:e[a]};b.prototype.Aad=function(a){var b=new _geo.geotoolkit.renderer.canvas.Mr(this.bV+1,this.bV+1,!1),d=new _geo.geotoolkit.util.Rect(0,0,this.bV,this.bV),e=b.pr();e.ua(null==this.Z1?null:(new _geo.geotoolkit.attributes.Aa(this.Z1,1)).Yd({x:!0,y:!0}));e.ta(new _geo.geotoolkit.attributes.Fa(a.ps()));this.gA(null,d,e,a);b.Lq();return b};b.prototype.w3=function(a,b,d,e){var c=_geo.geotoolkit.kh(this.bV);d-=this.bV/2;e-=
this.bV/2;a.render(b,d,e,1+c,1+c,0,0,c+1,c+1)};b.prototype.r$a=function(a,b){var d=a.Bl(),e=a.zl(),c=a.xl(),f=a.Km(),k=this.dCa,h=k[d],l,n;null!=h?(n=h[e],null!=n?(l=n[c],null!=l?l[f]=b:(l=[],l[f]=b,n[c]=l)):(n=[],l=[],l[f]=b,n[c]=l,h[e]=n)):(h=[],n=[],l=[],l[f]=b,n[c]=l,h[e]=n,k[d]=h);return this};return b}();
_geo.geotoolkit.controls.shapes.QXa=function(){function b(b){b=_geo.geotoolkit.Sb(b,{autobounds:!1,sizeisindevicespace:!1,preserveaspectratio:!1,ispointingup:!1,autosize:!1,padding:null},!0);_geo.geotoolkit.scene.shapes.Fn.call(this,b);b.padding=b.padding?_geo.geotoolkit.attributes.gw.ab(b.padding):new _geo.geotoolkit.attributes.gw;this.Ba=new _geo.geotoolkit.util.Mo;this.Gsc();this.SZa=!1;this.sf=this.sJb=this.tNb=this.Bza=this.pja=this.sHb=null;this.Eba=!1;this.ve=this.Rkb=this.h1a=null;this.aq=
new a(this);this.aq.Ea(_geo.geotoolkit.util.Rect.mB);this.setOptions(b)}function a(a){_geo.geotoolkit.scene.Group.call(this);this.Gm=a;this.nca=new _geo.geotoolkit.scene.Group;var b=this.Gm.ve;b?this.nca.pb({left:b.sa(),top:b.qa(),bottom:b.wa(),right:b.za()}):this.nca.pb({left:0,top:0,bottom:0,right:0});this.nca.Qf(!0);this.pe(new _geo.geotoolkit.ea.ol);this.va(this.nca);this.zg(a);this.Qf(!0)}_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.Group);a.prototype.zv=function(){return this.nca};a.prototype.Sa=
_geo.geotoolkit.rC();a.prototype.xa=function(){return this.Gm.Vka()};a.prototype.ee=function(){var a=this.ga(),b=this.xa();return null==a||a.isEmpty()||null==b||b.isEmpty()?new _geo.geotoolkit.util.Ga:_geo.geotoolkit.util.Ga.hf(b,a,!1,!1,!1)};_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Fn);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.Legend");b.prototype.cL=function(a){if(this.ve===a)return this;null!=this.ve&&this.Kq(this.ve,_geo.geotoolkit.scene.Node.$.Wc,this.vlc());this.ve=a?_geo.geotoolkit.attributes.gw.ab(a):
new _geo.geotoolkit.attributes.gw;this.aq&&this.aq.zv().pb(this.ve.getStyle());this.ma();null!=this.ve&&this.Wj(this.ve,_geo.geotoolkit.scene.Node.$.Wc,this.vlc());return this};b.prototype.nz=function(){return this.ve};b.prototype.setOptions=function(a){if(!a)return this;a.padding&&this.cL(a.padding);a.linestyle&&this.ua(a.linestyle,!1===a.linestyle instanceof _geo.geotoolkit.attributes.Aa);a.fillstyle&&this.ta(a.fillstyle,!1===a.fillstyle instanceof _geo.geotoolkit.attributes.Fa);if(void 0!==a.data){var b=
null;if(a.data instanceof _geo.geotoolkit.util.Mo)b=a.data;else if(a.data instanceof Array||a.data instanceof _geo.geotoolkit.controls.shapes.rO||a.data instanceof _geo.geotoolkit.controls.shapes.kH)b=new _geo.geotoolkit.util.Mo,b.add(a.data);b!==this.Ba&&(this.Rvc(),this.Ba=b,this.Gsc(),this.yg())}a.sizeisindevicespace&&this.Ss(a.sizeisindevicespace);a.preserveaspectratio&&this.eu(a.preserveaspectratio);a.ispointingup&&this.TI(a.ispointingup);a.preservereadingorientation&&this.nga(a.preservereadingorientation);
a.width&&this.qb(a.width);a.height&&this.Db(a.height);a.autosize&&(this.Eba=a.autosize);a=!0===a.autobounds;this.SZa!==a&&(this.SZa=a,this.Oi());return this};b.prototype.getData=function(){return this.Ba};b.prototype.Gsc=function(){if(null==this.Ba)return this;var a=_geo.geotoolkit.util.Mo.$;this.Ba.kb(a.HQ,this.Kea());this.Ba.kb(a.rJ,this.Kea());this.Ba.kb(a.Iy,this.Kea());this.Ba.kb(a.xC,this.Kea());a=this.Ba.bn();a.forEach(function(a){a instanceof _geo.geotoolkit.controls.shapes.rO&&(a.kb(_geo.geotoolkit.controls.shapes.rO.$.efb,
this.wFc()),a.kb(_geo.geotoolkit.controls.shapes.rO.$.ffb,this.Kea()))}.bind(this));return this};b.prototype.Rvc=function(){if(null==this.Ba)return this;var a=_geo.geotoolkit.util.Mo.$;this.Ba.hb(a.HQ,this.Kea());this.Ba.hb(a.rJ,this.Kea());this.Ba.hb(a.Iy,this.Kea());this.Ba.hb(a.xC,this.Kea());a=this.Ba.bn();a.forEach(function(a){a instanceof _geo.geotoolkit.controls.shapes.rO&&(a.hb(_geo.geotoolkit.controls.shapes.rO.$.efb,this.wFc()),a.hb(_geo.geotoolkit.controls.shapes.rO.$.ffb,this.Kea()))}.bind(this));
return this};b.prototype.yg=function(){if(null!=this.Ba){var a=[];this.Ji().forEach(function(b){b.hb(_geo.geotoolkit.controls.shapes.kH.$.Iy,this.fea());a.push(b)}.bind(this));this.jh();var b=this.Ba.bn(),e=[];b.forEach(function(b){var d=[];b instanceof _geo.geotoolkit.controls.shapes.rO?d=b.vPa():b instanceof _geo.geotoolkit.controls.shapes.kH&&(d=[b],b=a.indexOf(b),-1!==b&&a.splice(b,1));for(b=0;b<d.length;++b)d[b].kb(_geo.geotoolkit.controls.shapes.kH.$.Iy,this.fea()),e.push(d[b])}.bind(this));
for(b=a.length-1;0<=b;--b)a[b].dispose();this.Rkb=null;this.va(e);this.ltc();this.SZa?this.Oi():this.xb()}};b.prototype.Ea=function(a){if(a&&0<a.aa()&&0<a.ba()){var b=this.tw(),b=_geo.geotoolkit.scene.shapes.Fn.U8(a,b);this.yc(b);this.ZB()||(this.Eba||this.setSize(a.aa(),a.ba()),this.SZa||this.xb())}return this};b.prototype.ltc=function(){if((this.Eba||this.aq.iz())&&null!=this.aq.zv().Le()){this.aq.Vl(!0);this.aq.ke(!1);this.aq.zv().Le().ea(new _geo.geotoolkit.util.Rect(0,0,Number.MAX_VALUE,Number.MAX_VALUE),
this.Ji());var a=null;this.Ji().forEach(function(b){b.ib()&&(b=b.ga(),null==a?a=b?b.clone():null:b&&a.union(b))});this.aq.Vl(!1);this.aq.ke(!0);null!=a&&this.ZB()&&(a=new _geo.geotoolkit.util.Rect(0,0,a.aa()+this.ve.za()+this.ve.sa(),a.ba()+this.ve.wa()+this.ve.qa()),this.Rkb=null,this.setSize(a.aa(),a.ba()),this.aq.iz()||(this.zk(a.ba()),this.Ul(a.aa())))}};b.prototype.Oi=function(){if(this.SZa){var a=this.Vka(),b=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,c,f;this.Ji().forEach(function(a){a.ga()&&
(c=a.ga().za(),c>b&&(b=c),f=a.ga().wa(),f>e&&(e=f))});null!=a&&(a=a.clone(),a.qb(b),a.Db(e),this.Ea(a))}};b.prototype.fea=function(){null==this.Bza&&(this.Bza=function(){this.Oi()}.bind(this));return this.Bza};b.prototype.Kea=function(){null==this.pja&&(this.pja=function(){this.yg()}.bind(this));return this.pja};b.prototype.wFc=function(){null==this.tNb&&(this.tNb=function(a,b,e){b&&this.Ji().forEach(function(a){a.Ed()===b&&a.setOptions(e)})}.bind(this));return this.tNb};b.prototype.dispose=function(){this.Ji().forEach(function(a){a.hb(_geo.geotoolkit.controls.shapes.kH.$.Iy,
this.fea())}.bind(this));null!=this.aq&&(this.Rvc(),this.aq.dispose(),this.aq=null);_geo.geotoolkit.scene.shapes.Fn.prototype.dispose.call(this)};b.prototype.render=function(a){if(0<this.aa()&&0<this.ba()){a=null!=this.mb()?a.qc(this.mb()):a;this.yk(a);var b=a.Ra(),e=this.T8(a.Ra());a.kc(e);this.Qh(a);a.kc(b);this.hk(a)}};b.prototype.Qh=function(a){this.h1a=this.tVb(a.Ra());null==this.h1a||this.h1a.Pj(this.Rkb)||(this.vrd(this.Vka()),this.Rkb=this.h1a.clone());this.aq.render(a)};b.prototype.vrd=function(a){a=
new _geo.geotoolkit.util.Rect(0,0,a.aa()-this.ve.za()-this.ve.sa(),a.ba()-this.ve.wa()-this.ve.qa());this.aq.zv().Sa(a);this.aq.zv().xb();this.aq.xb()};b.prototype.Vka=function(){return this.sHb?this.sHb:this.ZB()?new _geo.geotoolkit.util.Rect(0,0,this.aa(),this.ba()):this.h1a};b.prototype.tVb=function(a){a=a.ob(_geo.geotoolkit.util.Rect.mB);return new _geo.geotoolkit.util.Rect(0,0,a.aa(),a.ba())};b.prototype.Xk=function(a,b){return this.aq.zv().Xk(a,b)};b.prototype.va=function(a){this.aq.zv().va(a);
return this};b.prototype.Ji=function(a){return this.aq.zv().Ji(a)};b.prototype.removeChild=function(a){var b=this.aq.zv();b.uz()||b.removeChild(a);return this};b.prototype.jh=function(a){this.aq.zv().jh(a);return this};b.prototype.Sa=function(a){this.ma();this.sHb=a;this.yg();this.ma();return this};b.prototype.LA=function(){return this.aq.LA()};b.prototype.Qf=function(a){this.aq.Qf(a);this.aq.zv().Qf(a);return this};b.prototype.xa=function(){return this.aq.xa()};b.prototype.pe=function(a){this.aq.zv().pe(a);
this.yg();return this};b.prototype.Le=function(){return this.aq.zv().Le()};b.prototype.xb=function(a){this.ltc();this.aq.xb(a);this.aq.zv().xb();return this};b.prototype.Ad=function(a){_geo.geotoolkit.warn("geotoolkit.controls.shapes.Legend.setAutoModelLimitsMode() is deprecated since 2.3");this.aq.Ad(a);return this};b.prototype.iz=function(){_geo.geotoolkit.warn("geotoolkit.controls.shapes.Legend.getAutoModelLimitsMode() is deprecated since 2.3");return this.aq.iz()};b.prototype.ta=function(a,b){_geo.geotoolkit.scene.shapes.Shape.prototype.ta.call(this,
a,b);this.aq.ta(this.sb());return this};b.prototype.ua=function(a,b){_geo.geotoolkit.scene.shapes.Shape.prototype.ua.call(this,a,b);this.aq.ua(this.Xa());return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this);null!=this.sf&&(a.layoutstyle=this.sf);a.padding=this.nz();return a};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Cc(this,a);a.hasOwnProperty("layoutstyle")&&(this.sf=_geo.geotoolkit.ea.Ag.ab(a.layoutstyle));a.hasOwnProperty("padding")&&
this.cL(a.padding);return this};b.prototype.pb=function(a){null==a?this.sf=null:a instanceof _geo.geotoolkit.ea.Ag?this.sf=a:null!=this.sf?this.sf.setStyle(a):this.sf=new _geo.geotoolkit.ea.Ag(a);return this};b.prototype.Sc=function(){return this.sf};b.prototype.yl=function(){if(null!=this.sf)return this.sf.aa()};b.prototype.Ul=function(a){return null==this.sf&&null==a||null!=this.sf&&this.sf.aa()===a?this:this.pb({width:a})};b.prototype.mf=function(){if(null!=this.sf)return this.sf.ba()};b.prototype.zk=
function(a){return null==this.sf&&null==a||null!=this.sf&&this.sf.ba()===a?this:this.pb({height:a})};b.prototype.vlc=function(){null===this.sJb&&(this.sJb=function(a,b,e){this.aq&&this.aq.zv().pb(this.ve.getStyle())}.bind(this));return this.sJb};return b}();
_geo.geotoolkit.controls.shapes.kH=function(){function b(a){_geo.geotoolkit.scene.Group.call(this);this.dja=a}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.LegendItem");b.$={Iy:"change"};b.prototype.Ed=function(){return this.dja};b.prototype.VI=function(a){this.dja=a;return this};b.prototype.setOptions=function(a){return this};b.prototype.uh=_geo.geotoolkit.rC;b.prototype.dispose=function(){this.dja=null;_geo.geotoolkit.scene.Group.prototype.dispose.call(this)};
return b}();
_geo.geotoolkit.controls.shapes.zFb=function(){function b(a,b){_geo.geotoolkit.controls.shapes.kH.call(this,a);this.la={text:"",textstyle:new _geo.geotoolkit.attributes.eb({color:"black",font:"9px Arial"}),margintext:2,internalpadding:4,alignment:_geo.geotoolkit.util.Da.We,background:{linestyle:null,fillstyle:null},symbol:{width:30,height:30,painter:_geo.geotoolkit.scene.shapes.hc.Zoa,linestyle:new _geo.geotoolkit.attributes.Aa,fillstyle:null}};this.Ad(!0);this.Qf(!0);this.E1=new _geo.geotoolkit.scene.shapes.lc;this.gg=
new _geo.geotoolkit.scene.shapes.Symbol;this.Lb=new _geo.geotoolkit.scene.shapes.Text;this.va([this.E1,this.gg,this.Lb]);this.setOptions(b)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.shapes.kH);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.SymbolLegendItem");b.prototype.$a=function(a){this.E1=a.E1?a.E1.clone():null;this.gg=a.gg?a.gg.clone():null;this.Lb=a.Lb?a.Lb.clone():null;return this};b.prototype.jb=function(){return this.la};b.prototype.setOptions=function(a){if(!a)return this;this.la=
_geo.geotoolkit.Sb(a,this.la);this.la.textstyle=_geo.geotoolkit.attributes.eb.ab(this.la.textstyle);var b=this.la.internalpadding;a=this.la.symbol.width;var d=_geo.geotoolkit.renderer.TextMetrics.measureText(this.la.text,this.la.textstyle).aa()+a+2*b+2*this.la.margintext,e=this.la.symbol.height+2*b;this.Ul(d);this.zk(e);var c,f;this.la.alignment===_geo.geotoolkit.util.Da.Ng?(c=d-a/2-b,f=this.la.margintext):(c=a/2+b,f=a+this.la.margintext+b);this.E1.Ea(b,b,d-b,e-b).ua(this.la.background.linestyle).ta(this.la.background.fillstyle);
b=_geo.geotoolkit.attributes.Aa.ab(this.la.symbol.linestyle);null!=b&&(b=b.clone().Yd(!0));d=_geo.geotoolkit.attributes.Fa.ab(this.la.symbol.fillstyle);this.gg.ja({ax:c,ay:e/2,width:a,height:this.la.symbol.height,alignment:_geo.geotoolkit.util.Da.lb,sizeisindevicespace:!1,painter:this.la.symbol.painter,linestyle:b,fillstyle:d});this.Lb.ja({text:this.la.text,ax:f,ay:e/2,textstyle:this.la.textstyle,alignment:_geo.geotoolkit.util.Da.We});this.Pa();return this};return b}();
_geo.geotoolkit.controls.shapes.rO=function(){function b(a,b){_geo.geotoolkit.util.EventDispatcher.call(this);this.dja=a;this.Vkb=_geo.geotoolkit.Sb(b,{})}_geo.geotoolkit.fa(b,_geo.geotoolkit.util.EventDispatcher);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.ShapeLegendAdapter");b.prototype.Ed=function(){return this.dja};b.prototype.vPa=_geo.geotoolkit.Ia;b.$={efb:"LegendItemOptionsChanged",ffb:"LegendSourceStateChanged"};b.prototype.uVb=function(){return _geo.geotoolkit.Sb(this.Vkb,{})};b.prototype.NOc=
function(a){_geo.geotoolkit.Sb(a,this.Vkb);a=_geo.geotoolkit.Sb(this.Vkb,{});this.Ja(b.$.efb,this.dja,a);return this};b.prototype.dispose=function(){this.Vkb=this.dja=null;_geo.geotoolkit.util.EventDispatcher.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.shapes.dac=function(){function b(a,b){_geo.geotoolkit.controls.shapes.rO.call(this,a,b);this.h5c=function(b,e,c){this.Ja(_geo.geotoolkit.controls.shapes.rO.$.ffb,a,c)}.bind(this);a.kb(_geo.geotoolkit.scene.Node.$.Mj,this.XCc())}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.shapes.rO);_geo.geotoolkit.da(b,"geotoolkit.controls.shapes.DonutChartLegendAdapter");b.prototype.vPa=function(a){a=_geo.geotoolkit.Sb(a,this.uVb());for(var b=this.Ed(),d=[],e=0;e<b.slices.length;e++){_geo.geotoolkit.Sb({text:b.slices[e].qOb,
symbol:{linestyle:b.options.linestyle,fillstyle:b.zi.fillstyles[e]}},a);var c=new _geo.geotoolkit.controls.shapes.zFb(b,a);d.push(c)}return d};b.prototype.dispose=function(){var a=this.Ed();a.hb(_geo.geotoolkit.scene.Node.$.Mj,this.XCc());_geo.geotoolkit.controls.shapes.rO.prototype.dispose.call(this)};b.prototype.XCc=function(){return this.h5c};return b}();
_geo.geotoolkit.controls.ia.uaa=function(){function b(a){this.xjb=a;this.jmc=this.fmc=!1}b.prototype.iD=function(){return this.xjb};b.prototype.stopPropagation=function(){this.fmc=!0;return this};b.prototype.preventDefault=function(){this.jmc=!0;return this};b.prototype.tz=function(){return this.fmc};b.prototype.R8a=function(){return this.jmc};return b}();
_geo.geotoolkit.controls.ia.Maa=function(){function b(a,b,d,e,c){_geo.geotoolkit.controls.ia.uaa.call(this,a);this.zGb=!1;this.a5c=b;this.FNa=d;this.nj=c;this.Fs=e;this.Tlc=!1;null!=this.nj&&null!=this.FNa&&(this.Tlc=0<=this.FNa.getX()&&this.FNa.getX()<this.nj.aa()&&0<=this.FNa.getY()&&this.FNa.getY()<this.nj.ba())}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.uaa);b.prototype.jm=function(){return this.FNa};b.prototype.ii=function(){return this.nj};b.prototype.il=function(){return this.Fs};b.prototype.th=
function(){return this.a5c};b.prototype.k4a=function(a){return null==a?this.zGb:this.zGb=a};b.prototype.stopPropagation=function(a,b){_geo.geotoolkit.controls.ia.uaa.prototype.stopPropagation.call(this);a&&(_geo.geotoolkit.controls.ia.uaa.prototype.preventDefault.call(this),this.k4a(!1),null!=this.th()&&this.th().preventDefault());b&&null!=this.th()&&this.th().stopPropagation();return this};b.prototype.eid=function(a){return null==this.th()||a===this.th().currentTarget||null===a&&null!=this.ii()&&
this.th().currentTarget===this.ii().hD()?!0:!1};b.prototype.nFa=function(){return this.Tlc};return b}();
_geo.geotoolkit.controls.ia.ev=function(){function b(a){_geo.geotoolkit.controls.ia.Maa.call(this);this.kja=a;this.mt=null!=a}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Maa);b.prototype.Pcd=function(){return!1===this.mt};b.prototype.il=function(){return this.mt?this.kja.il():null};b.prototype.ii=function(){return this.mt?this.kja.ii():null};b.prototype.jm=function(){return this.mt?this.kja.jm():null};b.prototype.iD=function(){return this.mt?this.kja.iD():null};b.prototype.th=function(){return this.mt?
this.kja.th():null};b.prototype.stopPropagation=function(a,b){this.mt&&this.kja.stopPropagation(a,b);return this};b.prototype.tz=function(){return this.mt?this.kja.tz():!1};b.prototype.k4a=function(a){return this.mt?this.kja.k4a(a):!0};b.prototype.nFa=function(){return this.mt?this.kja.nFa():!1};return b}();
_geo.geotoolkit.controls.ia.tKa=function(){function b(a){_geo.geotoolkit.controls.ia.ev.call(this,a);this.kA=null;this.Qoc=!1}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);b.prototype.fu=function(a){this.kA=a;return this};b.prototype.SP=function(){return this.kA};b.prototype.reject=function(a){null==a&&(a=!0);this.Qoc=a;return this};b.prototype.T8a=function(){return this.Qoc};return b}();
_geo.geotoolkit.controls.ia.neb=function(){function b(a,b,d,e,c){this.$z=a;this.xjb=b;this.Eu=d;this.dja=e;this.yia=c;this.pR=!0}b.prototype.uTb=function(){return this.$z};b.prototype.iD=function(){return this.xjb};b.prototype.Ed=function(){return this.dja};b.prototype.ld=function(){return this.Eu};b.prototype.isEnabled=function(){return this.pR&&this.Eu.isEnabled()};b.prototype.cc=function(a){this.pR=a;return this};b.prototype.Lwd=function(){return this.yia};b.prototype.Hh=function(a){if(a instanceof
_geo.geotoolkit.controls.ia.Maa)return this.yia.call(this,a),a;a=new _geo.geotoolkit.controls.ia.Maa(this.xjb,a);this.yia.call(this,a);return a};b.prototype.hb=function(){this.$z.hb(this);return this};return b}();
_geo.geotoolkit.controls.ia.fc=function(){function b(a,b){var e=_geo.geotoolkit.Ca(a,{slots:"object"===typeof a?a:{},name:"string"===typeof b?b:"",layer:null});this.Oba=[];this.LC={};this.K5b(e.slots);this.pR=!0;this.Um=!1;this.nd=e.name;this.Zpa={};this._listeners={};this.pia=null;this.Qb=e.layer}function a(a,b){return(0,window.parseInt)(a.getPropertyValue(b),10)}_geo.geotoolkit.sg(b,_geo.geotoolkit.Me.RCb);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.AbstractTool");b.$={Uu:"onStateChanged",Xn:"onEnabledStateChanged",
bva:"onEnter",M4:"onLeave"};b.prototype.K5b=function(a){var b,e,c;if(0<this.Oba.length)for(c=this.Oba.slice(),e=0;e<c.length;++e)this.detach(c[e]);this.LC=a;a=null;for(var f in this.LC)if(this.LC.hasOwnProperty(f)&&(b=_geo.geotoolkit.controls.util.Xp.SZ(f),Array.isArray(b)))for(a=this.LC[f],delete this.LC[f],e=0;e<b.length;++e)this.LC[b[e]]=a;for(f in this.LC)if(this.LC.hasOwnProperty(f)&&(a=this.LC[f],null==a||Array.isArray(a)||(this.LC[f]=[a]),a=this.LC[f],null!=a))for(e=0;e<a.length;e++)"function"===
typeof a[e]&&(a[e]={callback:a[e],object:null,enabled:!0});if(c&&0<c.length)for(e=0;e<c.length;++e)this.attach(c[e]);return this};b.prototype.tEc=function(){return this.LC};b.prototype.gy=function(a){return this};b.Mi=function(a,b){void 0===_geo.geotoolkit.controls.ia.fc.FZa&&(_geo.geotoolkit.controls.ia.fc.FZa=[]);for(var e=_geo.geotoolkit.controls.ia.fc.FZa,c=0;c<e.length;c++)if(e[c].Me===a){e[c].sd=b;return}e.push({Me:a,sd:b})};b.UW=function(a){if(void 0!==_geo.geotoolkit.controls.ia.fc.FZa){var b=
_geo.geotoolkit.controls.ia.fc.FZa,e;if(a instanceof _geo.geotoolkit.Me.aR)for(e=0;e<b.length;e++){if(b[e].Me===a){b.splice(e,1);break}}else for(e=b.length-1;0<=e;e--)b[e].sd===a&&b.splice(e,1)}};b.L6a=function(a){if(null==a)return null;var b=_geo.geotoolkit.controls.ia.fc.FZa;if(void 0===b||0===b.length)return null;for(var e=0;e<b.length;e++)if(b[e].Me===a)return b[e].sd;return null};b.prototype.Yu=function(a,b,e){a=_geo.geotoolkit.controls.util.Xp.SZ(a);for(var c=0;c<a.length;++c){var f=a[c];if(null!=
this.LC[f])for(var k=0;k<this.LC[f].length;++k){var h=this.LC[f][k];h.object!==e&&e||(h.enabled=b)}}return this};b.prototype.yb=function(a){this.nd=a;return this};b.prototype.getName=function(){return this.nd};b.prototype.Bh=function(){return this.Qb};b.prototype.Ctc=function(){void 0!==this.Ae&&this.Ae(null);this.pia&&_geo.geotoolkit.controls.util.Xp.SZ("pointerup").forEach(function(a){_geo.geotoolkit.window.removeEventListener(a,this.pia,!1)}.bind(this))};b.prototype.Yob=function(){null==this.pia&&
(this.pia=this.Ctc.bind(this));_geo.geotoolkit.controls.util.Xp.SZ("pointerup").forEach(function(a){_geo.geotoolkit.window.addEventListener(a,this.pia,!1)}.bind(this))};b.prototype.dispose=function(){this.pia&&_geo.geotoolkit.controls.util.Xp.SZ("pointerup").forEach(function(a){_geo.geotoolkit.window.removeEventListener(a,this.pia,!1)}.bind(this));this.Zpa=null;this._listeners={};this.LC=null;for(var a=this.Oba.slice(),b=0;b<a.length;b++)this.detach(a[b]),a[b].remove(this)};b.prototype.qG=function(a){null!=
a.th&&(a=a.th());return null!=a.type.match(/touch/)||null!=a.type.match(/pointer/)&&"mouse"!==a.pointerType};b.prototype.EZ=function(b,d){if(!b)throw Error("Invalid element");var e=0,c=0,f=!0,k=b;do{if(k===d)break;var e=e+k.offsetLeft,c=c+k.offsetTop,h=_geo.geotoolkit.window.getComputedStyle(k,null),e=e+a(h,"border-left-width"),c=c+a(h,"border-top-width");f&&(e+=a(h,"padding-left"),c+=a(h,"padding-top"));f=!1;k=k.offsetParent}while(k);return{x:e,y:c}};b.lpb=function(a,b){var e=b.getBoundingClientRect(),
c=0,f=0;"touchend"===a.type&&null!=a.changedTouches&&0<a.changedTouches.length?(c=a.changedTouches[0].clientX,f=a.changedTouches[0].clientY):null!=a.touches&&0<a.touches.length?(c=a.touches[0].clientX,f=a.touches[0].clientY):(c=a.clientX,f=a.clientY);c=(c-e.left)/(e.right-e.left)*b.aa();e=(f-e.top)/(e.bottom-e.top)*b.ba();return{x:Math.round(10*c)/10,y:Math.round(10*e)/10}};b.prototype.UK=function(a,b){var e=null!=b?b:a.ii(),c=null!=b?a:a.th();return _geo.geotoolkit.controls.ia.fc.lpb(c,e)};b.prototype.Qe=
function(a,b){var e=b.jm(),e=new _geo.geotoolkit.util.na(e.getX(),e.getY());if(null!=a){var c=a.Ya();null!=c&&c.Ue(e,e)}return e};b.prototype.addListener=function(a,b){null==this._listeners[a]&&(this._listeners[a]=[]);var e=this._listeners[a],c=Array.isArray(b)?b:[b];c.forEach(function(a){e.push(a)});return this};b.prototype.removeListener=function(a,b){if(null==this._listeners[a])return this;var e=this._listeners[a],c=Array.isArray(b)?b:[b];c.forEach(function(a){a=e.indexOf(a);-1!==a&&e.splice(a,
1)});return this};b.prototype.o7a=function(a){if(null==this._listeners[a])return[];a=this._listeners[a];return a.slice()};b.prototype.fireEvent=function(a,b){if(null!=this._listeners[a])for(var e=this._listeners[a],c=0;c<e.length;++c){var f=e[c];null!=f&&("function"===typeof f?f.call(this,this,b):null!=f.processEvent&&f.processEvent.call(f,this,b))}};b.prototype.cc=function(a){if(this.pR===a)return this;this.pR=a;this.Xn();this.uj();return this};b.prototype.isEnabled=function(){return this.pR};b.prototype.toggle=
function(){this.cc(!this.pR);return this};b.prototype.start=function(a){return this.setActive(!0)};b.prototype.stop=function(){return this.setActive(!1)};b.prototype.setActive=function(a){if(this.Um===a)return this;this.Um=a;this.uj();return this};b.prototype.wf=function(){return this.Um};b.prototype.uj=function(){this.fireEvent(b.$.Uu,null)};b.prototype.Xn=function(){this.fireEvent(b.$.Xn,null)};b.prototype.attach=function(a){function b(a,d){if(!d.tz())for(var e=this.LC[a],g=0;g<e.length;++g){var l=
e[g];if(!1!==l.enabled&&d.eid(l.object)&&(l.callback.call(this,d),d.tz()))break}}this.Oba.push(a);for(var e in this.LC)this.LC.hasOwnProperty(e)&&null!=this.LC[e]&&(null==this.Zpa[e]&&(this.Zpa[e]=[]),this.Zpa[e].push(a.kb(e,this,a,b.bind(this,e))));return this};b.prototype.detach=function(a){var b=this.Oba.indexOf(a);-1!==b&&this.Oba.splice(b,1);for(var e in this.Zpa)if(this.Zpa.hasOwnProperty(e))for(var b=this.Zpa[e],c=b.length-1;0<=c;c--){var f=b[c];f.uTb()===a&&(f.hb(),b.splice(c,1))}};b.prototype.u6a=
function(){return _geo.geotoolkit.util.Iterator.Zm(this.Oba)};b.prototype.kb=function(a,b,e,c){_geo.geotoolkit.warn("AbstractTool.on() is deprecated since 1.1");return null};b.prototype.hb=function(a){_geo.geotoolkit.warn("AbstractTool.off() is deprecated since 1.1");return this};b.prototype.Wzc=function(){_geo.geotoolkit.warn("AbstractTool.getEventHandlers() is deprecated since 1.1");return this.Zpa};b.prototype.ifd=function(a){if(null==a||null==this.LC[a])return null;var b=[];this.LC[a].forEach(function(a){-1===
b.indexOf(a.object)&&b.push(a.object)});return b};return b}();_geo.geotoolkit.controls.ia.tF={rCb:0,ic:1,$b:2,TVa:3};
_geo.geotoolkit.controls.ia.Ona=function(){function b(a,b,d){a=_geo.geotoolkit.Ca(a,{slots:"object"===typeof a?a:{},layer:null,name:"string"===typeof b?b:"",mode:null==d?_geo.geotoolkit.controls.ia.tF.rCb:d});_geo.geotoolkit.controls.ia.fc.call(this,a);this.Jd=new _geo.geotoolkit.util.na(0,0);this.Zh=new _geo.geotoolkit.util.na(0,0);this.FBa=a.mode}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.AbstractRubberTool");b.prototype.x5b=function(a){this.FBa=
a;return this};b.prototype.HWb=function(){return this.FBa};b.prototype.xtc=function(){var a=this.Qb.Nb(!0);if(this.FBa===_geo.geotoolkit.controls.ia.tF.TVa){var b=a.ba()/a.aa(),a=this.Zh.getY()-this.Jd.getY(),d=this.Zh.getX()-this.Jd.getX(),e=Math.abs(a),c=Math.abs(d);b<e/c?(a=e/b,0<d?this.Zh.bb(this.Jd.getX()+a,this.Zh.getY()):this.Zh.bb(this.Jd.getX()-a,this.Zh.getY())):(d=c*b,0<a?this.Zh.bb(this.Zh.getX(),this.Jd.getY()+d):this.Zh.bb(this.Zh.getX(),this.Jd.getY()-d))}else this.FBa===_geo.geotoolkit.controls.ia.tF.$b?
(this.Jd.bb(a.sa(),this.Jd.getY()),this.Zh.bb(a.za(),this.Zh.getY())):this.FBa===_geo.geotoolkit.controls.ia.tF.ic&&(this.Jd.bb(this.Jd.getX(),a.qa()),this.Zh.bb(this.Zh.getX(),a.wa()))};return b}();
_geo.geotoolkit.controls.ia.ZW=function(){function b(a,b,d){for(var g=null,h="",l=0;l<a.length;l++){g=a[l];h=g.getName();if(0===h.length&&g instanceof _geo.geotoolkit.controls.ia.ZW){var n=g.mXb(b,d);if(null!=n)return n}if(h===b[d]){if(d===b.length-1)return g;if(g instanceof _geo.geotoolkit.controls.ia.ZW)return g.mXb(b,d+1)}}return null}function a(a,b){for(var d=[],g=null,h=0;h<a.length;h++){g=a[h];if(g instanceof b)return g;g instanceof _geo.geotoolkit.controls.ia.ZW&&d.push(g)}if(0<d.length)for(h=
0;h<d.length;h++)if(g=d[h].GK(b),null!=g)return g;return null}function g(a,b){for(var d=[],g=null,h=0;h<a.length;h++){g=a[h];if(g.getName()===b)return g;g instanceof _geo.geotoolkit.controls.ia.ZW&&d.push(g)}for(h=0;h<d.length;h++)if(g=d[h].xg(b),null!=g)return g;return null}function d(a){_geo.geotoolkit.controls.ia.fc.call(this,{},a);this.nj=null;this.kt=[];this.BU={};this.sU={};this.E1a=!1}_geo.geotoolkit.fa(d,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(d,"geotoolkit.controls.tools.AbstractCompositeTool");
d.prototype.gy=function(a){if(this.nj!==a){this.nj=a;for(var b in this.kt)this.kt.hasOwnProperty(b)&&this.kt[b].gy(a)}return _geo.geotoolkit.controls.ia.fc.prototype.gy.call(this,a)};d.prototype.dispose=function(){this.gy(null);for(var a in this.kt)this.kt.hasOwnProperty(a)&&this.kt[a].dispose();_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};d.prototype.mXb=function(a,c){return c>=a.length?null:b(this.kt,a,c)};d.prototype.xg=function(a){var b=g(this.kt,a);null==b&&(a=a.split("."),0<
a.length&&a[0]===this.getName()&&(b=this.mXb(a,1)));return b};d.prototype.GK=function(b){return a(this.kt,b)};d.prototype.nN=function(){return this.gwc(this.getName(),[])};d.prototype.gwc=function(a,b){for(var d,g,h=0;h<this.kt.length;h++)d=this.kt[h],g=d.getName(),d instanceof _geo.geotoolkit.controls.ia.ZW?(g=0===g.length?a:0===a.length?g:a+"."+g,d.gwc(g,b)):b.push(0<a.length?a+"."+g:g);return b};d.prototype.Tid=function(){return this.fwc([])};d.prototype.fwc=function(a){for(var b,d=0;d<this.kt.length;d++)b=
this.kt[d],b instanceof _geo.geotoolkit.controls.ia.ZW?b.fwc(a):a.push(b);return a};d.prototype.f8a=function(a){return this.kt.indexOf(a)};d.prototype.yg=function(a){!0===a&&(this.kt.forEach(function(a){a.detach(this)}.bind(this)),this.kt.forEach(function(a){a.attach(this)}.bind(this)));this.u6a().forEach(function(a){a.yg(!0)});return this};d.prototype.gs=function(a,b){this.kt.forEach(function(a){a.detach(this)}.bind(this));this.kt.splice(a,0,b);this.E1a=!1;this.kt.forEach(function(a){a.gy(this.nj);
a.attach(this)}.bind(this));!0===this.E1a&&this.yg();return this};d.prototype.add=function(a){if(null==a)return this;a=Array.isArray(a)?a:[a];this.E1a=!1;for(var b=0;b<a.length;++b)null!=a[b]&&(this.kt.push(a[b]),a[b].gy(this.nj),a[b].attach(this));!0===this.E1a&&this.yg();return this};d.prototype.remove=function(a){a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;++b){var d=this.kt.indexOf(a[b]);-1!==d&&(this.kt.splice(d,1),a[b].detach(this),a[b].gy(null))}return this};d.prototype.kb=function(a,b,
d,g){null==this.BU[a]&&(this.BU[a]=[],this.E1a=!0);0===this.BU[a].length&&this.attachEvent(a);b=new _geo.geotoolkit.controls.ia.neb(this,a,b,d,g);this.BU[a].push(b);return b};d.prototype.hb=function(a){if(null==a||!(a instanceof _geo.geotoolkit.controls.ia.neb))return _geo.geotoolkit.warn("A wrong handler is in AbstractCompositeTool.prototype.off"),this;var b=this.BU[a.iD()];if(null==b)return this;var d=b.indexOf(a);-1!==d&&b.splice(d,1);0===b.length&&this.detachEvent(a.iD());return this};d.prototype.detachEvent=
function(a){this.sU[a]=null;return this};d.prototype.attachEvent=function(a){if(null!=this.sU[a])return this;var b=function(b){return this.dispatchEvent(a,b)}.bind(this);this.sU[a]=b;return this};d.prototype.ped=function(a){return null==a?this.sU:this.sU[a]};d.prototype.dispatchEvent=function(a,b){if(!this.isEnabled()||null==a)return!1;var d=this.BU[a];if(null==d)return!1;for(var g=!0,h=_geo.geotoolkit.controls.ia.fc.L6a(b.ii()),l=0;l<d.length;++l){var n=d[l];if(("cg-leave"===a||"cg-enter"===a||!1!==
n.ld()instanceof _geo.geotoolkit.controls.ia.ZW||null==h||n.ld()===h)&&n.isEnabled()){g=n.Hh(b);if(g.tz())return g.k4a();g=g&&g.k4a()}}return g};return d}();
_geo.geotoolkit.controls.ia.KFb=function(){function b(b,d){this.nj=b;this._canvas=b.hD();this.Eu=(new _geo.geotoolkit.controls.ia.Xl(b.getRoot(),"root")).gy(this.nj);this.Wia=!1;a.Za().add(this);this.sU={};this.C4c=d;!0!==this.C4c&&null!=b.lCa&&b.lCa.cc(!1)}var a=function(){function a(b,d){var e=_geo.geotoolkit.controls.ia.fc.lpb(b,d);return 0<=e.x&&e.x<d.aa()&&0<=e.y&&e.y<d.ba()}function b(){this.kt=[];this.p5c=this.i$.bind(this);_geo.geotoolkit.controls.util.Xp.SZ("pointermove").forEach(function(a){_geo.geotoolkit.window.addEventListener(a,
this.p5c,!0)}.bind(this));this.eU=null}var e=null;b.prototype.i$=function(b){if(null==this.eU||!a(b,this.eU.nj)){for(var d=null,e=0;e<this.kt.length;e++)if(!1!==this.kt[e].isEnabled()&&a(b,this.kt[e].nj)){d=this.kt[e];break}this.eU!==d&&(null!=this.eU&&this.eU.Jbd(b),this.eU=d,null!=this.eU&&this.eU.A7c(b))}};b.prototype.add=function(a){this.kt.push(a);return this};b.prototype.remove=function(a){var b=this.kt.indexOf(a);-1!==b&&(this.kt.splice(b,1),this.eU===a&&(this.eU=null));return this};b.Za=function(){null==
e&&(e=new b);return e};return b}();_geo.geotoolkit.sg(b,_geo.geotoolkit.Me.uXa);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.ToolsContainer");b.prototype.dispose=function(b){a.Za().remove(this);for(var d in this.sU)this.detachEvent(d);!0===b&&this.Eu.dispose();this.sU=this._canvas=this.nj=this.Eu=null};b.prototype.cc=function(a){this.Eu.cc(a);return this};b.prototype.isEnabled=function(){return this.Eu.isEnabled()};b.prototype.xg=function(a){return this.Eu.xg(a)};b.prototype.GK=function(a){return this.Eu.GK(a)};
b.prototype.nN=function(){return this.Eu.nN()};b.prototype.A7c=function(a){this.Wia=!0;return this};b.prototype.Jbd=function(a){if(!1===this.Wia)return this;this.Wia=!1;a=_geo.geotoolkit.controls.ia.fc.lpb(a,this.nj);a=new _geo.geotoolkit.util.na(a.x,a.y);a=new _geo.geotoolkit.controls.ia.Maa("cg-leave",null,a,this.nj.getRoot(),this.nj);this.Eu.dispatchEvent("cg-leave",a);return this};b.prototype.ii=function(){_geo.geotoolkit.warn("ToolsContainer.getPlot() is deprecated since 1.4");return this.nj};
b.prototype.il=function(){return this.nj.getRoot()};b.prototype.detachEvent=function(a){if(!this.sU[a])return this;this.sU[a].forEach(function(b){b.object.removeEventListener(a,b.callback,!1)});return this};b.prototype.attachEvent=function(a){var b=function(b){var d=_geo.geotoolkit.controls.ia.fc.lpb(b,this.nj);b=new _geo.geotoolkit.controls.ia.Maa(a,b,new _geo.geotoolkit.util.na(d.x,d.y),this.nj.getRoot(),this.nj);this.Eu.dispatchEvent(a,b)}.bind(this);null==this.sU[a]&&(this.sU[a]=[]);var e=_geo.geotoolkit.controls.util.Xp.Vzc(this.Eu,
a,[]);null!=e&&0<e.length&&e.forEach(function(c){var e=null==c?this.nj.hD():c;c=this.sU[a].filter(function(a){return a.object===e});0===c.length&&(e.addEventListener(a,b,!1),this.sU[a].push({object:e,callback:b}))}.bind(this));return this};b.prototype.add=function(a){this.Eu.add(a);a=this.Eu.ped();for(var b in a)this.attachEvent(b);return this};b.prototype.remove=function(a){-1!==this.Eu.f8a(a)&&this.Eu.remove(a);return this};b.prototype.ld=function(){return this.Eu};return b}();
_geo.geotoolkit.controls.ia.Xl=function(){function b(a,b){_geo.geotoolkit.controls.ia.ZW.call(this,b);this.R_a=[];this.Fs=a;this.nCa=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ZW);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.CompositeTool");b.prototype.dispose=function(){this.nCa=this.Fs=null;_geo.geotoolkit.controls.ia.ZW.prototype.dispose.call(this)};b.prototype.il=function(){return this.Fs};b.prototype.lga=function(a){this.Fs=a;return this};b.prototype.Zbd=function(a){var b=new _geo.geotoolkit.controls.ia.ev(a);
if(null==this.Fs||"touchend"===a.iD()||null==a.ii()||null!=a.th()&&a.th().currentTarget!==a.ii().hD())"cg-enter"===a.iD()?this.nCa=this.Fs:"cg-enter"===a.iD()&&(this.nCa=null);else{var d=a.nFa();if(d){var e=this.Qe(this.Fs,a),d=null!=this.Fs&&null!=this.Fs.Nb?this.Fs.Nb():null;if(null==d)return;var c=e.getX(),e=e.getY(),d=d.contains(c,e)}if(d)null==this.nCa&&(this.dispatchEvent("cg-enter",b),this.nCa=this.Fs);else{null!=this.nCa&&(this.dispatchEvent("cg-leave",b),this.nCa=null);return}}this.dispatchEvent(a.iD(),
b)};b.prototype.detach=function(a){var b=this.Oba.indexOf(a);-1!==b&&this.Oba.splice(b,1);if(this.isEnabled())for(var d in this.BU)if(null!=this.BU[d])for(var e in this.R_a)for(var b=this.R_a[e],c=0;c<b.length;c++)b[c]&&a.hb(b[c])};b.prototype.attach=function(a){this.Oba.push(a);if(this.isEnabled())for(var b in this.BU)null!=this.BU[b]&&(null==this.R_a[b]&&(this.R_a[b]=[]),this.R_a[b].push(a.kb(b,this,this,this.Zbd.bind(this))))};return b}();
_geo.geotoolkit.controls.ia.Fxa=function(){function b(a,b){_geo.geotoolkit.controls.ia.ev.call(this,a);this.vg=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);b.prototype.getPosition=function(){return this.vg};return b}();
_geo.geotoolkit.controls.ia.TN=function(){function b(a,b){var c={group:a instanceof _geo.geotoolkit.scene.CompositeNode?a:void 0,name:"string"===typeof b&&""!==b?b:"cross-hair",linestyle:(new _geo.geotoolkit.attributes.Aa(d,1,[3,2])).Yd({x:!0,y:!0}),textstyle:(new _geo.geotoolkit.attributes.eb).setColor(d).Gr(e)};a instanceof _geo.geotoolkit.scene.Group||a instanceof _geo.geotoolkit.scene.og||(c=_geo.geotoolkit.Ca(a,c));""===c.name&&(c.name="cross-hair");var g={pointermove:this.Wd.bind(this),pointerup:this.Ae.bind(this),
pointerdown:this.xf.bind(this),"cg-enter":function(a){this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.bva,a)}.bind(this),"cg-leave":[{callback:function(a){this.setPosition(f,!1,a);this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,a)}.bind(this),object:null},{callback:function(a){this.setPosition(f,!1,a);this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,a)}.bind(this),object:_geo.geotoolkit.window,enabled:!0}]},g={slots:g,name:c.name,layer:c.group};_geo.geotoolkit.controls.ia.fc.call(this,g);this.jP=
!0;this.tY=null;this.EO=(new k).ua(c.linestyle).setPosition(f);this.n7=(new h(c.textstyle)).setPosition(f).yM(!1).Ka(this.jP).Dod(this.EO);this.Rs(c);this.Qb.va(this.EO);this.Qb.va(this.n7)}function a(a,b){return(0,window.isNaN)(b)?"":b.toFixed(2)}function g(a,b){return(0,window.isNaN)(a)?"":a.toFixed(2)}var d="#757575",e="12px Roboto",c=new _geo.geotoolkit.util.Rect,f=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN),k=function(){function a(){_geo.geotoolkit.scene.shapes.Shape.call(this);this.kk(!1);
this.vg=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN);this.Kf={pm:{left:null,Rua:null,Sua:null,right:null},bj:{top:null,Tua:null,Qua:null,bottom:null}};this.ua(new _geo.geotoolkit.attributes.Aa(d,1,[3,2]))}_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.shapes.Shape);_geo.geotoolkit.da(a,"geotoolkit.controls.tools.CrossHair.CrossHairCursor");a.prototype.ua=function(a,b){_geo.geotoolkit.scene.shapes.Shape.prototype.ua.call(this,a,b);a=this.Xa();this.Bwa(a);this.cna(a);return this};a.prototype.Bwa=
function(a,b){if(this.uCa===a)return this;this.uCa=_geo.geotoolkit.attributes.Aa.ph(this,this.uCa,a,b,this.nc());this.Pa().ma();return this};a.prototype.Ptb=function(){return this.uCa};a.prototype.cna=function(a,b){if(this.pAa===a)return this;this.pAa=_geo.geotoolkit.attributes.Aa.ph(this,this.pAa,a,b,this.nc());this.Pa().ma();return this};a.prototype.Orb=function(){return this.pAa};a.prototype.setPosition=function(a){if(this.vg===a||this.vg.AM(a))return this;this.ma();this.vg=null==a?this.vg.bb(window.NaN,
window.NaN):this.vg.bb(a.getX(),a.getY());this.Rwa().ma();return this};a.prototype.ma=function(){if(null==this.getParent())return this;var a=this.getParent().Nb(),b=null!==this.pAa?.5*this.pAa.aa():1,d=null!==this.uCa?.5*this.uCa.aa():1,b=c.zb(0,0,b,d);(d=this.getParent().Ya())&&(b=d.qe(b,b));Number.isNaN(this.vg.y)||(d=new _geo.geotoolkit.util.Rect(a.sa(),this.vg.y-b.height,a.za(),this.vg.y+b.height),_geo.geotoolkit.scene.Node.prototype.ma.call(this,d));Number.isNaN(this.vg.x)||(a=new _geo.geotoolkit.util.Rect(this.vg.x-
b.width,a.qa(),this.vg.x+b.width,a.wa()),_geo.geotoolkit.scene.Node.prototype.ma.call(this,a));return this};a.prototype.Rwa=function(){if(null==this.getParent())return this;var a=this.getParent().Nb(),b=a.Pc(),c=a.Qc(),d=a.za(),e=a.wa();this.Kf.pm.left=a.sa();this.Kf.pm.Rua=[a.sa(),b];this.Kf.pm.Sua=[b,d];this.Kf.pm.right=d;this.Kf.bj.top=a.qa();this.Kf.bj.Tua=[a.qa(),c];this.Kf.bj.Qua=[c,e];this.Kf.bj.bottom=e;return this};a.prototype.getPosition=function(){return this.vg};a.prototype.split=function(a,
b,c){var d=this.getParent().Nb();"horizontal"===a&&("left"===b&&(this.Kf.pm.left=c.sa(),this.Kf.pm.Rua=[c.za(),d.Pc()]),"right"===b&&(this.Kf.pm.right=c.za(),this.Kf.pm.Sua=[d.Pc(),c.sa()]),"center"===b&&(this.Kf.pm.Rua=c.sa()>this.Kf.pm.Rua[0]?[this.Kf.pm.Rua[0],c.sa()]:null,this.Kf.pm.Sua=c.za()<this.Kf.pm.Sua[1]?[c.za(),this.Kf.pm.Sua[1]]:null));"vertical"===a&&("top"===b&&(this.Kf.bj.top=c.qa(),this.Kf.bj.Tua=[c.wa(),d.Qc()]),"bottom"===b&&(this.Kf.bj.bottom=c.wa(),this.Kf.bj.Qua=[d.Qc(),c.qa()]),
"center"===b&&(this.Kf.bj.Tua=c.qa()>this.Kf.bj.Tua[0]?[this.Kf.bj.Tua[0],c.qa()]:null,this.Kf.bj.Qua=c.wa()<this.Kf.bj.Qua[1]?[c.wa(),this.Kf.bj.Qua[1]]:null))};a.prototype.render=function(a){if(null!=this.Xa()&&null!=this.vg&&null!=this.getParent()){var b=this.getParent().Nb();(0,window.isNaN)(this.vg.y)||null==this.pAa||(a.ua(this.pAa),this.Kf.pm.left!==b.sa()&&a.Pd(b.sa(),this.vg.y,this.Kf.pm.left,this.vg.y),null!=this.Kf.pm.Rua&&a.Pd(this.Kf.pm.Rua[0],this.vg.y,this.Kf.pm.Rua[1],this.vg.y),null!=
this.Kf.pm.Sua&&a.Pd(this.Kf.pm.Sua[0],this.vg.y,this.Kf.pm.Sua[1],this.vg.y),this.Kf.pm.right!==b.za()&&a.Pd(this.Kf.pm.right,this.vg.y,b.za(),this.vg.y));(0,window.isNaN)(this.vg.x)||null==this.uCa||(a.ua(this.uCa),this.Kf.bj.top!==b.qa()&&a.Pd(this.vg.x,b.qa(),this.vg.x,this.Kf.bj.top),null!=this.Kf.bj.Tua&&a.Pd(this.vg.x,this.Kf.bj.Tua[0],this.vg.x,this.Kf.bj.Tua[1]),null!=this.Kf.bj.Qua&&a.Pd(this.vg.x,this.Kf.bj.Qua[0],this.vg.x,this.Kf.bj.Qua[1]),this.Kf.bj.bottom!==b.wa()&&a.Pd(this.vg.x,
this.Kf.bj.bottom,this.vg.x,b.wa()))}};return a}(),h=function(){function b(c){_geo.geotoolkit.scene.Group.call(this);this.hY=this.gY=0;this.kk(!1);this.vg=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN);this.Pi={};this.Md=null==c?new _geo.geotoolkit.attributes.eb:c;this.f5a=function(a,b,c){this.Pi[a]={border:{padding:0,visible:!1},text:new _geo.geotoolkit.scene.shapes.Text({text:"",alignment:b,ispointingup:!0}),ypb:c};this.va(this.Pi[a].text)};this.f5a(_geo.geotoolkit.ea.Oa.lb,_geo.geotoolkit.util.Da.Og,
a);this.f5a(_geo.geotoolkit.ea.Oa.Rc,_geo.geotoolkit.util.Da.Gg,a);this.f5a(_geo.geotoolkit.ea.Oa.pd,_geo.geotoolkit.util.Da.Ck,a);this.f5a(_geo.geotoolkit.ea.Oa.Se,_geo.geotoolkit.util.Da.Ck,g);this.f5a(_geo.geotoolkit.ea.Oa.Yc,_geo.geotoolkit.util.Da.cl,g);this.wb(this.Md)}function c(a,b,g,f,h,k,l,n){if(b.text.ib()){var z="";if(null!=b.ypb||null!=l)z=d(h,k,b.ypb||l);b.text.jc(z);l=b.text.LP();z=b.text.Ya();k=h=0;0!==l&&(h=_geo.geotoolkit.util.Ec.oc(l,0,z),k=_geo.geotoolkit.util.Ec.oc(0,l,z));l=
b.text.tw();switch(b.text.tw()){case _geo.geotoolkit.util.Da.We:g+=2*h;break;case _geo.geotoolkit.util.Da.Gg:g+=2*h;f+=2*k;break;case _geo.geotoolkit.util.Da.Ij:g+=2*h;f-=2*k;break;case _geo.geotoolkit.util.Da.Ck:g-=2*h;f+=2*k;break;case _geo.geotoolkit.util.Da.cl:g-=2*h;f-=2*k;break;case _geo.geotoolkit.util.Da.Ng:g-=2*h;break;case _geo.geotoolkit.util.Da.Og:f+=2*k;break;case _geo.geotoolkit.util.Da.Ei:f-=2*k;break}b.text.yc(g,f);g=_geo.geotoolkit.ea.Oa;if(a===g.Rc&&l===_geo.geotoolkit.util.Da.We)e.zb(b.text.ga()).fe(h,
k),n.ULa.split("horizontal","left",e);else if(a===g.pd&&l===_geo.geotoolkit.util.Da.Ng)e.zb(b.text.ga()).fe(h,k),n.ULa.split("horizontal","right",e);else if(a===g.Se&&l===_geo.geotoolkit.util.Da.Og)e.zb(b.text.ga()).fe(h,k),n.ULa.split("vertical","top",e);else if(a===g.Yc&&l===_geo.geotoolkit.util.Da.Ei)e.zb(b.text.ga()).fe(h,k),n.ULa.split("vertical","bottom",e);else if(a===g.lb)if(l===_geo.geotoolkit.util.Da.Ng||l===_geo.geotoolkit.util.Da.We)e.zb(b.text.ga()).fe(h,k),n.ULa.split("horizontal","center",
e);else if(l===_geo.geotoolkit.util.Da.Og||l===_geo.geotoolkit.util.Da.Ei)e.zb(b.text.ga()).fe(h,k),n.ULa.split("vertical","center",e)}}function d(a,b,c){var e="";c&&(e=c(a,b));return e}var e=new _geo.geotoolkit.util.Rect;_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.CrossHair.CrossHairLabels");b.prototype.render=function(a){if(0===this.gY&&0===this.hY)_geo.geotoolkit.scene.Group.prototype.render.call(this,a);else{var b=a.Ra(),c=this.Pi[_geo.geotoolkit.ea.Oa.lb].text,
d=c.Yb(),e=new _geo.geotoolkit.util.Ga(b.Of,b.Mg,b.rf,b.tg,b.Gh+this.gY,b.Ah+this.hY),b=_geo.geotoolkit.util.Ga.multiply(b.Vd(),e);c.ke(!1);c.Td(b);c.ke(!0);_geo.geotoolkit.scene.Group.prototype.render.call(this,a);c.ke(!1);c.Td(d);c.ke(!0)}};b.prototype.Dod=function(a){this.ULa=a;return this};b.prototype.wb=function(a){if(a instanceof _geo.geotoolkit.attributes.eb){this.Md=a;for(var b in this.Pi)this.Pi.hasOwnProperty(b)&&(a.hasOwnProperty(b)?this.Pi[b].text.wb(a[b]):this.Pi[b].text.wb(this.Md))}return this};
b.prototype.Ib=function(){return this.Md};b.prototype.yM=function(a){var b=!1,c;for(c in this.Pi)this.Pi.hasOwnProperty(c)&&(a.hasOwnProperty(c)?(a[c]&&!this.Pi[c].text.ib()&&(b=!0),this.Pi[c].text.Ka(a[c])):this.Pi[c].text.Ka(!1));b&&this.kcb();return this};b.prototype.setPosition=function(a){if(this.vg.AM(a))return this;this.vg=null==a?this.vg.bb(window.NaN,window.NaN):this.vg.bb(a.getX(),a.getY());this.kcb();return this};b.prototype.kcb=function(){if(null==this.getParent())return this;var a=this.getParent().Nb(),
b=this.vg.getX(),d=this.vg.getY(),e=_geo.geotoolkit.ea.Oa;c(e.Rc,this.Pi[e.Rc],a.sa(),d,b,d,this.Gza,this);c(e.pd,this.Pi[e.pd],a.za(),d,b,d,this.Gza,this);c(e.Se,this.Pi[e.Se],b,a.qa(),b,d,this.Gza,this);c(e.Yc,this.Pi[e.Yc],b,a.wa(),b,d,this.Gza,this);c(e.lb,this.Pi[e.lb],b,d,b,d,this.Gza,this);return this};b.prototype.HE=function(a){return this.Pi[a]};b.prototype.getPosition=function(){return this.vg};return b}();_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.CrossHair");
b.$={dQ:"onPositionChanged",mGa:"onPointerUp",oJc:"onPointerDown"};b.qDb=_geo.geotoolkit.ea.Oa;b.MYc=_geo.geotoolkit.axis.xd;b.prototype.Xn=function(){this.rcb();_geo.geotoolkit.controls.ia.fc.prototype.Xn.call(this)};b.prototype.ua=function(a,b){this.EO.ua(a,b);return this};b.prototype.Rs=function(a){null!=a.enabled&&this.cc(a.enabled);null!=a.linestyle&&this.EO.ua(a.linestyle);void 0!==a.horizontal&&this.EO.cna(a.horizontal);void 0!==a.vertical&&this.EO.Bwa(a.vertical);a.center&&a.center.labelsoffset&&
(this.n7.gY=void 0!==a.center.labelsoffset.x?a.center.labelsoffset.x:0,this.n7.hY=void 0!==a.center.labelsoffset.y?a.center.labelsoffset.y:0);this.Ov(_geo.geotoolkit.ea.Oa.Se,a.north);this.Ov(_geo.geotoolkit.ea.Oa.Yc,a.south);this.Ov(_geo.geotoolkit.ea.Oa.pd,a.east);this.Ov(_geo.geotoolkit.ea.Oa.Rc,a.west);this.Ov(_geo.geotoolkit.ea.Oa.lb,a.center);this.EO.Rwa();this.n7.kcb();return this};b.prototype.Ov=function(a,b){if(null==b)return this;var c=this.n7.HE(a);if(null==c)return this;null!=b.border&&
(null!=b.border.fillstyle&&(b.fillstyle=b.border.fillstyle),null!=b.border.linestyle&&(b.linestyle=b.border.linestyle),null!=b.border.padding&&(b.padding=b.border.padding),null!=b.border.radius&&(b.radius=b.border.radius));var d=c.text;null!=b.textconverter&&(c.ypb=b.textconverter);null!=b.textstyle&&d.wb(b.textstyle);null!=b.fillstyle&&d.ta(b.fillstyle);null!=b.linestyle&&d.ua(b.linestyle);null!=b.visible&&d.Ka(b.visible);null!=b.alignment&&d.Cd(b.alignment);null!=b.padding&&d.PG(b.padding);null!=
b.radius&&d.YK(b.radius);return this};b.prototype.wb=function(a){this.n7.wb(a);return this};b.prototype.Bwa=function(a,b){this.EO.Bwa(a,b);return this};b.prototype.Ptb=function(){return this.EO.Ptb()};b.prototype.cna=function(a,b){this.EO.cna(a,b);return this};b.prototype.Orb=function(){return this.EO.Orb()};b.prototype.vo=function(){return this.EO.ib()};b.prototype.Ka=function(a){this.jP!==a&&(this.jP=a,this.rcb());return this};b.prototype.getPosition=function(){return this.EO.getPosition()};b.prototype.Qwa=
function(a){var b=this.getPosition();null!=this.tY&&(b=this.THb(this.tY));var c=this.tY;this.setPosition(b,a);this.tY=c;return this};b.prototype.setPosition=function(a,c,d){this.EO.setPosition(a);this.n7.setPosition(a);this.tY=null;!0!==c&&(c=this.wf(),this.setActive(!0),this.fireEvent(b.$.dQ,new _geo.geotoolkit.controls.ia.Fxa(d,a)),c||this.setActive(c));return this};b.prototype.GOc=function(a,b){var c=this.n7.HE(a);null!=c&&(c.ypb=b);return this};b.prototype.yM=function(a){"boolean"===typeof a&&
(a={west:a,north:a,south:a,east:a,center:a});this.n7.yM(a);return this};b.prototype.Wd=function(a){if(this.isEnabled()&&this.Qb){a.preventDefault();var b;this.Qb instanceof _geo.geotoolkit.scene.og?this.Qb.getParent()?(b=this.Qe(this.Qb.getParent(),a),this.Qb.getParent().Nb().contains(b)||b.bb(Number.NaN,Number.NaN)):b=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN):(b=this.Qe(this.Qb,a),this.Qb.Nb().contains(b)||b.bb(Number.NaN,Number.NaN));var c=this.getPosition();_geo.geotoolkit.util.Math.equals(c.getY(),
b.getY())&&_geo.geotoolkit.util.Math.equals(c.getX(),b.getX())||(this.setPosition(b,!1,a),this.tY=this.LU(b))}};b.prototype.LU=function(a){if(null==this.Qb||(0,window.isNaN)(a.x)||(0,window.isNaN)(a.y))return a;var b=this.Qb instanceof _geo.geotoolkit.scene.og?this.Qb.getParent():this.Qb;return b&&b.Ya()?b.Ya().cb(a):a};b.prototype.THb=function(a){if(null==this.Qb||(0,window.isNaN)(a.x)||(0,window.isNaN)(a.y))return a;var b=this.Qb instanceof _geo.geotoolkit.scene.og?this.Qb.getParent():this.Qb;return b&&
b.Ya()?b.Ya().Ue(a):a};b.prototype.Ae=function(a){if(this.isEnabled()&&this.Qb){var c=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN);this.Qb instanceof _geo.geotoolkit.scene.og?this.Qb.getParent()&&(c=this.Qe(this.Qb.getParent(),a),this.Qb.getParent().Nb().contains(c)||c.bb(Number.NaN,Number.NaN)):this.Qb&&(c=this.Qe(this.Qb,a),this.Qb.Nb().contains(c)||c.bb(Number.NaN,Number.NaN));this.fireEvent(b.$.mGa,new _geo.geotoolkit.controls.ia.Fxa(a,c))}};b.prototype.xf=function(a){if(this.isEnabled()&&
this.Qb){var c=new _geo.geotoolkit.util.na(Number.NaN,Number.NaN);this.Qb instanceof _geo.geotoolkit.scene.og?this.Qb.getParent()&&(c=this.Qe(this.Qb.getParent(),a),this.Qb.getParent().Nb().contains(c)||c.bb(Number.NaN,Number.NaN)):this.Qb&&(c=this.Qe(this.Qb,a),this.Qb.Nb().contains(c)||c.bb(Number.NaN,Number.NaN));this.fireEvent(b.$.oJc,new _geo.geotoolkit.controls.ia.Fxa(a,c))}};b.prototype.dispose=function(){this.EO.dispose();this.n7.dispose();_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};
b.prototype.rcb=function(){var a=this.isEnabled()&&this.jP;this.EO.Ka(a).ma();this.n7.Ka(a).ma()};return b}();
_geo.geotoolkit.controls.ia.hZa=function(){function b(b){b=_geo.geotoolkit.Ca(b,{name:"tooltip",callback:null,autoupdate:!0,mode:_geo.geotoolkit.controls.ia.er.IT,alignment:_geo.geotoolkit.util.Da.Gg,offsetx:10,offsety:-10},!0);this.wp=b.mode;var c={pointerup:this.Ae.bind(this),pointerdown:this.xf.bind(this),pointermove:this.Wd.bind(this),dblclick:this.ks.bind(this),"cg-enter":this.bva.bind(this),"cg-leave":this.M4.bind(this),keydown:{callback:this.BI.bind(this),object:_geo.geotoolkit.window,enabled:this.wp!==
_geo.geotoolkit.controls.ia.er.IT}},c={slots:c,name:b.name,layer:b.layer||b.group},d=b.divelement;this.Ur=null;d||(d=_geo.geotoolkit.window.document.createElement("div"),d.className="cg-tooltip-container",d.style.display="none",g().appendChild(d),this.Ur=d);_geo.geotoolkit.controls.ia.fc.call(this,c);"function"===typeof b.init&&b.init(this);this.ct=b.callback;this.dK=new a(d,this.wp===_geo.geotoolkit.controls.ia.er.IT);this.dE=!1;this.Mja=this.QHb=this.Hib=null;this.Iib=new _geo.geotoolkit.util.na;
this.Xx=this.Czb.bind(this);this.WF=5;this.wB=2;this.setOptions(b)}function a(a,b){this.njb=a;this.$g=a.style;this.t3c="none"!==this.$g.display?this.$g.display:"inline-block";this.Ijc=this.Hjc=this.IR=this.HR=0;this.init(b)}function g(){return null!=d?d:d=_geo.geotoolkit.window.document.body}var d=_geo.geotoolkit.window.document.body;a.prototype.init=function(a){"hidden"!==this.$g.overflow&&(this.$g.overflow="hidden");"none"!==this.$g.display&&(this.$g.display="none");"absolute"!==this.$g.position&&
(this.$g.position="absolute");a&&"none"!==this.$g.pointerEvents&&(this.$g.pointerEvents="none")};a.prototype.show=function(a,b){null!=b&&this.Uod(b);var d=this.njb.offsetWidth,k=this.njb.offsetHeight,h,l;_geo.geotoolkit.window.pageYOffset?(h=_geo.geotoolkit.window.pageXOffset,l=_geo.geotoolkit.window.pageYOffset):(l=g().scrollTop,h=g().scrollLeft);d=a.getX()+this.HR-this.Hjc*d+h;k=a.getY()-this.IR-this.Ijc*k+l;this.$g.top=Math.round(k)+"px";this.$g.left=Math.round(d)+"px";this.njb.focus()};a.prototype.Uod=
function(a){this.njb.innerHTML=a;this.$g.display=this.t3c};a.prototype.Cd=function(a){this.Hjc=_geo.geotoolkit.util.Da.O9(a)?0:_geo.geotoolkit.util.Da.U8a(a)?1:.5;this.Ijc=_geo.geotoolkit.util.Da.oSa(a)?0:_geo.geotoolkit.util.Da.L8a(a)?1:.5};a.prototype.Xtb=function(){this.$g.display="none"};_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.ToolTipTool");b.prototype.T4b=function(a){null!=a&&(this.dK.HR=a);return this};b.prototype.U4b=function(a){null!=
a&&(this.dK.IR=a);return this};b.prototype.setOptions=function(a){if(null==a)return this;null!=a.offsetx&&this.T4b(a.offsetx);null!=a.offsety&&this.U4b(a.offsety);null!=a.alignment&&this.dK.Cd(a.alignment);if(null!=a.autoupdate){var b=this.Bh();b instanceof _geo.geotoolkit.scene.Node&&(b.Vu(this.Xx),a.autoupdate&&b.Qt(this.Xx))}return this};b.prototype.bva=function(a){this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.bva,a)};b.prototype.M4=function(a){this.wp===_geo.geotoolkit.controls.ia.er.IT&&this.dK.Xtb();
this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,a)};b.prototype.BI=function(a){27===a.th().keyCode&&(this.dK.Xtb(),this.dE=!0)};b.prototype.Wd=function(a){this.wp===_geo.geotoolkit.controls.ia.er.IT&&this.SUa(a)};b.prototype.xf=function(a){this.Hib=a.jm();switch(this.wp){case _geo.geotoolkit.controls.ia.er.WJa:this.SUa(a);break;case _geo.geotoolkit.controls.ia.er.bZa:this.Mja&&(0,window.clearTimeout)(this.Mja);this.Mja=(0,window.setTimeout)(function(){this.SUa(a);this.Mja=null}.bind(this),750);
break}};b.prototype.Ae=function(a){switch(this.wp){case _geo.geotoolkit.controls.ia.er.Jfb:this.SUa(a);break;case _geo.geotoolkit.controls.ia.er.pWa:null!=this.Hib&&this.Hib.AM(a.jm())&&this.SUa(a);break;case _geo.geotoolkit.controls.ia.er.bZa:this.Mja&&((0,window.clearTimeout)(this.Mja),this.Mja=null);break}this.Hib=null};b.prototype.Czb=function(){if(!this.dE&&this.isEnabled()&&null!=this.ct&&null!=this.QHb){this.dE=!0;var a=this.ct(this.QHb,{},this);a?this.dK.show(this.Iib,a):this.dK.Xtb();this.dE=
!1}return this};b.prototype.ks=function(a){this.wp===_geo.geotoolkit.controls.ia.er.UWa&&this.SUa(a)};b.prototype.SUa=function(a,b){if(this.isEnabled()){if(this.ct){var d=a.th();if(null==b){var g=a.il(),h=this.Qe(null,a);b=g?g.Ya().Ue(h,h):h}null!=d.touches&&0<d.touches.length?this.Iib.bb(d.touches[0].clientX,d.touches[0].clientY):this.Iib.bb(d.clientX,d.clientY);this.QHb=b;this.dE=!0;d=this.ct(b,d,this);this.dE=!1;if(d){this.dK.show(this.Iib,d);return}}this.dK.Xtb()}};b.prototype.twa=function(a){this.WF=
a;return this};b.prototype.bwa=function(a){this.wB=a;return this};b.prototype.FRa=function(){return this.WF};b.prototype.YQa=function(){return this.wB};b.prototype.dispose=function(){var a=this.Bh();a instanceof _geo.geotoolkit.scene.Node&&a.Vu(this.Xx);this.Mja&&(0,window.clearTimeout)(this.Mja);this.Ur&&this.Ur.parentNode&&this.Ur.parentNode.removeChild(this.Ur);this.Ur=null;_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.ia.zL=function(){function b(a,b,d){_geo.geotoolkit.controls.ia.ev.call(this,a);this.Sk=b;this.q7c=!0===d}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.PanningEventArgs");b.prototype.Dub=function(){return this.q7c};b.prototype.Mk=function(){return this.Sk};return b}();
_geo.geotoolkit.controls.ia.ei=function(){function b(a){return 0===a?0:0>a?-1:1}function a(a){this.HU=!1;this.Ux=null;this.ojb=!1;this.E0a=0;this.EU=this.Fmc=this.Sk=null;this.Emc=this._y=this._x=0;this.SJ=null;null==a&&(a={});a=_geo.geotoolkit.Ca(a,{wheelratio:"number"===typeof a.wheelratio?a.wheelratio:.05,name:"string"===typeof a.name?a.name:"panning",acceptx:null!=a.acceptx?a.acceptx:!1});this.GOa=a.wheelratio;this.Uhb=a.acceptx;var b={pointerdown:this.xf.bind(this),pointermove:this.Wd.bind(this),
pointerup:this.Ae.bind(this),mousewheel:this.By.bind(this),wheel:this.By.bind(this),dblclick:this.bcd.bind(this)};_geo.geotoolkit.controls.ia.fc.call(this,b,a.name);null!=a.inertiacoef&&this.txb(a.inertiacoef)}var g=25,d=250,e=5;_geo.geotoolkit.fa(a,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(a,"geotoolkit.controls.tools.Panning");a.$={Bfa:"onPanningStart",YE:"onPanning",N4:"onPanningEnd",aF:"onZoomStart",au:"onZoomEnd",ks:"onDoubleClick"};a.prototype.lTc=function(a){a=this.UK(a);this._x=a.x;
this._y=a.y;return this};a.prototype.start=function(a){this.Ux=a.th();this.lTc(a);this.setActive(!0);return this};a.prototype.stop=function(){this.Ux=null;this.setActive(!1);return this};a.prototype.C$c=function(a){this.Ux=a.th();this.lTc(a);return this};a.prototype.Mk=function(a){var b;b=this.UK(a);a=b.x;b=b.y;return{x:a-this._x,y:b-this._y,start:{x:this._x,y:this._y},end:{x:a,y:b}}};a.prototype.fu=function(b,d){null!=this.SJ&&this.removeListener(a.$.YE,this.SJ);this.SJ=function(a,e){var g=e.Mk(),
n=b.Ya().Ue(new _geo.geotoolkit.util.na(0,0)),g=b.Ya().Ue(new _geo.geotoolkit.util.na(g.x,g.y)),p=g.x-n.x,g=g.y-n.y;null==d?b.translate(p,g):d.call(b,p,g)};this.addListener(a.$.YE,this.SJ);return this};a.prototype.Myd=function(a){var b=a.th(),d=!1===this.Uhb?0:60*b.detail,b=60*b.detail;this.hwc(a,d,b)};a.prototype.By=function(a){var b=a.th();b.preventDefault();var d=!1===this.Uhb?0:void 0!==b.deltaY?b.deltaY:-1*b.wheelDelta,b=void 0!==b.deltaY?b.deltaY:-1*b.wheelDelta;this.hwc(a,d,b)};a.prototype.Jxc=
function(){return this.Uhb};a.prototype.D1b=function(a){this.Uhb=a;return this};a.prototype.OFc=function(){return this.GOa};a.prototype.dRc=function(a){this.GOa=a;return this};a.prototype.hwc=function(c,d,e){var g=c.il();if(null!=g){this.N6b();var l=this.UK(c),g=g.Nb();d=-1*b(d)*g.aa()*this.GOa;e=-1*b(e)*g.ba()*this.GOa;l={x:d,y:e,start:{x:l.x,y:l.y},end:{x:l.x+d,y:l.y+e}};this.fireEvent(a.$.aF,new _geo.geotoolkit.controls.ia.zL(c,null));this.fireEvent(a.$.Bfa,new _geo.geotoolkit.controls.ia.zL(c,
null));this.fireEvent(a.$.YE,new _geo.geotoolkit.controls.ia.zL(c,l,!0));this.fireEvent(a.$.N4,new _geo.geotoolkit.controls.ia.zL(c,null));this.fireEvent(a.$.au,new _geo.geotoolkit.controls.ia.zL(c,null))}};a.prototype.xf=function(a){if(void 0===a.th().buttons||1===a.th().buttons)this.N6b(),this.Yob(),this.start(a),a.stopPropagation(!0)};a.prototype.cc=function(b){!1===b&&(null!=this.EU&&((0,window.clearTimeout)(this.EU),this.EU=null),this.wf()&&this.HU&&(!0===this.ojb?this.fireEvent(a.$.au,new _geo.geotoolkit.controls.ia.zL(null,
null)):this.fireEvent(a.$.N4,new _geo.geotoolkit.controls.ia.zL(null,null))));return _geo.geotoolkit.controls.ia.fc.prototype.cc.call(this,b)};a.prototype.Wd=function(b){if(this.wf()){var d=this.Mk(b);if(!this.HU){if(Math.abs(d.x)<e&&Math.abs(d.y)<e&&("touchmove"===b.iD()||"pointermove"===b.iD()&&"touch"===b.th().pointerType))return;this.ojb=!0===b.th().ctrlKey;!0===this.ojb?this.fireEvent(a.$.aF,new _geo.geotoolkit.controls.ia.zL(b,null)):this.fireEvent(a.$.Bfa,new _geo.geotoolkit.controls.ia.zL(b,
null));this.HU=!0}this.C$c(b);b.stopPropagation(!0);0===d.x&&0===d.y||this.fireEvent(a.$.YE,new _geo.geotoolkit.controls.ia.zL(b,d));0!==this.E0a&&this.wf()&&(this.Sk=d,this.Emc=b.th().timeStamp)}};a.prototype.Ae=function(b){this.wf()&&null!=b&&b.stopPropagation(!0);this.stop();if(this.HU)if(!0===this.ojb)this.fireEvent(a.$.au,new _geo.geotoolkit.controls.ia.zL(b,null));else{if(0!==this.E0a&&null!=b&&b.th().timeStamp-this.Emc<d){this.Fmc=b;var e=1,k=Date.now();b=this.UK(b);var h={x:0,y:0,start:{x:b.x,
y:b.y},end:{x:0,y:0}},l=function(){var b=Date.now()-k,b=Math.ceil(b/g),b=Math.pow(this.E0a,b),c=(1-b)/(1-this.E0a);h.x=this.Sk.x*e*c;h.y=this.Sk.y*e*c;e*=b;this.Sk.x*=e;this.Sk.y*=e;h.end.x=h.start.x+h.x;h.end.y=h.start.y+h.y;this.fireEvent(a.$.YE,new _geo.geotoolkit.controls.ia.zL(null,h));1<=Math.abs(this.Sk.x)||1<=Math.abs(this.Sk.y)?(h.start.x=h.end.x,h.start.y=h.end.y,k=Date.now(),this.EU=(0,window.setTimeout)(l,g)):this.N6b()}.bind(this);this.EU=(0,window.setTimeout)(l,g);return}this.fireEvent(a.$.N4,
new _geo.geotoolkit.controls.ia.zL(b,null))}this.HU=!1};a.prototype.bcd=function(b){this.isEnabled()&&this.fireEvent(a.$.ks,new _geo.geotoolkit.controls.ia.zL(b,null));return this};a.prototype.txb=function(a){this.E0a=!0===a?.99:0<a&&1>a?a:0;return this};a.prototype.N6b=function(){null!=this.EU&&((0,window.clearTimeout)(this.EU),this.EU=null,this.fireEvent(a.$.N4,new _geo.geotoolkit.controls.ia.zL(this.Fmc,null)),this.HU=!1)};a.prototype.dispose=function(){null!=this.EU&&((0,window.clearTimeout)(this.EU),
this.EU=null);_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};a.prototype.setActive=function(a){!1===a&&null!=this.EU&&((0,window.clearTimeout)(this.EU),this.EU=null);return _geo.geotoolkit.controls.ia.fc.prototype.setActive.call(this,a)};return a}();
_geo.geotoolkit.controls.ia.yKa=function(){function b(a,b){_geo.geotoolkit.controls.ia.ev.call(this,a);this.wh=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.RubberBandEventArgs");b.prototype.getArea=function(){return this.wh};return b}();
_geo.geotoolkit.controls.ia.yq=function(){function b(b,e){var c={pointerdown:this.xf.bind(this),pointermove:[{callback:this.Wd.bind(this),object:null},{callback:this.Wd.bind(this),object:_geo.geotoolkit.window,enabled:!1}],pointerup:[{callback:this.Ae.bind(this),object:null},{callback:this.Ae.bind(this),object:_geo.geotoolkit.window.document,enabled:!1}]},c={slots:c,layer:b,name:"rubberband",mode:e};_geo.geotoolkit.controls.ia.Ona.call(this,c);this.cc(!1);this.X1=!0;this.jlb=new _geo.geotoolkit.util.xc(0,
0);this.rnc=!1;this.yKb=_geo.geotoolkit.controls.ia.yq.Dfb.Ebc;this.$J=(new _geo.geotoolkit.scene.shapes.lc(new _geo.geotoolkit.util.Rect(0,0,0,0))).Ka(!1).ua((new _geo.geotoolkit.attributes.Aa(a,1,[2,3])).Yd({x:!0,y:!0})).ta(new _geo.geotoolkit.attributes.Fa(g));null!=this.Qb&&this.Qb.va(this.$J);this.SJ=this.kA=null}var a="#bdbdbd",g="rgba(189,189,189,0.5)";_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Ona);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.RubberBand");b.$={aF:"onZoomStart",au:"onZoomEnd",
mma:"onRangeChanged"};b.prototype.Yq=function(a){this.Yu("pointermove",a,_geo.geotoolkit.window);this.Yu("pointerup",a,_geo.geotoolkit.window.document)};b.prototype.hPc=function(a,b){this.rnc=null==b?!1:b;this.jlb=a;return this};b.prototype.qCc=function(){return this.jlb};b.prototype.iPc=function(a){this.yKb=a;return this};b.prototype.rCc=function(){return this.yKb};b.Dfb={Ebc:0,nhc:1};b.prototype.setMode=function(a){return this.x5b(a)};b.prototype.F_=function(a){this.X1=a;return this};b.prototype.K9=
function(){return this.X1};b.prototype.nI=function(){return this.HWb()};b.prototype.xf=function(a){if(void 0===a.th().buttons||1===a.th().buttons)this.setActive(!0),this.Yq(!0),this.Jd=this.Qe(this.Qb,a),a.stopPropagation(!0)};b.prototype.fu=function(a){null!=this.target&&(this.removeListener("onScrollEnd",this.SJ),this.removeListener("onScroll",this.SJ));this.kA=a;this.SJ=function(b,c){var g=c.getArea();a.os(g)};this.addListener(b.$.au,this.SJ);return this};b.prototype.Ae=function(a){if(this.wf()&&
(a.stopPropagation(!0),this.setActive(!1),this.Yq(!1),!1!==this.$J.ib())){this.$J.Ka(!1).ma();var e=new _geo.geotoolkit.util.Rect(Math.min(this.Jd.x,this.Zh.x),Math.min(this.Jd.y,this.Zh.y),Math.max(this.Jd.x,this.Zh.x),Math.max(this.Jd.y,this.Zh.y));this.FBa!==_geo.geotoolkit.controls.ia.tF.TVa&&(e=this.fGc(e));this.fireEvent(b.$.mma,new _geo.geotoolkit.controls.ia.yKa(a,e));this.fireEvent(b.$.au,new _geo.geotoolkit.controls.ia.yKa(a,e));this.K9()&&this.cc(!1)}};b.prototype.Wd=function(a){if(this.wf()){var e=
this.Qe(this.Qb,a);if(!1===this.$J.ib()){if(this.Jd.AM(e))return;this.fireEvent(b.$.aF,new _geo.geotoolkit.controls.ia.yKa(a,null))}this.Zh=e;this.xtc();e=new _geo.geotoolkit.util.Rect(Math.min(this.Jd.x,this.Zh.x),Math.min(this.Jd.y,this.Zh.y),Math.max(this.Jd.x,this.Zh.x),Math.max(this.Jd.y,this.Zh.y));this.FBa!==_geo.geotoolkit.controls.ia.tF.TVa&&(e=this.fGc(e));this.$J.zb(e).Ka(!0).ma();a.stopPropagation(!0);this.fireEvent(b.$.mma,new _geo.geotoolkit.controls.ia.yKa(a,e))}};b.prototype.fGc=function(a){var b=
this.jlb.aa(),c=this.jlb.ba();if(this.rnc)var g=this.Qb.Ya(),b=_geo.geotoolkit.util.Ec.oc(b,0,g),c=_geo.geotoolkit.util.Ec.oc(0,c,g);this.yKb===_geo.geotoolkit.controls.ia.yq.Dfb.nhc?(g=a.getCenter(),a.aa()<b&&(a.setX(g.getX()-b/2),a.qb(b)),a.ba()<c&&(a.setY(g.getY()-c/2),a.Db(c))):(a.aa()<b&&(this.Jd.x<this.Zh.x?a.setX(this.Jd.x):a.setX(this.Jd.x-b),a.qb(b)),a.ba()<c&&(this.Jd.y<this.Zh.y?a.setY(this.Jd.y):a.setY(this.Jd.y-c),a.Db(c)));return a};b.prototype.ua=function(a,b){this.$J.ua(a,b);return this};
b.prototype.ta=function(a,b){this.$J.ta(a,b);return this};b.prototype.Rs=function(a){null!=a.enabled&&this.cc(a.enabled);null!=a.linestyle&&this.ua(a.linestyle);null!=a.fillstyle&&this.ta(a.fillstyle);null!=a.autodisabled&&this.F_(a.autodisabled);return this};b.prototype.dispose=function(){this.$J.dispose();_geo.geotoolkit.controls.ia.Ona.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.ia.Gya=function(){function b(a,b){_geo.geotoolkit.controls.ia.ev.call(this,a);this.CJ=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.PolygonToolEventArgs");b.prototype.fQa=function(){return this.CJ};return b}();
_geo.geotoolkit.controls.ia.Fya=function(){function b(a,b,c){a=a.Ya();null!=a&&a.Ue(b,c)}function a(a,b,c){a=a.Ya();null!=a&&a.cb(b,c)}function g(a){return 2===a.th().button}function d(a){var b={pointerdown:this.xf.bind(this),pointermove:this.Wd.bind(this),keydown:{callback:this.BI.bind(this),object:_geo.geotoolkit.window,enabled:!0}};_geo.geotoolkit.controls.ia.fc.call(this,b,"polygontool");this.Qb=a;this.dqc=this.Ipc=this.MMb=!0;this.tk=(new _geo.geotoolkit.scene.shapes.Fc(null,null,!1)).ua(l).ta(n);
this.Qb.va(this.tk);this.Jd=new _geo.geotoolkit.util.na;this.Zh=new _geo.geotoolkit.util.na;this.Af=new _geo.geotoolkit.util.na;this.d3a=new _geo.geotoolkit.scene.shapes.Line(this.Jd,this.Af,!0,t);this.Qb.va(this.d3a);this.f3a=new _geo.geotoolkit.util.na;this.Gja=(new _geo.geotoolkit.scene.shapes.Symbol({ax:this.Jd.getX(),ay:this.Jd.getY(),width:10,height:10,sizeisindevicespace:!0,alignment:_geo.geotoolkit.util.Da.lb,painter:_geo.geotoolkit.scene.shapes.hc.Hz,linestyle:p,fillstyle:r})).Ka(!1);this.Qb.va(this.Gja);
this.N_a=new _geo.geotoolkit.util.na;this.Zza=(new _geo.geotoolkit.scene.shapes.Symbol({ax:this.Zh.getX(),ay:this.Zh.getY(),width:10,height:10,sizeisindevicespace:!0,alignment:_geo.geotoolkit.util.Da.lb,painter:_geo.geotoolkit.scene.shapes.hc.Hz,linestyle:p,fillstyle:r})).Ka(!1);this.Qb.va(this.Zza);this.L_a=new _geo.geotoolkit.scene.shapes.Line(this.Zh,this.Af,!0,t);this.Qb.va(this.L_a);this.fCa=(new _geo.geotoolkit.scene.shapes.Text({text:"close",ax:0,ay:0,alignment:_geo.geotoolkit.util.Da.MFb,
visible:!0,textstyle:new _geo.geotoolkit.attributes.eb({color:"black",font:"14px Arial"}),ispointingup:!0})).Ka(!1);this.cc(!1);this.Qb.va(this.fCa)}var e=27,c=12,f=8,k=14,h="rgba(100,100,100, .5)",l=new _geo.geotoolkit.attributes.Aa({color:"black",width:1,pattern:[2,3],pixelsnapmode:{x:!0,y:!0}}),n=new _geo.geotoolkit.attributes.Fa({color:h,evenoddmode:!0}),p=new _geo.geotoolkit.attributes.Aa("rgba(255,0,0,1)",2),r=new _geo.geotoolkit.attributes.Fa(h),t=new _geo.geotoolkit.attributes.Aa({color:"red",
width:1,pattern:[2,3],pixelsnapmode:{x:!0,y:!0}});_geo.geotoolkit.fa(d,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(d,"geotoolkit.controls.tools.PolygonTool");d.$={onStart:"onStart",g_b:"onContinue",j_b:"onEnd"};d.prototype.BI=function(a){a.th().keyCode===e&&(this.R0b(),this.fireEvent(d.$.g_b,new _geo.geotoolkit.controls.ia.Gya(a,{x:this.tk.Wf(),y:this.tk.Jg()})))};d.prototype.xf=function(b){var c=this.wf(),e=this.qG(b),h=g(b);if(!e&&h)c&&this.luc(b);else{var h=b.jm(),l=this.Qe(this.Qb,b);if(1>
this.tk.getSize())this.Jd.bb(l.getX(),l.getY()),this.Af.bb(l.getX(),l.getY()),this.Zh.bb(l.getX(),l.getY()),this.Gja.yc(this.Jd);else if(e=e?k:f,a(this.Qb,this.Jd,this.f3a),a(this.Qb,this.Zh,this.N_a),_geo.geotoolkit.util.na.Cj(this.f3a,h)<=e||_geo.geotoolkit.util.na.Cj(this.N_a,h)<=e){this.luc(b);return}this.Zh.bb(l.getX(),l.getY());this.Zza.yc(this.Zh);this.tk.push(l.getX(),l.getY());c||(this.setActive(!0),this.tk.Ka(!0),this.d3a.Ka(this.Ipc),this.L_a.Ka(!0),this.Gja.Ka(this.MMb),this.Zza.Ka(this.MMb));
this.fCa.Ka(!1);b.stopPropagation(!0);c=c?d.$.g_b:d.$.onStart;this.fireEvent(c,new _geo.geotoolkit.controls.ia.Gya(b,{x:this.tk.Wf(),y:this.tk.Jg()}))}};d.prototype.Wd=function(d){var e=this.qG(d);if(this.wf()){var g=d.jm(),h=this.Qe(this.Qb,d);this.Af.bb(h.getX(),h.getY());this.dqc&&!e&&1<this.tk.getSize()&&(e=f,a(this.Qb,this.Jd,this.f3a),a(this.Qb,this.Zh,this.N_a),_geo.geotoolkit.util.na.Cj(this.f3a,g)<=e||_geo.geotoolkit.util.na.Cj(this.N_a,g)<=e?(b(this.Qb,g.translate(0,-c),g),this.fCa.yc(g),
this.fCa.Ka(!0)):this.fCa.Ka(!1));this.d3a.Oi().Pa();this.L_a.Oi().Pa();d.stopPropagation(!0)}};d.prototype.ua=function(a,b){this.tk.ua(a,b);return this};d.prototype.Xa=function(){return this.tk.Xa()};d.prototype.ta=function(a,b){this.tk.ta(a,b);return this};d.prototype.vQc=function(a,b){this.Gja.ua(a,b);a=this.Gja.Xa();this.Zza.ua(a);return this};d.prototype.JEc=function(){return this.Gja.Xa()};d.prototype.uQc=function(a,b){this.Gja.ta(a,b);a=this.Gja.sb();this.Zza.ta(a);return this};d.prototype.AQc=
function(a){this.MMb=a;return this};d.prototype.mQc=function(a){this.Ipc=a;return this};d.prototype.CQc=function(a){this.dqc=a;return this};d.prototype.wb=function(a,b){this.fCa.wb(a,b);return this};d.prototype.p9=function(){return this.tk};d.prototype.Xn=function(){this.isEnabled()||this.setActive(!1);_geo.geotoolkit.controls.ia.fc.prototype.Xn.call(this)};d.prototype.luc=function(a){var b=this.Qe(this.Qb,a);this.tk.push(b.getX(),b.getY());a.stopPropagation(!0);this.fireEvent(d.$.j_b,new _geo.geotoolkit.controls.ia.Gya(a,
{x:this.tk.Wf(),y:this.tk.Jg()}));this.setActive(!1);this.tk.Ne(null,null)};d.prototype.setActive=function(a){a||(this.Gja.Ka(!1),this.Zza.Ka(!1),this.tk.Ka(!1),this.d3a.Ka(!1),this.L_a.Ka(!1),this.fCa.Ka(!1),this.f3a.bb(null,null),this.N_a.bb(null,null),this.tk.Ne(null,null));return _geo.geotoolkit.controls.ia.fc.prototype.setActive.call(this,a)};d.prototype.R0b=function(){if(!this.isEnabled())return this;this.tk.Wf().pop();this.tk.Jg().pop();this.tk.Ne(this.tk.Wf(),this.tk.Jg());if(0===this.tk.getSize())this.setActive(!1);
else{var a=this.tk.getSize()-1;this.Zh.bb(this.tk.Wf()[a],this.tk.Jg()[a]);this.Zza.yc(this.Zh);this.d3a.Oi().Pa();this.L_a.Oi().Pa()}return this};return d}();
_geo.geotoolkit.controls.ia.IKa=function(){function b(a,b,d){_geo.geotoolkit.controls.ia.ev.call(this,a);this.qw=b;this.XR=d}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.SelectionEventArgs");b.prototype.UEa=function(){return this.XR};b.prototype.getSelection=function(){return this.qw};b.prototype.DN=function(a){this.qw=a;return this};return b}();_geo.geotoolkit.controls.ia.eR={uYa:"pointer",yq:"rubberband"};
_geo.geotoolkit.controls.ia.IYa={S9b:"collision",Qk:"inside"};_geo.geotoolkit.controls.ia.er={IT:"hover",pWa:"click",WJa:"mousedown",Jfb:"mouseup",UWa:"doubleclick",bZa:"taphold"};
_geo.geotoolkit.controls.ia.Selection=function(){function b(b,c){var d={pointerdown:this.xf.bind(this),pointermove:[{callback:this.Wd.bind(this),object:null},{callback:this.Wd.bind(this),object:_geo.geotoolkit.window,enabled:!1}],pointerup:[{callback:this.Ae.bind(this),object:null},{callback:this.Ae.bind(this),object:_geo.geotoolkit.window.document,enabled:!1}],dblclick:this.ewc.bind(this)},d={slots:d,layer:b,name:"pick",mode:c};_geo.geotoolkit.controls.ia.Ona.call(this,d);this.X1=!1;this.Eh=new _geo.geotoolkit.selection.am;
this.TY=[];this.Ux=this.TC=null;this.RNa=!1;this.HF=null;this.Oza=!1;this.vBa=(new _geo.geotoolkit.scene.shapes.lc(new _geo.geotoolkit.util.Rect(0,0,0,0))).Ka(!1).ua((new _geo.geotoolkit.attributes.Aa(a,1,[2,3])).Yd({x:!0,y:!0})).ta(new _geo.geotoolkit.attributes.Fa(g)).kk(!1);null!=this.Qb&&this.Qb.va(this.vBa);this.XR=_geo.geotoolkit.controls.ia.eR.uYa;this.aMb=_geo.geotoolkit.controls.ia.IYa.S9b;this.oBa=_geo.geotoolkit.controls.ia.er.WJa;this.WF=5;this.wB=2;this.Ikc=this.YO=0}var a="#bdbdbd",
g="rgba(189,189,189,0.5)",d=1E3;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Ona);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.Selection");b.$={O4:"onPick",nma:"onSelectionEnd",EI:"onSelectionChanged",Hda:"beforeSelectionChange",ks:"onDoubleClick"};b.prototype.Yq=function(a){this.Yu("pointermove",a,_geo.geotoolkit.window);this.Yu("pointerup",a,_geo.geotoolkit.window.document)};b.prototype.twa=function(a){this.WF=a;return this};b.prototype.bwa=function(a){this.wB=a;return this};b.prototype.FRa=
function(){return this.WF};b.prototype.YQa=function(){return this.wB};b.prototype.IHa=function(a){if(this.XR===a)return this;this.XR=a;this.uj();return this};b.prototype.UEa=function(){return this.XR};b.prototype.w5b=function(a){this.aMb=a;return this};b.prototype.XDc=function(){return this.aMb};b.prototype.h5b=function(a){this.oBa=a;return this};b.prototype.lDc=function(){return this.oBa};b.prototype.Txb=function(a){this.oBa=a?_geo.geotoolkit.controls.ia.er.IT:_geo.geotoolkit.controls.ia.er.WJa;
return this};b.prototype.$Cc=function(){return this.oBa===_geo.geotoolkit.controls.ia.er.IT};b.prototype.Bz=function(a){this.TC=a;return this};b.prototype.QP=function(){return this.Jd};b.prototype.JM=function(){return this.Zh};b.prototype.h0b=function(a){null==this.Qb&&(this.Qb=new _geo.geotoolkit.scene.og,a=a.ii().getRoot(),a.va(this.Qb),this.Qb.va(this.vBa));return this};b.prototype.Jbb=function(){if(null!=this.Ux)if(this.XR===_geo.geotoolkit.controls.ia.eR.yq)this.setActive(!0),this.Jd=this.Qe(this.Qb,
this.Ux),this.Zh=this.Qe(this.Qb,this.Ux);else{var a=this.Ux.il(),b=this.Ux.jm(),d=this.qG(this.Ux),d=d?this.WF:this.wB,a=this.Eh.select(a,b.x,b.y,d);this.Ola(a,this.Ux);this.RNa&&this.Ux.stopPropagation(!1)}};b.prototype.xf=function(a){this.qG(a)&&Date.now()-this.Ikc<d&&this.ewc(a);this.Ikc=Date.now();this.h0b(a);var b=a.th();this.RNa=2===b.button;this.Ux=a;if(this.XR===_geo.geotoolkit.controls.ia.eR.yq)this.Yq(!0),this.Jbb();else{b=!1;switch(this.oBa){case _geo.geotoolkit.controls.ia.er.UWa:if(this.YO&&
500>Date.now()-this.YO){this.Oza=!0;return}this.YO=Date.now();break;case _geo.geotoolkit.controls.ia.er.bZa:this.YO=Date.now();break;case _geo.geotoolkit.controls.ia.er.WJa:b=!0}this.HF=a.jm().clone();b&&this.Jbb()}this.Oza=!1};b.prototype.eIa=function(a){return null!=this.Qb?this.Qb.Ya().cb(a):a};b.prototype.Ae=function(a){this.h0b(a);if(this.XR===_geo.geotoolkit.controls.ia.eR.yq){if(!1!==this.wf()){this.Yq(!1);var b=[],b=a.il();this.setActive(!1);var d=this.qG(a),d=d?this.WF:this.wB;if(this.XR===
_geo.geotoolkit.controls.ia.eR.yq&&null==this.Zh)var g=this.eIa(this.Zh),b=this.Eh.select(b.getRoot(),g.x,g.y,d);else{var g=this.eIa(this.Jd),h=this.eIa(this.Zh);this.vBa.Ka(!1).ma();g=new _geo.geotoolkit.util.Rect(g.x,g.y,h.x,h.y);.1>g.aa()&&g.setX(g.getX()-d/2).qb(d/2);.1>g.ba()&&g.setY(g.getY()-d/2).Db(d/2);b=this.aMb===_geo.geotoolkit.controls.ia.IYa.Qk?this.Eh.select(b.getRoot(),[g.x,g.x+g.width,g.x+g.width,g.x],[g.y,g.y,g.y+g.height,g.y+g.height],!1):this.Eh.select(b.getRoot(),g)}this.Ola(b,
a)}}else{b=!1;d=null!=a.th().touches?this.WF:this.wB;d=null!=this.HF?_geo.geotoolkit.util.na.Cj(this.HF,a.jm())<=2*d:!1;switch(this.oBa){case _geo.geotoolkit.controls.ia.er.pWa:b=d;break;case _geo.geotoolkit.controls.ia.er.UWa:b=this.Oza&&d&&500>Date.now()-this.YO;this.YO=0;break;case _geo.geotoolkit.controls.ia.er.bZa:b=d&&1E3<Date.now()-this.YO;this.YO=0;break;case _geo.geotoolkit.controls.ia.er.Jfb:b=!0}b&&(this.Ux=a,this.Jbb());this.RNa&&(this.RNa=!1,a.stopPropagation(!1))}};b.prototype.Wd=function(a){this.h0b(a);
if(this.wf())this.RNa?(this.RNa=!1,a.stopPropagation(!1)):this.XR===_geo.geotoolkit.controls.ia.eR.yq&&(this.Zh=this.Qe(this.Qb,a),this.xtc(),this.vBa.zb(new _geo.geotoolkit.util.Rect(Math.min(this.Jd.x,this.Zh.x),Math.min(this.Jd.y,this.Zh.y),Math.max(this.Jd.x,this.Zh.x),Math.max(this.Jd.y,this.Zh.y))).Ka(!0).ma(),a.stopPropagation(!0));else if(this.oBa===_geo.geotoolkit.controls.ia.er.IT){var b=a.il();this.Zh=this.Qe(this.Qb,a);var d=this.eIa(this.Zh),b=this.Eh.select(b,d.x,d.y,this.wB);this.Ola(b,
a)}};b.prototype.ls=function(a,b){var d=[];this.u6a().forEach(function(g){g=g.ii();var h=g.hD(),l=this.EZ(h),h=new _geo.geotoolkit.util.Rect(l.x,l.y,l.x+h.offsetWidth,l.y+h.offsetHeight);h.contains(a,b)&&(h=g.getRoot(),d.push({plot:g,nodes:this.Eh.select(h,a-l.x,b-l.y,this.wB)}))}.bind(this));return d};b.prototype.Ola=function(a,c){var d=[],d=null!=this.TC?this.TC.call(this,a):a,d=new _geo.geotoolkit.controls.ia.IKa(c,d,this.XR);this.fireEvent(b.$.O4,d);this.aQc(d.getSelection(),d);this.fireEvent(b.$.nma,
d)};b.prototype.ewc=function(a){this.isEnabled()&&this.fireEvent(b.$.ks,new _geo.geotoolkit.controls.ia.IKa(a,this.TY,this.XR));return this};b.prototype.getSelection=function(){return this.TY};b.prototype.DN=function(a){return this.aQc(a,null)};b.prototype.aQc=function(a,c){this.SPb(this.TY,a)||(this.fireEvent(b.$.Hda,new _geo.geotoolkit.controls.ia.IKa(c,this.TY,this.XR)),this.TY=a,this.fireEvent(b.$.EI,new _geo.geotoolkit.controls.ia.IKa(c,this.TY,this.XR)));this.K9()&&this.cc(!1);return this};
b.prototype.SPb=function(a,b){if(!(a&&b&&a instanceof Array&&b instanceof Array)||a.length!==b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!a[d].equals(b[d]))return!1}else if(a[d]!==b[d])return!1;return!0};b.prototype.ua=function(a,b){this.vBa.ua(a,b);return this};b.prototype.ta=function(a,b){this.vBa.ta(a,b);return this};b.prototype.Rs=function(a){null!=a.enabled&&this.cc(a.enabled);null!=a.mode&&this.IHa(a.mode);null!=a.linestyle&&this.ua(a.linestyle);
null!=a.fillstyle&&this.ta(a.fillstyle);null!=a.autodisabled&&this.F_(a.autodisabled);null!=a.mouseradius&&this.bwa(a.mouseradius);null!=a.touchradius&&this.twa(a.touchradius);return this};b.prototype.F_=function(a){this.X1=a;return this};b.prototype.K9=function(){return this.X1};b.prototype.dispose=function(){this.vBa.dispose();this.TY=[];_geo.geotoolkit.controls.ia.Ona.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.ia.sYa=function(){function b(a,b){_geo.geotoolkit.controls.ia.ev.call(this,a);this.BOa=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.PinchToZoomEventArgs");b.prototype.Nb=function(){return this.BOa};return b}();_geo.geotoolkit.controls.ia.AL={La:0,Na:1,gza:2,lb:3,NFb:4};
_geo.geotoolkit.controls.ia.ew=function(){function b(a,b){this.M3c="targetTouches";this.J2c=this.Ae.bind(this);var c={pointerdown:this.xf.bind(this),pointermove:this.Wd.bind(this),pointerup:this.Ae.bind(this)},c={slots:c,layer:a,name:"pinchtozoom"};this.yAa=a;this.wp=null==b?_geo.geotoolkit.controls.ia.AL.gza:b;this.yh=[];_geo.geotoolkit.controls.ia.fc.call(this,c)}var a=new _geo.geotoolkit.util.Rect,g=new _geo.geotoolkit.util.Ga;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,
"geotoolkit.controls.tools.PinchToZoom");b.$={pGa:"onZooming",au:"onZoomingEnd",aF:"onZoomingStart"};b.prototype.setMode=function(a){this.wp=null==a?_geo.geotoolkit.controls.ia.AL.gza:a;return this};b.prototype.UK=function(a,b){var c=[],g=null!=b?b:a.ii(),k=null!=b?a:a.th(),h=g.getBoundingClientRect(),l=0,n=0;if(null!=k.touches&&0<k.touches.length)for(var k=k[this.M3c],p=0;p<k.length;p++)l=k[p].clientX,n=k[p].clientY,c.push(new _geo.geotoolkit.util.na((l-h.left)/(h.right-h.left)*g.aa(),(n-h.top)/
(h.bottom-h.top)*g.ba()));else{var l=k.clientX,n=k.clientY,r=k.pointerId,c=this.yh.filter(function(a){return a.pointerId===r});0===c.length?(g=new _geo.geotoolkit.util.na((l-h.left)/(h.right-h.left)*g.aa(),(n-h.top)/(h.bottom-h.top)*g.ba()),g.pointerId=r,null!=this.yh&&0!==this.yh.length||this.Yob(),this.yh.push(g)):c[0].bb((l-h.left)/(h.right-h.left)*g.aa(),(n-h.top)/(h.bottom-h.top)*g.ba());c=this.yh}return c};b.prototype.start=function(a){var e=this.UK(a);null!=e&&2===e.length&&e[0].getX()!==e[1].getX()&&
e[0].getY()!==e[1].getY()&&(e=new _geo.geotoolkit.util.Rect(e[0].getX(),e[0].getY(),e[1].getX(),e[1].getY()),this.VBa=this.yAa.Ya().qe(e),this.setActive(!0),this.fireEvent(b.$.aF,new _geo.geotoolkit.controls.ia.sYa(a,null)));return this};b.prototype.stop=function(a){var e=a;null!=a.th&&(e=a.th());if(null!=e.touches&&0<e.touches.length)this.yh=[];else{var c=e.pointerId,e=this.yh.filter(function(a){return a.pointerId===c});0<e.length&&(e=this.yh.indexOf(e[0]),this.yh.splice(e,1))}_geo.geotoolkit.window.removeEventListener("pointerup",
this.J2c);this.wf()&&(null==this.yh||2>this.yh.length)&&(this.setActive(!1),this.fireEvent(b.$.au,new _geo.geotoolkit.controls.ia.sYa(a,null)),this.VBa=null);return this};b.prototype.xf=function(a){!1!==this.qG(a)&&(this.start(a),this.wf()&&a.stopPropagation(!0,!0))};b.prototype.Ctc=function(a){void 0!==this.Ae&&this.Ae(a);this.pia&&0===this.yh.length&&_geo.geotoolkit.controls.util.Xp.SZ("pointerup").forEach(function(a){_geo.geotoolkit.window.removeEventListener(a,this.pia,!1)}.bind(this))};b.prototype.Wd=
function(d){if(!1!==this.qG(d)){var e=this.UK(d);if(this.wf()&&2===e.length&&e[0].getX()!==e[1].getX()&&e[0].getY()!==e[1].getY()&&(d.stopPropagation(!0,!0),this.yAa)){var c=this.yAa.Ya();a.zb(e[0].getX(),e[0].getY(),e[1].getX(),e[1].getY());a=c.qe(a);switch(this.wp){case _geo.geotoolkit.controls.ia.AL.La:a.Db(this.VBa.ba());break;case _geo.geotoolkit.controls.ia.AL.Na:a.qb(this.VBa.aa());break;case _geo.geotoolkit.controls.ia.AL.NFb:_geo.geotoolkit.util.Ga.hf(a,this.VBa,!1,!1,!1,g);var e=(a.Pc()+
this.VBa.Pc())/2,c=(a.Qc()+this.VBa.Qc())/2,f=this.yAa.Nb();g.translate(e-f.Pc(),c-f.Qc())}this.wp!==_geo.geotoolkit.controls.ia.AL.NFb&&_geo.geotoolkit.util.Ga.hf(a,this.VBa,!1,!1,!1,g);e=g.ob(this.yAa.Nb());this.fireEvent(b.$.pGa,new _geo.geotoolkit.controls.ia.sYa(d,e))}}};b.prototype.Ae=function(a){var b=a;null!=a.th&&(b=a.th());if(this.wf()){if(!1===this.qG(a))return;null!=b&&(b.preventDefault(),b.stopPropagation())}this.stop(a)};return b}();
_geo.geotoolkit.controls.ia.wYa=function(){function b(a,b,d){_geo.geotoolkit.controls.ia.Gya.call(this,a,d);this.qw=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Gya);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.PolygonSelectionEventArgs");b.prototype.getSelection=function(){return this.qw};b.prototype.DN=function(a){this.qw=a;return this};return b}();
_geo.geotoolkit.controls.ia.Soa=function(){function b(a){this.X1=!1;this.Eh=new _geo.geotoolkit.selection.am;this.TY=[];this.TC=null;this.gia=!1;this.Yba=!0;_geo.geotoolkit.controls.ia.Fya.call(this,a);this.p9().kk(!1);this.yb("polygon-selection");this.addListener(_geo.geotoolkit.controls.ia.Fya.$.j_b,function(a,b){this.selection(b)}.bind(this));this.cc(!0)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Fya);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.PolygonSelection");b.$={nma:"onSelectionEnd",
EI:"onSelectionChanged",Hda:"beforeSelectionChange"};b.prototype.selection=function(a){for(var b=a.fQa().x,d=a.fQa().y,e=[],c=[],f=new _geo.geotoolkit.util.na(0,0),k=0;k<b.length;k++)f.bb(b[k],d[k]),f=this.eIa(f),e[k]=f.getX(),c[k]=f.getY();b=this.Eh.select(a.il(),e,c,this.gia,this.Yba);this.p9().Ka(!1);this.Ola(b,a);return this};b.prototype.eIa=function(a){return null!=this.Qb?this.Qb.Ya().cb(a):a};b.prototype.Ola=function(a,g){var d=[],d=null!=this.TC?this.TC.call(this,a):a,d=new _geo.geotoolkit.controls.ia.wYa(g,
d,{x:this.p9().Wf(),y:this.p9().Jg()});this.fireEvent(b.$.nma,d);this.DN(d.getSelection())};b.prototype.DN=function(a){this.SPb(this.TY,a)||(this.fireEvent(b.$.Hda,new _geo.geotoolkit.controls.ia.wYa(null,this.TY,{x:this.p9().Wf(),y:this.p9().Jg()})),this.TY=a,this.K9()&&this.cc(!1),this.fireEvent(b.$.EI,new _geo.geotoolkit.controls.ia.wYa(null,this.TY,{x:this.p9().Wf(),y:this.p9().Jg()})));return this};b.prototype.SPb=function(a,b){if(!(a&&b&&a instanceof Array&&b instanceof Array)||a.length!==b.length)return!1;
for(var d=0;d<a.length;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!a[d].equals(b[d]))return!1}else if(a[d]!==b[d])return!1;return!0};b.prototype.getSelection=function(){return this.TY};b.prototype.Bz=function(a){this.TC=a;return this};b.prototype.J1b=function(a){this.gia=a;return this};b.prototype.XSb=function(){return this.gia};b.prototype.k5=function(a){this.Yba=a;this.p9().sb().k5(a);return this};b.prototype.iG=function(){return this.Yba};b.prototype.F_=function(a){this.X1=a;return this};
b.prototype.K9=function(){return this.X1};return b}();
_geo.geotoolkit.controls.ia.eJ=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"colorbarcursor",offset:0,symbolalignment:_geo.geotoolkit.controls.ia.eJ.hR.zT,symbol:new _geo.geotoolkit.scene.shapes.Symbol({width:6,height:6,alignment:_geo.geotoolkit.util.Da.lb,sizeIsInDeviceSpace:!0,painter:_geo.geotoolkit.scene.shapes.hc.gpa,fillstyle:"black",visible:!0})},!0);if(null==a.colorbar)throw Error("colorbar should be defined");this.qh=a.colorbar;var b={pointermove:this.Wd.bind(this),"cg-enter":function(a){this.sR.Ka(!0);
this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.bva,a)}.bind(this),"cg-leave":function(a){this.sR.Ka(!1);this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,a)}.bind(this)},b={slots:b,name:a.name,layer:a.group||this.qh.getParent()};_geo.geotoolkit.controls.ia.fc.call(this,b);this.ct=a.callback;"function"===typeof a.init&&a.init(this);this.KMb=this.IMb=null;this.Vmb=a.symbolalignment;this.sR=new _geo.geotoolkit.scene.Group;this.sR.Ad(!0);this.sR.Ka(!1);this.Bh().va(this.sR);this.Pmb=this.KLb=0;this.bl(a.symbol);
this.lp(a.offset);this.Drd()}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.ColorBarCursorTool");b.hR={wd:"left",$c:"right",zT:"both"};b.prototype.lp=function(a){this.ud=a;this.Vmb!==_geo.geotoolkit.controls.ia.eJ.hR.$c&&this.Y5b(_geo.geotoolkit.controls.ia.eJ.hR.wd);this.Vmb!==_geo.geotoolkit.controls.ia.eJ.hR.wd&&this.Y5b(_geo.geotoolkit.controls.ia.eJ.hR.$c);this.Gzb();return this};b.prototype.setPosition=function(a){a=this.qh.lWb(a);Number.isFinite(a)&&
(this.qh.gk()?this.sR.translate(a-this.KLb,0):this.sR.translate(0,a-this.KLb),this.KLb=a,this.sR.Ka(!0));return this};b.prototype.Gzb=function(){null!=this.Jj&&this.setPosition(this.Jj);return this};b.prototype.Wd=function(a){if(this.isEnabled()&&(this.sR.Ka(!1),this.qh.ib())){var b=a.il(),d=this.Qe(null,a);this.ct&&(a=a.th(),b=this.ct.call(this,b?b.Ya().Ue(d):d,a,this),"number"===typeof b&&b!==this.Jj?(this.Jj=b,this.Gzb()):"number"===typeof b&&b===this.Jj&&this.sR.Ka(!0))}};b.prototype.Fdd=function(a){var b=
Math.PI/2;a=a===_geo.geotoolkit.controls.ia.eJ.hR.$c;var d=this.qh.xea(),e;switch(d){case _geo.geotoolkit.controls.shapes.wq.Se:case _geo.geotoolkit.controls.shapes.wq.Yc:e=a?0:2*b;break;case _geo.geotoolkit.controls.shapes.wq.pd:case _geo.geotoolkit.controls.shapes.wq.Rc:e=a?3*b:b;break}return e};b.prototype.bl=function(a){this.gg=a;this.Vmb!==_geo.geotoolkit.controls.ia.eJ.hR.$c&&this.Qxb(_geo.geotoolkit.controls.ia.eJ.hR.wd);this.Vmb!==_geo.geotoolkit.controls.ia.eJ.hR.wd&&this.Qxb(_geo.geotoolkit.controls.ia.eJ.hR.$c);
return this};b.prototype.Qxb=function(a){var b=a===_geo.geotoolkit.controls.ia.eJ.hR.$c;this.sR.removeChild(b?this.KMb:this.IMb);var d=this.gg.clone();d.rotate(this.Fdd(a),d.uA(),d.ny());b?this.KMb=d:this.IMb=d;this.Y5b(a);this.sR.va(d);return this};b.prototype.Y5b=function(a){var b=a===_geo.geotoolkit.controls.ia.eJ.hR.$c,d="number"===typeof this.qh.Fja?this.qh.Fja/2:this.BEc()/2;a=b?this.KMb:this.IMb;if(null==a)return this;b=b?this.ud+d+a.aa():-this.ud-d;this.qh.gk()?a.translate(0,b):a.translate(b,
0);return this};b.prototype.bgd=function(){var a=0,a="number"===typeof this.qh.ka().colorboxsize?this.cgd():this.BEc(),a=a-this.gg.aa();return a/2+(this.qh.gk()?this.qh.ga().getY():this.qh.ga().getX())};b.prototype.cgd=function(){var a=this.qh.xea(),b=this.qh.ka(),d=b.colorboxsize;if(a===_geo.geotoolkit.controls.shapes.wq.Se||a===_geo.geotoolkit.controls.shapes.wq.Rc)a=b.titlevisible&&"string"===typeof b.titletext&&0<b.titletext.length?b.titlesize:0,b=b.axisvisible?b.axissize:0,d+=2*(a+b);return d};
b.prototype.BEc=function(){var a=(0,window.parseInt)(this.qh.Fja),b=(0,window.parseInt)(this.qh.Lmb),d=(0,window.parseInt)(this.qh.NBa),e=this.qh.xea(),c=0,f;switch(e){case _geo.geotoolkit.controls.shapes.wq.Yc:case _geo.geotoolkit.controls.shapes.wq.pd:c=a/(a+b+d);break;case _geo.geotoolkit.controls.shapes.wq.Se:case _geo.geotoolkit.controls.shapes.wq.Rc:c=(a+2*(b+d))/(a+b+d);break}switch(e){case _geo.geotoolkit.controls.shapes.wq.Se:case _geo.geotoolkit.controls.shapes.wq.Yc:f=c*this.qh.ga().aa();
break;case _geo.geotoolkit.controls.shapes.wq.pd:case _geo.geotoolkit.controls.shapes.wq.Rc:f=c*this.qh.ga().ba();break}return f};b.prototype.Drd=function(){var a=this.bgd();this.Pmb!==a&&(this.qh.gk()?this.sR.translate(0,a-this.Pmb):this.sR.translate(a-this.Pmb,0),this.Pmb=a)};b.prototype.dispose=function(){this.Bh().removeChild(this.sR);_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.ia.G$b=function(){function b(a){_geo.geotoolkit.controls.ia.Selection.call(this,a);this.l2a=[];this.Jpa=[];this.XR=_geo.geotoolkit.controls.ia.eR.uYa;this.Yu("pointermove",!0,_geo.geotoolkit.window)}var a=500;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.Selection);b.prototype.Ola=function(a,b){if(0!==a.length){var e=[],e=null!=this.TC?this.TC(a):[a[a.length-1]],c=e[e.length-1];c&&this.Jpa.forEach(function(a){c.Ja(a,c,b)});if(-1!==this.Jpa.indexOf(_geo.geotoolkit.controls.ia.er.IT)){var f=
[],k;for(k=0;k<e.length;k++){var h=this.l2a.indexOf(e[k]);0<=h?this.l2a.splice(h,1):f.push(e[k])}for(k=0;k<this.l2a.length;k++)this.l2a[k].mTa(_geo.geotoolkit.controls.ia.er.IT);for(k=0;k<f.length;k++)f[k].KOa(_geo.geotoolkit.controls.ia.er.IT);this.l2a=e.slice()}this.Jpa=[]}};b.prototype.xf=function(b){this.Ux=b;this.Jpa.push(_geo.geotoolkit.controls.ia.er.WJa);this.YO&&Date.now()-this.YO<a?this.Oza=!0:(this.YO=0,this.Oza=!1);if(!this.YO||Date.now()>this.YO<a)this.HF=b.jm().clone(),this.YO=Date.now();
this.Jbb()};b.prototype.Ae=function(b){var d=null!=b.th().touches?this.WF:this.wB,d=null!=this.HF?_geo.geotoolkit.util.na.Cj(this.HF,b.jm())<=2*d:!1;this.Jpa.push(_geo.geotoolkit.controls.ia.er.Jfb);d&&(this.Oza&&Date.now()-this.YO<a?(this.YO=0,this.Jpa.push(_geo.geotoolkit.controls.ia.er.UWa),this.Oza=!1):this.Jpa.push(_geo.geotoolkit.controls.ia.er.pWa));this.Ux=b;this.Jbb()};b.prototype.Wd=function(a){if(!this.wf()){var b=a.il();this.Zh=this.Qe(this.Qb,a);var e=this.eIa(this.Zh),b=this.Eh.select(b,
e.x,e.y,this.wB);this.Jpa.push(_geo.geotoolkit.controls.ia.er.IT);this.Ola(b,a)}};return b}();_geo.geotoolkit.controls.ia.Jo.JCb=function(){function b(a,b,d,e){_geo.geotoolkit.controls.ia.ev.call(this,a);this.X5c=b;this.Z2c=d;this.Z4c=e}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.HoverEventArgs");b.prototype.GWb=function(){return this.X5c};b.prototype.getColumnNumber=function(){return this.Z2c};b.prototype.ICc=function(){return this.Z4c};return b}();
_geo.geotoolkit.controls.ia.Jo.gha=function(){function b(a){this.Ux=this.HU=null;this.Gb=a;a={pointermove:this.Wd.bind(this),"cg-leave":function(a){this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,null)}.bind(this)};_geo.geotoolkit.controls.ia.fc.call(this,a,"Highlight")}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.Highlight");b.$={jGa:"onHover"};b.prototype.Wd=function(a){var g=this.Qe(this.Gb,a),d=this.Gb.KI(g.getX(),g.getY()),e=this.Gb.Tka(d.getY(),
d.getX());if(e){var c=this.Gb.KI(g.getX(),g.getY(),!0),g=e.aa()*(c.getX()-d.getX()),e=e.ba()*(c.getY()-d.getY());this.fireEvent(b.$.jGa,new _geo.geotoolkit.controls.ia.Jo.JCb(a,d.getY(),d.getX(),new _geo.geotoolkit.util.na(g,e)))}};return b}();
_geo.geotoolkit.controls.ia.Jo.sH=function(){function b(a){this.jd=this.FU=this.Ux=null;this.Gb=a;this.dl=this.Whb=null;a={pointerdown:this.xf.bind(this),pointermove:[{callback:this.Wd.bind(this),object:null},{callback:this.Wd.bind(this),object:_geo.geotoolkit.window,enabled:!1}],pointerup:[{callback:this.Ae.bind(this),object:null},{callback:this.Ae.bind(this),object:_geo.geotoolkit.window,enabled:!1}]};_geo.geotoolkit.controls.ia.fc.call(this,a,"Splitter");this.TBa=1;this.Eh=new _geo.geotoolkit.selection.am;
this.yU=(new _geo.geotoolkit.scene.shapes.lc).ua({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ta({color:"rgba(150,150,150, 0.5)"}).Ka(!1);this.vY=(new _geo.geotoolkit.scene.shapes.lc).ua({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ta({color:"rgba(150,150,150, 0.5)"}).Ka(!1);this.W7=(new _geo.geotoolkit.scene.shapes.lc).ua({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ta({color:"rgba(150,150,150, 0.5)"}).Ka(!1);this.Gb.va([this.yU,this.vY,this.W7])}var a=new _geo.geotoolkit.util.na(0,0),g=new _geo.geotoolkit.util.na(1,
0);_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.tableview.Splitter");b.$={sW:"onResize"};b.prototype.uj=function(){_geo.geotoolkit.controls.ia.fc.prototype.uj.call(this);!1===this.isEnabled()&&(this.yU.Ka(!1),this.vY.Ka(!1),this.W7.Ka(!1))};b.prototype.getSize=function(){return this.TBa};b.prototype.setSize=function(a){this.TBa=a;return this};b.prototype.ua=function(a,b){this.yU.ua(a,b);a=this.yU.Xa();this.vY.ua(a);this.W7.ua(a);return this};
b.prototype.Xa=function(){return this.vY.Xa()};b.prototype.ta=function(a){this.yU.ta(a);this.vY.ta(a);this.W7.ta(a);return this};b.prototype.sb=function(){return this.W7.sb()};b.prototype.start=function(a){this.setActive(!0);null!=a&&(a.stopPropagation(!0,!0),this.Whb=a.ii());this.yU.ib()?this.jd=this.yU:this.jd=this.vY.ib()?this.vY:this.W7;return this};b.prototype.stop=function(a){this.setActive(!1);null!=this.Whb&&_geo.geotoolkit.controls.util.Xp.Bw(this.Whb,{cursor:"inherit"});null!=this.jd&&this.jd.Td(null).Ka(!1);
this.jd=this.Whb=null;return this};b.prototype.Ae=function(a){!1!==this.wf()&&(a.stopPropagation(!0,!0),this.Yu("pointermove",!1,_geo.geotoolkit.window),this.Yu("pointerup",!1,_geo.geotoolkit.window),this.l8c(a.ii(),this.Qe(this.Gb,a)))};b.prototype.l8c=function(a,e){if(null!=this.jd){this.Gb.Ya().cb(e,e);this.Gb.uK().Wx.Ya().Ue(e,e);this.Gb.Ya().cb(this.UBa,this.UBa);this.Gb.uK().Wx.Ya().Ue(this.UBa,this.UBa);var c=e.getX()-this.UBa.getX();this.jd===this.yU?this.dl.x=-1:this.jd===this.vY&&--this.dl.x;
var g=this.dl.getX(),k=0,h=0;0<=g?(k=this.Gb.RDa(g),h=k+c):(k=this.Gb.qQa().aa(),h=Math.min(k+c,this.Gb.ga().aa()-1));this.stop(null);15>h&&(h=15);this.Gb.jHa(g,h);this.fireEvent(b.$.sW,{column:g,width:{current:k,"new":h}})}};b.prototype.xf=function(a){if(this.yU.ib()||this.vY.ib()||this.W7.ib()){this.Yu("pointermove",!0,_geo.geotoolkit.window);this.Yu("pointerup",!0,_geo.geotoolkit.window);var b=this.Gb.getRoot(),c=this.Qe(b,a),b=this.Eh.select(b,c.x,c.y,this.TBa),b=b.filter(function(a){return a===
this.yU||a===this.vY||a===this.W7}.bind(this));if(0===b.length)return this;this.jd=b[0];this.Ux=a;this.UBa=this.FU=this.Qe(this.Gb,a);this.start(a)}return this};b.prototype.Wd=function(a){null!=this.jd&&null!=a.stopPropagation&&a.stopPropagation(!0,!0);this.Dda(a.ii(),this.Qe(this.Gb,a))};b.prototype.Dda=function(b,e){if(null!=this.jd)return this.jd.translate(e.getX()-this.FU.getX(),0),this.FU=e,this;var c=e.clone();this.dl=this.Gb.KI(c.getX(),c.getY());var f=this.Gb.Tka(this.dl.getY(),this.dl.getX());
if(null==f)return this;var k=new _geo.geotoolkit.util.na(f.getX(),f.getY()),f=new _geo.geotoolkit.util.na(f.za(),f.wa());this.Gb.uK().Wx.Ya().cb(k,k);this.Gb.Ya().Ue(k,k);this.Gb.uK().Wx.Ya().cb(f,f);this.Gb.Ya().Ue(f,f);var h=this.Gb.Ya().Ue(a),l=this.Gb.Ya().Ue(g),h=_geo.geotoolkit.util.na.Cj(h,l);this.yU.Ea((new _geo.geotoolkit.util.Rect(this.Gb.NC.ga().za(),this.Gb.xa().qa(),this.Gb.NC.ga().za(),this.Gb.xa().wa())).fe(this.TBa*h,0)).Ka(this.Gb.NC.ib());this.vY.Ea((new _geo.geotoolkit.util.Rect(k.x,
this.Gb.xa().qa(),k.x,this.Gb.xa().wa())).fe(this.TBa*h,0)).Ka(!0);this.W7.Ea((new _geo.geotoolkit.util.Rect(f.x,this.Gb.xa().qa(),f.x,this.Gb.xa().wa())).fe(this.TBa*h,0)).Ka(!0);k=this.Gb;c=this.Eh.select(k,c.x,c.y,this.TBa);c=c.filter(function(a){return a===this.yU||a===this.vY||a===this.W7}.bind(this));this.yU.Ka(!1);this.vY.Ka(!1);this.W7.Ka(!1);if(0<c.length){if(this.Gb.NC.ib()&&c[0]!==this.yU&&c[0].ga().sa()<this.Gb.NC.ga().za())return this;c[0].Ka(!0);_geo.geotoolkit.controls.util.Xp.Bw(b,
{cursor:"ew-resize"})}else _geo.geotoolkit.controls.util.Xp.Bw(b,{cursor:"inherit"});return this};return b}();
_geo.geotoolkit.controls.ia.Jo.nXa=function(){function b(a){this.Ux=this.HU=null;this.Gb=a;this.Gc=new _geo.geotoolkit.util.xc(12,12);this.c2=new _geo.geotoolkit.util.xc(4,4);a={pointermove:this.Wd.bind(this),pointerdown:this.xf.bind(this),"cg-leave":function(a){this.OJ=null;this.Cba.Ka(!1)}.bind(this)};_geo.geotoolkit.controls.ia.fc.call(this,a,"HeaderHandler");this.Gb.va([this.Cba=(new _geo.geotoolkit.scene.Group).Ka(!1)])}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,
"geotoolkit.controls.tools.tableview.HeaderHandler");b.$={l_b:"onHeaderHover",c_b:"onButtonHover",f_b:"onClick"};b.prototype.setSize=function(a){this.Gc=a;return this};b.prototype.getSize=function(){return this.Gc};b.prototype.s5=function(a){this.c2=a;return this};b.prototype.a4=function(){return this.c2};b.prototype.Wd=function(a){a=this.Qe(this.Gb,a);var g=this.Gb.Fvb(a.getX(),a.getY()),d=null;0===g.getY()&&-1===g.getX()?(this.zF=-1,d=this.Kqb(-1),this.Cba.Ea(d).Sa(d.clone().setX(0).setY(0)),this.fireEvent(d.contains(a)?
b.$.c_b:b.$.l_b,{column:this.zF,button:this.Cba})):0===g.getY()&&0<=g.getX()?(this.zF=this.Gb.KI(a.getX(),a.getY()).getX(),d=this.Kqb(this.zF),this.Cba.Ea(d).Sa(d.clone().setX(0).setY(0)),this.fireEvent(d.contains(a)?b.$.c_b:b.$.l_b,{column:this.zF,button:this.Cba})):this.Cba.Ka(!1)};b.prototype.xf=function(a){var g=this.Qe(this.Gb,a),d=this.Gb.Fvb(g.getX(),g.getY()),e=null;0===d.getY()&&-1===d.getX()?(this.zF=-1,e=this.Kqb(-1),this.Cba.Ka(!0).Ea(e),e.contains(g)&&(a.stopPropagation(),this.fireEvent(b.$.f_b,
{column:this.zF,button:this.Cba}))):0===d.getY()&&0<=d.getX()&&(this.zF=this.Gb.KI(g.getX(),g.getY()).getX(),e=this.Kqb(this.zF),this.Cba.Ka(!0).Ea(e),e.contains(g)&&(a.stopPropagation(),this.fireEvent(b.$.f_b,{column:this.zF,button:this.Cba})))};b.prototype.Kqb=function(a){a=this.wQa(a);return a.setX(a.getX()+a.aa()-this.Gc.aa()-this.c2.aa()).setY(a.getY()+this.c2.ba()).qb(this.Gc.aa()).Db(this.Gc.ba())};b.prototype.wQa=function(a){var b=this.Gb.Tka(-1,a);a=this.Gb.wQa();if(null==b)return null;var d=
new _geo.geotoolkit.util.na(b.getX(),b.getY()),b=new _geo.geotoolkit.util.na(b.za(),b.wa());this.Gb.uK().Wx.Ya().cb(d,d);this.Gb.Ya().Ue(d,d);this.Gb.uK().Wx.Ya().cb(b,b);this.Gb.Ya().Ue(b,b);return new _geo.geotoolkit.util.Rect(d.x,a.qa(),b.x,a.wa())};return b}();
_geo.geotoolkit.controls.ia.Jo.a6=function(){function b(a){this.Ux=this.HU=null;this.Gb=a;this.OJ=null;this.DF=!1;this.nj=null;this.zF=-1;a={pointermove:this.Wd.bind(this),pointerdown:this.xf.bind(this),pointerup:[{callback:this.Ae.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:_geo.geotoolkit.window,enabled:!1}],keydown:{callback:this.BI.bind(this),object:_geo.geotoolkit.window,enabled:!0},keyup:{callback:this.TS.bind(this),object:_geo.geotoolkit.window,enabled:!0},"cg-leave":function(a){this.OJ=
null}.bind(this)};_geo.geotoolkit.controls.ia.fc.call(this,a,"ColumnHandler");this.LLa=(new _geo.geotoolkit.scene.shapes.lc).ua({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ta({color:"rgba(236,243,255, 0.5)"}).Ka(!1);this.n_a=(new _geo.geotoolkit.scene.Group).Ad(!0).Ka(!1).pe(new _geo.geotoolkit.ea.ol).va([this.Omc=(new _geo.geotoolkit.scene.Group).pb({left:1,top:0,bottom:0,width:2}).ua({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ta({color:"#4285F4"}).Ka(!1),this.Xoc=(new _geo.geotoolkit.scene.Group).pb({right:1,
top:0,bottom:0,width:2}).ua({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ta({color:"#4285F4"}).Ka(!1)]);this.Gb.va([this.LLa,this.n_a])}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.tableview.ColumnHandler");b.$={onStart:"onStart",jGa:"onHover",Cl:"onMove",Yn:"onScroll"};b.prototype.Yq=function(a){this.Yu("pointerup",a,_geo.geotoolkit.window);return this};b.prototype.start=function(){this.Yq(!0);return _geo.geotoolkit.controls.ia.fc.prototype.start.call(this)};
b.prototype.stop=function(){this.Yq(!1);_geo.geotoolkit.controls.ia.fc.UW(this);return _geo.geotoolkit.controls.ia.fc.prototype.stop.call(this)};b.prototype.BI=function(a){if(null!=this.OJ&&!0!==this.DF&&!0===a.th().ctrlKey){var b=this.Qe(this.Gb,this.OJ),b=this.Gb.Fvb(b.getX(),b.getY());0===b.getY()&&0<=b.getX()&&(_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"move"}),this.DF=!0)}};b.prototype.TS=function(a){if(!this.wf()&&!1!==this.DF){var b=a.th();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.DF=
!1,_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"inherit"})}};b.prototype.Lbb=function(){null==this.t8&&(this.t8=(new _geo.geotoolkit.util.q1(300,function(){this.t8.stop();this.t8=null;null!=this.OJ&&this.Wd(this.OJ)}.bind(this))).start())};b.prototype.Wd=function(a){this.OJ=a;if(this.wf()){_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"move"});a.stopPropagation(!0,!0);var g=this.Qe(this.Gb,a),d=this.LLa.ga().clone();d.setX(d.sa()+g.getX()-this.FU.getX());var e=this.Gb.KI(d.sa(),d.getY()),
c=this.Gb.KI(d.za(),d.getY()),f=this.Gb.g_();0<g.getX()-this.FU.getX()?c.getX()>f.za()&&null==this.t8&&(this.Lbb(),this.Gb.hMc(c.getX(),!0),this.fireEvent(b.$.Yn,null)):e.getX()<f.sa()&&null==this.t8&&(this.Lbb(),this.Gb.hMc(e.getX(),!1),this.fireEvent(b.$.Yn,null));g=this.Qe(this.Gb,a);e=this.Gb.KI(g);this.Omc.Ka(e.getX()<this.zF);this.Xoc.Ka(e.getX()>this.zF);this.n_a.Ka(0<=e.getX());c=-1!==e.getX()&&e.getX()!==this.zF?"move":"not-allowed";_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:c});
a=this.Fyc(e.getX());this.n_a.Ea(a).ma();a=this.Gb.uK().ga();a.sa()<=d.sa()&&a.za()>=d.za()&&(this.LLa.Ea(d).ma(),this.FU=g)}else this.OJ=a};b.prototype.xf=function(a){if(!0===this.DF){var b=this.Qe(this.Gb,a),d=this.Gb.Fvb(b.getX(),b.getY());0===d.getY()&&0<=d.getX()&&(this.start(),_geo.geotoolkit.controls.ia.fc.Mi(a.ii(),this),this.zF=this.Gb.KI(b.getX(),b.getY()).getX(),b=this.Fyc(this.zF),this.LLa.Ea(b).Ka(!0).Td(null),this.n_a.Ea(this.LLa.ga().clone()).Ka(!0),this.UBa=this.FU=this.Qe(this.Gb,
a))}};b.prototype.Ae=function(a){if(this.wf()&&(a.stopPropagation(),this.stop(),a=this.Qe(this.Gb,a),a=this.Gb.KI(a.getX(),a.getY()).getX(),-1!==a&&a!==this.zF)){var g=[],d;for(d=0;d<this.Gb.y9().aa();d++)g[d]=this.Gb.RDa(d);d=g[this.zF];g.splice(this.zF,1);g.splice(a,0,d);for(d=0;d<g.length;d++)this.Gb.jHa(d,g[d]);this.fireEvent(b.$.Cl,{from:this.zF,to:a})}};b.prototype.Fyc=function(a){var b=this.Gb.Tka(0,a);if(null==b)return null;a=new _geo.geotoolkit.util.na(b.getX(),b.getY());b=new _geo.geotoolkit.util.na(b.za(),
b.wa());this.Gb.uK().Wx.Ya().cb(a,a);this.Gb.Ya().Ue(a,a);this.Gb.uK().Wx.Ya().cb(b,b);this.Gb.Ya().Ue(b,b);return new _geo.geotoolkit.util.Rect(a.x,this.Gb.xa().qa(),b.x,this.Gb.xa().wa()-1)};b.prototype.uj=function(){_geo.geotoolkit.controls.ia.fc.prototype.uj.call(this);if(!1===this.isEnabled()||!1===this.wf())this.OJ=null,this.DF=!1,this.LLa.Ka(!1),this.n_a.Ka(!1),this.Omc.Ka(!1),this.Xoc.Ka(!1)};return b}();
_geo.geotoolkit.controls.ia.Jo.HYa=function(){function b(a){this.Gb=a;this.Ux=this.HU=null;this.Gb=a;this.OJ=null;this.DF=!1;this.nj=null;this.zF=-1;a={pointermove:this.Wd.bind(this),pointerdown:this.xf.bind(this),pointerup:[{callback:this.Ae.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:_geo.geotoolkit.window,enabled:!1}],keydown:{callback:this.BI.bind(this),object:_geo.geotoolkit.window,enabled:!0},keyup:{callback:this.TS.bind(this),object:_geo.geotoolkit.window,enabled:!0},
"cg-leave":function(a){this.OJ=null}.bind(this)};_geo.geotoolkit.controls.ia.fc.call(this,a,"RowHandler");this.WNa=(new _geo.geotoolkit.scene.shapes.lc).ua({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ta({color:"rgba(236,243,255, 0.5)"}).Ka(!1);this.y2a=(new _geo.geotoolkit.scene.Group).Ad(!0).Ka(!1).pe(new _geo.geotoolkit.ea.ol).va([this.mqc=(new _geo.geotoolkit.scene.Group).pb({left:0,top:1,right:0,height:2}).ua({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ta({color:"#4285F4"}).Ka(!1),this.fkc=(new _geo.geotoolkit.scene.Group).pb({left:0,
bottom:1,right:0,height:2}).ua({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ta({color:"#4285F4"}).Ka(!1)]);this.Gb.va([this.WNa,this.y2a])}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.tableview.RowHandler");b.$={onStart:"onStart",jGa:"onHover",Cl:"onMove",Yn:"onScroll"};b.prototype.Yq=function(a){this.Yu("pointerup",a,_geo.geotoolkit.window);return this};b.prototype.start=function(){this.Yq(!0);return _geo.geotoolkit.controls.ia.fc.prototype.start.call(this)};
b.prototype.stop=function(){this.Yq(!1);_geo.geotoolkit.controls.ia.fc.UW(this);return _geo.geotoolkit.controls.ia.fc.prototype.stop.call(this)};b.prototype.BI=function(a){if(null!=this.OJ&&!0!==this.DF&&!0===a.th().ctrlKey){var b=this.Qe(this.Gb,this.OJ),b=this.Gb.TJc(b.getX(),b.getY());0===b.getX()&&0<=b.getY()&&(_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"move"}),this.DF=!0)}};b.prototype.TS=function(a){if(!this.wf()&&!1!==this.DF){var b=a.th();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.DF=
!1,_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"inherit"})}};b.prototype.xf=function(a){if(!0===this.DF){var b=this.Qe(this.Gb,a),b=this.Gb.TJc(b.getX(),b.getY());0===b.getX()&&0<=b.getY()&&(this.start(),_geo.geotoolkit.controls.ia.fc.Mi(a.ii(),this),this.nLa=b.getY(),b=this.TDc(this.nLa),this.WNa.Ea(b).Ka(!0).Td(null),this.y2a.Ea(this.WNa.ga().clone()).Ka(!0),this.UBa=this.FU=this.Qe(this.Gb,a))}};b.prototype.Lbb=function(){null==this.t8&&(this.t8=(new _geo.geotoolkit.util.q1(300,function(){this.t8.stop();
this.t8=null;null!=this.OJ&&this.Wd(this.OJ)}.bind(this))).start())};b.prototype.Wd=function(a){this.OJ=a;if(this.wf()){_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:"move"});a.stopPropagation(!0,!0);var g=this.Qe(this.Gb,a),d=this.WNa.ga().clone();d.setY(d.qa()+g.getY()-this.FU.getY());var e=this.Gb.KI(d.getX(),d.qa()),c=this.Gb.KI(d.getX(),d.wa()),f=this.Gb.g_();0<g.getY()-this.FU.getY()?c.getY()>=f.wa()-1&&null==this.t8&&(this.Lbb(),this.Gb.jMc(c.getY()+1,!0),this.fireEvent(b.$.Yn,null)):
e.getY()<f.qa()&&null==this.t8&&(this.Lbb(),this.Gb.jMc(e.getY(),!1),this.fireEvent(b.$.Yn,null));g=this.Qe(this.Gb,a);e=this.Gb.KI(g);this.mqc.Ka(e.getY()<this.nLa);this.fkc.Ka(e.getY()>this.nLa);this.y2a.Ka(0<=e.getY());c=-1!==e.getY()&&e.getY()!==this.nLa?"move":"not-allowed";_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:c});a=this.TDc(e.getY());this.y2a.Ea(a).ma();a=this.Gb.uK().ga();a.qa()<=d.qa()&&a.wa()>=d.wa()&&(this.WNa.Ea(d).ma(),this.FU=g)}else this.OJ=a};b.prototype.TDc=function(a){var b=
this.Gb.Tka(a,0);if(null==b)return null;a=new _geo.geotoolkit.util.na(b.getX(),b.getY());b=new _geo.geotoolkit.util.na(b.za(),b.wa());this.Gb.uK().Wx.Ya().cb(a,a);this.Gb.Ya().Ue(a,a);this.Gb.uK().Wx.Ya().cb(b,b);this.Gb.Ya().Ue(b,b);return new _geo.geotoolkit.util.Rect(this.Gb.xa().sa(),a.y,this.Gb.xa().za()-1,b.y)};b.prototype.Ae=function(a){this.wf()&&(a.stopPropagation(),this.stop(),a=this.Qe(this.Gb,a),a=this.Gb.KI(a.getX(),a.getY()).getY(),-1!==a&&a!==this.nLa&&this.fireEvent(b.$.Cl,{from:this.nLa,
to:a}))};b.prototype.uj=function(){_geo.geotoolkit.controls.ia.fc.prototype.uj.call(this);if(!1===this.isEnabled()||!1===this.wf())this.OJ=null,this.DF=!1,this.WNa.Ka(!1),this.y2a.Ka(!1),this.mqc.Ka(!1),this.fkc.Ka(!1)};return b}();
_geo.geotoolkit.controls.ia.rSc.L1c=function(){function b(a){a=_geo.geotoolkit.Ca(a,{group:void 0,name:"level-manipulator",chart:void 0,callback:null},!0);this.DF=!1;this.i_a=null!=a.chart?a.chart:null;if(null==this.i_a)throw Error("value of chart is null");this.bp=a.callback;this.gt=0;this.alb=[];this.i_a.Lod(!0);var b={mousedown:this.xf.bind(this),keydown:{callback:this.BI.bind(this),object:_geo.geotoolkit.window,enabled:!0},keyup:{callback:this.TS.bind(this),object:_geo.geotoolkit.window,enabled:!0}};
a={slots:b,name:a.name,layer:a.group};_geo.geotoolkit.controls.ia.fc.call(this,a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.treemap.TreemapLevelTool");b.prototype.xf=function(a){this.isEnabled()&&(a=this.Qe(null,a),a=this.i_a.Un(a),0<a.length&&(this.DF?(this.i_a.Hyb(a[0].id,!0),this.bp&&0<this.gt?(this.alb.pop(),a={list:this.alb,action:"removed"},this.bp.call(this,a),--this.gt):0<this.gt&&--this.gt):1<=a[0].children&&(this.i_a.Hyb(a[0].id,
!1),this.gt+=1,this.alb.push(a[0].name),this.bp&&(a={list:this.alb,action:"added"},this.bp.call(this,a)))))};b.prototype.BI=function(a){!0!==this.DF&&!0===a.th().ctrlKey&&(this.DF=!0)};b.prototype.TS=function(){!this.wf()&&!1!==this.DF&&this.DF&&(this.DF=!1)};return b}();
_geo.geotoolkit.controls.ia.Oaa.gha=function(){function b(a,b){if(a){this.Ux=this.HU=null;this.Pia=a;var d={};b&&(d.fillstyle=b.fillstyle,d.linestyle=b.linestyle);d.linestyle=d.linestyle?d.linestyle:new _geo.geotoolkit.attributes.Aa;this.MY=(new _geo.geotoolkit.scene.shapes.lc(0,0,0,0)).ja(d);d={pointermove:this.Wd.bind(this),"cg-enter":function(a){this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.bva,a)},"cg-leave":function(a){this.fireEvent(_geo.geotoolkit.controls.ia.fc.$.M4,a);this.MY.ma();this.MY.Ea(0,
0,0,0)}.bind(this)};a.getParent()&&a.getParent().va(this.MY);_geo.geotoolkit.controls.ia.fc.call(this,d,"Highlight")}}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.HeatMap.Highlight");b.prototype.Wd=function(a){this.Pia.getParent()!==this.MY.getParent()&&this.Pia.getParent().va(this.MY);if(this.Pia.etb()===_geo.geotoolkit.controls.shapes.Oaa.dv.tH&&this.Pia.grb()===_geo.geotoolkit.controls.shapes.Oaa.dv.tH){var b=a.jm();a=this.Pia.xa().sa();var d=
this.Pia.xa().qa(),e=this.Pia.xsb().offsetx,c=this.Pia.xsb().offsety;if(b=this.Pia.Un(b)){this.MY.ma();var f=b.getX(),b=b.getY();this.MY.Ea(f+a-e,b+a-c,f+a-e+1,b+d-c+1)}}};return b}();_geo.geotoolkit.controls.ia.JD.m6=function(){function b(a,b,d){_geo.geotoolkit.controls.ia.ev.call(this,a);this.o3c=b;this.u2c=d}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);b.prototype.getDelta=function(){return this.o3c};b.prototype.kWb=function(){return this.u2c};return b}();
_geo.geotoolkit.controls.ia.JD.CC=function(){function b(b){var e={pointerdown:this.xf.bind(this),pointermove:[{callback:this.Wd.bind(this),object:null},{callback:this.Wd.bind(this),object:_geo.geotoolkit.window,enabled:!1}],pointerup:[{callback:this.Ae.bind(this),object:null},{callback:this.Ae.bind(this),object:_geo.geotoolkit.window,enabled:!1}]};_geo.geotoolkit.controls.ia.fc.call(this,e,"horizontal-splitter");this.Qb=b;this.Eh=new _geo.geotoolkit.selection.am;this.ow=null;this.Im=(new a(0,0,0,
0)).Ka(!1).ua((new _geo.geotoolkit.attributes.Aa("#444",1)).Yd({x:!0,y:!0})).ta(new _geo.geotoolkit.attributes.Fa("rgba(160,160,160, 0.5)")).xe("containersplitter");this.Jd=new _geo.geotoolkit.util.na(0,0);this.Af=new _geo.geotoolkit.util.na(0,0);this.Jj=new _geo.geotoolkit.util.na(0,0);this.mBa=[];this.Qb.va(this.Im);this.Rd=_geo.geotoolkit.util.Mb.ic}var a=function(){function a(b,c,d,g){_geo.geotoolkit.scene.shapes.lc.call(this,b,c,d,g);this.PU=new _geo.geotoolkit.util.xc(1,1)}_geo.geotoolkit.fa(a,
_geo.geotoolkit.scene.shapes.lc);_geo.geotoolkit.da(a,"geotoolkit.controls.tools.splitter.HorizontalSplitter-HorizontalSplitterHandle");a.prototype.ga=function(){if(null==this.getParent())return null;var a=this.getParent().Nb(),b=this.Ya();this.PU.setSize(1,1);null!=b&&b.xk(this.PU,this.PU);return _geo.geotoolkit.scene.shapes.lc.prototype.ga.call(this).setX(a.getX()).qb(a.aa()-this.PU.aa())};return a}(),g=10;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.splitter.HorizontalSplitter");
b.$={lma:"onPlotSizeChanged"};b.prototype.setOrientation=function(a){this.Rd=a};b.prototype.ena=function(a){this.mBa=[];for(var b=0;b<a.length;b++)a[b]&&this.mBa.push(a[b]);return this};b.prototype.start=function(a){this.Jd=this.Qe(this.Qb,a);a.stopPropagation();this.setActive(!0);_geo.geotoolkit.controls.ia.fc.Mi(a.ii(),this);this.Yq(!0);return this};b.prototype.stop=function(){this.Im.Ka(!1);this.setActive(!1);_geo.geotoolkit.controls.ia.fc.UW(this);this.ow=null;this.Im.Td(null);return this};b.prototype.ufd=
function(a,b){function c(a,c,d,g){d=null!=d?d:0;g=null!=g?g:c.length-1;if(0<=g)for(var f=g;d<=f;){g=d+f>>1;var k=c[g].ga(),q=k.qa()+b,k=k.wa()-b;if(q<=a&&a<=k)return g;q<a?d=g+1:f=g-1}return~d}for(var g=[],k=0;k<this.mBa.length;k++)this.mBa[k].ib()&&g.push(this.mBa[k]);if(0===g.length)return null;k=c(a,g,0,g.length-1);if(0<=k)return this.mBa[k];if(0>k)if(k=~k,0<k)--k;else return{top:null,bottom:g[0]};return k===g.length-1&&a>g[k].ga().wa()-b?{top:g[k],bottom:null}:{top:g[k],bottom:g[k+1]}};b.prototype.tSb=
function(a){this.Jd=this.Qe(this.Qb,a);if(!this.Qb.Nb().contains(this.Jd))return this.XA(a.ii(),!1),null;var b=2,c=this.Jd.getY(),g=this.ufd(c,b);if(null!=g){if(g instanceof _geo.geotoolkit.scene.Group||null==g.top||null==g.bottom)return this.XA(a.ii(),!1),null;var k=this.Qb.Nb();this.Jj.bb(this.Jd.x,this.Jd.y);if(!1===this.lsa(c,g.top,b)&&!1===this.lsa(c,g.bottom,b))return this.XA(a.ii(),!1),null;this.Im.zb(k.sa(),g.top.ga().wa()-1,k.za()-1,null!=g.bottom?g.bottom.ga().qa():g.top.ga().wa()+1).Ka(!0).ma();
this.XA(a.ii(),!0);a.stopPropagation();return g}return null};b.prototype.lsa=function(a,b,c){c=null!=c?c:2;if(null==b)return!1;b=b.ga();return a<=b.wa()+c&&a>=b.wa()-c||a<=b.qa()+c&&a>=b.qa()-c};b.prototype.XA=function(a,b){b?(_geo.geotoolkit.controls.util.Xp.Bw(a,this.Rd===_geo.geotoolkit.util.Mb.ic?{cursor:"ns-resize"}:{cursor:"ew-resize"}),this.Im.ib()||this.Im.Ka(!0).ma()):(this.Im.ib()&&this.Im.Ka(!1).ma(),_geo.geotoolkit.controls.util.Xp.Bw(a,{cursor:"inherit"}));return this};b.prototype.xf=
function(a){if(void 0===a.th().buttons||1===a.th().buttons)a.th().preventDefault(),this.ow=this.tSb(a),null!=this.ow&&this.start(a)};b.prototype.Wd=function(a){if(this.wf()&&(a.stopPropagation(),this.Dda(this.Qe(this.Qb,a)))){this.XA(a.ii(),!0);return}this.tSb(a)};b.prototype.Dda=function(a){this.Af=a;if(null!=this.ow&&null!=this.ow.top){if(this.ow.top.ga().ba()+(this.Af.getY()-this.Jd.getY())<g||this.ow.bottom.ga().ba()-(this.Af.getY()-this.Jd.getY())<g)return!0;this.Im.translate(0,this.Af.y-this.Jj.y);
this.Jj.bb(this.Af.x,this.Af.y);return!0}return!1};b.prototype.Ae=function(a){this.wf()&&(a.stopPropagation(),this.m8c(a.ii(),a,!1),this.Yq(!1))};b.prototype.m8c=function(a,e,c){if(this.wf()){if(null!=this.ow){c=this.Jj.getY()-this.Jd.getY();var g={};if(null==this.ow.top){var k=+this.ow.bottom.Sc().getStyle().top;this.ow.bottom.pb({top:(k+c).toString()});g.bottom=this.ow.bottom}else if(null==this.ow.bottom)k=+this.ow.top.Sc().getStyle().bottom,this.ow.top.pb({bottom:(k-c).toString()}),g.top=this.ow.top;
else{var k=this.ow.top.Sc().getStyle().height,h=this.ow.top.Sc().getStyle().bottom,l=this.ow.bottom.Sc().getStyle().height,n=this.ow.bottom.Sc().getStyle().top;null!=k&&(this.ow.top.pb({height:(+k+c).toString()}),g.top=this.ow.top);null!=h&&(this.ow.top.pb({bottom:(+h-c).toString()}),g.top=this.ow.top);null!=l&&(this.ow.bottom.pb({height:(+l-c).toString()}),g.bottom=this.ow.bottom);null!=n&&(this.ow.bottom.pb({top:(+n+c).toString()}),g.bottom=this.ow.bottom)}e=new _geo.geotoolkit.controls.ia.JD.m6(e,
c,g);this.fireEvent(b.$.lma,e)}this.XA(a,!1);this.stop()}};b.prototype.Yq=function(a){this.Yu("pointermove",a,_geo.geotoolkit.window);this.Yu("pointerup",a,_geo.geotoolkit.window);return this};return b}();_geo.geotoolkit.controls.ia.scroll.Qy=function(){function b(a,b){_geo.geotoolkit.controls.ia.ev.call(this,a);this.Hi=b}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.ev);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.ScrollEventArgs");b.prototype.Nb=function(){return this.Hi};return b}();
_geo.geotoolkit.controls.ia.scroll.hg=function(){function b(a){_geo.geotoolkit.scene.Group.call(this);this.pe(new _geo.geotoolkit.ea.ol).Ad(!0);this.YC=1;var b={pointerdown:this.xf.bind(this),pointermove:[{callback:this.Wd.bind(this),object:null},{callback:this.i$.bind(this),object:_geo.geotoolkit.window,enabled:!1}],pointerup:[{callback:this.u_.bind(this),object:_geo.geotoolkit.window.document,enabled:!1}],dblclick:[{callback:this.ks.bind(this),object:null}],"cg-leave":function(a){!1===this.Eu.wf()&&
1!==this.Uea()&&null!=this.jd&&(_geo.geotoolkit.controls.ia.scroll.hg.T$a(),this.jd=null)}.bind(this)};this.Eu=new _geo.geotoolkit.controls.ia.fc(b,a.name)}var a=function(){function a(b,d){this.from=b;this.fh=d}a.prototype.Ap=function(){return this.from};a.prototype.Pq=function(){return this.fh};a.prototype.transform=function(a){null!=a&&(a.cb(this.fh,this.fh),a.cb(this.from,this.from));return this};a.prototype.getLength=function(){return _geo.geotoolkit.util.na.Cj(this.from,this.fh)};a.prototype.fe=
function(a,b){var d=this.getLength(),e=a===this.fh?this.from:this.fh,g=a===this.fh?this.fh:this.from,n=(g.x-e.x)/d*b+g.x,d=(g.y-e.y)/d*b+g.y;a===this.from?this.from.bb(n,d):this.fh.bb(n,d);return this};return a}(),g=function(){function a(){this.nw=new _geo.geotoolkit.util.ZN;this.hda=null;this.cCa=!1}a.prototype.uqd=function(){!0!==this.cCa&&(this.cCa=!0,null!=this.hda&&this.hda.stop(),this.hda=null);return this};a.prototype.Ynd=function(){!1!==this.cCa&&(this.cCa=!1,this.start());return this};a.prototype.start=
function(){this.cCa||null!=this.hda||this.nw.isEmpty()||(this.hda=new _geo.geotoolkit.util.q1(100,function(){this.p8c()}.bind(this)),this.hda.start())};a.prototype.Tnd=function(a,b){this.nw.put(a,b);this.start()};a.prototype.p8c=function(){this.hda.stop();if(this.cCa)return this.hda=null,this;var a=this.nw.clone();this.nw.clear();a.C5a(function(a,b){b.call(a)});this.nw.isEmpty()?this.hda=null:this.cCa||this.hda.start();return this};a.prototype.Avd=function(a){this.nw.OB(a)&&this.nw.remove(a);return this};
return a}(),d=new g;_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.AbstractScroll");b.prototype.Yq=function(a){this.Eu.Yu("pointermove",a,_geo.geotoolkit.window);this.Eu.Yu("pointerup",a,_geo.geotoolkit.window.document)};b.$={g$:"onActivate",Wkd:"onScrollStart",Vkd:"onScaleStart",Yn:"onScroll",N9a:"onScale",tt:"onScrollEnd",O9a:"onScaleEnd",mma:"onRangeChanged"};b.prototype.Ja=function(a,b,d){_geo.geotoolkit.scene.Group.prototype.Ja.call(this,
a,b,d);null!=this.Eu&&this.Eu.fireEvent(a,b)};b.prototype.xf=_geo.geotoolkit.Ia;b.prototype.Wd=_geo.geotoolkit.Ia;b.prototype.Ae=_geo.geotoolkit.Ia;b.prototype.ks=function(a){var b=this.ld().qG(a),d=a.jm(),b=b?this.WF:this.wB;!0===this.HZ().fe(b,b).contains(d)&&a.stopPropagation()};b.prototype.i$=_geo.geotoolkit.Ia;b.prototype.u_=function(a){_geo.geotoolkit.controls.ia.scroll.hg.T$a()};b.prototype.ld=function(){return this.Eu};b.prototype.addListener=function(a,b){var d=function(a,d){b.call(this,
this,d)}.bind(this);this.ld().addListener(a,d);return this};b.prototype.ugd=function(b,c){return new a(b,c)};b.$yb=function(){d.uqd()};b.T$a=function(){d.Ynd()};b.prototype.render=function(a){if(a.Gd())_geo.geotoolkit.scene.Group.prototype.render.call(this,a);else{var b=1,d=null;1>this.YC&&(d=a.Lk(),null!=d&&(b=a.Lk().globalAlpha,a.save(),a.Lk().globalAlpha=this.YC));_geo.geotoolkit.scene.Group.prototype.render.call(this,a);1>this.YC&&null!=d&&(a.Lk().globalAlpha=b,a.restore())}};b.prototype.oQ=function(a){this.U$(a?
.5:1);return this};b.prototype.N6a=function(){return 1!==this.YC};b.prototype.Uea=function(){return this.YC};b.prototype.U$=function(a){if(this.YC===a)return this;this.YC=a;this.ma();0<this.YC&&1>this.YC&&d.Tnd(this,function(){if(0<=this.Uea()){var a=this.Uea()-.05;this.U$(0<a?a:0)}}.bind(this));return this};b.prototype.Sa=function(a,b,d,g){1!==this.YC&&!1!==g&&(a=this.MV(),b=this.SV(),a.M8(b,_geo.geotoolkit.util.Math.Jc)?this.U$(0):this.U$(.5));return this};b.prototype.ka=function(){var a=_geo.geotoolkit.scene.Vp.prototype.ka.call(this);
null!=this.Sc()&&(a.layoutstyle=this.Sc());null!=this.sb()&&(a.backgroundfillstyle=this.sb());a.floating=this.N6a();return _geo.geotoolkit.Ca(a,this.jb())};b.prototype.ja=function(a){if(null==a)return this;_geo.geotoolkit.scene.Group.prototype.ja.call(this,a);a.hasOwnProperty("layoutstyle")&&this.pb(_geo.geotoolkit.ea.Ag.ab(a.layoutstyle));a.hasOwnProperty("backgroundfillstyle")&&this.ta(a.backgroundfillstyle);a.hasOwnProperty("floating")&&this.oQ(a.floating);this.setOptions(a);return this};b.prototype.setOptions=
_geo.geotoolkit.rC;b.prototype.jb=_geo.geotoolkit.rC;b.prototype.eEa=function(){return 15};b.prototype.dispose=function(){this.Eu.dispose();this.Eu=null;_geo.geotoolkit.scene.Group.prototype.dispose.call(this)};return b}();
_geo.geotoolkit.controls.ia.scroll.pJa=function(){function b(a){a=_geo.geotoolkit.Ca(a,{modellimits:a.modellimits instanceof _geo.geotoolkit.util.Rect?a.modellimits:new _geo.geotoolkit.util.Rect(0,0,1,1),visiblelimits:a.visiblelimits instanceof _geo.geotoolkit.util.Rect?a.visiblelimits:new _geo.geotoolkit.util.Rect(0,0,1,1),size:g,name:"VerticalScroll",minimumcarretsize:20,rounded:!1});this.QC=a.isVertical;_geo.geotoolkit.controls.ia.scroll.hg.call(this,a);this.kA=this.SJ=null;null!=a.target&&(a.modellimits=
a.target.xa(),a.visiblelimits=a.target.Nb(),this.fu(a.target));var b=a.size;this.QC?(a.modellimits=a.modellimits.clone().setX(0).qb(b),a.visiblelimits=a.visiblelimits.clone().setX(0).qb(1)):(a.modellimits=a.modellimits.clone().setY(0).Db(b),a.visiblelimits=a.visiblelimits.clone().setY(0).Db(1));this.Q7=a.minimumcarretsize;this.VNa=a.rounded;this.WF=5;this.wB=2;this.yb(a.name);var p=null==a.minscrollbutton||!1!==a.minscrollbutton.visible,r=null==a.maxscrollbutton||!1!==a.maxscrollbutton.visible;this.va([this.eV=
(new _geo.geotoolkit.scene.Group).yb("scrollbar-button-min").xe("scrollbar-button").Ka(p).Ad(!1).Sa(h).va([(new _geo.geotoolkit.scene.shapes.uq).xe("scrollbar-button-border").kk(!1).ua(d.clone()).ta(e.clone()),this.fNb=(new _geo.geotoolkit.scene.shapes.Path).xe("scrollbar-button-icon").kk(!0).ua(k.clone())]),this.i7=(new _geo.geotoolkit.scene.Group).yb("scrollbar-button-max").xe("scrollbar-button").Ka(r).Ad(!1).Sa(h).va([(new _geo.geotoolkit.scene.shapes.uq).xe("scrollbar-button-border").kk(!1).ua(d.clone()).ta(e.clone()),
this.SGb=(new _geo.geotoolkit.scene.shapes.Path).xe("scrollbar-button-icon").kk(!0).ua(k.clone())]),this.iA=(new _geo.geotoolkit.scene.Group).Sa(a.modellimits).va([(new _geo.geotoolkit.scene.shapes.uq).kk(!1).ua((new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0})).ta(e.clone()),this.Vr=(new _geo.geotoolkit.scene.Group).Sa(a.modellimits).Ea(a.visiblelimits).va([this.lMb=(new _geo.geotoolkit.scene.shapes.uq).kk(!1).ua(f.clone()).ta(c.clone()).Ka(!this.VNa),this.Aja=(new _geo.geotoolkit.scene.shapes.lc).kk(!1).ua(f.clone()).ta(c.clone()).Ka(this.VNa)]),
this.AOa=(new _geo.geotoolkit.scene.Group).Ka(!1).Ea(a.visiblelimits).va([(new _geo.geotoolkit.scene.shapes.uq).ua({color:"red"})])])]);this.uJ=!1;this.Eh=new _geo.geotoolkit.selection.am;this.jd=null;this.Jd=new _geo.geotoolkit.util.na(0,0);this.Af=new _geo.geotoolkit.util.na(0,0);this.AB=this.Ux=this.HU=null;this.frd(g).setSize(b)}var a=_geo.geotoolkit.controls.ia.scroll.hg,g=15,d=(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),e=new _geo.geotoolkit.attributes.Fa("#f1f1f1"),c=
new _geo.geotoolkit.attributes.Fa("#bcbcbc"),f=new _geo.geotoolkit.attributes.Aa("#a8a8a8"),k=new _geo.geotoolkit.attributes.Aa({color:"#4a4a4a",linejoin:_geo.geotoolkit.attributes.Aa.bO.Zaa}),h=new _geo.geotoolkit.util.Rect(0,0,g,g);_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.hg);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.HVBaseScroll");b.prototype.nQ=function(a){this.QC?this.mk(a):this.Nv(a);return this};b.prototype.frd=function(a){var b=3;a=a-b-1;var c=(a+b)/2;this.fNb.clear();
this.SGb.clear();this.QC?(this.fNb.moveTo(b,9).lineTo(c,5).lineTo(a,9),this.SGb.moveTo(b,4).lineTo(c,8).lineTo(a,4)):(this.fNb.moveTo(9,b).lineTo(5,c).lineTo(9,a),this.SGb.moveTo(4,b).lineTo(8,c).lineTo(4,a));return this};b.prototype.setSize=function(a){if(null==a||a===this.Gc)return this;this.Gc=a;this.QC?(this.pb({width:a}),this.iA.pb({top:a,left:0,right:0,bottom:a}),this.eV.pb({top:0,left:0,right:0,height:a}),this.i7.pb({height:a,left:0,right:0,bottom:0})):(this.pb({height:a}),this.iA.pb({left:a,
top:0,bottom:0,right:a}),this.eV.pb({top:0,left:0,bottom:0,width:a}),this.i7.pb({width:a,top:0,right:0,bottom:0}));return this};b.prototype.fu=function(a){if(null==a||!(a instanceof _geo.geotoolkit.scene.CompositeNode))return this;null!=this.kA&&(this.removeListener("onScrollEnd",this.SJ),this.removeListener("onScroll",this.SJ));this.kA=a;var b=this.QC?this.kA.Cr():this.kA.MA();this.Sa(this.kA.xa(),this.kA.Nb(),this.kA instanceof _geo.geotoolkit.scene.Group?b:!1);this.SJ=function(c,d){if(null!=a){var e=
a.Nb(),g=d.Nb();this.QC?(e=(e.qa()-g.qa())*a.Ya().Pb(),this.kA.translate(0,e)):(e=(e.sa()-g.sa())*a.Ya().Ab(),this.kA.translate(e,0));this.Sa(this.kA.xa(),this.kA.Nb(),this.kA instanceof _geo.geotoolkit.scene.Group?b:!1);d.stopPropagation(!0,!0)}}.bind(this);this.addListener(_geo.geotoolkit.controls.ia.scroll.hg.$.tt,this.SJ);this.addListener(_geo.geotoolkit.controls.ia.scroll.hg.$.Yn,this.SJ);return this};b.prototype.scrollTo=function(b,c){var d=this.iA.xa();this.QC?(b.qa()<d.qa()&&b.setY(d.getY()),
b.wa()>d.wa()&&b.setY(d.wa()-b.ba())):(b.sa()<d.sa()&&b.setX(d.getX()),b.za()>d.za()&&b.setX(d.za()-b.aa()));this.Ja(a.$.g$,new _geo.geotoolkit.controls.ia.scroll.Qy(c,null));this.Ja(a.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(c,b));this.Ja(a.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(c,b));this.Sa(d,b)};b.prototype.MV=function(){return this.QC?new _geo.geotoolkit.util.Range(this.iA.xa().qa(),this.iA.xa().wa()):new _geo.geotoolkit.util.Range(this.iA.xa().sa(),this.iA.xa().za())};b.prototype.SV=
function(){return this.QC?new _geo.geotoolkit.util.Range(this.AOa.ga().qa(),this.AOa.ga().wa()):new _geo.geotoolkit.util.Range(this.AOa.ga().sa(),this.AOa.ga().za())};b.prototype.grd=function(){var a=_geo.geotoolkit.util.Ec.Ok(this.Vr.ga().aa(),0,this.iA.Ya()),b=_geo.geotoolkit.util.Ec.Ok(0,this.Vr.ga().ba(),this.iA.Ya()),c=this.Vr.xa().clone().qb(a).Db(b);this.Vr.Sa(c);this.QC?(this.Aja.YK(a/2),a=_geo.geotoolkit.util.Ec.oc(1,0,this.Aja.Ya()),this.Aja.Ea(this.Vr.xa().clone().qb(this.Vr.xa().aa()-
a))):(this.Aja.YK(b/2),a=_geo.geotoolkit.util.Ec.oc(0,1,this.Aja.Ya()),this.Aja.Ea(this.Vr.xa().clone().Db(this.Vr.xa().ba()-a)))};b.prototype.Sa=function(a,b,c,d){null!=c&&this.nQ(c);this.QC?(a=a.clone().setX(0).qb(1),b=b.clone().setX(0).qb(1)):(a=a.clone().setY(0).Db(1),b=b.clone().setY(0).Db(1));if(this.iA.xa().Pj(a)&&this.Vr.ga().Pj(b))return this;this.iA.Sa(a);this.Vr.Ea(b);this.Vr.Sa(a);this.Vr.Ka(this.QC?!1===_geo.geotoolkit.util.Math.equals(a.ba(),b.ba()):!1===_geo.geotoolkit.util.Math.equals(a.aa(),
b.aa()));this.AOa.Ea(b);var e=this.ugd(this.Vr.ga().yV(_geo.geotoolkit.util.Da.Gg),this.Vr.ga().yV(this.QC?_geo.geotoolkit.util.Da.Ij:_geo.geotoolkit.util.Da.Ck)).transform(this.iA.Ya()),g=e.getLength();if(0<g&&g<this.Q7){var f;this.QC?(f=Math.abs(b.Qc()-a.Qc())/(.5*a.ba()),g=(this.Q7-g)/2-(this.Q7-g)/2*f,b.Qc()<a.Qc()?e.fe(e.Pq(),this.Q7-g-e.getLength()).fe(e.Ap(),g):e.fe(e.Ap(),this.Q7-g-e.getLength()).fe(e.Pq(),g),e.transform(this.iA.Ya().Vd()),e=this.Vr.ga().clone().setY(e.Ap().getY()).Db(e.getLength())):
(f=Math.abs(b.Pc()-a.Pc())/(.5*a.aa()),g=(this.Q7-g)/2-(this.Q7-g)/2*f,b.Pc()<a.Pc()?e.fe(e.Pq(),this.Q7-g-e.getLength()).fe(e.Ap(),g):e.fe(e.Ap(),this.Q7-g-e.getLength()).fe(e.Pq(),g),e.transform(this.iA.Ya().Vd()),e=this.Vr.ga().clone().setX(e.Ap().getX()).qb(e.getLength()));this.Vr.Ea(e)}this.grd();_geo.geotoolkit.controls.ia.scroll.hg.prototype.Sa.call(this,a,b,c,d);return this};b.prototype.iuc=function(a,b){var c=a.jm();b.bb(c.x,c.y);return this.iA.Ya().je(b,b)};b.prototype.lQ=function(a,b){var c=
a.jm(),d=this.ld().qG(a),d=d?this.WF:this.wB;if(!1===this.HZ().fe(d,d).contains(c))return null;c=this.Eh.select(this.getRoot(),c.x,c.y,2);return c.filter(function(a){return a===this.eV||a===this.i7||a===this.Vr||a===this.Vr.getParent()}.bind(this)).reverse()[0]};b.prototype.Wd=function(b){if(this.ld())if(this.ld().wf()&&null!=this.jd)!1===this.uJ&&(this.Ja(a.$.g$,new _geo.geotoolkit.controls.ia.scroll.Qy(b,null)),this.uJ=!0),b.stopPropagation(!0,!1);else if(1!==this.Uea()){var c=this.lQ(b,!0);if(null==
c)null!=this.jd&&_geo.geotoolkit.controls.ia.scroll.hg.T$a(),this.jd=null;else{_geo.geotoolkit.controls.util.Xp.Bw(b.ii(),{cursor:"inherit"});var d=this.MV(),e=this.SV();!1===d.M8(e)&&(this.jd=c,_geo.geotoolkit.controls.ia.scroll.hg.$yb(),this.U$(.7),b.stopPropagation(!0,!0))}}};b.prototype.u_=function(b){this.ld()&&(null==this.lQ(b,!0)&&a.prototype.u_.call(this),this.Ae(b))};b.prototype.xf=function(a){if(this.ld()){var b=this.lQ(a,!0);if(null!=b){a.stopPropagation("touchstart"===a.iD());this.Yq(!0);
this.AB=this.AOa.ga().clone();var c=this.AB.clone();if(b===this.Vr.getParent()){var b=this.Vr.xa(),d=this.Vr.Ya().Ue(a.jm()),e;this.QC?(e=c.ba()/5,e*=this.Cr()?-1:1,d.y<b.qa()?c.setY(c.getY()-e):d.y>b.wa()&&c.setY(c.getY()+e)):(e=c.aa()/5,e*=this.MA()?-1:1,d.x<b.sa()?c.setX(c.getX()-e):d.x>b.za()&&c.setX(c.getX()+e));this.scrollTo(c,a)}else b===this.eV||b===this.i7?(b===this.eV?this.QC?c.setY(c.getY()-c.ba()/10):c.setX(c.getX()-c.aa()/10):this.QC?c.setY(c.getY()+c.ba()/10):c.setX(c.getX()+c.aa()/
10),this.scrollTo(c,a)):(this.jd=b,_geo.geotoolkit.controls.ia.scroll.hg.$yb(),this.ld().start(),_geo.geotoolkit.controls.ia.fc.Mi(a.ii(),this.ld()),this.uJ=!1,this.Jd=this.iuc(a,this.Jd))}}};b.prototype.i$=function(b){if(this.ld()&&this.ld().wf()&&null!=this.jd){var c=b.th();c.stopPropagation(!0,!0);c.preventDefault();var d=this.iA.xa(),e=this.AB.clone();this.Af=this.iuc(b,this.Af);this.jd===this.Vr&&(this.QC?(e.setY(e.getY()-(this.Jd.getY()-this.Af.getY())),e.qa()<d.qa()&&e.setY(d.getY()),e.wa()>
d.wa()&&e.setY(d.wa()-e.ba())):(e.setX(e.getX()-(this.Jd.getX()-this.Af.getX())),e.sa()<d.sa()&&e.setX(d.getX()),e.za()>d.za()&&e.setX(d.za()-e.aa())),this.Ja(a.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(c,e)))}};b.prototype.Ae=function(b){if(this.ld()){this.ld().wf()&&null!=b&&b.stopPropagation(!0,!1);this.uJ=!1;this.Yq(!1);var c=this.iA.xa(),d=this.AB.clone();this.QC?(d.qa()<c.qa()&&d.setY(c.getY()),d.wa()>c.wa()&&d.setY(c.wa()-d.ba())):(d.sa()<c.sa()&&d.setX(c.getX()),d.za()>c.za()&&d.setX(c.za()-
d.aa()));this.ld().stop();_geo.geotoolkit.controls.ia.fc.UW(this.ld());this.Af=this.ld().Qe(this.iA,b);null!=this.jd&&(this.jd===this.Vr&&(this.QC?(d.setY(d.getY()-(this.Jd.getY()-this.Af.getY())),d.qa()<c.qa()&&d.setY(c.getY()),d.wa()>c.wa()&&d.setY(c.wa()-d.ba())):(d.setX(d.getX()-(this.Jd.getX()-this.Af.getX())),d.sa()<c.sa()&&d.setX(c.getX()),d.za()>c.za()&&d.setX(c.za()-d.aa())),this.Ja(a.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(b,d))),this.jd=null);this.AB=null}};b.prototype.jb=function(){var a=
{};a.size=this.Gc;a.minimumcarretsize=this.Q7;a.rounded=this.VNa;null!=this.ld()&&(a.name=this.ld().getName());a.borderlinestyle=this.eV.vc(0).Xa();a.linestyle=this.iA.vc(0).Xa();a.fillstyle=this.iA.vc(0).sb();a.caretfillstyle=this.Vr.vc(0).sb();a.caretlinestyle=this.Vr.vc(0).Xa();a.arrowlinestyle=this.eV.vc(1).Xa();return a};b.prototype.setOptions=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);a.hasOwnProperty("size")&&(this.Gc=a.size,this.setSize(a.size));if(a.hasOwnProperty("minscrollbutton")){var b=
a.minscrollbutton;b.hasOwnProperty("visible")&&this.eV.Ka(b.visible);this.iA.pb(this.QC?{top:this.eV.ib()?this.Gc:0}:{left:this.eV.ib()?this.Gc:0})}a.hasOwnProperty("maxscrollbutton")&&(b=a.maxscrollbutton,b.hasOwnProperty("visible")&&this.i7.Ka(b.visible),this.iA.pb(this.QC?{bottom:this.i7.ib()?this.Gc:0}:{right:this.i7.ib()?this.Gc:0}));a.hasOwnProperty("minimumcarretsize")&&(this.Q7=a.minimumcarretsize);a.hasOwnProperty("rounded")&&(this.VNa=a.rounded,this.lMb.Ka(!1===this.VNa),this.Aja.Ka(!0===
this.VNa));a.hasOwnProperty("name")&&null!=this.Eu&&this.ld().yb(a.name);a.hasOwnProperty("borderlinestyle")&&(b=_geo.geotoolkit.attributes.Aa.ab(a.borderlinestyle),this.eV.vc(0).ua(b),this.i7.vc(0).ua(b));if(a.hasOwnProperty("fillstyle")||a.hasOwnProperty("backgroundfillstyle"))a.hasOwnProperty("backgroundfillstyle")&&_geo.geotoolkit.warn("options.backgroundfillstyle in VerticalScroll.setProperties() is deprecated since 2.6, use options.fillstyle instead"),b=_geo.geotoolkit.attributes.Fa.ab(a.fillstyle||
a.backgroundfillstyle),this.iA.vc(0).ta(b),this.eV.vc(0).ta(b),this.i7.vc(0).ta(b);if(a.hasOwnProperty("linestyle")||a.hasOwnProperty("backgroundlinestyle"))a.hasOwnProperty("backgroundfillstyle")&&_geo.geotoolkit.warn("options.backgroundlinestyle in VerticalScroll.setProperties() is deprecated since 2.6, use options.linestyle instead"),b=_geo.geotoolkit.attributes.Aa.ab(a.linestyle||a.backgroundlinestyle),this.iA.vc(0).ua(b),this.eV.vc(0).ua(b),this.i7.vc(0).ua(b);a.hasOwnProperty("caretfillstyle")&&
(b=_geo.geotoolkit.attributes.Fa.ab(a.caretfillstyle),this.lMb.ta(b),this.Aja.ta(b));a.hasOwnProperty("caretlinestyle")&&(b=_geo.geotoolkit.attributes.Aa.ab(a.caretlinestyle),this.lMb.ua(b),this.Aja.ua(b));a.hasOwnProperty("arrowlinestyle")&&(a=_geo.geotoolkit.attributes.Aa.ab(a.arrowlinestyle),this.eV.vc(1).ua(a),this.i7.vc(1).ua(a));return this};return b}();
_geo.geotoolkit.controls.ia.scroll.l6=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"HorizontalScroll",isVertical:!1});_geo.geotoolkit.controls.ia.scroll.pJa.call(this,a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.pJa);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.HorizontalScroll");b.$=_geo.geotoolkit.controls.ia.scroll.hg.$;return b}();
_geo.geotoolkit.controls.ia.scroll.tba=function(){function b(a){a=_geo.geotoolkit.Ca(a,{name:"VerticalScroll",isVertical:!0});_geo.geotoolkit.controls.ia.scroll.pJa.call(this,a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.pJa);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.VerticalScroll");b.$=_geo.geotoolkit.controls.ia.scroll.hg.$;return b}();
_geo.geotoolkit.controls.ia.scroll.uIa=function(){function b(a,b,e,c,f){this.Ux=this.HU=null;this.GOa=.05;_geo.geotoolkit.controls.ia.scroll.hg.call(this,{name:null!=f?f:"AdvancedScroll"});var k=a;f=k.clone().setY(0).setX(15).qb(k.aa()-30).Db(k.ba()-15);var h=k.clone().setX(0).setY(k.ba()-15).Db(15),k=h.clone().setY(0).setX(15).qb(k.aa()-30);null==c&&(c=(new _geo.geotoolkit.axis.ng(null!=e?e:new _geo.geotoolkit.axis.Zv)).setOrientation("horizontal").vm("bottom").fT(null));this.Je=c;this.la={axislinestyle:(new _geo.geotoolkit.attributes.Aa("#6b6b6b")).Yd({x:!0,
y:!0}),borderlinestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),buttonborderlinestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),buttonbackgroundfillstyle:new _geo.geotoolkit.attributes.Yp({startColor:"#fafafa",endColor:"#cdcdcd",startPoint:new _geo.geotoolkit.util.na(0,0),endPoint:new _geo.geotoolkit.util.na(0,1)}),topbackgroundfillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1ff"),backgroundfillstyle:new _geo.geotoolkit.attributes.Yp({startColor:"#cdcdcd",
endColor:"#f1f1f1",startPoint:new _geo.geotoolkit.util.na(0,0),endPoint:new _geo.geotoolkit.util.na(0,1)}),toplinelinestyle:(new _geo.geotoolkit.attributes.Aa("#e1e1ff")).Yd({x:!0,y:!0}),caretfillstyle:new _geo.geotoolkit.attributes.Yp({startColor:"#cdcdcd",endColor:"#a0a0a0",startPoint:new _geo.geotoolkit.util.na(0,0),endPoint:new _geo.geotoolkit.util.na(0,1)}),caretlinestyle:(new _geo.geotoolkit.attributes.Aa("#a8a8a8")).Yd({x:!0,y:!0}),arrowlinestyle:(new _geo.geotoolkit.attributes.Aa({color:"#4a4a4a",
linejoin:_geo.geotoolkit.attributes.Aa.bO.Zaa})).Yd({x:!0,y:!0}),handle:{linestyle:(new _geo.geotoolkit.attributes.Aa("gray")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("white"),centerlinestyle:(new _geo.geotoolkit.attributes.Aa("gray")).Yd({x:!0,y:!0}),shadowlinestyle:(new _geo.geotoolkit.attributes.Aa("lightgray")).Yd({x:!0,y:!0})}};e=15;c=4/15*e;var l=e-c-1/15*e,n=l-c+1/15*e;this.Qud=!1;this.va([this.us=(new _geo.geotoolkit.scene.Group).Ea(f).Sa(a).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.axislinestyle).kk(!1).KG({top:!1,
left:!0,right:!0,bottom:!1}),this.Nmc=(new _geo.geotoolkit.scene.Group).Ea(a.clone().qb(b.sa()-a.sa())).Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.toplinelinestyle).ta(this.la.topbackgroundfillstyle).KG({top:!0,left:!1,right:!0,bottom:!1})]),this.Woc=(new _geo.geotoolkit.scene.Group).Ea(a.clone().qb(a.za()-b.za()).setX(b.za())).Sa(new _geo.geotoolkit.util.Rect(0,0,1,1)).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.toplinelinestyle).ta(this.la.topbackgroundfillstyle).KG({top:!0,
left:!0,right:!1,bottom:!1})]),this.E2c=(new _geo.geotoolkit.scene.og).Kd("AXIS_MODEL"),this.Je,this.lNa=(new _geo.geotoolkit.scene.Group).Ea(b).Sa(b).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.borderlinestyle).KG({top:!0,left:!1,right:!1,bottom:!0}).kk(!1),(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.borderlinestyle).KG({top:!1,left:!0,right:!0,bottom:!1}).kk(!1)]),this.vB=(new _geo.geotoolkit.controls.ia.scroll.Jp(new _geo.geotoolkit.util.na(b.sa(),a.Qc()))).Ka(!1),this.QF=(new _geo.geotoolkit.controls.ia.scroll.Jp(new _geo.geotoolkit.util.na(b.za(),
a.Qc()))).Ka(!1)]),this.Z5c=(new _geo.geotoolkit.scene.Group).Ea(h).Ad(!0).va([this.Yia=(new _geo.geotoolkit.scene.Group).Ea(new _geo.geotoolkit.util.Rect(0,0,15,h.ba())).Sa(new _geo.geotoolkit.util.Rect(0,0,15,h.ba())).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.buttonborderlinestyle).ta(this.la.buttonbackgroundfillstyle).kk(!1),(new _geo.geotoolkit.scene.shapes.Path).moveTo(8/15*e,c).lineTo(1/3*e,n).lineTo(8/15*e,l).kk(!1).ua(this.la.arrowlinestyle)]),this.pw=(new _geo.geotoolkit.scene.Group).Ea(k).Sa(a).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.borderlinestyle).ta(this.la.backgroundfillstyle).KG({top:!0,
left:!1,right:!1,bottom:!0}).kk(!1),this.Vr=(new _geo.geotoolkit.scene.Group).Ea(b).Sa(b).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.caretlinestyle).ta(this.la.caretfillstyle).KG({top:!0,left:!0,right:!0,bottom:!0}).kk(!1)])]),this.pra=(new _geo.geotoolkit.scene.Group).Ea(new _geo.geotoolkit.util.Rect(h.za()-15,0,h.za(),h.ba())).Sa(new _geo.geotoolkit.util.Rect(0,0,15,h.ba())).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.buttonborderlinestyle).ta(this.la.buttonbackgroundfillstyle).kk(!1),
(new _geo.geotoolkit.scene.shapes.Path).moveTo(1/3*e,c).lineTo(8/15*e,n).lineTo(1/3*e,l).kk(!1).ua(this.la.arrowlinestyle)])])]);this.uJ=!1;this.Eh=new _geo.geotoolkit.selection.am;this.jd=null;this.Jd=new _geo.geotoolkit.util.na(0,0);this.Af=new _geo.geotoolkit.util.na(0,0);this.AB=null}_geo.geotoolkit.controls.ia.scroll.Jp=function(){function a(b,e){_geo.geotoolkit.scene.Group.call(this);this.fU=b;var c=8,g=14;this.soc=new _geo.geotoolkit.util.Rect(0,0,c,g);this.wnc=new _geo.geotoolkit.util.Rect(0,
0,c,g);this.la={linestyle:(new _geo.geotoolkit.attributes.Aa("gray")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("white"),centerlinestyle:(new _geo.geotoolkit.attributes.Aa("gray")).Yd({x:!0,y:!0}),shadowlinestyle:(new _geo.geotoolkit.attributes.Aa("lightgray")).Yd({x:!0,y:!0})};this.h7=(new _geo.geotoolkit.scene.shapes.Path).moveTo(2,0).lineTo(c-2,0).lineTo(c,2).lineTo(c,g-2).lineTo(c-2,g).lineTo(2,g).lineTo(0,g-2).lineTo(0,2).lineTo(2,0).close().kk(!1).ta(this.la.fillstyle).ua(this.la.linestyle);
this.Xqc=(new _geo.geotoolkit.scene.shapes.Path).moveTo(3,3).lineTo(3,g-3).moveTo(5,3).lineTo(5,g-3).ua(this.la.centerlinestyle);this.vpc=(new _geo.geotoolkit.scene.shapes.Path).moveTo(2,g-1).lineTo(c-2,g-1).moveTo(c-1,g-2).lineTo(c-1,2).ua(this.la.shadowlinestyle);this.va([this.h7,this.Xqc,this.vpc]);this.ja(e)}_geo.geotoolkit.fa(a,_geo.geotoolkit.scene.Group);a.prototype.yc=function(a,b){this.fU.bb(a,b);this.Pa();return this};a.prototype.pj=function(){return this.fU};a.prototype.ga=function(){if(null==
this.getParent())return null;var a=this.getParent().Ya();a.je(this.soc,this.wnc);return this.wnc.Wu(this.fU.getX(),this.fU.getY())};a.prototype.xa=function(){return this.soc};a.prototype.ja=function(a){null!=a&&(this.la=_geo.geotoolkit.Ca(a,this.la),a.hasOwnProperty("linestyle")&&this.h7.ua(this.la.linestyle,!1===this.la.linestyle instanceof _geo.geotoolkit.attributes.Aa),a.hasOwnProperty("fillstyle")&&this.h7.ta(this.la.fillstyle,!1===this.la.fillstyle instanceof _geo.geotoolkit.attributes.Fa),a.hasOwnProperty("centerlinestyle")&&
this.Xqc.ta(this.la.centerlinestyle,!1===this.la.centerlinestyle instanceof _geo.geotoolkit.attributes.Aa),a.hasOwnProperty("shadowlinestyle")&&this.vpc.ta(this.la.shadowlinestyle,!1===this.la.shadowlinestyle instanceof _geo.geotoolkit.attributes.Aa))};return a}();var a=_geo.geotoolkit.controls.ia.scroll.hg;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.hg);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.AdvancedScroll");b.prototype.ja=function(a){return this.setOptions(a)};b.prototype.setOptions=
function(a){null!=a&&(this.la=_geo.geotoolkit.Sb(a,this.la),this.us.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.axislinestyle)),this.Nmc.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.toplinelinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.topbackgroundfillstyle)),this.Woc.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.toplinelinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.topbackgroundfillstyle)),this.lNa.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.borderlinestyle)),
this.lNa.vc(1).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.borderlinestyle)),this.Yia.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.buttonborderlinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.buttonbackgroundfillstyle)),this.Yia.vc(1).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.arrowlinestyle)),this.Yia.vc(1).Pa(),this.pw.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.borderlinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.backgroundfillstyle)),this.Vr.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.caretlinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.caretfillstyle)),
this.pra.vc(0).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.buttonborderlinestyle)).ta(_geo.geotoolkit.attributes.Fa.ab(this.la.buttonbackgroundfillstyle)),this.pra.vc(1).ua(_geo.geotoolkit.attributes.Aa.ab(this.la.arrowlinestyle)),this.pra.vc(1).Pa(),this.vB.ja(this.la.handle),this.QF.ja(this.la.handle),this.ma())};b.prototype.nQ=function(a){this.Nv(a);return this};b.prototype.ywd=function(){return this.E2c};b.prototype.EXb=function(){return this.lNa};b.prototype.xb=function(){var a=this.xa();if(null==
this.us||!a)return this;var b=a.clone().setY(0).setX(15).qb(a.aa()-30).Db(a.ba()-15),e=a.clone().setX(0).setY(a.ba()-15).Db(15),a=e.clone().setY(0).setX(15).qb(a.aa()-30);this.us.Ea(b);this.Z5c.Ea(e);this.pw.Ea(a);this.pra.Ea(new _geo.geotoolkit.util.Rect(e.za()-15,0,e.za(),e.ba()));this.Yia.Ea(new _geo.geotoolkit.util.Rect(0,0,15,e.ba()));return this};b.prototype.ard=function(a,b){this.us.Sa(a);this.lNa.Ea(b).Sa(b);this.Nmc.Ea(a.clone().qb(b.sa()-a.sa()));this.Woc.Ea(a.clone().qb(a.za()-b.za()).setX(b.za()));
this.vB.yc(b.sa(),a.Qc());this.QF.yc(b.za(),a.Qc())};b.prototype.Sa=function(a,b){this.ard(a,b);a=a.clone().setY(0).Db(1);b=b.clone().setY(0).Db(1);this.pw.Sa(a);this.Vr.Ea(b).Sa(b)};b.prototype.Vg=function(a){this.Je.Vg(a)};b.prototype.lQ=function(a,b){var e=a.jm(),c=null;if(!this.om().contains(e.getX(),e.getY()))return null;e=this.Eh.select(this.getRoot(),e.getX(),e.getY(),2);e.filter(function(a){return a===this.vB||a===this.QF||a===this.Yia||a===this.pra||a===this.Vr||!b&&a===this}.bind(this)).forEach(function(a){if(null==
c||c===this){if(a===this.vB||a===this.QF||a===this.Yia||a===this.pra||a===this.Vr)c=a;b||null!=c||a!==this||(c=a)}}.bind(this));return c};b.prototype.xf=function(b){if(this.ld()){var d=this.lQ(b,!0),e=this.us.xa();this.AB=this.lNa.ga().clone();var c=this.AB.clone(),f=c.aa()/10*(this.MA()?-1:1),k=!1,h=!1;if(null==d){var l=b.jm();if(this.pw.om().contains(l.getX(),l.getY()))f=c.aa(),l.getX()<this.lNa.om().Pc()?k=!0:h=!0;else return}this.Yq(!0);d===this.Yia||k||d===this.pra||h?(d===this.Yia||k?c.setX(c.getX()-
f):c.setX(c.getX()+f),c.sa()<e.sa()&&c.setX(e.getX()),c.za()>e.za()&&c.setX(e.za()-c.aa()),this.Ja(a.$.g$,b),this.Ja(a.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(b,c))):(this.jd=d,b.stopPropagation("touchstart"===b.iD()),this.ld().start(),this.uJ=!1,this.Jd=this.ld().Qe(this.us,b))}};b.prototype.gGc=function(a,b){if(!(this.Af.x<a.sa()||this.Af.x>a.za())){var e=this.jd!==this.vB?this.vB.pj().getX():this.Af.x,c=this.jd!==this.QF?this.QF.pj().getX():this.Af.x;if(e>c){var f=e,e=c,c=f;this.jd=this.jd===
this.vB?this.QF:this.vB}b.setX(e);b.qb(c-e)}};b.prototype.i$=function(b){if(this.ld()&&this.ld().wf()&&null!=this.jd){var d=b.th();d.stopPropagation();d.preventDefault();var e=this.us.xa(),c=this.AB.clone();this.Af=this.ld().Qe(this.us,b);this.jd===this.Vr?(c.setX(c.getX()-(this.Jd.getX()-this.Af.getX())),c.sa()<e.sa()&&c.setX(e.getX()),c.za()>e.za()&&c.setX(e.za()-c.aa()),this.Ja(a.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(d,c))):(this.gGc(e,c),this.Ja(a.$.N9a,new _geo.geotoolkit.controls.ia.scroll.Qy(d,
c)))}};b.prototype.u_=function(b){a.prototype.u_.call();this.Ae(b)};b.prototype.Wd=function(b){if(this.ld())if(this.ld().wf()&&null!=this.jd)!1===this.uJ&&(this.Ja(a.$.g$,b),this.uJ=!0);else{var d=this.lQ(b,!1),e=d===this||d===this.vB||d===this.QF;this.QF.Ka(e).ma();this.vB.Ka(e).ma();e="inherit";null==d||d===this||d!==this.vB&&d!==this.QF?d===this.Yia||d===this.pra?e="pointer":d===this.Vr&&(e="move"):e="ew-resize";_geo.geotoolkit.controls.util.Xp.Bw(b.ii(),{cursor:e})}};b.prototype.Ae=function(b){if(this.ld()){this.ld().wf()&&
null!=b&&b.stopPropagation(!0,!1);this.uJ=!1;this.Yq(!1);var d=this.us.xa(),e=this.AB.clone();if(!(e.sa()<d.sa()||e.za()>d.za())){this.ld().stop();this.Af=this.ld().Qe(this.us,b);if(null!=this.jd){if(this.jd===this.vB||this.jd===this.QF)this.gGc(d,e),this.Ja(a.$.O9a,new _geo.geotoolkit.controls.ia.scroll.Qy(b,e)),this.QF.Ka(!1).ma(),this.vB.Ka(!1).ma();this.jd===this.Vr&&(e.setX(e.getX()-(this.Jd.getX()-this.Af.getX())),e.sa()<d.sa()&&e.setX(d.getX()),e.za()>d.za()&&e.setX(d.za()-e.aa()),this.Ja(a.$.tt,
new _geo.geotoolkit.controls.ia.scroll.Qy(b,e)));this.jd=null}this.AB=null}}};return b}();
_geo.geotoolkit.controls.ia.scroll.lX=function(){function b(a){null==a&&(a={});a=_geo.geotoolkit.Ca(a,{name:null!=a.name?a.name:"CompactBaseScroll",modellimits:a.modellimits instanceof _geo.geotoolkit.util.Rect?a.modellimits:new _geo.geotoolkit.util.Rect(0,0,1,1),visiblelimits:a.visiblelimits instanceof _geo.geotoolkit.util.Rect?a.visiblelimits:new _geo.geotoolkit.util.Rect(0,0,1,1),options:null!=a.options?a.options:{}});_geo.geotoolkit.controls.ia.scroll.hg.call(this,{name:a.name});this.Mjc=b.vIa.AC;
this.Njc=0;this.Wlb=!1;this.Ux=this.HU=null;this.GOa=.05;this.WF=5;this.wB=2;this.Cg();this.Sa(a.modellimits,a.visiblelimits);this.setOptions(a.options);this.uJ=!1;this.Eh=new _geo.geotoolkit.selection.am;this.jd=null;this.Jd=new _geo.geotoolkit.util.na(0,0);this.Af=new _geo.geotoolkit.util.na(0,0);this.AB=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.hg);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.CompactBaseScroll");b.vIa={oX:"disabled",AC:"default",PQ:"custom"};b.$=_geo.geotoolkit.controls.ia.scroll.hg.$;
b.prototype.setOptions=function(a){null==a&&(a={});this.la=_geo.geotoolkit.Sb(a,this.la);this.mr=this.la.minhandle;this.yu=this.la.maxhandle;null!=this.la.manipulation&&(null!=this.la.manipulation.type&&(this.Mjc=this.la.manipulation.type),null!=this.la.manipulation.threshold&&(this.Njc=this.la.manipulation.threshold));a=this.la.minscrollbutton;var b=this.la.maxscrollbutton,d=this.la.minscrollbutton.caret,e=this.la.maxscrollbutton.caret;this.Aca.jh().Ka(a.visible).Ad(!0).va([(new _geo.geotoolkit.scene.shapes.uq).ua(a.linestyle).ta(a.fillstyle).kk(!1),
d]);this.Nqa.jh().Ka(b.visible).Ad(!0).va([(new _geo.geotoolkit.scene.shapes.uq).ua(b.linestyle).ta(b.fillstyle).kk(!1),e]);a=!0===this.la.scrollbar.autohide?this.pw.ib():this.la.scrollbar.visible;this.qv.jh().Ka(this.la.scrolltrack.visible).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.scrolltrack.linestyle).ta(this.la.scrolltrack.fillstyle).KG({top:!0,left:!1,right:!1,bottom:!0}).kk(!1),this.pw.jh().Ka(this.la.scrollbar.visible).va([(new _geo.geotoolkit.scene.shapes.uq).ua(this.la.scrollbar.linestyle).ta(this.la.scrollbar.fillstyle).Ka(this.la.scrollbar.visible).KG({top:!0,
left:!0,right:!0,bottom:!0}).kk(!1)]),this.mr,this.yu]);this.z5b(a);return this};b.prototype.jb=function(){return this.la};b.prototype.Cg=function(){this.Aca=new _geo.geotoolkit.scene.Group;this.Nqa=new _geo.geotoolkit.scene.Group;this.qv=new _geo.geotoolkit.scene.Group;this.pw=new _geo.geotoolkit.scene.Group;this.mr=this.la.minhandle;this.yu=this.la.maxhandle;this.va([this.Aca,this.Nqa,this.qv])};b.prototype.EXb=function(){return this.pw};b.prototype.Sa=function(a,b){this.qv.Sa(a);this.pw.Ea(b).Sa(b);
return this};b.prototype.z5b=function(a){var b=[this.mr,this.yu,this.pw];b.forEach(function(b){null!=b&&"function"===typeof b.Ka&&b.Ka(a)});return this};b.prototype.lQ=function(a,b){var d=a.jm(),e=this.ld().qG(a),e=e?this.WF:this.wB,c=null;if(!1===this.HZ().fe(e,e).contains(d))return c;d=this.Eh.select(this.getRoot(),d.getX(),d.getY(),e);d.filter(function(a){return a===this.mr||a===this.yu||a===this.Aca||a===this.Nqa||a===this.pw||!b&&a===this.qv}.bind(this)).forEach(function(a){a===this.mr||a===
this.yu||a===this.Aca||a===this.Nqa||a===this.pw?c=a:b||null!=c||a!==this.qv||(c=a)}.bind(this));return c};b.prototype.Dzb=function(a,g){if(null!=this.mr&&null!=this.mr.ga()){var d=g?a.aa():a.ba();switch(this.Mjc){case b.vIa.oX:this.VLa=!1;break;case b.vIa.AC:var e=this.mr.ga(),e=g?e.aa():e.ba();this.VLa=d<3*e;break;case b.vIa.PQ:var e=this.pw.Ya().Vd(),e=g?e.Ab():e.Pb(),c=this.Njc;this.VLa=d<c*e;break}this.VLa&&!this.Wlb?(this.F5c=this.mr.vz(),this.E5c=this.yu.vz(),this.mr.kk(!0),this.yu.kk(!0)):
this.VLa&&this.Wlb?(this.mr.kk(!this.mr.vz()),this.yu.kk(!this.yu.vz())):!this.VLa&&this.Wlb&&(this.mr.kk(this.F5c),this.yu.kk(this.E5c));this.Wlb=this.VLa}};b.prototype.eEa=function(){return 10};return b}();
_geo.geotoolkit.controls.ia.scroll.yxa=function(){function b(b){null==b&&(b={});b=_geo.geotoolkit.Ca(b,{name:null!=b.name?b.name:"CompactHorizontalScroll",modellimits:b.modellimits instanceof _geo.geotoolkit.util.Rect?b.modellimits:new _geo.geotoolkit.util.Rect(0,0,1,1),visiblelimits:b.visiblelimits instanceof _geo.geotoolkit.util.Rect?b.visiblelimits:new _geo.geotoolkit.util.Rect(0,0,1,1),options:null!=b.options?b.options:{}});this.la={resizable:!0,minhandle:new _geo.geotoolkit.scene.shapes.Symbol({painter:e,
linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:10,height:10,alignment:_geo.geotoolkit.util.Da.lb,ax:0,ay:0,sizeIsInDeviceSpace:!0}),maxhandle:new _geo.geotoolkit.scene.shapes.Symbol({painter:d,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:10,height:10,alignment:_geo.geotoolkit.util.Da.lb,ax:0,ay:0,sizeIsInDeviceSpace:!0}),
minscrollbutton:{visible:!0,size:15,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1"),caret:new _geo.geotoolkit.scene.shapes.Symbol({visible:!0,painter:g,linestyle:(new _geo.geotoolkit.attributes.Aa("#a8a8a8")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:5,height:6,alignment:_geo.geotoolkit.util.Da.We,ax:0,ay:5,sizeIsInDeviceSpace:!0})},maxscrollbutton:{visible:!0,size:15,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,
y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1"),caret:new _geo.geotoolkit.scene.shapes.Symbol({visible:!0,painter:a,linestyle:(new _geo.geotoolkit.attributes.Aa("#a8a8a8")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:5,height:6,alignment:_geo.geotoolkit.util.Da.We,ax:8,ay:5,sizeIsInDeviceSpace:!0})},scrollbar:{visible:!0,autohide:!0,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8")},
scrolltrack:{visible:!0,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1")}};_geo.geotoolkit.controls.ia.scroll.lX.call(this,b);this.zk(k)}function a(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=[b.za(),b.sa(),b.sa()];b=[b.qa()+Math.abs((b.wa()-b.qa())/2),b.qa(),b.wa()];c.Ik(a,b,0,2);c.stroke();c.si()}function g(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=[b.sa(),b.za(),b.za()];b=[b.qa()+Math.abs((b.wa()-b.qa())/2),b.qa(),b.wa()];c.Ik(a,
b,0,2);c.stroke();c.si()}function d(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=Math.abs(.5/c.Ra().Ab());c.iq(b.sa()-a,b.qa(),b.aa()-2*a,b.ba(),-Math.PI/2,Math.PI/2)}function e(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=Math.abs(.5/c.Ra().Ab());c.iq(b.sa()+a,b.qa(),b.aa()-2*a,b.ba(),Math.PI/2,-Math.PI/2)}var c=_geo.geotoolkit.controls.ia.scroll.hg,f=_geo.geotoolkit.util.Math.Jc,k=8;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.lX);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.CompactHorizontalScroll");
b.$=_geo.geotoolkit.controls.ia.scroll.hg.$;b.prototype.setOptions=function(a){_geo.geotoolkit.controls.ia.scroll.lX.prototype.setOptions.call(this,a);this.mr.yc(this.pw.ga().sa(),this.qv.xa().Qc());this.yu.yc(this.pw.ga().za(),this.qv.xa().Qc());a=this.la.minscrollbutton.visible?this.la.minscrollbutton.size:0;var b=this.la.maxscrollbutton.visible?this.la.maxscrollbutton.size:0;this.Aca.pb({top:0,bottom:0,left:0,width:a});this.Nqa.pb({top:0,bottom:0,right:0,width:b});this.qv.pb({top:0,bottom:0,left:a,
right:b});return this};b.prototype.nQ=function(a){this.Nv(a);return this};b.prototype.xf=function(a){var b=this.lQ(a,!0,!1),d=this.qv.xa();this.AB=this.pw.ga().clone();var e=this.AB.clone(),g=e.aa()/10*(this.MA()?-1:1),f=!1,k=!1;if(null==b){var m=a.jm();if(this.qv.om().contains(m.getX(),m.getY()))g=e.aa()*(this.MA()?-1:1),m.getX()<this.pw.om().Pc()?f=!0:k=!0;else return}this.Yq(!0);if(b===this.Aca||f||b===this.Nqa||k)b===this.Aca||f?e.setX(e.getX()-g):e.setX(e.getX()+g),e.sa()<d.sa()&&e.setX(d.sa()),
e.za()>d.za()&&e.setX(d.za()-e.aa()),this.Ja(c.$.g$,a),this.Ja(c.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(a,e)),this.Ja(c.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(a,e));this.jd=b;a.stopPropagation("touchstart"===a.iD());this.ld().start();this.uJ=!1;this.Jd=this.ld().Qe(this.qv,a)};b.prototype.Wd=function(a){if(this.ld())if(this.ld().wf()&&null!=this.jd)!1===this.uJ&&(this.Ja(c.$.g$,a),this.uJ=!0);else{var b=this.lQ(a,!1,!1),d="inherit";!this.la.resizable||b!==this.mr&&b!==this.yu?this.la.resizable&&
b===this.pw&&(d="move"):d="ew-resize";_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:d});if(1!==this.Uea())if(null==b)null!=this.jd&&_geo.geotoolkit.controls.ia.scroll.hg.T$a(),this.jd=null;else{var d=this.MV(),e=this.SV();!1===d.M8(e)&&(this.jd=b,_geo.geotoolkit.controls.ia.scroll.hg.$yb(),this.U$(.7),a.stopPropagation(!0,!0))}}};b.prototype.i$=function(a){if(this.ld()){var b=a.th();a.stopPropagation(!0,!0);var d=this.qv.xa(),e=this.AB.clone();this.Af=this.ld().Qe(this.qv,a);if(this.jd===this.pw||
!1===this.la.resizable&&(this.jd===this.mr||this.jd===this.yu))e.setX(e.getX()-(this.Jd.getX()-this.Af.getX())),e.sa()<d.sa()&&e.setX(d.getX()),e.za()>d.za()&&e.setX(d.za()-e.aa()),this.Ja(c.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(b,e));else{this.Af.x<d.sa()?this.Af.x=d.sa():this.Af.x>d.za()&&(this.Af.x=d.za());b=this.jd!==this.mr?this.mr.pj().getX():this.Af.x;d=this.jd!==this.yu?this.yu.pj().getX():this.Af.x;if(b>d){var g=b,b=d,d=g;this.jd=this.jd===this.mr?this.yu:this.mr}e.setX(b);e.qb(d-
b);this.Ja(c.$.N9a,new _geo.geotoolkit.controls.ia.scroll.Qy(a,e))}}};b.prototype.u_=function(a){this.ld()&&(null==this.lQ(a,!1,!1)&&c.prototype.u_.call(this),this.Ae(a))};b.prototype.Ae=function(a){if(this.ld()){this.ld().wf()&&null!=a&&a.stopPropagation(!0);this.uJ=!1;this.Yq(!1);var b=this.qv.xa(),d=this.AB;if(!(d.sa()<b.sa()||d.za()>b.za())){this.ld().stop();this.Af=this.ld().Qe(this.qv,a);if(null!=this.jd){if((this.jd===this.mr||this.jd===this.yu)&&!this.Jd.AM(this.Af)){this.Af.x<b.sa()?this.Af.x=
b.sa():this.Af.x>b.za()&&(this.Af.x=b.za());var e=this.jd!==this.mr?this.mr.pj().getX():this.Af.getX(),g=this.jd!==this.yu?this.yu.pj().getX():this.Af.getX();if(e>g){var f=e,e=g,g=f;this.jd=this.jd===this.vB?this.QF:this.vB}d.setX(e);d.qb(g-e);this.Ja(c.$.O9a,new _geo.geotoolkit.controls.ia.scroll.Qy(a,d))}this.jd===this.pw&&(d.setX(d.getX()-(this.Jd.getX()-this.Af.getX())),d.sa()<b.sa()&&d.setX(b.getX()),d.za()>b.za()&&d.setX(b.za()-d.aa()),this.Ja(c.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(a,
d)));this.jd=null}this.AB=null;this.Dzb(d,!0)}}};b.prototype.MV=function(){return new _geo.geotoolkit.util.Range(this.xa().sa(),this.xa().za())};b.prototype.SV=function(){return new _geo.geotoolkit.util.Range(this.qv.ga().sa(),this.qv.ga().za())};b.prototype.Sa=function(a,b){a=a.clone().setY(0).Db(1);b=b.clone().setY(0).Db(1);!0===this.la.scrollbar.autohide&&this.z5b(Math.abs(a.aa()-b.aa())>f);_geo.geotoolkit.controls.ia.scroll.lX.prototype.Sa.call(this,a,b);this.mr.yc(b.sa(),a.Qc());this.yu.yc(b.za(),
a.Qc());return this};return b}();
_geo.geotoolkit.controls.ia.scroll.sWa=function(){function b(b){null==b&&(b={});b=_geo.geotoolkit.Ca(b,{name:null!=b.name?b.name:"CompactVerticalScroll",modellimits:b.modellimits instanceof _geo.geotoolkit.util.Rect?b.modellimits:new _geo.geotoolkit.util.Rect(0,0,1,1),visiblelimits:b.visiblelimits instanceof _geo.geotoolkit.util.Rect?b.visiblelimits:new _geo.geotoolkit.util.Rect(0,0,1,1),options:null!=b.options?b.options:{}});this.la={resizable:!0,minhandle:new _geo.geotoolkit.scene.shapes.Symbol({painter:e,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,
y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:10,height:10,alignment:_geo.geotoolkit.util.Da.lb,ax:0,ay:0,sizeIsInDeviceSpace:!0}),maxhandle:new _geo.geotoolkit.scene.shapes.Symbol({painter:d,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:10,height:10,alignment:_geo.geotoolkit.util.Da.lb,ax:0,ay:0,sizeIsInDeviceSpace:!0}),minscrollbutton:{visible:!0,size:15,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,
y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1"),caret:new _geo.geotoolkit.scene.shapes.Symbol({visible:!0,painter:g,linestyle:(new _geo.geotoolkit.attributes.Aa("#a8a8a8")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:5,height:5,alignment:_geo.geotoolkit.util.Da.Gg,ax:2,ay:0,sizeIsInDeviceSpace:!0})},maxscrollbutton:{visible:!0,size:15,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1"),
caret:new _geo.geotoolkit.scene.shapes.Symbol({visible:!0,painter:a,linestyle:(new _geo.geotoolkit.attributes.Aa("#a8a8a8")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8"),width:5,height:5,alignment:_geo.geotoolkit.util.Da.Gg,ax:2,ay:8,sizeIsInDeviceSpace:!0})},scrollbar:{visible:!0,autohide:!0,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#a8a8a8")},scrolltrack:{visible:!0,linestyle:(new _geo.geotoolkit.attributes.Aa("transparent")).Yd({x:!0,
y:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa("#f1f1f1")}};_geo.geotoolkit.controls.ia.scroll.lX.call(this,b);this.Ul(k,!0)}function a(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=[b.wa(),b.qa(),b.qa()];b=[b.sa()+Math.abs((b.za()-b.sa())/2),b.sa(),b.za()];c.Ik(b,a,0,4);c.stroke();c.si()}function g(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=[b.qa(),b.wa(),b.wa()];b=[b.sa()+Math.abs((b.za()-b.sa())/2),b.sa(),b.za()];c.Ik(b,a,0,4);c.stroke();c.si()}function d(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=Math.abs(.5/c.Ra().Pb());
c.iq(b.sa(),b.qa()-a,b.aa(),b.ba()-2*a,0,Math.PI)}function e(a,b,c){c.ta(a.sb());c.ua(a.Xa());a=Math.abs(.5/c.Ra().Pb());c.iq(b.sa(),b.qa()+a,b.aa(),b.ba()-2*a,Math.PI,0)}var c=_geo.geotoolkit.controls.ia.scroll.hg,f=_geo.geotoolkit.util.Math.Jc,k=8;_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.scroll.lX);_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.CompactVerticalScroll");b.$=_geo.geotoolkit.controls.ia.scroll.hg.$;b.prototype.setOptions=function(a){_geo.geotoolkit.controls.ia.scroll.lX.prototype.setOptions.call(this,
a);this.mr.yc(this.qv.xa().Pc(),this.pw.ga().qa());this.yu.yc(this.qv.xa().Pc(),this.pw.ga().wa());a=this.la.minscrollbutton.visible?this.la.minscrollbutton.size:0;var b=this.la.maxscrollbutton.visible?this.la.maxscrollbutton.size:0;this.Aca.pb({left:0,right:0,top:0,height:a});this.Nqa.pb({left:0,right:0,bottom:0,height:b});this.qv.pb({left:0,right:0,top:a,bottom:b});return this};b.prototype.nQ=function(a){this.mk(a);return this};b.prototype.xf=function(a){var b=this.lQ(a,!0,!1),d=this.qv.xa();this.AB=
this.pw.ga().clone();var e=this.AB.clone(),g=e.ba()/10*(this.Cr()?-1:1),f=!1,k=!1;if(null==b){var m=a.jm();if(this.qv.om().contains(m.getX(),m.getY()))g=e.ba()*(this.Cr()?-1:1),m.getY()<this.pw.om().Qc()?f=!0:k=!0;else return}this.Yq(!0);this.AB=this.pw.ga().clone();if(b===this.Aca||f||b===this.Nqa||k)b===this.Aca||f?e.setY(e.getY()-g):e.setY(e.getY()+g),e.qa()<d.qa()&&e.setY(d.qa()),e.wa()>d.wa()&&e.setY(d.wa()-e.ba()),this.Ja(c.$.g$,a),this.Ja(c.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(a,
e)),this.Ja(c.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(a,e));this.jd=b;a.stopPropagation("touchstart"===a.iD());this.ld().start();this.uJ=!1;this.Jd=this.ld().Qe(this.qv,a)};b.prototype.Wd=function(a){if(this.ld())if(this.ld().wf()&&null!=this.jd)!1===this.uJ&&(this.Ja(c.$.g$,a),this.uJ=!0);else{var b=this.lQ(a,!1,!1),d="inherit";!this.la.resizable||b!==this.mr&&b!==this.yu?this.la.resizable&&b===this.pw&&(d="move"):d="ns-resize";_geo.geotoolkit.controls.util.Xp.Bw(a.ii(),{cursor:d});if(1!==
this.Uea())if(null==b)null!=this.jd&&_geo.geotoolkit.controls.ia.scroll.hg.T$a(),this.jd=null;else{var d=this.MV(),e=this.SV();!1===d.M8(e)&&(this.jd=b,_geo.geotoolkit.controls.ia.scroll.hg.$yb(),this.U$(.7),a.stopPropagation(!0,!0))}}};b.prototype.i$=function(a){if(this.ld()){var b=a.th();a.stopPropagation(!0,!0);var d=this.qv.xa(),e=this.AB.clone();this.Af=this.ld().Qe(this.qv,a);if(this.jd===this.pw||!1===this.la.resizable&&(this.jd===this.mr||this.jd===this.yu))e.setY(e.getY()-(this.Jd.getY()-
this.Af.getY())),e.qa()<d.qa()&&e.setY(d.getY()),e.wa()>d.wa()&&e.setY(d.wa()-e.ba()),this.Ja(c.$.Yn,new _geo.geotoolkit.controls.ia.scroll.Qy(b,e));else{this.Af.y<d.qa()?this.Af.y=d.qa():this.Af.y>d.wa()&&(this.Af.y=d.wa());a=this.jd!==this.mr?this.mr.pj().getY():this.Af.y;d=this.jd!==this.yu?this.yu.pj().getY():this.Af.y;if(a>d){var g=a;a=d;d=g;this.jd=this.jd===this.mr?this.yu:this.mr}e.setY(a);e.qb(d-a);this.Ja(c.$.N9a,new _geo.geotoolkit.controls.ia.scroll.Qy(b,e))}}};b.prototype.u_=function(a){this.ld()&&
(null==this.lQ(a,!1,!1)&&c.prototype.u_.call(this),this.Ae(a))};b.prototype.Ae=function(a){if(this.ld()){this.ld().wf()&&null!=a&&a.stopPropagation(!0);this.uJ=!1;this.Yq(!1);var b=this.qv.xa(),d=this.AB;if(!(d.qa()<b.qa()||d.wa()>b.wa())){this.ld().stop();this.Af=this.ld().Qe(this.qv,a);if(null!=this.jd){if((this.jd===this.mr||this.jd===this.yu)&&!this.Jd.AM(this.Af)){this.Af.y<b.qa()?this.Af.y=b.qa():this.Af.y>b.wa()&&(this.Af.y=b.wa());var e=this.jd!==this.mr?this.mr.pj().getY():this.Af.getY(),
g=this.jd!==this.yu?this.yu.pj().getY():this.Af.getY();if(e>g){var f=e,e=g,g=f;this.jd=this.jd===this.vB?this.QF:this.vB}d.setY(e);d.Db(g-e);this.Ja(c.$.O9a,new _geo.geotoolkit.controls.ia.scroll.Qy(a,d))}this.jd===this.pw&&(d.setY(d.getY()-(this.Jd.getY()-this.Af.getY())),d.qa()<b.qa()&&d.setY(b.getY()),d.wa()>b.wa()&&d.setY(b.wa()-d.ba()),this.Ja(c.$.tt,new _geo.geotoolkit.controls.ia.scroll.Qy(a,d)));this.jd=null}this.AB=null;this.Dzb(d,!1)}}};b.prototype.MV=function(){return new _geo.geotoolkit.util.Range(this.xa().qa(),
this.xa().wa())};b.prototype.SV=function(){return new _geo.geotoolkit.util.Range(this.qv.ga().qa(),this.qv.ga().wa())};b.prototype.Sa=function(a,b){a=a.clone().setX(0).qb(1);b=b.clone().setX(0).qb(1);!0===this.la.scrollbar.autohide&&this.z5b(Math.abs(a.ba()-b.ba())>f);_geo.geotoolkit.controls.ia.scroll.lX.prototype.Sa.call(this,a,b);this.mr.yc(a.Pc(),b.qa());this.yu.yc(a.Pc(),b.wa());return this};return b}();
_geo.geotoolkit.controls.ia.scroll.sJ=function(){function b(){this.wl={};this.HGa(_geo.geotoolkit.controls.ia.scroll.l6.getClassName(),function(a){return new _geo.geotoolkit.controls.ia.scroll.l6(a)});this.HGa(_geo.geotoolkit.controls.ia.scroll.tba.getClassName(),function(a){return new _geo.geotoolkit.controls.ia.scroll.tba(a)});this.HGa(_geo.geotoolkit.controls.ia.scroll.yxa.getClassName(),function(a){return new _geo.geotoolkit.controls.ia.scroll.yxa(a)});this.HGa(_geo.geotoolkit.controls.ia.scroll.sWa.getClassName(),
function(a){return new _geo.geotoolkit.controls.ia.scroll.sWa(a)});this.HGa(_geo.geotoolkit.controls.ia.scroll.uIa.getClassName(),function(a){return new _geo.geotoolkit.controls.ia.scroll.uIa(a.modellimits,a.visiblelimits,a.tickgenerator,a.axis,a.name)})}_geo.geotoolkit.da(b,"geotoolkit.controls.tools.scroll.ScrollFactory");var a=null;b.Za=function(){null==a&&(a=new _geo.geotoolkit.controls.ia.scroll.sJ);return a};b.prototype.HGa=function(a,b){if(null==a||null==b||"function"!=typeof b)return this;
this.wl[a]=b;return this};b.prototype.es=function(a,b){var e=null;null!=this.wl[a]&&"function"===typeof this.wl[a]&&(e=this.wl[a].call(this,b));return e};return b}();
_geo.geotoolkit.animation.Dd.dpb.cac=function(){function b(a){_geo.geotoolkit.animation.Dd.nl.call(this,a);this.iud=_geo.geotoolkit.animation.Zk.Z0.Za()}_geo.geotoolkit.fa(b,_geo.geotoolkit.animation.Dd.nl);_geo.geotoolkit.da(b,"geotoolkit.animation.effects.charts.Donut");b.Vh=function(a,b){return"data"===a.attributeName&&b instanceof _geo.geotoolkit.controls.shapes.Kz};b.prototype.ep=function(a){return(a=a.getData().values)&&0<Object.keys(a).length?a:null};b.prototype.apply=function(a){a instanceof
_geo.geotoolkit.controls.shapes.Kz&&a.setData({values:this.Sh.current})};_geo.geotoolkit.animation.Dd.ue.Za().cF(b);return b}();
(function(){var b="geotoolkit",a="controls",g="Events",d="editing",e="Histogram",c="shapes",f="TableView",k="tools",h="scroll",l=_geo.geotoolkit.wr,n=_geo.geotoolkit.$r,p=null,r=null;l(b+"."+a+".util.Helpers",_geo.geotoolkit.controls.util.Xp);l(b+"."+a+".util.Helpers.getAbsolutePosition",(r=_geo.geotoolkit.controls.util.Xp).EZ);l(b+"."+a+".util.Helpers.getOffset",r.Bn);l(b+"."+a+".util.Helpers.getNativeEventName",r.SZ);l(b+"."+a+".util.Helpers.setCss",r.Bw);n(p=_geo.geotoolkit.controls.util.KYc.prototype,
"getItemCount",p.qBc,{qBc:0});n(p,"getText",p.me,{me:0});n(p,"getSymbol",p.be,{be:0});l(b+"."+a+".util.regression.RegressionBase",_geo.geotoolkit.controls.util.ll.Pr);l(b+"."+a+".util.regression.RegressionBase."+g+"",_geo.geotoolkit.controls.util.ll.Pr.$);l(b+"."+a+".util.regression.RegressionBase."+g+".UpdatedModel",_geo.geotoolkit.controls.util.ll.Pr.$.dza);l(b+"."+a+".util.regression.RegressionBase.Probability",_geo.geotoolkit.controls.util.ll.Pr.lKa);l(b+"."+a+".util.regression.RegressionBase.Probability.P80",
(r=_geo.geotoolkit.controls.util.ll.Pr.lKa).PZc);l(b+"."+a+".util.regression.RegressionBase.Probability.P90",r.QZc);l(b+"."+a+".util.regression.RegressionBase.Probability.P95",r.iYa);l(b+"."+a+".util.regression.RegressionBase.Probability.P99",r.RZc);n(p=_geo.geotoolkit.controls.util.ll.Pr.prototype,"fit",p.lx,{lx:0});n(p,"getData",p.getData,{getData:0});n(p,"predict",p.ZS,{ZS:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"resetModel",p.zva,{zva:0});n(p,"isCustomizedCoef",p.xYb,{xYb:0});n(p,
"getOptions",p.jb,{jb:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setConfidenceProbability",p.o2b,{o2b:0});n(p,"getConfidenceProbability",p.vTb,{vTb:0});n(p,"setPredictionProbability",p.l5b,{l5b:0});n(p,"getPredictionProbability",p.rWb,{rWb:0});n(p,"getMean",p.EEa,{EEa:0});n(p,"getTotalSumSquared",p.aFa,{aFa:0});n(p,"getSumSquaredResidual",p.yRa,{yRa:0});n(p,"getDegreeOfFreedom",p.C6a,{C6a:0});n(p,"getRsquared",p.pRa,{pRa:0});n(p,"getResiduals",p.LDc,{LDc:0});n(p,"getConfidenceInterval",p.irb,{irb:0});
n(p,"getPredictionInterval",p.Usb,{Usb:0});n(p,"getStatistics",p.so,{so:0});n(p,"getCoefficients",p.erb,{erb:0});l(b+"."+a+".util.regression.Exponential",(r=_geo.geotoolkit.controls.util.ll).mJa);n(p=_geo.geotoolkit.controls.util.ll.mJa.prototype,"fit",p.lx,{lx:0});n(p,"getEdge",p.hI,{hI:0});n(p,"inversePredict",p.hSa,{hSa:0});l(b+"."+a+".util.regression.Linear",r.xj);n(p=_geo.geotoolkit.controls.util.ll.xj.prototype,"fit",p.lx,{lx:0});l(b+"."+a+".util.regression.Logarithmic",r.rF);n(p=_geo.geotoolkit.controls.util.ll.rF.prototype,
"fit",p.lx,{lx:0});l(b+"."+a+".util.regression.Power",r.Gfc);n(p=_geo.geotoolkit.controls.util.ll.Gfc.prototype,"fit",p.lx,{lx:0});l(b+"."+a+".util.regression.Polynomial",r.Efc);n(p=_geo.geotoolkit.controls.util.ll.Efc.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"resetModel",p.zva,{zva:0});n(p,"fit",p.lx,{lx:0});l(b+"."+a+".util.Interpolation.Strategy",_geo.geotoolkit.controls.util.Qaa.$oa);l(b+"."+a+".util.Interpolation.Strategy.InterpolateZero",(r=_geo.geotoolkit.controls.util.Qaa.$oa).yJa);
l(b+"."+a+".util.Interpolation.Strategy.InterpolateNull",r.CXa);l(b+"."+a+".util.Interpolation.Strategy.InterpolateMissingValues",r.Seb);n(p=_geo.geotoolkit.controls.util.Qaa.prototype,"getInterpolatedValues",p.dVb,{dVb:0});l(b+"."+a+".data.SerieElementInfo",_geo.geotoolkit.controls.data.Cgb);n(p=_geo.geotoolkit.controls.data.Cgb.prototype,"getSerieId",p.OWb,{OWb:0});n(p,"getSampleId",p.IWb,{IWb:0});l(b+"."+a+"."+d+"."+g+"",_geo.geotoolkit.controls.Zb.$);l(b+"."+a+"."+d+"."+g+".DragStart",(r=_geo.geotoolkit.controls.Zb.$).eeb);
l(b+"."+a+"."+d+"."+g+".Dragging",r.XWa);l(b+"."+a+"."+d+"."+g+".DragEnd",r.WWa);l(b+"."+a+"."+d+"."+g+".Delete",r.OWa);l(b+"."+a+"."+d+"."+g+".Insert",r.wX);l(b+"."+a+"."+d+"."+g+".Move",r.XJa);l(b+"."+a+"."+d+".AbstractHandle",(r=_geo.geotoolkit.controls.Zb).N5);n(p=_geo.geotoolkit.controls.Zb.N5.prototype,"copyConstructor",p.$a,{$a:0});n(p,"adapter",p.yda,{yda:0});n(p,"active",p.active,{active:0});n(p,"setAdapter",p.Lv,{Lv:0});n(p,"getAdapter",p.hz,{hz:0});n(p,"setActive",p.setActive,{setActive:0});
n(p,"isActive",p.wf,{wf:0});n(p,"getActiveFillStyle",p.HDa,{HDa:0});n(p,"setActiveFillStyle",p.D_,{D_:0});n(p,"setActiveLineStyle",p.gab,{gab:0});n(p,"getActiveLineStyle",p.OSb,{OSb:0});n(p,"setInactiveLineStyle",p.Hab,{Hab:0});n(p,"getInactiveLineStyle",p.bBc,{bBc:0});n(p,"getInactiveFillStyle",p.Z6a,{Z6a:0});n(p,"setInactiveFillStyle",p.I$,{I$:0});n(p,"render",p.render,{render:0});n(p,"setOperationInfo",p.En,{En:0});n(p,"getOperationInfo",p.lh,{lh:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",
p.ja,{ja:0});l(b+"."+a+"."+d+".GhostBearingHandle",r.fH);n(p=_geo.geotoolkit.controls.Zb.fH.prototype,"hasGhost",p.JK,{JK:0});n(p,"removeGhost",p.eLc,{eLc:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"createGhost",p.tPa,{tPa:0});n(p,"isGhost",p.xua,{xua:0});n(p,"getGhost",p.jG,{jG:0});n(p,"resetGhost",p.Nma,{Nma:0});n(p,"setGhostMode",p.Eab,{Eab:0});n(p,"getParentHandle",p.L7a,{L7a:0});n(p,"setParentHandle",p.c5b,{c5b:0});n(p,"adapter",p.yda,{yda:0});n(p,"setAdapter",p.Lv,{Lv:0});n(p,"getAdapter",
p.hz,{hz:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});n(p,"setVisible",p.Ka,{Ka:0});l(b+"."+a+"."+d+".SymbolHandleDriver.draw",(r=_geo.geotoolkit.controls.Zb.xFb).Ks);l(b+"."+a+"."+d+".SymbolHandleDriver.checkCollision",r.ie);l(b+"."+a+"."+d+".AnchoredHandle",(r=_geo.geotoolkit.controls.Zb).wIa);n(p=_geo.geotoolkit.controls.Zb.wIa.prototype,"setAnchor",p.yc,{yc:0});n(p,"getAnchor",p.pj,{pj:0});n(p,"setHandleSize",p.eUa,{eUa:0});n(p,"getHandleSize",p.zta,{zta:0});n(p,"render",
p.render,{render:0});n(p,"checkCollision",p.ie,{ie:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+d+".Box",r.qxa);n(p=_geo.geotoolkit.controls.Zb.qxa.prototype,"adapter",p.yda,{yda:0});n(p,"getAdapter",p.hz,{hz:0});n(p,"setAdapter",p.Lv,{Lv:0});n(p,"getActiveFillStyle",p.HDa,{HDa:0});n(p,"setActiveFillStyle",p.D_,{D_:0});n(p,"getInactiveFillStyle",p.Z6a,{Z6a:0});n(p,"setInactiveFillStyle",p.I$,{I$:0});n(p,"active",p.active,{active:0});n(p,"setActive",p.setActive,
{setActive:0});n(p,"isActive",p.wf,{wf:0});n(p,"setOperationInfo",p.En,{En:0});n(p,"getOperationInfo",p.lh,{lh:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+d+".BoxHandle",r.Qga);n(p=_geo.geotoolkit.controls.Zb.Qga.prototype,"setProperties",p.ja,{ja:0});n(p,"invalidate",p.ma,{ma:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setRect",p.zb,{zb:0});n(p,"getRect",p.Nq,{Nq:0});n(p,"render",p.render,{render:0});l(b+"."+a+"."+d+".LineBox",r.zX);n(p=_geo.geotoolkit.controls.Zb.zX.prototype,
"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});n(p,"render",p.render,{render:0});n(p,"setLine",p.Dw,{Dw:0});n(p,"getFrom",p.Ap,{Ap:0});n(p,"getTo",p.Pq,{Pq:0});n(p,"setAnchor",p.yc,{yc:0});l(b+"."+a+"."+d+".Handle",r.Jp);l(b+"."+a+"."+d+".ShapeAdapter",r.Qr);n(p=_geo.geotoolkit.controls.Zb.Qr.prototype,"isInitialized",p.ofa,{ofa:0});n(p,"initialize",p.Cg,{Cg:0});n(p,"setRegistry",p.Q$,{Q$:0});n(p,"getTransformation",p.Ra,{Ra:0});n(p,"update",p.update,{update:0});n(p,"getManipulatorLayer",
p.Bh,{Bh:0});n(p,"setShape",p.lk,{lk:0});n(p,"getShape",p.Ob,{Ob:0});n(p,"active",p.active,{active:0});n(p,"setActive",p.setActive,{setActive:0});n(p,"isActive",p.wf,{wf:0});n(p,"setActiveHandle",p.Er,{Er:0});n(p,"getActiveHandle",p.nx,{nx:0});n(p,"setPosition",p.setPosition,{setPosition:0});n(p,"getPosition",p.getPosition,{getPosition:0});n(p,"move",p.move,{move:0});n(p,"getProperties",p.ka,{ka:0});n(p,"onMove",p.Cl,{Cl:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"onInitialize",p.ip,{ip:0});
l(b+"."+a+"."+d+".ShapeAdapter."+g+"",_geo.geotoolkit.controls.Zb.Qr.$);l(b+"."+a+"."+d+".ShapeAdapter."+g+".Moved",(r=_geo.geotoolkit.controls.Zb.Qr.$).TDb);l(b+"."+a+"."+d+".ShapeAdapter."+g+".PositionChanged",r.cgb);l(b+"."+a+"."+d+".ShapeAdapter."+g+".ActiveStateChanged",r.Yzb);l(b+"."+a+"."+d+".SymbolAdapter",_geo.geotoolkit.controls.Zb.Khc);n(p=_geo.geotoolkit.controls.Zb.Khc.prototype,"onInitialize",p.ip,{ip:0});n(p,"updateHandles",p.Rh,{Rh:0});n(p,"setShape",p.lk,{lk:0});n(p,"setHandlesVisible",
p.SI,{SI:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"onMove",p.Cl,{Cl:0});n(p,"release",p.release,{release:0});n(p,"engage",p.E5a,{E5a:0});n(p,"setAllowShapeEdit",p.jab,{jab:0});n(p,"getAllowShapeEdit",p.a6a,{a6a:0});n(p,"setShowGhost",p.kwa,{kwa:0});n(p,"getShowGhost",p.g4,{g4:0});n(p,"setHandleStyles",p.Uva,{Uva:0});n(p,"update",p.update,{update:0});l(b+"."+a+"."+d+".scaling.RectangularShapeAdapter",(r=_geo.geotoolkit.controls.Zb.GW).Kya);n(p=_geo.geotoolkit.controls.Zb.GW.Kya.prototype,"setOptions",
p.setOptions,{setOptions:0});n(p,"setShape",p.lk,{lk:0});n(p,"getShapeBounds",p.QV,{QV:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"getBoxHandle",p.pyc,{pyc:0});n(p,"getHandle",p.EUb,{EUb:0});n(p,"onInitialize",p.ip,{ip:0});n(p,"onMove",p.Cl,{Cl:0});n(p,"setStyle",p.setStyle,{setStyle:0});n(p,"updateHandles",p.Rh,{Rh:0});l(b+"."+a+"."+d+".scaling.GroupAdapter",r.lXa);n(p=_geo.geotoolkit.controls.Zb.GW.lXa.prototype,"onMove",p.Cl,{Cl:0});l(b+"."+a+"."+d+".ShapeAdapterRegistry",_geo.geotoolkit.controls.Zb.hba);
l(b+"."+a+"."+d+".ShapeAdapterRegistry."+g+"",_geo.geotoolkit.controls.Zb.hba.$);l(b+"."+a+"."+d+".ShapeAdapterRegistry."+g+".Deactivated",(r=_geo.geotoolkit.controls.Zb.hba.$).N$b);l(b+"."+a+"."+d+".ShapeAdapterRegistry."+g+".Activated",r.C8b);n(p=_geo.geotoolkit.controls.Zb.hba.prototype,"update",p.update,{update:0});n(p,"getManipulatorLayer",p.Bh,{Bh:0});n(p,"register",p.register,{register:0});n(p,"getAdapter",p.hz,{hz:0});n(p,"getRegisteredClasses",p.CDc,{CDc:0});n(p,"setTransformation",p.kc,
{kc:0});n(p,"getTransformation",p.Ra,{Ra:0});n(p,"setActiveAdapter",p.eT,{eT:0});n(p,"getActiveAdapter",p.GDa,{GDa:0});l(b+"."+a+"."+d+".LineShapeAdapter",(r=_geo.geotoolkit.controls.Zb).Ccc);n(p=_geo.geotoolkit.controls.Zb.Ccc.prototype,"onInitialize",p.ip,{ip:0});n(p,"setShape",p.lk,{lk:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"onMove",p.Cl,{Cl:0});n(p,"updateHandles",p.Rh,{Rh:0});l(b+"."+a+"."+d+".PolyLineShapeAdapter",r.zfc);n(p=_geo.geotoolkit.controls.Zb.zfc.prototype,"onInitialize",
p.ip,{ip:0});n(p,"setShape",p.lk,{lk:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"onMove",p.Cl,{Cl:0});n(p,"updateHandles",p.Rh,{Rh:0});l(b+"."+a+"."+d+".TextShapeAdapter",r.lic);n(p=_geo.geotoolkit.controls.Zb.lic.prototype,"onInitialize",p.ip,{ip:0});n(p,"setShape",p.lk,{lk:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"getShapeBounds",p.QV,{QV:0});n(p,"updateHandles",p.Rh,{Rh:0});l(b+"."+a+".axis."+e+"TickGenerator",_geo.geotoolkit.controls.axis.Yxa);l(b+"."+a+".axis."+e+"TickGenerator.LabelStrategy",
_geo.geotoolkit.controls.axis.Yxa.VQ);l(b+"."+a+".axis."+e+"TickGenerator.LabelStrategy.Edge",(r=_geo.geotoolkit.controls.axis.Yxa.VQ).Kaa);l(b+"."+a+".axis."+e+"TickGenerator.LabelStrategy.Range",r.Range);l(b+"."+a+".axis."+e+"TickGenerator.LabelStrategy.Center",r.lb);n(p=_geo.geotoolkit.controls.axis.Yxa.prototype,"setFormatLabelHandler",p.Qs,{Qs:0});n(p,"setProperties",p.ja,{ja:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setMajorLabelFormat",p.kUa,{kUa:0});n(p,"getMajorLabelFormat",p.q7a,{q7a:0});
n(p,"setBinCount",p.gT,{gT:0});n(p,"setLabelStrategy",p.a4b,{a4b:0});n(p,"getLabelStrategy",p.dsb,{dsb:0});n(p,"setMinimumSpan",p.vHa,{vHa:0});n(p,"getMinimumSpan",p.UQa,{UQa:0});n(p,"copyConstructor",p.$a,{$a:0});n(p,"reset",p.reset,{reset:0});n(p,"setRotateLabels",p.gwa,{gwa:0});n(p,"resetTicks",p.Sl,{Sl:0});n(p,"resetLabels",p.Sp,{Sp:0});n(p,"nextTick",p.Tq,{Tq:0});n(p,"nextLabel",p.js,{js:0});n(p,"formatLabel",p.hj,{hj:0});l(b+"."+a+"."+c+".IChartDataVisual",(r=_geo.geotoolkit.controls.shapes).MCb);
n(p=_geo.geotoolkit.controls.shapes.MCb.prototype,"getAutoDataLimits",p.YPa,{YPa:0});n(p,"setAutoDataLimits",p.lab,{lab:0});n(p,"getDataLimits",p.Ml,{Ml:0});l(b+"."+a+"."+c+"."+e+"",r.pl);l(b+"."+a+"."+c+"."+e+"."+g+"",_geo.geotoolkit.controls.shapes.pl.$);l(b+"."+a+"."+c+"."+e+"."+g+".DataUpdated",(r=_geo.geotoolkit.controls.shapes.pl.$).Zga);l(b+"."+a+"."+c+"."+e+"."+g+".ModelLimitsUpdated",r.Ffb);l(b+"."+a+"."+c+"."+e+"."+g+".BinsUpdated",r.YVa);l(b+"."+a+"."+c+"."+e+".GapType",_geo.geotoolkit.controls.shapes.pl.roa);
l(b+"."+a+"."+c+"."+e+".GapType.None",(r=_geo.geotoolkit.controls.shapes.pl.roa).None);l(b+"."+a+"."+c+"."+e+".GapType.Left",r.wd);l(b+"."+a+"."+c+"."+e+".GapType.Right",r.$c);l(b+"."+a+"."+c+"."+e+".FrequencyType",_geo.geotoolkit.controls.shapes.pl.uX);l(b+"."+a+"."+c+"."+e+".FrequencyType.Absolute",(r=_geo.geotoolkit.controls.shapes.pl.uX).mIa);l(b+"."+a+"."+c+"."+e+".FrequencyType.Normalized",r.Pfb);l(b+"."+a+"."+c+"."+e+".FrequencyType.Relative",r.lgb);l(b+"."+a+"."+c+"."+e+".AccumulatedMode",
_geo.geotoolkit.controls.shapes.pl.dX);l(b+"."+a+"."+c+"."+e+".AccumulatedMode.Disabled",(r=_geo.geotoolkit.controls.shapes.pl.dX).oX);l(b+"."+a+"."+c+"."+e+".AccumulatedMode.Enabled",r.YBb);l(b+"."+a+"."+c+"."+e+"."+e+"Mode",_geo.geotoolkit.controls.shapes.pl.toa);l(b+"."+a+"."+c+"."+e+"."+e+"Mode.Linear",(r=_geo.geotoolkit.controls.shapes.pl.toa).xj);l(b+"."+a+"."+c+"."+e+"."+e+"Mode.Logarithmic",r.rF);n(p=_geo.geotoolkit.controls.shapes.pl.prototype,"setData",p.setData,{setData:0});n(p,"getData",
p.getData,{getData:0});n(p,"setProperties",p.ja,{ja:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"setNeatLimitsX",p.vPc,{vPc:0});n(p,"setNeatLimitsY",p.wPc,{wPc:0});n(p,"getProperties",p.ka,{ka:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setUnit",p.Fl,{Fl:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"setOrientation",p.setOrientation,{setOrientation:0});n(p,"getOrientation",p.Yk,{Yk:0});n(p,"getDisplayUnit",p.wK,{wK:0});n(p,"resetValues",p.vwb,{vwb:0});n(p,"setValueRange",p.r6b,{r6b:0});n(p,"areValuesCustomized",
p.xOb,{xOb:0});n(p,"getMinValue",p.Tc,{Tc:0});n(p,"getMaxValue",p.ad,{ad:0});n(p,"getStatistics",p.so,{so:0});n(p,"getStatisticsDescription",p.DEc,{DEc:0});n(p,"getMaxFrequency",p.CEa,{CEa:0});n(p,"getFrequency",p.rQa,{rQa:0});n(p,"calculate",p.aG,{aG:0});n(p,"getBins",p.$qb,{$qb:0});n(p,"getGapTypeForValue",p.P6a,{P6a:0});n(p,"getBinAt",p.Z8,{Z8:0});n(p,"getIndicesByBin",p.dBc,{dBc:0});n(p,"getBinsByIndices",p.oyc,{oyc:0});n(p,"hitTest",p.Un,{Un:0});n(p,"getBinsAt",p.arb,{arb:0});n(p,"highlightBins",
p.hfa,{hfa:0});n(p,"getHighlightedBins",p.mla,{mla:0});n(p,"updateModelLimits",p.Fz,{Fz:0});n(p,"setBinCount",p.gT,{gT:0});n(p,"setBinSteps",p.Mwb,{Mwb:0});n(p,"resetBinCount",p.d1b,{d1b:0});n(p,"isAutoBinCount",p.qub,{qub:0});n(p,"updateBinCount",p.fcb,{fcb:0});n(p,"getBinCount",p.CP,{CP:0});n(p,"setHighValueInclusive",p.eOc,{eOc:0});n(p,"getHighValueInclusive",p.TAc,{TAc:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"getBounds",p.ga,{ga:0});n(p,"checkCollision",p.ie,{ie:0});n(p,"setBounds",p.Ea,{Ea:0});
n(p,"getContentsTransform",p.ee,{ee:0});n(p,"render",p.render,{render:0});n(p,"computeStatistics",p.kPa,{kPa:0});n(p,"setAutoGradient",p.Wma,{Wma:0});n(p,"getBinSpacing",p.Zqb,{Zqb:0});n(p,"setBinSpacing",p.$1b,{$1b:0});n(p,"setVerticalScaling",p.v6b,{v6b:0});n(p,"getVerticalScaling",p.CXb,{CXb:0});n(p,"getAutoGradient",p.cta,{cta:0});n(p,"setFrequencyType",p.j3b,{j3b:0});n(p,"getFrequencyType",p.mEa,{mEa:0});n(p,"setAccumulatedMode",p.E1b,{E1b:0});n(p,"getAccumulatedMode",p.Xsa,{Xsa:0});n(p,"setHistogramMode",
p.u3b,{u3b:0});n(p,"getHistogramMode",p.OUb,{OUb:0});n(p,"getStartValue",p.w9,{w9:0});n(p,"setHighlightStyle",p.Gab,{Gab:0});n(p,"getHighlightStyle",p.U6a,{U6a:0});n(p,"setLogStartValue",p.SOc,{SOc:0});l(b+"."+a+"."+c+".LineChart",_geo.geotoolkit.controls.shapes.u6);l(b+"."+a+"."+c+".LineChart.OptimizationType",_geo.geotoolkit.controls.shapes.u6.Zs);l(b+"."+a+"."+c+".LineChart.OptimizationType.FilterClosePoints",(r=_geo.geotoolkit.controls.shapes.u6.Zs).XN);l(b+"."+a+"."+c+".LineChart.OptimizationType.RDP",
r.hB);l(b+"."+a+"."+c+".LineChart.DataInterpolationType",_geo.geotoolkit.controls.shapes.u6.GWa);l(b+"."+a+"."+c+".LineChart.DataInterpolationType.InterpolateZero",(r=_geo.geotoolkit.controls.shapes.u6.GWa).yJa);l(b+"."+a+"."+c+".LineChart.DataInterpolationType.InterpolateNull",r.CXa);l(b+"."+a+"."+c+".LineChart.DataInterpolationType.InterpolateMissingValues",r.Seb);n(p=_geo.geotoolkit.controls.shapes.u6.prototype,"setOptimizationType",p.gF,{gF:0});n(p,"setOptimization",p.nC,{nC:0});n(p,"setOptimizationSymbol",
p.yHa,{yHa:0});n(p,"getData",p.getData,{getData:0});n(p,"setData",p.setData,{setData:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"renderContent",p.Qh,{Qh:0});n(p,"setGridStyle",p.XNc,{XNc:0});n(p,"getGrid",p.Ou,{Ou:0});n(p,"hitTest",p.Un,{Un:0});n(p,"getAutoDataLimits",p.YPa,{YPa:0});n(p,"setAutoDataLimits",p.lab,{lab:0});n(p,"getDataLimits",p.Ml,{Ml:0});
n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+c+".RegressionLine",(r=_geo.geotoolkit.controls.shapes).WEb);n(p=_geo.geotoolkit.controls.shapes.WEb.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"getBounds",p.ga,{ga:0});n(p,"setProperties",p.ja,{ja:0});n(p,"getProperties",p.ka,{ka:0});n(p,"getRegressionModelOptions",p.CWb,{CWb:0});n(p,"getOptions",p.jb,{jb:0});
n(p,"setExtended",p.V2b,{V2b:0});n(p,"setPlotInterval",p.f5b,{f5b:0});n(p,"setData",p.setData,{setData:0});n(p,"getStatistics",p.so,{so:0});n(p,"render",p.render,{render:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"getRegressionModel",p.BWb,{BWb:0});l(b+"."+a+"."+c+".CrossPlot",r.d6);n(p=_geo.geotoolkit.controls.shapes.d6.prototype,"setData",p.setData,{setData:0});n(p,"getData",p.getData,{getData:0});n(p,"getColorProvider",p.zn,{zn:0});n(p,"isEmpty",p.isEmpty,{isEmpty:0});n(p,"updateState",p.Pa,
{Pa:0});n(p,"updateLimits",p.vi,{vi:0});n(p,"setSymbolPainter",p.xQc,{xQc:0});n(p,"getSymbolPainter",p.LEc,{LEc:0});n(p,"render",p.render,{render:0});n(p,"isClippingEnabled",p.LA,{LA:0});n(p,"enableClipping",p.Qf,{Qf:0});n(p,"drawCanvasPoints",p.sRb,{sRb:0});n(p,"pushSymbol",p.r$a,{r$a:0});n(p,"getHighlightedIndices",p.V6a,{V6a:0});n(p,"highlightArea",p.t8a,{t8a:0});n(p,"highlightIndices",p.VP,{VP:0});n(p,"getIndicesAt",p.HP,{HP:0});n(p,"getPointsAt",p.oWb,{oWb:0});n(p,"getProperties",p.ka,{ka:0});
l(b+"."+a+"."+c+"."+f+"",r.cE);l(b+"."+a+"."+c+"."+f+"."+g+"",_geo.geotoolkit.controls.shapes.cE.$);l(b+"."+a+"."+c+"."+f+"."+g+".ColumnWidthChanging",(r=_geo.geotoolkit.controls.shapes.cE.$).W9b);l(b+"."+a+"."+c+"."+f+"."+g+".ColumnWidthChanged",r.QIa);n(p=_geo.geotoolkit.controls.shapes.cE.prototype,"setTableBounds",p.dL,{dL:0});n(p,"measureTableSize",p.p9a,{p9a:0});n(p,"getColumnWidth",p.RDa,{RDa:0});n(p,"setColumnWidth",p.jHa,{jHa:0});n(p,"fitToWidth",p.DM,{DM:0});n(p,"setBounds",p.Ea,{Ea:0});
n(p,"getVisibleTableModelLimits",p.B9,{B9:0});n(p,"getContentTableBounds",p.WDa,{WDa:0});n(p,"getHeaderBounds",p.wQa,{wQa:0});n(p,"getFixedTableBounds",p.qQa,{qQa:0});n(p,"getTableSize",p.y9,{y9:0});n(p,"getVisibleTableLimits",p.g_,{g_:0});n(p,"setVisibleTableLimits",p.w5,{w5:0});n(p,"getTableBounds",p.zRa,{zRa:0});n(p,"translateTable",p.C5,{C5:0});n(p,"adjustTable",p.asa,{asa:0});n(p,"setData",p.setData,{setData:0});n(p,"setIndexTitle",p.Iab,{Iab:0});n(p,"setContentMeasure",p.t2b,{t2b:0});n(p,"setContentPrepare",
p.u2b,{u2b:0});n(p,"setContentProvider",p.v2b,{v2b:0});n(p,"setContentFormatProvider",p.s2b,{s2b:0});n(p,"setHeaderProvider",p.wt,{wt:0});n(p,"setHeaderFormatProvider",p.r3b,{r3b:0});n(p,"setIndexPrepare",p.G3b,{G3b:0});n(p,"setIndexProvider",p.H3b,{H3b:0});n(p,"setIndexFormatProvider",p.F3b,{F3b:0});n(p,"setMarkerProvider",p.p4b,{p4b:0});n(p,"prepareContent",p.VSa,{VSa:0});n(p,"getContentData",p.nta,{nta:0});n(p,"getHeaderData",p.uS,{uS:0});n(p,"prepareIndex",p.Ovb,{Ovb:0});n(p,"getIndexData",p.Rrb,
{Rrb:0});n(p,"getMarkerData",p.GVb,{GVb:0});n(p,"setActiveRow",p.hab,{hab:0});n(p,"setActiveRows",p.Kva,{Kva:0});n(p,"getActiveRow",p.Z5a,{Z5a:0});n(p,"getActiveRows",p.BP,{BP:0});n(p,"highlightRow",p.lua,{lua:0});n(p,"getHighlightedRow",p.V3,{V3:0});n(p,"highlightColumn",p.ifa,{ifa:0});n(p,"getHighlightedColumn",p.FV,{FV:0});n(p,"resolveCellCoordinate",p.KI,{KI:0});n(p,"getCellBounds",p.Tka,{Tka:0});l(b+"."+a+"."+c+".ColorBarLocation",_geo.geotoolkit.controls.shapes.wq);l(b+"."+a+"."+c+".ColorBarLocation.North",
(r=_geo.geotoolkit.controls.shapes.wq).Se);l(b+"."+a+"."+c+".ColorBarLocation.East",r.pd);l(b+"."+a+"."+c+".ColorBarLocation.South",r.Yc);l(b+"."+a+"."+c+".ColorBarLocation.West",r.Rc);l(b+"."+a+"."+c+".ColorBar",(r=_geo.geotoolkit.controls.shapes).Z5);n(p=_geo.geotoolkit.controls.shapes.Z5.prototype,"clone",p.clone,{clone:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"updateLayout",p.xb,{xb:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});
n(p,"getTickGenerator",p.Fe,{Fe:0});n(p,"setTickGenerator",p.Vg,{Vg:0});n(p,"getPointAtValue",p.lWb,{lWb:0});l(b+"."+a+"."+c+".PolarGrid",r.vYa);n(p=_geo.geotoolkit.controls.shapes.vYa.prototype,"setSectors",p.ZPc,{ZPc:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"modelToOuterRadius",p.SE,{SE:0});n(p,"render",p.render,{render:0});n(p,"drawSectors",p.ARb,{ARb:0});n(p,"drawAngleGrid",p.qRb,{qRb:0});n(p,"drawAngleAxis",p.FPa,{FPa:0});n(p,"drawAngleAxisRegular",
p.qDa,{qDa:0});n(p,"drawAngleAxisAlongCircumference",p.pDa,{pDa:0});n(p,"drawValueGrid",p.BRb,{BRb:0});n(p,"polarToCartesian",p.w_,{w_:0});n(p,"cartesianToPolar",p.J4a,{J4a:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+c+".PolarChart",r.xfc);n(p=_geo.geotoolkit.controls.shapes.xfc.prototype,"setModelRadius",p.abb,{abb:0});n(p,"getModelRadius",p.D7a,{D7a:0});n(p,"setData",p.setData,{setData:0});n(p,"getBounds",p.ga,{ga:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setBounds",
p.Ea,{Ea:0});n(p,"resetHighlighting",p.KLc,{KLc:0});n(p,"highlightIndices",p.VP,{VP:0});n(p,"hitTest",p.Un,{Un:0});n(p,"render",p.render,{render:0});n(p,"polarToCartesian",p.w_,{w_:0});n(p,"modelToOuterRadius",p.SE,{SE:0});l(b+"."+a+"."+c+".PolarCrossPlot",r.yfc);n(p=_geo.geotoolkit.controls.shapes.yfc.prototype,"setData",p.setData,{setData:0});n(p,"polarToCartesian",p.w_,{w_:0});n(p,"cartesianToPolar",p.J4a,{J4a:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+
c+".RoseChart",r.sgb);l(b+"."+a+"."+c+".RoseChart.RoseMode",_geo.geotoolkit.controls.shapes.sgb.cR);l(b+"."+a+"."+c+".RoseChart.RoseMode.Bar",(r=_geo.geotoolkit.controls.shapes.sgb.cR).qAb);l(b+"."+a+"."+c+".RoseChart.RoseMode."+e+"",r.pl);l(b+"."+a+"."+c+".RoseChart.RoseMode.Slices",r.Hha);n(p=_geo.geotoolkit.controls.shapes.sgb.prototype,"setFillStyles",p.I_,{I_:0});n(p,"getFillStyles",p.sS,{sS:0});n(p,"getFillStyle",p.sb,{sb:0});n(p,"getFillStylesCount",p.Crb,{Crb:0});n(p,"setLineStyles",p.Gxb,
{Gxb:0});n(p,"getLineStyles",p.zVb,{zVb:0});n(p,"getLineStyle",p.Xa,{Xa:0});n(p,"getLineStylesCount",p.nsb,{nsb:0});n(p,"setValues",p.setValues,{setValues:0});n(p,"setRoseMode",p.TPc,{TPc:0});n(p,"getRoseMode",p.SDc,{SDc:0});n(p,"setModelRadius",p.abb,{abb:0});n(p,"getModelRadius",p.D7a,{D7a:0});n(p,"setData",p.setData,{setData:0});n(p,"getOptions",p.jb,{jb:0});n(p,"getBinCount",p.CP,{CP:0});n(p,"setBinCount",p.gT,{gT:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"getBounds",p.ga,{ga:0});n(p,"render",p.render,
{render:0});n(p,"modelToOuterRadius",p.SE,{SE:0});l(b+"."+a+"."+c+".DonutChart",_geo.geotoolkit.controls.shapes.Kz);n(p=_geo.geotoolkit.controls.shapes.Kz.prototype,"setData",p.setData,{setData:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setOptions",p.setOptions,{setOptions:0});l(b+"."+a+"."+c+".DonutChart.PieMode",_geo.geotoolkit.controls.shapes.Kz.Poa);l(b+"."+a+"."+c+".DonutChart.PieMode.Pie2D",(r=_geo.geotoolkit.controls.shapes.Kz.Poa).xEb);l(b+"."+a+"."+c+".DonutChart.PieMode.Pie3D",r.qYa);l(b+"."+
a+"."+c+".DonutChart.ModelLimitsMode",_geo.geotoolkit.controls.shapes.Kz.UJa);l(b+"."+a+"."+c+".DonutChart.ModelLimitsMode.Radius",(r=_geo.geotoolkit.controls.shapes.Kz.UJa).Sfc);l(b+"."+a+"."+c+".DonutChart.ModelLimitsMode.Padded",r.Wec);l(b+"."+a+"."+c+".DonutChart.ModelLimitsMode.Dynamic",r.lac);l(b+"."+a+"."+c+".DonutChart.ModelLimitsMode.Auto",r.RD);l(b+"."+a+"."+c+".DonutChart.DataMode",_geo.geotoolkit.controls.shapes.Kz.yC);l(b+"."+a+"."+c+".DonutChart.DataMode.Raw",(r=_geo.geotoolkit.controls.shapes.Kz.yC).c1);
l(b+"."+a+"."+c+".DonutChart.DataMode.Associative",r.Jga);l(b+"."+a+"."+c+".DonutChart.LabelLocation",_geo.geotoolkit.controls.shapes.Kz.LT);l(b+"."+a+"."+c+".DonutChart.LabelLocation.Inside",(r=_geo.geotoolkit.controls.shapes.Kz.LT).Qk);l(b+"."+a+"."+c+".DonutChart.LabelLocation.Outside",r.dr);l(b+"."+a+"."+c+".DonutChart.LabelDirection",_geo.geotoolkit.controls.shapes.Kz.jya);l(b+"."+a+"."+c+".DonutChart.LabelDirection.Horizontal",(r=_geo.geotoolkit.controls.shapes.Kz.jya).ic);l(b+"."+a+"."+c+".DonutChart.LabelDirection.Radial",
r.QEb);l(b+"."+a+"."+c+".DonutChart.Direction",_geo.geotoolkit.controls.shapes.Kz.le);l(b+"."+a+"."+c+".DonutChart.Direction.Clockwise",(r=_geo.geotoolkit.controls.shapes.Kz.le).xdb);l(b+"."+a+"."+c+".DonutChart.Direction.CounterClockwise",r.fVc);l(b+"."+a+"."+c+".DonutChart.DataOrder",_geo.geotoolkit.controls.shapes.Kz.bk);l(b+"."+a+"."+c+".DonutChart.DataOrder.Ascending",(r=_geo.geotoolkit.controls.shapes.Kz.bk).lF);l(b+"."+a+"."+c+".DonutChart.DataOrder.Descending",r.dH);l(b+"."+a+"."+c+".DonutChart.DataOrder.Natural",
r.zdc);n(p,"renderContent",p.Qh,{Qh:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"checkCollision",p.ie,{ie:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});n(p,"getSlicesCount",p.sEc,{sEc:0});n(p,"getSliceByIndex",p.qEc,{qEc:0});n(p,"selectSlicesAt",p.pMc,{pMc:0});n(p,"highlightSlices",p.QXb,{QXb:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+c+".TornadoChart",_geo.geotoolkit.controls.shapes.nba);l(b+"."+a+"."+c+".TornadoChart.SortMode",_geo.geotoolkit.controls.shapes.nba.NKa);
l(b+"."+a+"."+c+".TornadoChart.SortMode.MaxToMin",(r=_geo.geotoolkit.controls.shapes.nba.NKa).kdc);l(b+"."+a+"."+c+".TornadoChart.SortMode.MinToMax",r.rdc);l(b+"."+a+"."+c+".TornadoChart.SortMode.None",r.None);l(b+"."+a+"."+c+".TornadoChart.TextPlacement",_geo.geotoolkit.controls.shapes.nba.UKa);l(b+"."+a+"."+c+".TornadoChart.TextPlacement.Inside",(r=_geo.geotoolkit.controls.shapes.nba.UKa).Qk);l(b+"."+a+"."+c+".TornadoChart.TextPlacement.Outside",r.dr);l(b+"."+a+"."+c+".TornadoChart.TextPlacement.Center",
r.lb);n(p=_geo.geotoolkit.controls.shapes.nba.prototype,"setData",p.setData,{setData:0});n(p,"sortData",p.Lyb,{Lyb:0});n(p,"getTicksAndLabels",p.e8a,{e8a:0});n(p,"setAutoGradient",p.Wma,{Wma:0});n(p,"getAutoGradient",p.cta,{cta:0});n(p,"setSpacing",p.FUa,{FUa:0});n(p,"getSpacing",p.YZ,{YZ:0});n(p,"setDrawLabels",p.JNc,{JNc:0});n(p,"getDrawLabels",p.Hzc,{Hzc:0});n(p,"setLabelPosition",p.du,{du:0});n(p,"getLabelPosition",p.j9,{j9:0});n(p,"getData",p.getData,{getData:0});n(p,"render",p.render,{render:0});
n(p,"setRightLineStyle",p.fyb,{fyb:0});n(p,"setLeftLineStyle",p.Dxb,{Dxb:0});n(p,"setRightFillStyle",p.fwa,{fwa:0});n(p,"getRightLineStyle",p.RDc,{RDc:0});n(p,"getLeftLineStyle",p.MBc,{MBc:0});n(p,"getRightFillStyle",p.Q7a,{Q7a:0});n(p,"getLeftFillStyle",p.m7a,{m7a:0});n(p,"setLeftFillStyle",p.$va,{$va:0});n(p,"setLeftTextStyle",p.Exb,{Exb:0});n(p,"setRightTextStyle",p.gyb,{gyb:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"getSort",p.uEc,{uEc:0});n(p,"setSort",p.N5b,{N5b:0});n(p,"getBounds",p.ga,{ga:0});
n(p,"setBounds",p.Ea,{Ea:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+c+".BarChart",_geo.geotoolkit.controls.shapes.s0);l(b+"."+a+"."+c+".BarChart.BarMode",_geo.geotoolkit.controls.shapes.s0.S5);l(b+"."+a+"."+c+".BarChart.BarMode.Default",(r=_geo.geotoolkit.controls.shapes.s0.S5).AC);l(b+"."+a+"."+c+".BarChart.BarMode.Stacked",r.WYa);l(b+"."+a+"."+c+".BarChart.BarMode.Float",r.i6);l(b+"."+a+"."+c+".BarChart.DataMode",_geo.geotoolkit.controls.shapes.s0.yC);l(b+
"."+a+"."+c+".BarChart.DataMode.Raw",(r=_geo.geotoolkit.controls.shapes.s0.yC).c1);l(b+"."+a+"."+c+".BarChart.DataMode.Associative",r.Jga);l(b+"."+a+"."+c+".BarChart.DataMode.Single",r.fR);l(b+"."+a+"."+c+".BarChart.BarValueLocation",_geo.geotoolkit.controls.shapes.s0.KQ);l(b+"."+a+"."+c+".BarChart.BarValueLocation.TopOutside",(r=_geo.geotoolkit.controls.shapes.s0.KQ).XKa);l(b+"."+a+"."+c+".BarChart.BarValueLocation.TopInside",r.iZa);l(b+"."+a+"."+c+".BarChart.BarValueLocation.BottomInside",r.bWa);
l(b+"."+a+"."+c+".BarChart.BarValueLocation.Center",r.lb);l(b+"."+a+"."+c+".BarChart.Orientation",_geo.geotoolkit.controls.shapes.s0.Mb);l(b+"."+a+"."+c+".BarChart.Orientation.Bottom",(r=_geo.geotoolkit.controls.shapes.s0.Mb).Zf);l(b+"."+a+"."+c+".BarChart.Orientation.Left",r.wd);l(b+"."+a+"."+c+".BarChart.Orientation.Top",r.Ub);l(b+"."+a+"."+c+".BarChart.Orientation.Right",r.$c);n(p=_geo.geotoolkit.controls.shapes.s0.prototype,"setData",p.setData,{setData:0});n(p,"setOptions",p.setOptions,{setOptions:0});
l(b+"."+a+"."+c+".BarChart.getNeatMinValue",(r=_geo.geotoolkit.controls.shapes.s0).cfd);l(b+"."+a+"."+c+".BarChart.getNeatMaxValue",r.bfd);n(p,"selectBarsAt",p.ETa,{ETa:0});n(p,"highlightBars",p.WRa,{WRa:0});n(p,"setFormatLabelHandler",p.Qs,{Qs:0});n(p,"renderContent",p.Qh,{Qh:0});l(b+"."+a+"."+c+".Box",(r=_geo.geotoolkit.controls.shapes).qxa);n(p=_geo.geotoolkit.controls.shapes.qxa.prototype,"getBounds",p.ga,{ga:0});n(p,"render",p.render,{render:0});n(p,"setData",p.setData,{setData:0});n(p,"getData",
p.getData,{getData:0});n(p,"setOutliersVisible",p.X4b,{X4b:0});n(p,"getOutliersVisible",p.bDc,{bDc:0});n(p,"setHorizontal",p.w3b,{w3b:0});n(p,"isHorizontal",p.gk,{gk:0});n(p,"setPrimaryFillStyle",p.vUa,{vUa:0});n(p,"getPrimaryFillStyle",p.sDc,{sDc:0});n(p,"setSecondaryFillStyle",p.DUa,{DUa:0});n(p,"getSecondaryFillStyle",p.eEc,{eEc:0});n(p,"setConnectedLinePattern",p.p2b,{p2b:0});n(p,"getConnectedLinePattern",p.Oyc,{Oyc:0});n(p,"setProperties",p.ja,{ja:0});n(p,"getProperties",p.ka,{ka:0});l(b+"."+
a+"."+c+".BoxPlot",r.coa);l(b+"."+a+"."+c+".BoxPlot.DataMode",_geo.geotoolkit.controls.shapes.coa.yC);l(b+"."+a+"."+c+".BoxPlot.DataMode.Raw",(r=_geo.geotoolkit.controls.shapes.coa.yC).c1);l(b+"."+a+"."+c+".BoxPlot.DataMode.Associative",r.Jga);l(b+"."+a+"."+c+".BoxPlot.Orientation",_geo.geotoolkit.controls.shapes.coa.Mb);l(b+"."+a+"."+c+".BoxPlot.Orientation.Horizontal",(r=_geo.geotoolkit.controls.shapes.coa.Mb).ic);l(b+"."+a+"."+c+".BoxPlot.Orientation.Vertical",r.$b);l(b+"."+a+"."+c+".BoxPlot.BoxValueLocation",
_geo.geotoolkit.controls.shapes.coa.NIa);l(b+"."+a+"."+c+".BoxPlot.BoxValueLocation.Top",(r=_geo.geotoolkit.controls.shapes.coa.NIa).Ub);l(b+"."+a+"."+c+".BoxPlot.BoxValueLocation.Below",r.bdb);l(b+"."+a+"."+c+".BoxPlot.BoxValueLocation.Left",r.wd);l(b+"."+a+"."+c+".BoxPlot.BoxValueLocation.Right",r.$c);n(p=_geo.geotoolkit.controls.shapes.coa.prototype,"getBounds",p.ga,{ga:0});n(p,"setData",p.setData,{setData:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"isHorizontal",p.gk,{gk:0});n(p,"setModelLimits",
p.Sa,{Sa:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"getProcessedDatasets",p.vDc,{vDc:0});n(p,"calculateAbsWidth",p.$Ob,{$Ob:0});n(p,"render",p.render,{render:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+c+".BubbleChart",_geo.geotoolkit.controls.shapes.nL);l(b+"."+a+"."+c+".BubbleChart.LabelLocation",_geo.geotoolkit.controls.shapes.nL.LT);l(b+"."+a+"."+c+".BubbleChart.LabelLocation.Top",(r=_geo.geotoolkit.controls.shapes.nL.LT).Ub);l(b+"."+a+"."+c+".BubbleChart.LabelLocation.Bottom",r.Zf);
l(b+"."+a+"."+c+".BubbleChart.LabelLocation.Center",r.lb);n(p=_geo.geotoolkit.controls.shapes.nL.prototype,"getData",p.getData,{getData:0});n(p,"addData",p.sP,{sP:0});n(p,"removeData",p.JGa,{JGa:0});n(p,"setParentBounds",p.cwa,{cwa:0});n(p,"getParentBounds",p.fDc,{fDc:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"getBounds",p.ga,{ga:0});n(p,"updateState",p.Pa,{Pa:0});n(p,"updateLimits",p.vi,{vi:0});n(p,"initializeCache",p.hYb,{hYb:0});n(p,"invalidateCache",p.uFa,{uFa:0});n(p,"setActive",p.setActive,{setActive:0});
n(p,"render",p.render,{render:0});n(p,"preDrawSymbols",p.e0b,{e0b:0});n(p,"renderText",p.O$a,{O$a:0});n(p,"getIndicesAt",p.HP,{HP:0});l(b+"."+a+"."+c+".BubbleChart.QuadForBubble",_geo.geotoolkit.controls.shapes.nL.MEb);n(p=_geo.geotoolkit.controls.shapes.nL.MEb.prototype,"addChild",p.va,{va:0});n(p,"removeAt",p.IGa,{IGa:0});n(p,"getElement",p.jj,{jj:0});l(b+"."+a+"."+c+".HeatMap",_geo.geotoolkit.controls.shapes.Oaa);l(b+"."+a+"."+c+".HeatMap.PlotType",_geo.geotoolkit.controls.shapes.Oaa.dv);l(b+"."+
a+"."+c+".HeatMap.PlotType.Step",(r=_geo.geotoolkit.controls.shapes.Oaa.dv).tH);l(b+"."+a+"."+c+".HeatMap.PlotType.LinearInbound",r.Saa);l(b+"."+a+"."+c+".HeatMap.PlotType.LinearLoop",r.Taa);l(b+"."+a+"."+c+".HeatMap.PlotType.LinearMirror",r.kfb);n(p=_geo.geotoolkit.controls.shapes.Oaa.prototype,"getModelLimits",p.xa,{xa:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"getBounds",p.ga,{ga:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setKeepModelLimits",p.U3b,{U3b:0});
n(p,"isKeepModelLimits",p.BYb,{BYb:0});n(p,"setModelOffset",p.E4b,{E4b:0});n(p,"getModelOffset",p.xsb,{xsb:0});n(p,"setMinMax",p.rUa,{rUa:0});n(p,"setColorProvider",p.UA,{UA:0});n(p,"getColorProvider",p.zn,{zn:0});n(p,"setColPlotMode",p.j2b,{j2b:0});n(p,"getColumnPlotMode",p.grb,{grb:0});n(p,"setRowPlotMode",p.u5b,{u5b:0});n(p,"getRowPlotMode",p.etb,{etb:0});n(p,"setData",p.setData,{setData:0});n(p,"render",p.render,{render:0});n(p,"drawLabels",p.yM,{yM:0});n(p,"setLabelsVisible",p.tHa,{tHa:0});n(p,
"isLabelsVisible",p.rHc,{rHc:0});n(p,"setLabelsTextStyle",p.c4b,{c4b:0});n(p,"getLabelsTextStyle",p.rVb,{rVb:0});n(p,"hitTest",p.Un,{Un:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+c+".PieChart",(r=_geo.geotoolkit.controls.shapes).ffc);n(p=_geo.geotoolkit.controls.shapes.ffc.prototype,"setOptions",p.setOptions,{setOptions:0});l(b+"."+a+"."+c+".RadarChart",r.Rfc);n(p=_geo.geotoolkit.controls.shapes.Rfc.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,
"modelToOuterRadius",p.SE,{SE:0});n(p,"setContent",p.qab,{qab:0});n(p,"getContent",p.xv,{xv:0});n(p,"render",p.render,{render:0});n(p,"renderContent",p.Qh,{Qh:0});n(p,"drawLabels",p.yM,{yM:0});n(p,"drawAngleAxisRegular",p.qDa,{qDa:0});n(p,"drawAngleAxisAlongCircumference",p.pDa,{pDa:0});n(p,"polarToCartesian",p.w_,{w_:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});l(b+"."+a+"."+c+".Treemap",r.qba);l(b+"."+a+"."+c+".Treemap.LayoutMode",_geo.geotoolkit.controls.shapes.qba.dO);
l(b+"."+a+"."+c+".Treemap.LayoutMode.Squarify",(r=_geo.geotoolkit.controls.shapes.qba.dO).PKa);l(b+"."+a+"."+c+".Treemap.LayoutMode.HorizontalSliceAndDice",r.Geb);l(b+"."+a+"."+c+".Treemap.LayoutMode.VerticalSliceAndDice",r.Chb);l(b+"."+a+"."+c+".Treemap.LayoutMode.AlternateSliceAndDice",r.Jcb);l(b+"."+a+"."+c+".Treemap.NodeValueLocation",_geo.geotoolkit.controls.shapes.qba.fEb);l(b+"."+a+"."+c+".Treemap.NodeValueLocation.Top",(r=_geo.geotoolkit.controls.shapes.qba.fEb).Ub);l(b+"."+a+"."+c+".Treemap.NodeValueLocation.Below",
r.bdb);l(b+"."+a+"."+c+".Treemap.NodeValueLocation.Left",r.wd);l(b+"."+a+"."+c+".Treemap.NodeValueLocation.Right",r.$c);l(b+"."+a+"."+c+".Treemap."+g+"",_geo.geotoolkit.controls.shapes.qba.$);l(b+"."+a+"."+c+".Treemap."+g+".DataChanged",_geo.geotoolkit.controls.shapes.qba.$.yBb);n(p=_geo.geotoolkit.controls.shapes.qba.prototype,"setLayoutMode",p.KOc,{KOc:0});n(p,"getLayoutMode",p.JBc,{JBc:0});n(p,"setData",p.setData,{setData:0});n(p,"getData",p.getData,{getData:0});n(p,"updateDataSets",p.JSc,{JSc:0});
n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"render",p.render,{render:0});n(p,"lookUpForIdByName",p.bIc,{bIc:0});n(p,"hitTest",p.Un,{Un:0});n(p,"showLevel",p.Hyb,{Hyb:0});n(p,"showParentLevelAtDistance",p.lRc,{lRc:0});l(b+"."+a+"."+c+".Callout",(r=_geo.geotoolkit.controls.shapes).I9b);n(p=_geo.geotoolkit.controls.shapes.I9b.prototype,"checkCollision",p.ie,{ie:0});n(p,"setTarget",p.fu,{fu:0});n(p,"getTextStyle",p.Ib,{Ib:0});n(p,"setTextStyle",p.wb,{wb:0});n(p,"setText",
p.jc,{jc:0});n(p,"getText",p.me,{me:0});n(p,"setBorderRadius",p.PMc,{PMc:0});n(p,"render",p.render,{render:0});l(b+"."+a+"."+c+".PyramidChart",r.Jfc);n(p=_geo.geotoolkit.controls.shapes.Jfc.prototype,"setData",p.setData,{setData:0});n(p,"setProperties",p.ja,{ja:0});n(p,"getProperties",p.ka,{ka:0});n(p,"getData",p.getData,{getData:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"getSectionInfo",p.fEc,{fEc:0});n(p,"highlight",p.fN,{fN:0});n(p,"hitTest",p.Un,{Un:0});l(b+"."+
a+"."+c+".painters.AbstractSymbolMap",_geo.geotoolkit.controls.shapes.hc.B8b);l(b+"."+a+"."+c+".Legend",(r=_geo.geotoolkit.controls.shapes).QXa);n(p=_geo.geotoolkit.controls.shapes.QXa.prototype,"setPaddingStyle",p.cL,{cL:0});n(p,"getPaddingStyle",p.nz,{nz:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getData",p.getData,{getData:0});n(p,"rebuild",p.yg,{yg:0});n(p,"setBounds",p.Ea,{Ea:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"render",p.render,{render:0});n(p,"renderContent",p.Qh,{Qh:0});
n(p,"getLegendDeviceSize",p.tVb,{tVb:0});n(p,"enumerateNodes",p.Xk,{Xk:0});n(p,"addChild",p.va,{va:0});n(p,"getChildren",p.Ji,{Ji:0});n(p,"removeChild",p.removeChild,{removeChild:0});n(p,"clearChildren",p.jh,{jh:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"isClippingEnabled",p.LA,{LA:0});n(p,"enableClipping",p.Qf,{Qf:0});n(p,"getModelLimits",p.xa,{xa:0});n(p,"setLayout",p.pe,{pe:0});n(p,"getLayout",p.Le,{Le:0});n(p,"updateLayout",p.xb,{xb:0});n(p,"setAutoModelLimitsMode",p.Ad,{Ad:0});n(p,"getAutoModelLimitsMode",
p.iz,{iz:0});n(p,"setFillStyle",p.ta,{ta:0});n(p,"setLineStyle",p.ua,{ua:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});n(p,"setLayoutStyle",p.pb,{pb:0});n(p,"getLayoutStyle",p.Sc,{Sc:0});n(p,"getDesiredWidth",p.yl,{yl:0});n(p,"setDesiredWidth",p.Ul,{Ul:0});n(p,"getDesiredHeight",p.mf,{mf:0});n(p,"setDesiredHeight",p.zk,{zk:0});l(b+"."+a+"."+c+".LegendItem",r.kH);l(b+"."+a+"."+c+".LegendItem."+g+"",_geo.geotoolkit.controls.shapes.kH.$);l(b+"."+a+"."+c+".LegendItem."+g+".Change",
_geo.geotoolkit.controls.shapes.kH.$.Iy);n(p=_geo.geotoolkit.controls.shapes.kH.prototype,"getObject",p.Ed,{Ed:0});n(p,"setObject",p.VI,{VI:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"updateGeometry",p.uh,{uh:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+c+".SymbolLegendItem",(r=_geo.geotoolkit.controls.shapes).zFb);n(p=_geo.geotoolkit.controls.shapes.zFb.prototype,"copyConstructor",p.$a,{$a:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setOptions",p.setOptions,{setOptions:0});l(b+"."+
a+"."+c+".ShapeLegendAdapter",r.rO);n(p=_geo.geotoolkit.controls.shapes.rO.prototype,"getObject",p.Ed,{Ed:0});n(p,"createLegendItems",p.vPa,{vPa:0});l(b+"."+a+"."+c+".ShapeLegendAdapter."+g+"",_geo.geotoolkit.controls.shapes.rO.$);l(b+"."+a+"."+c+".ShapeLegendAdapter."+g+".LegendItemOptionsChanged",(r=_geo.geotoolkit.controls.shapes.rO.$).efb);l(b+"."+a+"."+c+".ShapeLegendAdapter."+g+".LegendSourceStateChanged",r.ffb);n(p,"getLegendItemOptions",p.uVb,{uVb:0});n(p,"setLegendItemOptions",p.NOc,{NOc:0});
n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+c+".DonutChartLegendAdapter",_geo.geotoolkit.controls.shapes.dac);n(p=_geo.geotoolkit.controls.shapes.dac.prototype,"createLegendItems",p.vPa,{vPa:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".BaseEventArgs",(r=_geo.geotoolkit.controls.ia).uaa);n(p=_geo.geotoolkit.controls.ia.uaa.prototype,"getEventName",p.iD,{iD:0});n(p,"stopPropagation",p.stopPropagation,{stopPropagation:0});n(p,"preventDefault",p.preventDefault,{preventDefault:0});
n(p,"isCanceled",p.tz,{tz:0});n(p,"isPreventDefault",p.R8a,{R8a:0});l(b+"."+a+"."+k+".EventArgs",r.Maa);n(p=_geo.geotoolkit.controls.ia.Maa.prototype,"getPlotPoint",p.jm,{jm:0});n(p,"getPlot",p.ii,{ii:0});n(p,"getNode",p.il,{il:0});n(p,"getNativeEventArgs",p.th,{th:0});n(p,"stopPropagation",p.stopPropagation,{stopPropagation:0});n(p,"inPlot",p.nFa,{nFa:0});l(b+"."+a+"."+k+".ProxyEventArgs",r.ev);n(p=_geo.geotoolkit.controls.ia.ev.prototype,"getNode",p.il,{il:0});n(p,"getPlot",p.ii,{ii:0});n(p,"getPlotPoint",
p.jm,{jm:0});n(p,"getEventName",p.iD,{iD:0});n(p,"getNativeEventArgs",p.th,{th:0});n(p,"stopPropagation",p.stopPropagation,{stopPropagation:0});n(p,"isCanceled",p.tz,{tz:0});n(p,"inPlot",p.nFa,{nFa:0});l(b+"."+a+"."+k+".RejectableEventArgs",r.tKa);n(p=_geo.geotoolkit.controls.ia.tKa.prototype,"setTarget",p.fu,{fu:0});n(p,"getTarget",p.SP,{SP:0});n(p,"reject",p.reject,{reject:0});n(p,"isRejected",p.T8a,{T8a:0});l(b+"."+a+"."+k+".EventHandler",r.neb);n(p=_geo.geotoolkit.controls.ia.neb.prototype,"getCompositeTool",
p.uTb,{uTb:0});n(p,"getEventName",p.iD,{iD:0});n(p,"getObject",p.Ed,{Ed:0});n(p,"getTool",p.ld,{ld:0});n(p,"isEnabled",p.isEnabled,{isEnabled:0});n(p,"setEnabled",p.cc,{cc:0});n(p,"execute",p.Hh,{Hh:0});l(b+"."+a+"."+k+".AbstractTool",r.fc);l(b+"."+a+"."+k+".AbstractTool."+g+"",_geo.geotoolkit.controls.ia.fc.$);l(b+"."+a+"."+k+".AbstractTool."+g+".onStateChanged",(r=_geo.geotoolkit.controls.ia.fc.$).Uu);l(b+"."+a+"."+k+".AbstractTool."+g+".onEnabledStateChanged",r.Xn);l(b+"."+a+"."+k+".AbstractTool."+
g+".onEnter",r.bva);l(b+"."+a+"."+k+".AbstractTool."+g+".onLeave",r.M4);n(p=_geo.geotoolkit.controls.ia.fc.prototype,"setSlots",p.K5b,{K5b:0});n(p,"getSlots",p.tEc,{tEc:0});n(p,"attachToPlot",p.gy,{gy:0});l(b+"."+a+"."+k+".AbstractTool.lock",(r=_geo.geotoolkit.controls.ia.fc).Mi);l(b+"."+a+"."+k+".AbstractTool.unlock",r.UW);l(b+"."+a+"."+k+".AbstractTool.getExclusiveTool",r.L6a);n(p,"setSlotEnabled",p.Yu,{Yu:0});n(p,"setName",p.yb,{yb:0});n(p,"getName",p.getName,{getName:0});n(p,"getManipulatorLayer",
p.Bh,{Bh:0});n(p,"captureMouseUp",p.Yob,{Yob:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"isTouchEvent",p.qG,{qG:0});n(p,"getAbsolutePosition",p.EZ,{EZ:0});n(p,"pageToCanvas",p.UK,{UK:0});n(p,"pointToModel",p.Qe,{Qe:0});n(p,"addListener",p.addListener,{addListener:0});n(p,"removeListener",p.removeListener,{removeListener:0});n(p,"getListenersForEvent",p.o7a,{o7a:0});n(p,"fireEvent",p.fireEvent,{fireEvent:0});n(p,"setEnabled",p.cc,{cc:0});n(p,"isEnabled",p.isEnabled,{isEnabled:0});n(p,"toggle",p.toggle,
{toggle:0});n(p,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});n(p,"setActive",p.setActive,{setActive:0});n(p,"isActive",p.wf,{wf:0});n(p,"onActiveStateChanged",p.uj,{uj:0});n(p,"onEnabledStateChanged",p.Xn,{Xn:0});n(p,"getCompositeTools",p.u6a,{u6a:0});n(p,"on",p.kb,{kb:0});n(p,"off",p.hb,{hb:0});n(p,"getEventHandlers",p.Wzc,{Wzc:0});l(b+"."+a+"."+k+".RubberBandRenderMode",_geo.geotoolkit.controls.ia.tF);l(b+"."+a+"."+k+".RubberBandRenderMode.Free",(r=_geo.geotoolkit.controls.ia.tF).rCb);
l(b+"."+a+"."+k+".RubberBandRenderMode.Horizontal",r.ic);l(b+"."+a+"."+k+".RubberBandRenderMode.Vertical",r.$b);l(b+"."+a+"."+k+".RubberBandRenderMode.AspectRatio",r.TVa);l(b+"."+a+"."+k+".AbstractRubberTool",(r=_geo.geotoolkit.controls.ia).Ona);n(p=_geo.geotoolkit.controls.ia.Ona.prototype,"setRubberBandRenderMode",p.x5b,{x5b:0});n(p,"getRubberBandRenderMode",p.HWb,{HWb:0});l(b+"."+a+"."+k+".AbstractCompositeTool",r.ZW);n(p=_geo.geotoolkit.controls.ia.ZW.prototype,"attachToPlot",p.gy,{gy:0});n(p,
"dispose",p.dispose,{dispose:0});n(p,"getToolByName",p.xg,{xg:0});n(p,"getToolByType",p.GK,{GK:0});n(p,"listToolsNames",p.nN,{nN:0});n(p,"getToolIndex",p.f8a,{f8a:0});n(p,"insert",p.gs,{gs:0});n(p,"add",p.add,{add:0});n(p,"remove",p.remove,{remove:0});n(p,"on",p.kb,{kb:0});n(p,"off",p.hb,{hb:0});n(p,"dispatchEvent",p.dispatchEvent,{dispatchEvent:0});l(b+"."+a+"."+k+".ToolsContainer",r.KFb);n(p=_geo.geotoolkit.controls.ia.KFb.prototype,"dispose",p.dispose,{dispose:0});n(p,"setEnabled",p.cc,{cc:0});
n(p,"isEnabled",p.isEnabled,{isEnabled:0});n(p,"getToolByName",p.xg,{xg:0});n(p,"getToolByType",p.GK,{GK:0});n(p,"listToolsNames",p.nN,{nN:0});n(p,"getPlot",p.ii,{ii:0});n(p,"getNode",p.il,{il:0});n(p,"add",p.add,{add:0});n(p,"remove",p.remove,{remove:0});n(p,"getTool",p.ld,{ld:0});l(b+"."+a+"."+k+".CompositeTool",r.Xl);n(p=_geo.geotoolkit.controls.ia.Xl.prototype,"dispose",p.dispose,{dispose:0});n(p,"getNode",p.il,{il:0});n(p,"setNode",p.lga,{lga:0});n(p,"attach",p.attach,{attach:0});l(b+"."+a+"."+
k+".CrossHairEventArgs",r.Fxa);n(p=_geo.geotoolkit.controls.ia.Fxa.prototype,"getPosition",p.getPosition,{getPosition:0});l(b+"."+a+"."+k+".CrossHair",r.TN);l(b+"."+a+"."+k+".CrossHair."+g+"",_geo.geotoolkit.controls.ia.TN.$);l(b+"."+a+"."+k+".CrossHair."+g+".onPositionChanged",(r=_geo.geotoolkit.controls.ia.TN.$).dQ);l(b+"."+a+"."+k+".CrossHair."+g+".onPointerUp",r.mGa);l(b+"."+a+"."+k+".CrossHair."+g+".onPointerDown",r.oJc);l(b+"."+a+"."+k+".CrossHair.LabelPositions",(r=_geo.geotoolkit.controls.ia.TN).qDb);
l(b+"."+a+"."+k+".CrossHair.LineOrientations",r.MYc);n(p=_geo.geotoolkit.controls.ia.TN.prototype,"onEnabledStateChanged",p.Xn,{Xn:0});n(p,"setLineStyle",p.ua,{ua:0});n(p,"setSettings",p.Rs,{Rs:0});n(p,"setLabelSettings",p.Ov,{Ov:0});n(p,"setTextStyle",p.wb,{wb:0});n(p,"setVerticalLineStyle",p.Bwa,{Bwa:0});n(p,"getVerticalLineStyle",p.Ptb,{Ptb:0});n(p,"setHorizontalLineStyle",p.cna,{cna:0});n(p,"getHorizontalLineStyle",p.Orb,{Orb:0});n(p,"isVisible",p.vo,{vo:0});n(p,"setVisible",p.Ka,{Ka:0});n(p,
"getPosition",p.getPosition,{getPosition:0});n(p,"updateCursorPosition",p.Qwa,{Qwa:0});n(p,"setPosition",p.setPosition,{setPosition:0});n(p,"setLabelsTextConverter",p.GOc,{GOc:0});n(p,"drawLabels",p.yM,{yM:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".ToolTipTool",(r=_geo.geotoolkit.controls.ia).hZa);n(p=_geo.geotoolkit.controls.ia.hZa.prototype,"setOffsetX",p.T4b,{T4b:0});n(p,"setOffsetY",p.U4b,{U4b:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"updateInfo",p.Czb,{Czb:0});n(p,
"setTouchRadius",p.twa,{twa:0});n(p,"setMouseRadius",p.bwa,{bwa:0});n(p,"getTouchRadius",p.FRa,{FRa:0});n(p,"getMouseRadius",p.YQa,{YQa:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".PanningEventArgs",r.zL);n(p=_geo.geotoolkit.controls.ia.zL.prototype,"isWheel",p.Dub,{Dub:0});n(p,"getDirection",p.Mk,{Mk:0});l(b+"."+a+"."+k+".Panning",r.ei);l(b+"."+a+"."+k+".Panning."+g+"",_geo.geotoolkit.controls.ia.ei.$);l(b+"."+a+"."+k+".Panning."+g+".onPanningStart",(r=_geo.geotoolkit.controls.ia.ei.$).Bfa);
l(b+"."+a+"."+k+".Panning."+g+".onPanning",r.YE);l(b+"."+a+"."+k+".Panning."+g+".onPanningEnd",r.N4);l(b+"."+a+"."+k+".Panning."+g+".onZoomStart",r.aF);l(b+"."+a+"."+k+".Panning."+g+".onZoomEnd",r.au);l(b+"."+a+"."+k+".Panning."+g+".onDoubleClick",r.ks);n(p=_geo.geotoolkit.controls.ia.ei.prototype,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});n(p,"getDirection",p.Mk,{Mk:0});n(p,"setTarget",p.fu,{fu:0});n(p,"getAcceptX",p.Jxc,{Jxc:0});n(p,"setAcceptX",p.D1b,{D1b:0});n(p,"getWheelRatio",p.OFc,
{OFc:0});n(p,"setWheelRatio",p.dRc,{dRc:0});n(p,"setEnabled",p.cc,{cc:0});n(p,"setInertia",p.txb,{txb:0});n(p,"dispose",p.dispose,{dispose:0});n(p,"setActive",p.setActive,{setActive:0});l(b+"."+a+"."+k+".RubberBandEventArgs",(r=_geo.geotoolkit.controls.ia).yKa);n(p=_geo.geotoolkit.controls.ia.yKa.prototype,"getArea",p.getArea,{getArea:0});l(b+"."+a+"."+k+".RubberBand",r.yq);l(b+"."+a+"."+k+".RubberBand."+g+"",_geo.geotoolkit.controls.ia.yq.$);l(b+"."+a+"."+k+".RubberBand."+g+".onZoomStart",(r=_geo.geotoolkit.controls.ia.yq.$).aF);
l(b+"."+a+"."+k+".RubberBand."+g+".onZoomEnd",r.au);l(b+"."+a+"."+k+".RubberBand."+g+".onRangeChanged",r.mma);n(p=_geo.geotoolkit.controls.ia.yq.prototype,"setMinDimension",p.hPc,{hPc:0});n(p,"getMinDimension",p.qCc,{qCc:0});n(p,"setMinDimensionMode",p.iPc,{iPc:0});n(p,"getMinDimensionMode",p.rCc,{rCc:0});l(b+"."+a+"."+k+".RubberBand.MinimumDimensionMode",_geo.geotoolkit.controls.ia.yq.Dfb);l(b+"."+a+"."+k+".RubberBand.MinimumDimensionMode.Hard",(r=_geo.geotoolkit.controls.ia.yq.Dfb).Ebc);l(b+"."+
a+"."+k+".RubberBand.MinimumDimensionMode.Smart",r.nhc);n(p,"setMode",p.setMode,{setMode:0});n(p,"setAutoDisabled",p.F_,{F_:0});n(p,"isAutoDisabled",p.K9,{K9:0});n(p,"getMode",p.nI,{nI:0});n(p,"setTarget",p.fu,{fu:0});n(p,"setLineStyle",p.ua,{ua:0});n(p,"setFillStyle",p.ta,{ta:0});n(p,"setSettings",p.Rs,{Rs:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".PolygonToolEventArgs",(r=_geo.geotoolkit.controls.ia).Gya);n(p=_geo.geotoolkit.controls.ia.Gya.prototype,"getCoordinates",p.fQa,{fQa:0});
l(b+"."+a+"."+k+".PolygonTool",r.Fya);l(b+"."+a+"."+k+".PolygonTool."+g+"",_geo.geotoolkit.controls.ia.Fya.$);l(b+"."+a+"."+k+".PolygonTool."+g+".onStart",(r=_geo.geotoolkit.controls.ia.Fya.$).onStart);l(b+"."+a+"."+k+".PolygonTool."+g+".onContinue",r.g_b);l(b+"."+a+"."+k+".PolygonTool."+g+".onEnd",r.j_b);n(p=_geo.geotoolkit.controls.ia.Fya.prototype,"setLineStyle",p.ua,{ua:0});n(p,"getLineStyle",p.Xa,{Xa:0});n(p,"setFillStyle",p.ta,{ta:0});n(p,"setSymbolLineStyle",p.vQc,{vQc:0});n(p,"getSymbolLineStyle",
p.JEc,{JEc:0});n(p,"setSymbolFillStyle",p.uQc,{uQc:0});n(p,"setSymbolVisibility",p.AQc,{AQc:0});n(p,"setStartLineVisibility",p.mQc,{mQc:0});n(p,"setTextVisibility",p.CQc,{CQc:0});n(p,"setTextStyle",p.wb,{wb:0});n(p,"getPolygon",p.p9,{p9:0});n(p,"onEnabledStateChanged",p.Xn,{Xn:0});n(p,"setActive",p.setActive,{setActive:0});n(p,"removeLastPoint",p.R0b,{R0b:0});l(b+"."+a+"."+k+".SelectionEventArgs",(r=_geo.geotoolkit.controls.ia).IKa);n(p=_geo.geotoolkit.controls.ia.IKa.prototype,"getSelectionMode",
p.UEa,{UEa:0});n(p,"getSelection",p.getSelection,{getSelection:0});n(p,"setSelection",p.DN,{DN:0});l(b+"."+a+"."+k+".SelectionMode",r.eR);l(b+"."+a+"."+k+".SelectionMode.Pointer",(r=_geo.geotoolkit.controls.ia.eR).uYa);l(b+"."+a+"."+k+".SelectionMode.RubberBand",r.yq);l(b+"."+a+"."+k+".RubberBandMode",_geo.geotoolkit.controls.ia.IYa);l(b+"."+a+"."+k+".RubberBandMode.Collision",(r=_geo.geotoolkit.controls.ia.IYa).S9b);l(b+"."+a+"."+k+".RubberBandMode.Inside",r.Qk);l(b+"."+a+"."+k+".PointerMode",_geo.geotoolkit.controls.ia.er);
l(b+"."+a+"."+k+".PointerMode.Hover",(r=_geo.geotoolkit.controls.ia.er).IT);l(b+"."+a+"."+k+".PointerMode.Click",r.pWa);l(b+"."+a+"."+k+".PointerMode.MouseDown",r.WJa);l(b+"."+a+"."+k+".PointerMode.MouseUp",r.Jfb);l(b+"."+a+"."+k+".PointerMode.DoubleClick",r.UWa);l(b+"."+a+"."+k+".PointerMode.TapHold",r.bZa);l(b+"."+a+"."+k+".Selection",_geo.geotoolkit.controls.ia.Selection);l(b+"."+a+"."+k+".Selection."+g+"",_geo.geotoolkit.controls.ia.Selection.$);l(b+"."+a+"."+k+".Selection."+g+".onPick",(r=_geo.geotoolkit.controls.ia.Selection.$).O4);
l(b+"."+a+"."+k+".Selection."+g+".onSelectionEnd",r.nma);l(b+"."+a+"."+k+".Selection."+g+".onSelectionChanged",r.EI);l(b+"."+a+"."+k+".Selection."+g+".beforeSelectionChange",r.Hda);l(b+"."+a+"."+k+".Selection."+g+".onDoubleClick",r.ks);n(p=_geo.geotoolkit.controls.ia.Selection.prototype,"setTouchRadius",p.twa,{twa:0});n(p,"setMouseRadius",p.bwa,{bwa:0});n(p,"getTouchRadius",p.FRa,{FRa:0});n(p,"getMouseRadius",p.YQa,{YQa:0});n(p,"setSelectionMode",p.IHa,{IHa:0});n(p,"getSelectionMode",p.UEa,{UEa:0});
n(p,"setRubberBandMode",p.w5b,{w5b:0});n(p,"getRubberBandMode",p.XDc,{XDc:0});n(p,"setPointerMode",p.h5b,{h5b:0});n(p,"getPointerMode",p.lDc,{lDc:0});n(p,"setOnHoverSelection",p.Txb,{Txb:0});n(p,"getOnHoverSelection",p.$Cc,{$Cc:0});n(p,"setNodeFilter",p.Bz,{Bz:0});n(p,"getStartPoint",p.QP,{QP:0});n(p,"getEndPoint",p.JM,{JM:0});n(p,"pick",p.ls,{ls:0});n(p,"getSelection",p.getSelection,{getSelection:0});n(p,"setSelection",p.DN,{DN:0});n(p,"setLineStyle",p.ua,{ua:0});n(p,"setFillStyle",p.ta,{ta:0});
n(p,"setSettings",p.Rs,{Rs:0});n(p,"setAutoDisabled",p.F_,{F_:0});n(p,"isAutoDisabled",p.K9,{K9:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".PinchToZoomEventArgs",(r=_geo.geotoolkit.controls.ia).sYa);n(p=_geo.geotoolkit.controls.ia.sYa.prototype,"getVisibleModelLimits",p.Nb,{Nb:0});l(b+"."+a+"."+k+".PinchToZoomModes",r.AL);l(b+"."+a+"."+k+".PinchToZoomModes.X",(r=_geo.geotoolkit.controls.ia.AL).La);l(b+"."+a+"."+k+".PinchToZoomModes.Y",r.Na);l(b+"."+a+"."+k+".PinchToZoomModes.XY",r.gza);
l(b+"."+a+"."+k+".PinchToZoomModes.Center",r.lb);l(b+"."+a+"."+k+".PinchToZoomModes.TouchPoint",r.NFb);l(b+"."+a+"."+k+".PinchToZoom",_geo.geotoolkit.controls.ia.ew);l(b+"."+a+"."+k+".PinchToZoom."+g+"",_geo.geotoolkit.controls.ia.ew.$);l(b+"."+a+"."+k+".PinchToZoom."+g+".onZoom",(r=_geo.geotoolkit.controls.ia.ew.$).pGa);l(b+"."+a+"."+k+".PinchToZoom."+g+".onZoomEnd",r.au);l(b+"."+a+"."+k+".PinchToZoom."+g+".onZoomStart",r.aF);n(p=_geo.geotoolkit.controls.ia.ew.prototype,"setMode",p.setMode,{setMode:0});
n(p,"pageToCanvas",p.UK,{UK:0});n(p,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});l(b+"."+a+"."+k+".PolygonSelectionEventArgs",(r=_geo.geotoolkit.controls.ia).wYa);n(p=_geo.geotoolkit.controls.ia.wYa.prototype,"getSelection",p.getSelection,{getSelection:0});n(p,"setSelection",p.DN,{DN:0});l(b+"."+a+"."+k+".PolygonSelection",r.Soa);l(b+"."+a+"."+k+".PolygonSelection."+g+"",_geo.geotoolkit.controls.ia.Soa.$);l(b+"."+a+"."+k+".PolygonSelection."+g+".onSelectionEnd",(r=_geo.geotoolkit.controls.ia.Soa.$).nma);
l(b+"."+a+"."+k+".PolygonSelection."+g+".onSelectionChanged",r.EI);l(b+"."+a+"."+k+".PolygonSelection."+g+".beforeSelectionChange",r.Hda);n(p=_geo.geotoolkit.controls.ia.Soa.prototype,"getSelection",p.getSelection,{getSelection:0});n(p,"setNodeFilter",p.Bz,{Bz:0});n(p,"setAllowIntersection",p.J1b,{J1b:0});n(p,"getAllowIntersection",p.XSb,{XSb:0});n(p,"setEvenOddMode",p.k5,{k5:0});n(p,"getEvenOddMode",p.iG,{iG:0});n(p,"setAutoDisabled",p.F_,{F_:0});n(p,"isAutoDisabled",p.K9,{K9:0});l(b+"."+a+"."+k+
".ColorBarCursorTool",_geo.geotoolkit.controls.ia.eJ);l(b+"."+a+"."+k+".ColorBarCursorTool.SymbolAlignment",_geo.geotoolkit.controls.ia.eJ.hR);l(b+"."+a+"."+k+".ColorBarCursorTool.SymbolAlignment.Left",(r=_geo.geotoolkit.controls.ia.eJ.hR).wd);l(b+"."+a+"."+k+".ColorBarCursorTool.SymbolAlignment.Right",r.$c);l(b+"."+a+"."+k+".ColorBarCursorTool.SymbolAlignment.Both",r.zT);n(p=_geo.geotoolkit.controls.ia.eJ.prototype,"setOffset",p.lp,{lp:0});n(p,"setPosition",p.setPosition,{setPosition:0});n(p,"updatePosition",
p.Gzb,{Gzb:0});n(p,"setSymbol",p.bl,{bl:0});n(p,"dispose",p.dispose,{dispose:0});l(b+"."+a+"."+k+".DOMSupport",_geo.geotoolkit.controls.ia.G$b);n(p=_geo.geotoolkit.controls.ia.G$b.prototype,"internalSelect",p.Ola,{Ola:0});n(p,"onMouseDown",p.xf,{xf:0});n(p,"onMouseUp",p.Ae,{Ae:0});n(p,"onMouseMove",p.Wd,{Wd:0});l(b+"."+a+"."+k+".tableview.HoverEventArgs",(r=_geo.geotoolkit.controls.ia.Jo).JCb);n(p=_geo.geotoolkit.controls.ia.Jo.JCb.prototype,"getRowNumber",p.GWb,{GWb:0});n(p,"getColumnNumber",p.getColumnNumber,
{getColumnNumber:0});n(p,"getMousePosition",p.ICc,{ICc:0});l(b+"."+a+"."+k+".tableview.Highlight",r.gha);l(b+"."+a+"."+k+".tableview.Highlight."+g+"",_geo.geotoolkit.controls.ia.Jo.gha.$);l(b+"."+a+"."+k+".tableview.Highlight."+g+".onHover",_geo.geotoolkit.controls.ia.Jo.gha.$.jGa);n(p=_geo.geotoolkit.controls.ia.Jo.gha.prototype,"onMouseMove",p.Wd,{Wd:0});l(b+"."+a+"."+k+".tableview.Splitter",_geo.geotoolkit.controls.ia.Jo.sH);l(b+"."+a+"."+k+".tableview.Splitter."+g+"",_geo.geotoolkit.controls.ia.Jo.sH.$);
l(b+"."+a+"."+k+".tableview.Splitter."+g+".onResize",_geo.geotoolkit.controls.ia.Jo.sH.$.sW);n(p=_geo.geotoolkit.controls.ia.Jo.sH.prototype,"onActiveStateChanged",p.uj,{uj:0});n(p,"getSize",p.getSize,{getSize:0});n(p,"setSize",p.setSize,{setSize:0});n(p,"setLineStyle",p.ua,{ua:0});n(p,"getLineStyle",p.Xa,{Xa:0});n(p,"setFillStyle",p.ta,{ta:0});n(p,"getFillStyle",p.sb,{sb:0});n(p,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});n(p,"applyMouseMove",p.Dda,{Dda:0});l(b+"."+a+"."+k+".tableview.HeaderHandler",
_geo.geotoolkit.controls.ia.Jo.nXa);l(b+"."+a+"."+k+".tableview.HeaderHandler."+g+"",_geo.geotoolkit.controls.ia.Jo.nXa.$);l(b+"."+a+"."+k+".tableview.HeaderHandler."+g+".onHeaderHover",(r=_geo.geotoolkit.controls.ia.Jo.nXa.$).l_b);l(b+"."+a+"."+k+".tableview.HeaderHandler."+g+".onButtonHover",r.c_b);l(b+"."+a+"."+k+".tableview.HeaderHandler."+g+".onClick",r.f_b);n(p=_geo.geotoolkit.controls.ia.Jo.nXa.prototype,"setSize",p.setSize,{setSize:0});n(p,"getSize",p.getSize,{getSize:0});n(p,"setMargin",
p.s5,{s5:0});n(p,"getMargin",p.a4,{a4:0});l(b+"."+a+"."+k+".tableview.ColumnHandler",_geo.geotoolkit.controls.ia.Jo.a6);l(b+"."+a+"."+k+".tableview.ColumnHandler."+g+"",_geo.geotoolkit.controls.ia.Jo.a6.$);l(b+"."+a+"."+k+".tableview.ColumnHandler."+g+".onStart",(r=_geo.geotoolkit.controls.ia.Jo.a6.$).onStart);l(b+"."+a+"."+k+".tableview.ColumnHandler."+g+".onHover",r.jGa);l(b+"."+a+"."+k+".tableview.ColumnHandler."+g+".onMove",r.Cl);l(b+"."+a+"."+k+".tableview.ColumnHandler."+g+".onScroll",r.Yn);
n(p=_geo.geotoolkit.controls.ia.Jo.a6.prototype,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});n(p,"onActiveStateChanged",p.uj,{uj:0});l(b+"."+a+"."+k+".tableview.RowHandler",_geo.geotoolkit.controls.ia.Jo.HYa);l(b+"."+a+"."+k+".tableview.RowHandler."+g+"",_geo.geotoolkit.controls.ia.Jo.HYa.$);l(b+"."+a+"."+k+".tableview.RowHandler."+g+".onStart",(r=_geo.geotoolkit.controls.ia.Jo.HYa.$).onStart);l(b+"."+a+"."+k+".tableview.RowHandler."+g+".onHover",r.jGa);l(b+"."+a+"."+k+".tableview.RowHandler."+
g+".onMove",r.Cl);l(b+"."+a+"."+k+".tableview.RowHandler."+g+".onScroll",r.Yn);n(p=_geo.geotoolkit.controls.ia.Jo.HYa.prototype,"start",p.start,{start:0});n(p,"stop",p.stop,{stop:0});n(p,"onActiveStateChanged",p.uj,{uj:0});l(b+"."+a+"."+k+".treemap.TreemapLevelTool",_geo.geotoolkit.controls.ia.rSc.L1c);l(b+"."+a+"."+k+".HeatMap.Highlight",_geo.geotoolkit.controls.ia.Oaa.gha);n(p=_geo.geotoolkit.controls.ia.Oaa.gha.prototype,"onMouseMove",p.Wd,{Wd:0});l(b+"."+a+"."+k+".splitter.HorizontalSplitterEventArgs",
(r=_geo.geotoolkit.controls.ia.JD).m6);n(p=_geo.geotoolkit.controls.ia.JD.m6.prototype,"getDelta",p.getDelta,{getDelta:0});n(p,"getPlots",p.kWb,{kWb:0});l(b+"."+a+"."+k+".splitter.HorizontalSplitter",r.CC);l(b+"."+a+"."+k+".splitter.HorizontalSplitter."+g+"",_geo.geotoolkit.controls.ia.JD.CC.$);l(b+"."+a+"."+k+".splitter.HorizontalSplitter."+g+".onPlotSizeChanged",_geo.geotoolkit.controls.ia.JD.CC.$.lma);n(p=_geo.geotoolkit.controls.ia.JD.CC.prototype,"setPlots",p.ena,{ena:0});n(p,"start",p.start,
{start:0});n(p,"stop",p.stop,{stop:0});l(b+"."+a+"."+k+"."+h+".ScrollEventArgs",(r=_geo.geotoolkit.controls.ia.scroll).Qy);n(p=_geo.geotoolkit.controls.ia.scroll.Qy.prototype,"getVisibleModelLimits",p.Nb,{Nb:0});l(b+"."+a+"."+k+"."+h+".AbstractScroll",r.hg);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+"",_geo.geotoolkit.controls.ia.scroll.hg.$);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onActivate",(r=_geo.geotoolkit.controls.ia.scroll.hg.$).g$);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScrollStart",
r.Wkd);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScaleStart",r.Vkd);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScroll",r.Yn);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScale",r.N9a);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScrollEnd",r.tt);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onScaleEnd",r.O9a);l(b+"."+a+"."+k+"."+h+".AbstractScroll."+g+".onRangeChanged",r.mma);n(p=_geo.geotoolkit.controls.ia.scroll.hg.prototype,"onMouseDown",p.xf,{xf:0});n(p,"onMouseMove",p.Wd,{Wd:0});
n(p,"onMouseUp",p.Ae,{Ae:0});n(p,"onDoubleClick",p.ks,{ks:0});n(p,"onWindowMouseMove",p.i$,{i$:0});n(p,"onWindowMouseUp",p.u_,{u_:0});n(p,"getTool",p.ld,{ld:0});n(p,"addListener",p.addListener,{addListener:0});n(p,"setFloatingMode",p.oQ,{oQ:0});n(p,"getFloatingMode",p.N6a,{N6a:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"getProperties",p.ka,{ka:0});n(p,"setProperties",p.ja,{ja:0});n(p,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"getDesiredSize",p.eEa,{eEa:0});n(p,"dispose",
p.dispose,{dispose:0});l(b+"."+a+"."+k+"."+h+".HVBaseScroll",(r=_geo.geotoolkit.controls.ia.scroll).pJa);n(p=_geo.geotoolkit.controls.ia.scroll.pJa.prototype,"setFlip",p.nQ,{nQ:0});n(p,"setSize",p.setSize,{setSize:0});n(p,"setTarget",p.fu,{fu:0});n(p,"getModelRange",p.MV,{MV:0});n(p,"getVisibleModelRange",p.SV,{SV:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"onMouseMove",p.Wd,{Wd:0});n(p,"onWindowMouseUp",p.u_,{u_:0});n(p,"onMouseDown",p.xf,{xf:0});n(p,"onWindowMouseMove",p.i$,{i$:0});n(p,"onMouseUp",
p.Ae,{Ae:0});n(p,"getOptions",p.jb,{jb:0});n(p,"setOptions",p.setOptions,{setOptions:0});l(b+"."+a+"."+k+"."+h+".HorizontalScroll",r.l6);l(b+"."+a+"."+k+"."+h+".HorizontalScroll."+g+"",_geo.geotoolkit.controls.ia.scroll.l6.$);l(b+"."+a+"."+k+"."+h+".VerticalScroll",_geo.geotoolkit.controls.ia.scroll.tba);l(b+"."+a+"."+k+"."+h+".VerticalScroll."+g+"",_geo.geotoolkit.controls.ia.scroll.tba.$);n(p=_geo.geotoolkit.controls.ia.scroll.uIa.prototype,"setFlip",p.nQ,{nQ:0});n(p,"setModelLimits",p.Sa,{Sa:0});
n(p,"setTickGenerator",p.Vg,{Vg:0});n(p,"onMouseDown",p.xf,{xf:0});n(p,"onMouseMove",p.Wd,{Wd:0});n(p,"onMouseUp",p.Ae,{Ae:0});l(b+"."+a+"."+k+"."+h+".CompactBaseScroll",_geo.geotoolkit.controls.ia.scroll.lX);l(b+"."+a+"."+k+"."+h+".CompactBaseScroll.AlternativeManipulationMode",_geo.geotoolkit.controls.ia.scroll.lX.vIa);l(b+"."+a+"."+k+"."+h+".CompactBaseScroll.AlternativeManipulationMode.Disabled",(r=_geo.geotoolkit.controls.ia.scroll.lX.vIa).oX);l(b+"."+a+"."+k+"."+h+".CompactBaseScroll.AlternativeManipulationMode.Default",
r.AC);l(b+"."+a+"."+k+"."+h+".CompactBaseScroll.AlternativeManipulationMode.Custom",r.PQ);l(b+"."+a+"."+k+"."+h+".CompactBaseScroll."+g+"",_geo.geotoolkit.controls.ia.scroll.lX.$);n(p=_geo.geotoolkit.controls.ia.scroll.lX.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"getOptions",p.jb,{jb:0});n(p,"getVisibleModel",p.EXb,{EXb:0});n(p,"setModelLimits",p.Sa,{Sa:0});n(p,"updateMinimumScrollMode",p.Dzb,{Dzb:0});n(p,"getDesiredSize",p.eEa,{eEa:0});l(b+"."+a+"."+k+"."+h+".CompactHorizontalScroll",
_geo.geotoolkit.controls.ia.scroll.yxa);l(b+"."+a+"."+k+"."+h+".CompactHorizontalScroll."+g+"",_geo.geotoolkit.controls.ia.scroll.yxa.$);n(p=_geo.geotoolkit.controls.ia.scroll.yxa.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"setFlip",p.nQ,{nQ:0});n(p,"getModelRange",p.MV,{MV:0});n(p,"getVisibleModelRange",p.SV,{SV:0});n(p,"setModelLimits",p.Sa,{Sa:0});l(b+"."+a+"."+k+"."+h+".CompactVerticalScroll",_geo.geotoolkit.controls.ia.scroll.sWa);l(b+"."+a+"."+k+"."+h+".CompactVerticalScroll."+
g+"",_geo.geotoolkit.controls.ia.scroll.sWa.$);n(p=_geo.geotoolkit.controls.ia.scroll.sWa.prototype,"setOptions",p.setOptions,{setOptions:0});n(p,"setFlip",p.nQ,{nQ:0});n(p,"getModelRange",p.MV,{MV:0});n(p,"getVisibleModelRange",p.SV,{SV:0});n(p,"setModelLimits",p.Sa,{Sa:0});l(b+"."+a+"."+k+"."+h+".ScrollFactory",_geo.geotoolkit.controls.ia.scroll.sJ);l(b+"."+a+"."+k+"."+h+".ScrollFactory.getInstance",_geo.geotoolkit.controls.ia.scroll.sJ.Za);n(p=_geo.geotoolkit.controls.ia.scroll.sJ.prototype,"registerScrollbar",
p.HGa,{HGa:0});n(p,"getScrollbar",p.es,{es:0});l(b+".animation.effects.charts.Donut.isApplicable",_geo.geotoolkit.animation.Dd.dpb.cac.Vh);n(p=_geo.geotoolkit.animation.Dd.dpb.cac.prototype,"getAnimatedValue",p.ep,{ep:0});n(p,"apply",p.apply,{apply:0})})();

    return _geo.geotoolkit.controls;
}(_geo));
/* eslint-enable */
/* tslint:enable */