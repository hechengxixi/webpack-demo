/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
import {_geo} from './geotoolkit.adv.module.js';
import {controls} from './geotoolkit.controls.adv.module.js';
import {data} from './geotoolkit.data.adv.module.js';
import {pdf} from './geotoolkit.pdf.adv.module.js';
import {svg} from './geotoolkit.svg.adv.module.js';
import {widgets} from './geotoolkit.widgets.adv.module.js';

export let flowcharts = (function (_geo) {var _geo=_geo||{};_geo.geotoolkit.Ua=_geo.geotoolkit.Ua||{};_geo.geotoolkit.Ua.hd=_geo.geotoolkit.Ua.hd||{};_geo.geotoolkit.Ua.shapes=_geo.geotoolkit.Ua.shapes||{};_geo.geotoolkit.Ua.shapes.ed=_geo.geotoolkit.Ua.shapes.ed||{};_geo.geotoolkit.Ua.shapes.Nf=_geo.geotoolkit.Ua.shapes.Nf||{};_geo.geotoolkit.Ua.shapes.Nf.NE=_geo.geotoolkit.Ua.shapes.Nf.NE||{};_geo.geotoolkit.Ua.shapes.Mxa=_geo.geotoolkit.Ua.shapes.Mxa||{};_geo.geotoolkit.Ua.plugins=_geo.geotoolkit.Ua.plugins||{};
_geo.geotoolkit.Ua.plugins.Hv=_geo.geotoolkit.Ua.plugins.Hv||{};_geo.geotoolkit.Ua.Bd=_geo.geotoolkit.Ua.Bd||{};_geo.geotoolkit.Ua.Bd.Lc=_geo.geotoolkit.Ua.Bd.Lc||{};_geo.geotoolkit.Ua.bG=_geo.geotoolkit.Ua.bG||{};_geo.geotoolkit.Ua.hd.vX=function(){function b(){}b.bQ=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})};return b}();
_geo.geotoolkit.Ua.hd.PJa=function(){function b(){this.handlers=[]}b.prototype.kb=function(a){this.handlers.push(a)};b.prototype.hb=function(a){this.handlers=this.handlers.filter(function(b){return b!==a})};b.prototype.lVa=function(a){this.handlers.slice(0).forEach(function(b){return b(a)})};return b}();
_geo.geotoolkit.Ua.hd.ln=function(){function b(){}b.flatten=function(a){return a.reduce(function(a,d){return a.concat(Array.isArray(d)?b.flatten(d):d)},[])};b.KB=function(a,b,d,e,c){null==c?(a.push(d),b.push(e)):(a.splice(c,0,d),b.splice(c,0,e))};b.iwb=function(a,b,d,e){null==e&&(e=1);a.splice(d,e);b.splice(d,e)};b.lTa=function(a,g,d){for(var e=[],c=[],f=0;f<a.length;f++)if(2>e.length)e.push(a[f]),c.push(g[f]);else{var k=e.length;!d&&b.aMc(e[k-2],c[k-2],e[k-1],c[k-1],a[f],g[f])||d&&b.Csc(e[k-2],c[k-
2],a[f],g[f],e[k-1],c[k-1],a[f],g[f],.5,!1)?(e[k-1]=a[f],c[k-1]=g[f]):(e.push(a[f]),c.push(g[f]))}return{x:e,y:c}};b.aMc=function(a,b,d,e,c,f){return 1>Math.abs((b-e)*(a-c)-(b-f)*(a-d))};b.Csc=function(a,b,d,e,c,f,k,h,l,n){void 0===l&&(l=0);void 0===n&&(n=!0);if((Math.abs(a-d)<_geo.geotoolkit.Ua.hd.ln.EPSILON||Math.abs(c-k)<_geo.geotoolkit.Ua.hd.ln.EPSILON)&&Math.abs(b-e)<_geo.geotoolkit.Ua.hd.ln.EPSILON&&Math.abs(f-h)<_geo.geotoolkit.Ua.hd.ln.EPSILON){if((0<b-e===0<f-h||!n)&&Math.abs((a-d)/(b-e)-
(c-k)/(f-h))<.05*l)return!0}else if((Math.abs(b-e)<_geo.geotoolkit.Ua.hd.ln.EPSILON||Math.abs(f-h)<_geo.geotoolkit.Ua.hd.ln.EPSILON)&&Math.abs(a-d)>_geo.geotoolkit.Ua.hd.ln.EPSILON&&Math.abs(c-k)>_geo.geotoolkit.Ua.hd.ln.EPSILON){if((0<a-d===0<c-k||!n)&&Math.abs((b-e)/(a-d)-(f-h)/(c-k))<.05*l)return!0}else if(!n||0<b-e===0<f-h&&0<a-d===0<c-k)return Math.abs((b-e)/(a-d)-(f-h)/(c-k))<.05*l||Math.abs((a-d)/(b-e)-(c-k)/(f-h))<.05*l;return!1};b.findIndex=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');
var d=Object(a),e=d.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var c=b,f=0;f<e;){var k=d[f];if(b.call(c,k,f,d))return f;f++}return-1};b.find=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');var d=Object(a),e=d.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var c=b,f=0;f<e;){var k=d[f];if(b.call(c,k,f,d))return k;f++}};return b}();_geo.geotoolkit.Ua.hd.ln.U0=9007199254740991;
_geo.geotoolkit.Ua.hd.ln.SJa=-9007199254740991;_geo.geotoolkit.Ua.hd.ln.EPSILON=1E-14;
_geo.geotoolkit.Ua.hd.Kfc=function(){function b(){this.DO=0;this.eTa=this.zma=null}b.prototype.enqueue=function(a){a={value:a};var b=this.eTa;this.eTa?(this.eTa=a,b.zma=a):this.eTa=this.zma=a;this.DO++};b.prototype.eRb=function(){var a=this.zma.value;this.zma=this.zma.zma;this.zma||(this.eTa=null);this.DO--;return a};b.prototype.RJc=function(){if(this.zma)return this.zma.value};b.prototype.isEmpty=function(){return null===this.eTa};b.prototype.Qn=function(){return this.DO};return b}();
_geo.geotoolkit.Ua.shapes.$Eb=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.ResourceLoader");b.$Hc=function(a){if(b.l1a.get(a))return b.l1a.get(a);var g=new _geo.geotoolkit.util.Promise(function(d,e){if(b.cKb.OB(a))d(b.cKb.get(a));else{var c=new _geo.geotoolkit.window.XMLHttpRequest;c.onloadend=function(e){b.cKb.put(a,c.responseText);b.l1a.remove(a);d(c.responseText)};c.onerror=function(c){b.l1a.remove(a);e(c)};c.open("GET",a);c.send()}});b.l1a.put(a,g);return g};b.cKb=
new _geo.geotoolkit.util.ZN;b.l1a=new _geo.geotoolkit.util.ZN;return b}();
_geo.geotoolkit.Ua.shapes.Paa=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.IComponent");b.prototype.kG=_geo.geotoolkit.Ia;b.prototype.VZ=_geo.geotoolkit.Ia;b.prototype.vA=_geo.geotoolkit.Ia;b.prototype.PV=_geo.geotoolkit.Ia;b.prototype.kz=_geo.geotoolkit.Ia;b.prototype.G_=_geo.geotoolkit.Ia;b.prototype.yd=_geo.geotoolkit.Ia;b.prototype.ZM=_geo.geotoolkit.Ia;b.prototype.vw=_geo.geotoolkit.Ia;b.prototype.r5=_geo.geotoolkit.Ia;b.prototype.jc=_geo.geotoolkit.Ia;b.prototype.fL=
_geo.geotoolkit.Ia;b.prototype.IA=_geo.geotoolkit.Ia;b.prototype.N3=_geo.geotoolkit.Ia;return b}();_geo.geotoolkit.Ua.shapes.ed.MT={ON:0,$v:1};_geo.geotoolkit.Ua.shapes.ed.Aoa={Gdc:0,Mgb:1,TBb:2};
_geo.geotoolkit.Ua.shapes.ed.zoa=function(){function b(a,b,d,e){this.At=a;this.$P=b;this.uD=d;this.IFa=e;this.$ua=null}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.connectors.LinkConnection");b.prototype.we=function(){return this.At};b.prototype.WQa=function(){return this.$P};b.prototype.TBc=function(){return this.uD};b.prototype.UBc=function(){return this.IFa};b.prototype.nRa=function(){return this.At?this.At.od():null};return b}();
_geo.geotoolkit.Ua.shapes.Zl=function(){function b(a){a=_geo.geotoolkit.rc(a);_geo.geotoolkit.scene.Group.call(this,a);this.DD=[];this.DD.length=5;this.Ad(!1);this.Ahd();this.ja(a);return this}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.Group);_geo.geotoolkit.sg(b,_geo.geotoolkit.Ua.shapes.Paa);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.DiagramVisual");b.prototype.Wwa=function(){if(this.Ll&&!this.Lqc){var a=this.ga();if(a){this.Lqc=!0;this.DD[0]=a.di();this.DD[1]=a.st();this.DD[2]=a.Sn();this.DD[3]=
a.zr();this.DD[4]=a.getCenter();var b=this.Ya();if(b)for(var d=0;d<this.DD.length;d++)this.DD[d]=b.cb(this.DD[d]);b=_geo.geotoolkit.util.na.Cj(this.DD[0],this.DD[1]);d=_geo.geotoolkit.util.na.Cj(this.DD[0],this.DD[3]);this.Ll.setSize(b,d);b=a.getCenter();d=_geo.geotoolkit.util.Da.lb;switch(this.Ll.Ib().as()){case _geo.geotoolkit.attributes.eb.IQ.M6:case _geo.geotoolkit.attributes.eb.IQ.wd:b=a.Eta();d=_geo.geotoolkit.util.Da.We;break;case _geo.geotoolkit.attributes.eb.IQ.$v:case _geo.geotoolkit.attributes.eb.IQ.$c:b=
a.wla();d=_geo.geotoolkit.util.Da.Ng;break;case _geo.geotoolkit.attributes.eb.IQ.lb:b=a.getCenter();d=_geo.geotoolkit.util.Da.lb;break}this.Ll.yc(b);this.Ll.Cd(d);this.Lqc=!1}}};b.prototype.Ahd=function(){if(!this.Ll){var a=new _geo.geotoolkit.scene.shapes.Text({text:""});a.Ib().If("center");a.Ib().iUa(1);this.DEBUG&&a.ja({fillstyle:new _geo.geotoolkit.attributes.Fa({color:"rgba(0,255,0, 0.2)"}),linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(0, 0, 255, 1)"})});a.Dy(!0);if(this.ga()){var b=
this.ga();a.yc(b.getCenter());a.setSize(b.width,b.height)}a.Gj(_geo.geotoolkit.scene.shapes.Text.jf.V6);a.Kd("TEXT_SHAPE");this.b6b(a)}};b.prototype.$a=function(a){this.kU=a.kU;this.Xq(a.ef?a.ef.clone():null);this.sia=a.sia;this.qia=a.qia;this.Vba=a.Vba.clone();this.VR=a.VR?a.VR.slice():[];this.$L=a.$L?a.$L.slice().map(function(a){return new _geo.geotoolkit.util.na(a.getX(),a.getY())}):null;this.oE=a.oE?a.oE.clone():null;a.Ll&&this.b6b(a.Ll.clone());this.Ea(this.ef&&this.ef.ga()?this.ef.ga():new _geo.geotoolkit.util.Rect(0,
0,1,1));this.fL(a.mda);this.Kd(_geo.geotoolkit.Ua.hd.vX.bQ());return this};b.prototype.Pa=function(a,b){null!=this.ef&&this.ef.Pa(a,b);_geo.geotoolkit.scene.Group.prototype.Pa.call(this,a,b);this.rkd!==this.Ya()&&(this.Ja("StateUpdated",this),this.rkd=this.Ya());return this};b.prototype.O$a=function(a){this.Ll&&(a.Ni(a.Ra().ob(this.ga())),a.filter(this.Ll)&&this.Ll.render(a))};b.prototype.render=function(a){var b=null!=this.mb()?a.qc(this.mb()):a;b.save();null!=this.ef&&this.ef.render(b);_geo.geotoolkit.scene.Group.prototype.render.call(this,
a);this.yk(a);this.O$a(b);this.hk(a);b.restore()};b.prototype.kG=function(){return this.sia};b.prototype.VZ=function(){return this.kU};b.prototype.vA=function(){return this.qia};b.prototype.PV=function(){return this.VR};b.prototype.G_=function(a){this.Vba=a?a:new _geo.geotoolkit.util.xc(50,50);return this};b.prototype.kz=function(){return this.Vba};b.prototype.yd=function(){return this.ef};b.prototype.r5=function(a){this.$L=a;return this};b.prototype.vw=function(){return this.$L};b.prototype.ZM=function(){return this.oE};
b.prototype.N3=function(){return this.y_a};b.prototype.fL=function(a){this.mda=a;return this};b.prototype.IA=function(){return this.mda};b.prototype.en=function(){return this.Ll};b.prototype.jc=function(a){var b=!1;"string"===typeof a&&a!==this.en().me()&&(this.en().jc(a),b=!0);a.hasOwnProperty("text")&&a.text!==this.en().me()&&(this.en().jc(a.text),b=!0);a.hasOwnProperty("style")&&(this.en().wb(a.style),b=!0);b&&(this.Wwa(),this.ma(this.en().ga()));return this};b.prototype.me=function(){return{text:this.en()?
this.en().me():null,style:this.en()?this.en().Ib():null}};b.hdd=function(a,b){void 0===b&&(b=!0);if((0,window.isNaN)(a)||!(0,window.isFinite)(a))return a;var d=b?360:2*Math.PI;return a-Math.floor(a/d)*d};b.Ofd=function(a,b){var d=b.getX()-a.getX(),e=b.getY()-a.getY();return Math.atan2(e,d)};b.prototype.Xq=function(a){this.ef!==a&&(null!=this.ef&&this.ef.zg(null),this.ef=a,null!=this.ef&&this.ef.zg(this))};b.prototype.b6b=function(a){this.Ll&&this.hb(_geo.geotoolkit.scene.Node.$.WT,this.Wwa.bind(this));
if(this.Ll=a)a.Kd("TEXT_SHAPE"),this.Wwa(),this.kb(_geo.geotoolkit.scene.Node.$.WT,this.Wwa.bind(this))};b.prototype.ja=function(a){if(!a)return this;a=_geo.geotoolkit.rc(a);a.hasOwnProperty("prototypename")&&(this.kU=a.prototypename,this.yb(a.prototypename));a.hasOwnProperty("geometry")&&this.Xq(a.geometry);a.hasOwnProperty("text")&&("string"===typeof a.text?this.Ll.jc(a.text):(this.Ll.jc(a.text.text||""),a.text.style&&this.Ll.wb(a.text.style)));a.hasOwnProperty("prototypeid")&&(this.sia=a.prototypeid);
a.hasOwnProperty("category")&&(this.qia=a.category);a.hasOwnProperty("defaultsize")&&(this.Vba=a.defaultsize);a.hasOwnProperty("searchkeywords")&&(this.VR=a.searchkeywords);a.hasOwnProperty("linkpoints")&&(this.$L=a.linkpoints);a.hasOwnProperty("outline")&&(this.oE=a.outline);this.ef&&a.hasOwnProperty("geometry")&&this.ef.ja(a.geometry);this.Ea(this.ef&&this.ef.ga()?this.ef.ga():new _geo.geotoolkit.util.Rect(0,0,1,1));a.hasOwnProperty("url")&&this.fL(a.url);a.hasOwnProperty("id")?this.Kd(a.id):this.od()||
this.Kd(_geo.geotoolkit.Ua.hd.vX.bQ());return this};b.prototype.ka=function(){var a={};this.ef&&(a.geometry=this.ef.ka());a.prototypename=this.kU;a.geometry=this.ef;a.prototypeid=this.sia;a.category=this.qia;a.defaultsize=this.Vba;a.searchkeywords=this.VR;a.linkpoints=this.$L?this.$L.slice().map(function(a){return new _geo.geotoolkit.util.na(a.getX(),a.getY())}):null;a.outline=this.oE;a.text={text:this.Ll.me(),style:this.Ll.Ib()};a.url=this.mda;return a};return b}();
_geo.geotoolkit.Ua.shapes.Zl.vsd=new _geo.geotoolkit.util.xc(50,50);
_geo.geotoolkit.Ua.shapes.apa=function(){function b(a){a=_geo.geotoolkit.Ca(a,{islinkpointsrelative:!0},!0);this.a2=!1;_geo.geotoolkit.Ua.shapes.Zl.call(this,a);a.hasOwnProperty("islinkpointsrelative")&&(this.tqa=a.islinkpointsrelative);a.hasOwnProperty("svgdata")&&this.setData(a.svgdata);a.hasOwnProperty("justdeserialized")&&(this.LHc=a.justdeserialized);a.hasOwnProperty("referencesize")&&(this.rja=a.referencesize)}_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.shapes.Zl);_geo.geotoolkit.sg(b,_geo.geotoolkit.Ua.shapes.Paa);
_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.SvgDiagramVisual");b.prototype.setData=function(a){this.GMb=a;this.a2=!1;if(a)try{this.KJc(a)}catch(b){_geo.geotoolkit.warn("FlowCharts.SvgDiagramVisual: could not parse SVG data",a)}};b.prototype.$a=function(a){this.tqa=a.tqa;this.a2=a.a2;this.ef||this.Xq(a.ef?a.ef.clone():new _geo.geotoolkit.scene.Group);a.GMb&&this.setData(a.GMb);this.$L=a.tqa?a.Zsb().slice().map(function(a){return new _geo.geotoolkit.util.na(a.getX(),a.getY())}):this.vw()?a.vw().slice().map(function(a){return new _geo.geotoolkit.util.na(a.getX(),
a.getY())}):null;this.rja=a.rja?a.rja.clone():this.Vba?this.Vba.clone():new _geo.geotoolkit.util.xc(100,100);return this};b.prototype.Yid=function(){this.IA()?_geo.geotoolkit.Ua.shapes.$Eb.$Hc(this.IA()).then(function(a){this.KJc(a)}.bind(this))["catch"](function(a){return _geo.geotoolkit.log("SvgVisual plugin: url '"+this.IA()+"' can not be resolved ("+a+")")}.bind(this)):_geo.geotoolkit.log("SvgVisual plugin: url is not defined")};b.prototype.KJc=function(a){var b=new _geo.geotoolkit.Xb.Eha;b.parse(this.yd(),
a);b=this.yd().ga();this.Ea(b);this.Ll&&this.ga()&&(this.Ll.yc(this.ga().getCenter()),this.Ll.setSize(b.width,b.height));a=0!==b.aa()?this.Vba.width/b.width:1;var b=0!==b.ba()?this.Vba.height/b.height:1,d=this.Yb()?this.Yb().clone():new _geo.geotoolkit.util.Ga;this.LHc||(this.Td(_geo.geotoolkit.util.Ga.kj(d.ti(),d.Th()).vv(_geo.geotoolkit.util.Ga.km(a,b))),this.LHc=!1);this.a2=!0;this.Ja("StateUpdated",this,this.ga())};b.prototype.fL=function(a){a!==this.IA()&&(this.ef||(this.ef=new _geo.geotoolkit.scene.Group),
_geo.geotoolkit.Ua.shapes.Zl.prototype.fL.call(this,a),this.a2=!1,this.Yid());return this};b.prototype.render=function(a){this.a2&&_geo.geotoolkit.Ua.shapes.Zl.prototype.render.call(this,a)};b.prototype.Yrb=function(){return this.tqa};b.prototype.Zsb=function(){if(this.tqa)return _geo.geotoolkit.Ua.shapes.Zl.prototype.vw.call(this);var a=this.ga();return this.vw().map(function(b){return new _geo.geotoolkit.util.na((b.getX()-a.getX())/a.aa(),(b.getY()-a.getY())/a.ba())})};b.prototype.vw=function(){if(this.tqa){var a=
_geo.geotoolkit.Ua.shapes.Zl.prototype.vw.call(this);a&&a.length||(a=b.Rbd);for(var g=[],d=this.a2?this.ga():new _geo.geotoolkit.util.Rect(0,0,this.rja.width,this.rja.height),e=0;e<a.length;e++){var c=a[e];g.push(new _geo.geotoolkit.util.na(d.getX()+d.aa()*c.getX(),d.getY()+d.ba()*c.getY()))}return g}return _geo.geotoolkit.Ua.shapes.Zl.prototype.vw.call(this)};b.prototype.ja=function(a){if(null==a)return this;a=_geo.geotoolkit.rc(a);_geo.geotoolkit.Ua.shapes.Zl.prototype.ja.call(this,a);a.hasOwnProperty("islinkpointsrelative")&&
(this.tqa=a.islinkpointsrelative);a.hasOwnProperty("svgdata")&&this.setData(a.svgdata);a.hasOwnProperty("referencesize")?this.rja=a.referencesize:this.rja||(this.rja=a.defaultsize);return this};b.prototype.ka=function(){var a=_geo.geotoolkit.Ac(this)||{};a.referencesize=this.rja;a.islinkpointsrelative=this.tqa;a.svgdata=this.GMb;return a};return b}();
_geo.geotoolkit.Ua.shapes.apa.Rbd=[new _geo.geotoolkit.util.na(.5,0),new _geo.geotoolkit.util.na(.5,1),new _geo.geotoolkit.util.na(0,.5),new _geo.geotoolkit.util.na(1,.5)];_geo.geotoolkit.Ua.shapes.ed.n6=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.connectors.ILink");_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.shapes.Paa);b.prototype.mta=_geo.geotoolkit.Ia;b.prototype.VG=_geo.geotoolkit.Ia;return b}();_geo.geotoolkit.Ua.shapes.ed.$={OBb:"Disconnected",c$b:"Connected"};
_geo.geotoolkit.Ua.shapes.ed.S0=function(){function b(a){_geo.geotoolkit.scene.shapes.Il.call(this,a);this.Pbd=new _geo.geotoolkit.attributes.Aa("rgba(100, 100, 100, 1)",3);this.Obd=new _geo.geotoolkit.attributes.Fa("rgba(100, 100, 100, 1)");this.GAa=_geo.geotoolkit.Ua.shapes.ed.Aoa.Mgb;this.gV=0;this.Hqa=_geo.geotoolkit.Ua.shapes.Nf.pha.tH;this.VR=[];this.$L=[new _geo.geotoolkit.util.na(0,0),new _geo.geotoolkit.util.na(0,0)];this.KRc=10;this.IRc=8;this.Fo=[null,null];this.Cg(a)}_geo.geotoolkit.fa(b,
_geo.geotoolkit.scene.shapes.Il);_geo.geotoolkit.sg(b,_geo.geotoolkit.Ua.shapes.ed.n6);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.LinkVisual");var a=_geo.geotoolkit.Ua.shapes.ed.MT;b.prototype.kG=function(){return this.sia};b.prototype.VZ=function(){return this.kU};b.prototype.vA=function(){return this.qia};b.prototype.PV=function(){return this.VR};b.prototype.kz=function(){var a=this.ga();return new _geo.geotoolkit.util.xc(a.aa(),a.ba())};b.prototype.G_=function(a){return this};b.prototype.jc=function(a){return this};
b.prototype.yd=function(){return this};b.prototype.vw=function(){var a=this.Wf().length-1;this.$L[0].bb(this.Wf()[0],this.Jg()[0]);this.$L[1].bb(this.Wf()[a],this.Jg()[a]);return[this.$L[0],this.$L[1]]};b.prototype.r5=function(a){return this};b.prototype.ZM=function(){return this.oE};b.prototype.N3=function(){return this.y_a};b.prototype.fL=function(a){this.mda=a;return this};b.prototype.IA=function(){return this.mda};b.prototype.en=function(){return this.Ll};b.prototype.psb=function(){return this.Hqa};
b.prototype.Hxb=function(a){this.Hqa=a;return this};b.prototype.H2b=function(a){this.Rza=a;return this};b.prototype.MEc=function(){return{width:this.KRc,height:this.IRc}};b.prototype.m4b=function(a){this.GAa=null===a||void 0===a?_geo.geotoolkit.Ua.shapes.ed.Aoa.Gdc:a;return this};b.prototype.AVb=function(){return this.GAa};b.prototype.Vea=function(){return this.gV};b.prototype.wwa=function(a){if(null===a||void 0===a||0>a)a=0;this.gV!==a&&(this.ma(),this.gV=a,this.ma());return this};b.prototype.ga=
function(){var a=_geo.geotoolkit.scene.shapes.Il.prototype.ga.call(this).clone(),b=this.Xa()?this.Xa().aa()/2:.5;a.fe(a.aa()<_geo.geotoolkit.Ua.hd.ln.EPSILON?1E-5:b,a.ba()<_geo.geotoolkit.Ua.hd.ln.EPSILON?1E-5:b);this.gV&&a.fe(this.gV,this.gV);return a};b.prototype.Cg=function(a){a&&(this.kU=a.prototypeName,this.ef=a.geometry,this.sia=a.prototypeId,this.qia=a.category,this.y_a=a.defaultIconSize,this.VR=a.searchKeywords,this.$L=a.linkPoints,this.oE=a.outline,this.mda=a.url,this.Hxb(a.linkType),a.geometry instanceof
_geo.geotoolkit.scene.shapes.Il&&this.ja(a.geometry.ka()),this.yb(a.prototypeName),this.GAa=null!=a.linkingMode?a.linkingMode:_geo.geotoolkit.Ua.shapes.ed.Aoa.Mgb,this.gV=a.tubingWidth,this.Oi());this.Wmc=function(){this.VG(!0)}.bind(this);this.Kd(a&&a.id?a.id:_geo.geotoolkit.Ua.hd.vX.bQ())};b.prototype.clone=function(){var a=new b({prototypeName:this.kU,geometry:this.ef?this.ef.clone():null,prototypeId:this.sia,category:this.qia,defaultSize:this.Vba,defaultIconSize:this.y_a,searchKeywords:this.VR?
this.VR.slice():[],linkPoints:this.$L?this.$L.slice():null,outline:this.oE?this.oE.clone():null,linkingMode:this.GAa,tubingWidth:this.gV,url:this.mda,linkType:this.Hqa});a.H2b(this.Rza);return a};b.prototype.xa=function(){for(var a=_geo.geotoolkit.Ua.hd.ln.U0,b=_geo.geotoolkit.Ua.hd.ln.U0,e=_geo.geotoolkit.Ua.hd.ln.SJa,c=_geo.geotoolkit.Ua.hd.ln.SJa,f=this.Wf(),k=this.Jg(),h=0;h<f.length;h++)a>f[h]&&(a=f[h]),b>k[h]&&(b=k[h]),e<f[h]&&(e=f[h]),c<k[h]&&(c=k[h]);return new _geo.geotoolkit.util.Rect(a,
b,e,c)};b.prototype.render=function(a){_geo.geotoolkit.scene.shapes.Il.prototype.render.call(this,a);this.tnd(a)};b.prototype.tnd=function(a){a=this.mb()?a.qc(this.mb()):a;this.yk(a);this.GAa!==_geo.geotoolkit.Ua.shapes.ed.Aoa.Mgb&&this.GAa!==_geo.geotoolkit.Ua.shapes.ed.Aoa.TBb||this.sLc(a,!1);this.GAa===_geo.geotoolkit.Ua.shapes.ed.Aoa.TBb&&this.sLc(a,!0);this.hk(a)};b.prototype.sLc=function(a,b){var e=this.Ya()?this.Ya():new _geo.geotoolkit.util.Ga,c=e.Vd(),f=this.Wf(),k=this.Jg(),h=b?e.dg(f[0],
k[0]).clone():e.dg(f[f.length-1],k[k.length-1]).clone(),e=b?e.dg(f[1],k[1]).clone():e.dg(f[f.length-2],k[k.length-2]).clone(),f=Math.atan2(h.getY()-e.getY(),h.getX()-e.getX()),e=this.KRc+this.Xa().aa()/2,k=this.IRc+this.Xa().aa()/2,e=[-e,0,-e],k=[-k/2,0,k/2],f=_geo.geotoolkit.util.Ga.dn(f,0,0),h=_geo.geotoolkit.util.Ga.kj(h.getX(),h.getY());f.WK(h).WK(c).kVa(e,k,e.length);this.$u?this.$u.ja({x:e,y:k,fillstyle:{color:this.Xa()?this.Xa().ac():"gray"},linestyle:this.Xa()}):this.$u=new _geo.geotoolkit.scene.shapes.Fc({x:e,
y:k,fillstyle:{color:this.Xa()?this.Xa().ac():"gray"},linestyle:this.Xa()});this.$u.render(a)};b.prototype.nsa=function(a,b,e){if(!e||!a)return!1;var c;return null!==b&&void 0!==b?(this.Fo[b]&&(c=this.Fo[b].$ua,this.r3(b)),a.kb("StateUpdated",this.Wmc),this.Fo[b]=new _geo.geotoolkit.Ua.shapes.ed.zoa(a,e,b,this),this.Fo[b].$ua=c,this.VG(!0),this.Ja(_geo.geotoolkit.Ua.shapes.ed.$.c$b,this,{linkSide:b,visual:a,modelPoint:e}),!0):!1};b.prototype.mta=function(){return this.Fo};b.prototype.r3=function(b){if(null!==
b){var d=this.Fo[b];if(!d)return;if(!d.At){this.Fo[b]=null;this.Ja(_geo.geotoolkit.Ua.shapes.ed.$.OBb,this,{linkSide:b});return}this.Fo[a.ON]&&this.Fo[a.$v]&&this.Fo[a.ON].At===this.Fo[a.$v].At||d.At.hb("StateUpdated",this.Wmc);this.Fo[b]=null;this.Ja(_geo.geotoolkit.Ua.shapes.ed.$.OBb,this,{linkSide:b})}this.VG(!0)};b.prototype.v6a=function(a){for(var b=[],e=0,c=this.Fo;e<c.length;e++){var f=c[e];f&&f.nRa()===a.od()&&b.push(f.uD===_geo.geotoolkit.Ua.shapes.ed.MT.ON?0:this.Wf().length-1)}return b};
b.prototype.VG=function(a){if(!this.B3a){this.B3a=!0;for(var b=!1,e=0;e<this.Fo.length;e++){var c=this.Fo[e];if(c&&c.At&&c.$P){var f=c.At.Ya().ob(c.At.ga());if(a||!f.Pj(c.$ua,1))b||this.ma(),b=this.getParent()?this.getParent().Ya().Ue(c.At.Ya().cb(c.$P)):c.At.Yb()?c.At.Yb().cb(c.$P):c.$P,this.ke(!1),this.hma(c.uD,b),this.ke(!0),c.$ua=f,b=!0}}b&&(this.ma(),this.Pa());this.B3a=!1}};b.prototype.hma=function(a,b){var e=this.Wf().slice(),c=this.Jg().slice(),f=_geo.geotoolkit.Ua.hd.ln.KB,k=_geo.geotoolkit.Ua.hd.ln.iwb,
h=a===_geo.geotoolkit.Ua.shapes.ed.MT.ON,l=h?0:e.length-1,n=h?Math.min(3,e.length-1):Math.max(0,e.length-1-3),p=this.Ya(),r=p.Vd(),t=this.Rza?this.Rza.Mc().Ya():new _geo.geotoolkit.util.Ga,q=t.Vd(),m=this.xw.Ue(b),u=m.getX(),m=m.getY(),q=_geo.geotoolkit.util.Ga.multiply(q,p);if(this.Hqa===_geo.geotoolkit.Ua.shapes.Nf.pha.Line)e[l]=u,c[l]=m;else{var p=e[n],n=c[n],v=p+(u-p)/2,w=n+(m-n)/2;if(this.Rza)if(this.userTouched)for(l=2<e.length?e[h?2:e.length-3]:e[h?0:e.length-1],u=2<c.length?c[h?2:c.length-
3]:c[h?0:c.length-1],2<e.length&&k(e,c,h?0:e.length-2,2),k=this.Rza.Qsa(q.dg(l,u),b,[],[this]),u=0;u<k.length;u++)l=r.cb(t.cb(k[u])),f(e,c,l.x,l.y,h?0:void 0);else if((q=h?this.Rza.Qsa(b,q.cb(new _geo.geotoolkit.util.na(e[e.length-1],c[c.length-1])),this.Fo[0]?[this.Fo[0].At]:[],[this]):this.Rza.Qsa(q.cb(new _geo.geotoolkit.util.na(e[0],c[0])),b,this.Fo[1]?[this.Fo[1].At]:[],[this]))&&2<=q.length)for(e=[],c=[],h=0;h<q.length;h++)k=r.cb(t.cb(q[h])),f(e,c,k.getX(),k.getY());else{r=Math.min(3,e.length-
1);for(t=0;t<r;t++)k(e,c,h?l:l-t);Math.abs(p-b.x)>Math.abs(p-b.y)?(f(e,c,v,n,h?l:void 0),f(e,c,v,m,h?l:void 0)):(f(e,c,p,w,h?l:void 0),f(e,c,u,w,h?l:void 0))}}e=_geo.geotoolkit.Ua.hd.ln.lTa(e,c,!1);this.Ne(e.x,e.y);this.Oi()};b.prototype.SCa=function(a,b,e){if(!a||!a.Ya()||_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.ed.n6))return null;var c=a.vw();if(c)for(var f=0;f<c.length;f++){var k=c[f];if(_geo.geotoolkit.util.na.Cj(a.Ya().cb(k),a.Ya().cb(a.Yb().Ue(b)))<e)return k}return null};return b}();
_geo.geotoolkit.Ua.shapes.ed.G6=function(){function b(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];_geo.geotoolkit.scene.shapes.Il.call(this,b);this.Pbd=new _geo.geotoolkit.attributes.Aa("rgba(100, 100, 100, 1)",3);this.Obd=new _geo.geotoolkit.attributes.Fa("rgba(100, 100, 100, 1)");this.gV=0;this.VR=[];this.$L=[new _geo.geotoolkit.util.na(0,0),new _geo.geotoolkit.util.na(0,0)];this.Fo=[null,null];this.Cg(a);this.created=!1}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.Il);_geo.geotoolkit.sg(b,
_geo.geotoolkit.Ua.shapes.ed.n6);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.connectors.PolylineVisual");b.prototype.kG=function(){return this.sia};b.prototype.VZ=function(){return this.kU};b.prototype.vA=function(){return this.qia};b.prototype.PV=function(){return this.VR};b.prototype.kz=function(){var a=this.ga();return new _geo.geotoolkit.util.xc(a.aa(),a.ba())};b.prototype.G_=function(a){return this};b.prototype.Xq=function(a){this.ef=a};b.prototype.jc=function(a){return this};b.prototype.yd=
function(){return this};b.prototype.vw=function(){for(var a=[],b=this.Wf(),d=this.Jg(),e=0;e<b.length;e++)a.push(new _geo.geotoolkit.util.na(b[e],d[e]));return a};b.prototype.r5=function(a){return this};b.prototype.ZM=function(){return this.oE};b.prototype.N3=function(){return this.y_a};b.prototype.fL=function(a){this.mda=a;return this};b.prototype.IA=function(){return this.mda};b.prototype.b6b=function(a){this.Ll=a;return this};b.prototype.en=function(){return this.Ll};b.prototype.Vea=function(){return this.gV};
b.prototype.wwa=function(a){if(!a||0>a)a=0;this.gV!==a&&(this.ma(),this.gV=a,this.ma())};b.prototype.ga=function(){var a=_geo.geotoolkit.scene.shapes.Il.prototype.ga.call(this).clone(),b=this.Xa()?this.Xa().aa()/2:.5;a.fe(a.aa()<_geo.geotoolkit.Ua.hd.ln.EPSILON?1E-5:b,a.ba()<_geo.geotoolkit.Ua.hd.ln.EPSILON?1E-5:b);this.Vea()&&a.fe(this.gV,this.gV);return a};b.prototype.Cg=function(a){a&&(this.kU=a.prototypeName,this.ef=a.geometry,this.sia=a.prototypeId,this.qia=a.category,this.y_a=a.defaultIconSize,
this.VR=a.searchKeywords,this.r5(a.linkPoints),this.oE=a.outline,this.mda=a.url,this.tk=a.polygon,(a.geometry instanceof _geo.geotoolkit.scene.shapes.Il||a.geometry instanceof _geo.geotoolkit.scene.shapes.Fc)&&this.ja(a.geometry.ka()),this.yb(a.prototypeName),this.wwa(a.tubingWidth),this.Oi());this.kb(_geo.geotoolkit.scene.Node.$.WT,function(){this.VG()}.bind(this));this.Kd(a&&a.id?a.id:_geo.geotoolkit.Ua.hd.vX.bQ())};b.prototype.clone=function(){var a=new b({prototypeName:this.kU,geometry:this.yd(),
prototypeId:this.kG(),category:this.vA(),defaultSize:this.kz(),defaultIconSize:this.N3(),searchKeywords:this.VR?this.VR.slice():[],linkPoints:this.vw()?this.vw().slice():null,outline:this.ZM()?this.ZM().clone():null,tubingWidth:this.Vea(),url:this.IA()});return a};b.prototype.xa=function(){for(var a=_geo.geotoolkit.Ua.hd.ln.U0,b=_geo.geotoolkit.Ua.hd.ln.U0,d=_geo.geotoolkit.Ua.hd.ln.SJa,e=_geo.geotoolkit.Ua.hd.ln.SJa,c=this.Wf(),f=this.Jg(),k=0;k<c.length;k++)a>c[k]&&(a=c[k]),b>f[k]&&(b=f[k]),d<c[k]&&
(d=c[k]),e<f[k]&&(e=f[k]);return new _geo.geotoolkit.util.Rect(a,b,d,e)};b.prototype.render=function(a){this.ef instanceof _geo.geotoolkit.scene.shapes.Fc?(this.ef.ja(this.ka()),this.ef.render(a)):_geo.geotoolkit.scene.shapes.Il.prototype.render.call(this,a);this.Vea()&&this.Dzd(a.qc(new _geo.geotoolkit.util.Ga))};b.prototype.nsa=function(a,b,d){if(!d||!a)return!1;var e;return null!=b?(this.Fo[b]&&(e=this.Fo[b].$ua,this.r3(b),this.Fo[b]=null),a.kb(_geo.geotoolkit.scene.Node.$.WT,function(){this.VG()}.bind(this)),
this.Fo[b]=new _geo.geotoolkit.Ua.shapes.ed.zoa(a,d,b,this),this.Fo[b].$ua=e,this.VG(!0),!0):!1};b.prototype.mta=function(){return this.Fo};b.prototype.r3=function(a,b,d){if(null!=a){var e=this.Fo[a];if(!e)return;if(!e.At){this.Fo[a]=null;return}null!=b&&null!=d&&(b=this.Ya().Ue(new _geo.geotoolkit.util.na(b,d)),d=a===_geo.geotoolkit.Ua.shapes.ed.MT.ON?0:this.Wf().length-1,this.Wf()[d]=b.getX(),this.Jg()[d]=b.getY());this.Fo[a]=null;null==this.Fo[_geo.geotoolkit.Ua.shapes.ed.MT.ON]&&null==this.Fo[_geo.geotoolkit.Ua.shapes.ed.MT.$v]&&
e.At.hb(_geo.geotoolkit.scene.Node.$.WT,function(){this.VG()}.bind(this))}this.VG()};b.prototype.v6a=function(a){for(var b=[],d=0,e=this.Fo;d<e.length;d++){var c=e[d];c&&c.nRa()===a.od()&&b.push(c.uD===_geo.geotoolkit.Ua.shapes.ed.MT.ON?0:this.Wf().length-1)}return b};b.prototype.VG=function(a){void 0===a&&(a=!1);if(!this.B3a){this.B3a=!0;for(var b=!1,d=0,e=this.Fo;d<e.length;d++){var c=e[d];if(c&&c.At&&c.$P){var f=c.At.Ya().ob(c.At.ga());if(a||!f.Pj(c.$ua))b||this.ma(),b=this.getParent().Ya().Ue(c.At.Ya().cb(c.$P)),
this.hma(c.uD,b,!0,!0),c.$ua=f,b=!0}}b&&(this.Oi(),this.ma(),this.Pa());this.B3a=!1}};b.prototype.hma=function(a,b,d,e){var c=this.Wf().slice(),f=this.Jg().slice();a=(a=a===_geo.geotoolkit.Ua.shapes.ed.MT.ON)?0:c.length-1;var k=this.xw.Ue(b);b=k.x;k=k.y;d?(c[a]=b,f[a]=k):e||_geo.geotoolkit.Ua.hd.ln.KB(c,f,c[a],f[a],a+1);this.Ne(c,f);this.Oi()};b.prototype.SCa=function(a,b,d){if(!a||!a.Ya()||_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.ed.n6))return null;var e=a.vw(),c,f=a.Ya();if(e)for(var k=0;k<
e.length;k++)if(c=e[k],_geo.geotoolkit.util.na.Cj(f.cb(c),f.cb(a.Yb().Ue(b)))<d)return c;return null};return b}();_geo.geotoolkit.Ua.shapes.Nf.ADb={I0:0,OYa:1,eB:2,nCb:4,gFb:8,Kdb:12};_geo.geotoolkit.Ua.shapes.Nf.EC={None:0,wd:1,$c:2,Ub:4,Zf:8};_geo.geotoolkit.Ua.shapes.Nf.pha={Line:0,tH:1};_geo.geotoolkit.Ua.shapes.Nf.Fcc=function(){function b(a,b,d){this.IFa=a;this.rm=b;this.Ewb=d}return b}();
_geo.geotoolkit.Ua.shapes.Nf.RXa=function(){function b(a,b){this.IFa=a;this.uD=b}b.prototype.oAc=function(){return 0};b.prototype.ABc=function(){return this.IFa.Wf().length-1};b.prototype.tub=function(){return this.uD===_geo.geotoolkit.Ua.shapes.ed.MT.ON};return b}();
_geo.geotoolkit.Ua.shapes.Nf.NE.OJa=function(){function b(a){a=_geo.geotoolkit.Ca(a,{x:0,y:0,size:new _geo.geotoolkit.util.xc(7,7),painter:_geo.geotoolkit.scene.shapes.hc.Hz,isindevicespace:!0});_geo.geotoolkit.controls.Zb.Jp.call(this,a)}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.handles.LinkHandle");_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Jp);return b}();
_geo.geotoolkit.Ua.shapes.Nf.NE.oha=function(){function b(a,b,d,e,c){a=_geo.geotoolkit.controls.Zb.Jp.call(this,a,b,d)||this;a.S9=e;a.z$=c;a.s4c=!1;a.t4c=new _geo.geotoolkit.attributes.Fa("rgba(255, 0, 0, 1)");a.D_(new _geo.geotoolkit.attributes.Fa("rgba(255, 197, 113, 1)"));return a}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Jp);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.handles.LinkSplitHandle");b.prototype.render=function(a){a=this.mb()?a.qc(this.mb()):a;var b=a.Ra().xk(this.zta()),
d=this.pj(),b=new _geo.geotoolkit.util.Rect(d.getX()-b.aa()/2,d.getY()-b.ba()/2,d.getX()+b.aa()/2,d.getY()+b.ba()/2);a.ta(this.s4c?this.t4c:this.HDa());a.ua(this.OSb());a.Ik([b.sa(),b.Pc(),b.za(),b.Pc()],[b.Qc(),b.qa(),b.Qc(),b.wa()],0,3)};b.prototype.lh=function(){return _geo.geotoolkit.controls.Zb.Jp.prototype.lh.call(this)};b.prototype.En=function(a){_geo.geotoolkit.controls.Zb.Jp.prototype.En.call(this,a);return this};return b}();
_geo.geotoolkit.Ua.shapes.Nf.NE.Cgc=function(){function b(a,b,d,e){void 0===d&&(d=new _geo.geotoolkit.util.xc(20,20));var c=_geo.geotoolkit.controls.Zb.Jp.call(this,a+2,b-2,d)||this;c.D_(new _geo.geotoolkit.attributes.Fa({color:"rgba(100, 100, 100, 0.1)"}));c.I$(new _geo.geotoolkit.attributes.Fa({color:"rgba(100, 100, 100, 0.0)"}));c.dOa=new _geo.geotoolkit.Ua.shapes.apa({prototypeId:"class-cursors",prototypeName:"RotateCursor",category:"cursors",searchKeywords:[],defaultSize:d,geometry:(new _geo.geotoolkit.scene.Group).yb("svg_lazy_group"),
linkPoints:[],svgData:'<?xml version="1.0" encoding="UTF-8"?>\n<svg  x="0px" y="0px" viewBox="0 0 286.374 286.374" >\n<path style="clip-rule:evenodd;fill:#00aad4;fill-rule:evenodd" d="m 227.925,196.882 58.449,-62.644 -34.15,0 C 247.63,69.222 191.474,17.898 125.288,17.898 56.09,17.898 0,73.989 0,143.187 c 0,69.198 56.09,125.289 125.289,125.289 30.037,0 57.592,-10.592 79.171,-28.215 l -31.934,-31.935 c -13.276,9.643 -29.565,15.403 -47.237,15.403 -44.484,0 -80.543,-36.059 -80.543,-80.543 0,-44.484 36.058,-80.544 80.543,-80.544 41.455,0 75.562,31.327 80.018,71.594 l -35.272,0 z M 89.491,143.187 c 0,19.77 16.027,35.797 35.797,35.797 19.77,0 35.796,-16.027 35.796,-35.797 0,-19.77 -16.026,-35.797 -35.796,-35.797 -19.769,0 -35.797,16.027 -35.797,35.797 z"/>\n</svg>',
url:e});c.dOa.en().jc("");c.dOa.Qt(function(){c.ma()});return c}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Jp);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.handles.RotateHandle");b.prototype.render=function(a){a=this.mb()?a.qc(this.mb()):a;var b=a.yr().Hy(this.zta()),d=this.pj().clone(),e=new _geo.geotoolkit.util.Rect(d.getX()-b.aa()/2,d.getY()-b.ba()/2,d.getX()+b.aa()/2,d.getY()+b.ba()/2);e.zb(d.getX()-b.aa()/2,d.getY()-b.ba()/2,d.getX()+b.aa()/2,d.getY()+b.ba()/2);a.ua(new _geo.geotoolkit.attributes.Aa({color:"transparent"}));
a.ta(this.HDa());b=new _geo.geotoolkit.util.Rect(e);b.fe(-3,-3);a.po(b.getX(),b.getY(),b.aa(),b.ba());b=this.dOa.Yb()?this.dOa.Yb():new _geo.geotoolkit.util.Ga;b.GD(e.getX(),e.getY());this.dOa.Td(b);this.dOa.render(a)};return b}();
_geo.geotoolkit.Ua.shapes.Nf.pya=function(){function b(){_geo.geotoolkit.controls.Zb.Qr.call(this);this.Jb=[];this.ZL=[];this.SBa=[];this.QL=8;this.BY=[];this.bja=[];this.ykc=10;this.Eh=new _geo.geotoolkit.selection.am;this.xCa=!1;this.osd=this.isd=20}var a=_geo.geotoolkit.Ua.shapes.Nf.Fcc,g=_geo.geotoolkit.Ua.shapes.Nf.ADb,d=_geo.geotoolkit.Ua.hd.ln.iwb,e=_geo.geotoolkit.Ua.hd.ln.KB;_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.LinksAdapter");_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);
b.prototype.DIc=function(a,b,d){this.gfa();this.ip(!1);this.j5("default")};b.prototype.OZb=function(a,b,d){this.Cm&&(this.gfa(),this.ip(!1));this.RUa();this.xCa=!1};b.prototype.RUa=function(){this.Cm=this.Ob().clone();this.Cm.yb("CLONE-"+this.Ob().getName());this.Cm.ta(this.Ob().sb());this.Cm.ua(this.Ob().Xa());this.Cm.Ka(!0);this.Cm.Ne(this.Ob().Wf(),this.Ob().Jg());this.Cm.Td(this.Ob().Yb().clone());this.Cm.userTouched=this.Ob().userTouched;this.Ob().getParent().va(this.Cm);this.Cm.Oi();this.Ob().Ka(!1)};
b.prototype.gfa=function(){if(this.Cm){this.Cm.Ka(!1);if(this.Ob()){var a=this.Cm.Wf(),b=this.Cm.Jg(),a=_geo.geotoolkit.Ua.hd.ln.lTa(a,b,!1);this.Ob().Ne(a.x,a.y);this.Ob().userTouched=this.Cm.userTouched;this.Ob().Oi()}this.Ob().getParent().removeChild(this.Cm)}this.Cm=null;this.Ob().Ka(!0)};b.prototype.Lob=function(a,b){var d=new _geo.geotoolkit.util.na(a,b),d=this.Eh.select(this.Ob().getRoot(),d.getX(),d.getY(),4).filter(function(a){return a!==this.Ob()&&a!==this.Cm&&!_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.ed.n6)&&
_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Paa)}.bind(this));this.I4b(d)};b.prototype.I4b=function(a){a||(a=[]);if(this.r8c(this.BY,a)||0===a.length&&0===this.BY.length)return this;this.BY=a;var b=this.Bh();this.bja.forEach(function(a){return b.removeChild(a)});this.bja=[];var d,e,g,n;for(a=0;a<this.BY.length;a++)if(d=this.BY[a],n=_geo.geotoolkit.util.Ga.multiply(d.Ya(),b.Ya().Vd()),d.vw()&&Array.isArray(d.vw()))for(g=d.vw(),d=0;d<g.length;d++)e=g[d],n&&(e=n.cb(e)),e=new _geo.geotoolkit.Ua.shapes.Nf.NE.OJa({x:e.x,
y:e.y}),this.bja.push(e),b.va(e);return this};b.prototype.QZb=function(a,b,k){if(this.Cm){b=this.Ob().Wf().slice();var h=this.Ob().Jg().slice(),l=a.S9?a.S9:this.ZL[0],n=a.z$?a.z$:this.ZL[1],p=a,r=this.Cm.Ya().Vd(),l=r.cb(l.Ya().cb(l.pj())),p=r.cb(p.Ya().cb(p.pj())),n=r.cb(n.Ya().cb(n.pj())),n=1E-7>Math.abs(l.getY()-p.getY())&&1E-7>Math.abs(p.getY()-n.getY());if(a.lh().Ewb===g.eB){for(var t,q,l=a.S9;l;l=l.S9)if(l.lh().Ewb&g.Kdb){t=l;break}for(l=a.z$;l;l=l.z$)if(l.lh().Ewb&g.Kdb){q=l;break}if(!t||!q)return;
a=r.cb(t.Ya().cb(t.pj()));r=r.cb(t.Ya().cb(q.pj()));n?(this.j5("n-resize"),0!==t.lh().rm&&q.lh().rm===b.length-1?(d(b,h,t.lh().rm,q.lh().rm-t.lh().rm),e(b,h,r.getX(),k.getY(),t.lh().rm),e(b,h,a.getX(),k.getY(),t.lh().rm)):0===t.lh().rm&&q.lh().rm!==b.length-1?(d(b,h,t.lh().rm+1,q.lh().rm-t.lh().rm),e(b,h,r.getX(),k.getY(),t.lh().rm+1),e(b,h,a.getX(),k.getY(),t.lh().rm+1)):(d(b,h,t.lh().rm,q.lh().rm-t.lh().rm),t.S9||e(b,h,r.getX(),r.getY(),t.lh().rm),e(b,h,r.getX(),k.getY(),t.lh().rm),e(b,h,a.getX(),
k.getY(),t.lh().rm),q.z$||e(b,h,a.getX(),a.getY(),t.lh().rm))):(this.j5("e-resize"),0!==t.lh().rm&&q.lh().rm===b.length-1?(d(b,h,t.lh().rm,q.lh().rm-t.lh().rm),e(b,h,k.getX(),r.getY(),t.lh().rm),e(b,h,k.getX(),a.getY(),t.lh().rm)):0===t.lh().rm&&q.lh().rm!==b.length-1?(d(b,h,t.lh().rm+1,q.lh().rm-t.lh().rm),e(b,h,k.getX(),r.getY(),t.lh().rm+1),e(b,h,k.getX(),a.getY(),t.lh().rm+1)):(d(b,h,t.lh().rm,q.lh().rm-t.lh().rm),t.S9||e(b,h,r.getX(),r.getY(),t.lh().rm),e(b,h,k.getX(),r.getY(),t.lh().rm),e(b,
h,k.getX(),a.getY(),t.lh().rm),q.z$||e(b,h,a.getX(),a.getY(),t.lh().rm)));this.Cm.userTouched=!0}k=_geo.geotoolkit.Ua.hd.ln.lTa(b,h,!1);this.Cm.Ne(k.x,k.y);this.Cm.Oi()}};b.prototype.auc=function(){var a;for(a=0;a<this.Jb.length;a++)this.Jb[a].Lv(null),this.Bh().removeChild(this.Jb[a]);this.I4b(null);this.Jb=[];this.SBa=[];this.ZL=[]};b.prototype.fTc=function(a,b,d){if(b&&a){var e=a.lh(),l=e.rm;if(!(0>l||l>=this.Ob().Wf().length)){var n=this.Ob().Wf(),p=this.Ob().Jg(),r=0===l?n[l]:(n[l]+n[l-1])/2,
t=0===l?p[l]:(p[l]+p[l-1])/2;switch(e.Ewb){case g.nCb:case g.gFb:a.yc(d.cb(b.dg(n[l],p[l]).clone()));a.Ka(!1);break;case g.I0:a.yc(d.cb(b.dg((n[l-1]+r)/2,(p[l-1]+t)/2)).clone());a.Ka(!1);break;case g.eB:a.yc(d.cb(b.dg(r,t)).clone());break;case g.OYa:a.yc(d.cb(b.dg((n[l]+r)/2,(p[l]+t)/2)).clone());a.Ka(!1);break}}}};b.prototype.Rh=function(a){var b=a.ga(),d=a.Wf(),e=a.Jg(),g,n,p,r=null!=a.Yb()?a.Yb():new _geo.geotoolkit.util.Ga,t=a.Ya();if(!t)return this;var q=this.Bh().Ya().Vd();for(g=0;g<this.Jb.length;g++)n=
this.Jb[g],p=n.lh(),p.IFa=a,n instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.oha&&this.Hqa!==_geo.geotoolkit.Ua.shapes.Nf.pha.Line?this.fTc(n,t,q):n instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.OJa?(p=p.uD===_geo.geotoolkit.Ua.shapes.ed.MT.ON?0:d.length-1,p=t.dg(d[p],e[p]),n.yc(q.transform(p))):n instanceof _geo.geotoolkit.controls.Zb.zX&&(n.Dw({from:new _geo.geotoolkit.util.na(b.sa(),b.qa()),to:new _geo.geotoolkit.util.na(b.za(),b.wa())}),n.Td(r));return this};b.prototype.kua=function(){for(var a=0;a<
this.Jb.length;a++)this.Jb[a].Ka(!1)};b.prototype.ip=function(b){void 0===b&&(b=!0);this.auc();var d=this.Ob();this.Hqa=d.psb();var e=d.ga(),h=d.Wf(),l=d.Jg();this.Jb.push((new _geo.geotoolkit.controls.Zb.zX(e.sa(),e.qa(),e.za(),e.wa())).En(new _geo.geotoolkit.Ua.shapes.Nf.RXa(d,-1)));b&&this.Er(this.Jb[0]);if(this.Hqa===_geo.geotoolkit.Ua.shapes.Nf.pha.tH){var n,p,r,t,q,m,u=new _geo.geotoolkit.util.xc(this.QL,this.QL);for(b=1;b<h.length;b++)r=(h[b]+h[b-1])/2,t=(l[b]+l[b-1])/2,e=p?p:(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha(h[b-
1],l[b-1],u)).En(new a(d,b-1,g.nCb)),e.Ka(!1),p||(this.Jb.push(e),this.SBa.push(e)),q=(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha((h[b-1]+r)/2,(l[b-1]+t)/2,u)).En(new a(d,b,g.I0)),q.Ka(!1),this.Jb.push(q),this.SBa.push(q),m=(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha(r,t,u)).En(new a(d,b,g.eB)),this.Jb.push(m),this.SBa.push(m),t=(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha((h[b]+r)/2,(l[b]+t)/2,u)).En(new a(d,b,g.OYa)),t.Ka(!1),this.Jb.push(t),this.SBa.push(t),r=(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha(h[b],
l[b],u)).En(new a(d,b,g.gFb)),r.Ka(!1),this.Jb.push(r),this.SBa.push(r),p||(e.S9=n,e.z$=q),q.S9=e,q.z$=m,m.S9=q,m.z$=t,t.S9=m,t.z$=r,r.S9=t,p&&(p.z$=q),p=r,n=t}n=h.length-1;p=0;for(e=[0,1];p<e.length;p++)b=e[p],b=(new _geo.geotoolkit.Ua.shapes.Nf.NE.OJa({x:h[b*n],y:l[b*n],size:new _geo.geotoolkit.util.xc(this.QL,this.QL)})).En(new _geo.geotoolkit.Ua.shapes.Nf.RXa(d,b)),this.Jb.push(b),this.ZL.push(b);for(b=1;b<this.Jb.length;b++)this.Bh().va(this.Jb[b]),this.Jb[b].Lv(this);this.setStyle({main:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new _geo.geotoolkit.attributes.Fa("transparent")},corners:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.Rh(this.Ob());this.Bh().ma();return!0};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,a);this.Cg();return this};b.prototype.uj=function(a){this.ofa()||this.ip(!0);this.Rh(this.Ob());a||(this.gfa(),this.kua(),this.j5("default"))};b.prototype.X4a=
function(a,b,d,e){this.ZL[b].setActive(!1);if(this.BY&&0<this.BY.length){var g,n,p;for(g=0;g<this.BY.length;g++){n=this.BY[g];if(!n.getParent())return;p=n.getParent().Ya().Vd();p=a.SCa(n,p.dg(d,e),this.ykc);for(var r=0;r<this.bja.length;r++){var t,q=p&&this.bja[r].pj().AM(t=n.mb().cb(p));this.bja[r].setActive(q);q&&this.Cm&&this.Cm.hma(b,t)}if(p&&(this.ZL[b].setActive(!0),a.nsa(n,b,p))){a.VG();return}}}a.r3(b)};b.prototype.Cl=function(a,b){var d=this.nx();if(!d)return this;var e=this.getPosition();
if(e.getX()===a&&e.getY()===b)return this;this.xCa=!0;this.kua();var g=this.Cm?this.Cm:this.Ob();g.ma();var n=g.Ya().Vd(),e=n.cb(e),n=n.dg(a,b).clone();if(d instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.oha&&this.Hqa!==_geo.geotoolkit.Ua.shapes.Nf.pha.Line)this.QZb(d,e,n);else if(d instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.OJa)this.Lob(a,b),d=d.lh(),null!=d&&null!=d.uD&&(g&&g.hma(d.uD,g.Yb().cb(n)),this.X4a(d.IFa,d.uD,a,b));else for(this.j5("move"),this.gfa(),d=_geo.geotoolkit.util.Ga.kj(n.getX()-e.getX(),
n.getY()-e.getY()),g.Yb()?g.Td(_geo.geotoolkit.util.Ga.multiply(g.Yb(),d)):g.Td(d),d=0,n=[0,1];d<n.length;d++)d=n[d],e=this.ZL[d].Ya().cb(this.ZL[d].pj()),this.X4a(this.Ob(),this.ZL[d].lh().uD,e.getX(),e.getY());this.Rh(this.Ob());g.ma();return this};b.prototype.setStyle=function(a){function b(a){return a instanceof _geo.geotoolkit.attributes.Fa?_geo.geotoolkit.Ca({},{fillstyle:a.ka()}):_geo.geotoolkit.Ca({},{fillstyle:a})}function d(a){return a instanceof _geo.geotoolkit.attributes.Aa?_geo.geotoolkit.Ca({},
{linestyle:a.ka()}):_geo.geotoolkit.Ca({},{linestyle:a})}var e={};a.hasOwnProperty("main")&&(a.main.hasOwnProperty("linestyle")&&(e=_geo.geotoolkit.Ca(e,d(a.main.linestyle))),a.main.hasOwnProperty("fillstyle")&&(e=_geo.geotoolkit.Ca(e,b(a.main.fillstyle))),this.Jb[0].ja(e));e={};if(a.hasOwnProperty("corners"))for(a.corners.hasOwnProperty("linestyle")&&(e=_geo.geotoolkit.Ca(e,d(a.corners.linestyle))),a.corners.hasOwnProperty("fillstyle")&&(e=_geo.geotoolkit.Ca(e,b(a.corners.fillstyle))),a=1;a<this.Jb.length;++a)this.Jb[a].ja(e);
return this};b.prototype.r8c=function(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;var d;for(d=0;d<a.length;d++)if(a[d].od()!==b[d].od())return!1;return!0};b.prototype.j5=function(a){this.nj&&this.nj.hD()&&(this.nj.hD().style.cursor=a);return this};return b}();
_geo.geotoolkit.Ua.shapes.Nf.dba=function(){function b(){_geo.geotoolkit.Ua.shapes.Nf.pya.call(this);this.OLa=!1}_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.shapes.Nf.pya);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.PolylineAdapter");b.prototype.mwc=function(){this.Ob().created=!0;this.gfa();this.ip(!0);this.j5("default")};b.prototype.cHc=function(){return this.OLa};b.prototype.DIc=function(a,b,d){this.Ob().created?(this.gfa(),this.ip(!1),this.j5("default")):(this.RUa(),this.xCa=!1)};b.prototype.OZb=
function(a,b,d){this.Ob().created?(this.RUa(),this.xCa=!1):(this.gfa(),this.ip(!1),this.j5("default"),this.OLa&&(this.Ob().created=!0))};b.prototype.RUa=function(){_geo.geotoolkit.Ua.shapes.Nf.pya.prototype.RUa.call(this);this.Cm.control=this.Ob().control;this.Cm.created=this.Ob().created};b.prototype.gfa=function(a){void 0===a&&(a=!1);if(this.Cm){this.Cm.Ka(!1);if(this.Ob()&&!a){a=this.Cm.Wf();var b=this.Cm.Jg();a=_geo.geotoolkit.Ua.hd.ln.lTa(a,b,!0);this.Ob().Ne(a.x,a.y);this.Ob().userTouched=this.Cm.userTouched;
this.Ob().created=this.Cm.created;this.Ob().Oi()}this.Ob().getParent().removeChild(this.Cm)}this.Cm=null;this.Ob().Ka(!0)};b.prototype.QZb=function(a,b,d){if(this.Cm&&a){b=this.Ob().Wf().slice();var e=this.Ob().Jg().slice(),c=a.lh().rm,f=0===c?b[b.length-1]:b[c-1],k=0===c?e[e.length-1]:e[c-1],h=c===b.length-1?b[0]:b[c+1],c=c===e.length-1?e[0]:e[c+1],l=d.getX();d=d.getY();var n,p;0!==l-f&&0!==d-k&&(n=Math.sqrt(Math.pow(l-f,2)+Math.pow(d-k,2)),p=Math.abs(l-f)/Math.abs(d-k),p<Math.tan(5*Math.PI/180)?
(l=f,d=k+(0<d-k?n:-1*n)):p<Math.tan(48*Math.PI/180)&&p>Math.tan(42*Math.PI/180)?(l=f+(0<l-f?n*Math.sin(45*Math.PI/180):n*Math.sin(45*Math.PI/180)*-1),d=k+(0<d-k?n*Math.sin(45*Math.PI/180):n*Math.sin(45*Math.PI/180)*-1)):p>Math.tan(87*Math.PI/180)&&(d=k,l=f+(0<l-f?n:-1*n)));0!==l-h&&0!==d-c&&(n=Math.sqrt(Math.pow(l-h,2)+Math.pow(d-c,2)),p=Math.abs(l-h)/Math.abs(d-c),p<Math.tan(5*Math.PI/180)?(l=h,d=c+(0<d-c?n:-1*n)):p<Math.tan(50*Math.PI/180)&&p>Math.tan(40*Math.PI/180)?(l=h+(0<l-h?n*Math.sin(45*Math.PI/
180):n*Math.sin(45*Math.PI/180)*-1),d=c+(0<d-c?n*Math.sin(45*Math.PI/180):n*Math.sin(45*Math.PI/180)*-1)):p>Math.tan(85*Math.PI/180)&&(d=c,l=h+(0<l-h?n:-1*n)));_geo.geotoolkit.Ua.hd.ln.iwb(b,e,a.lh().rm);_geo.geotoolkit.Ua.hd.ln.KB(b,e,l,d,a.lh().rm);this.Cm.userTouched=!0;a=_geo.geotoolkit.Ua.hd.ln.lTa(b,e,!0);this.Cm.Ne(a.x,a.y);this.Cm.Oi()}};b.prototype.fTc=function(a,b,d){if(b){var e=a.lh(),e=e.rm;if(!(0>e||e>=this.Ob().Wf().length)){var c=this.Ob().Wf(),f=this.Ob().Jg();b=d.cb(b.dg(c[e],f[e]).clone());
a.yc(b)}}};b.prototype.ip=function(a){void 0===a&&(a=!0);this.auc();var b=this.Ob(),d=b.ga(),e=b.Wf(),c=b.Jg();this.OLa&&(b.created=!0);var f;this.Jb.push((new _geo.geotoolkit.controls.Zb.zX(d.sa(),d.qa(),d.za(),d.wa())).En(new _geo.geotoolkit.Ua.shapes.Nf.RXa(b,-1)));var d=new _geo.geotoolkit.util.xc(1*this.QL,1*this.QL),k=1;if(this.Ob().yd()instanceof _geo.geotoolkit.scene.shapes.Fc&&this.Ob().created)k=0;else for(var h=e.length-1,l=0,n=[0,1];l<n.length;l++)f=n[l],f=(new _geo.geotoolkit.Ua.shapes.Nf.NE.OJa({x:e[f*
h],y:c[f*h],size:new _geo.geotoolkit.util.xc(this.QL,this.QL)})).En(new _geo.geotoolkit.Ua.shapes.Nf.RXa(b,f)),this.Jb.push(f),this.ZL.push(f);for(f=k;f<e.length-k;f++)h=(new _geo.geotoolkit.Ua.shapes.Nf.NE.oha(e[f],c[f],d)).En(new _geo.geotoolkit.Ua.shapes.Nf.Fcc(b,f,_geo.geotoolkit.Ua.shapes.Nf.ADb.Kdb)),this.Jb.push(h),this.SBa.push(h);a&&(this.Ob().created?this.Er(this.Jb[0]):this.Er(this.ZL[1]));for(f=1;f<this.Jb.length;f++)this.Bh().va(this.Jb[f]),this.Jb[f].Lv(this);this.setStyle({main:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new _geo.geotoolkit.attributes.Fa("transparent")},corners:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.Rh(this.Ob());this.Bh().ma();return!0};b.prototype.lk=function(a){_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,a);a.created?this.ip():(this.OLa=!1,this.Cg(),this.RUa(),this.xCa=!1);return this};b.prototype.Ob=function(){return _geo.geotoolkit.controls.Zb.Qr.prototype.Ob.call(this)};
b.prototype.uj=function(a){this.ofa()||this.ip(!0);this.Rh(this.Ob());a||(this.gfa(!0),this.Ob().created=!0,this.kua(),this.j5("default"))};b.prototype.X4a=function(a,b,d,e){this.ZL[b].setActive(!1);if(this.BY&&0<this.BY.length)for(var c=0,f,k;c<this.BY.length;c++){k=this.BY[c];if(!k.getParent())return;f=a.SCa(k,k.getParent().Ya().Ue(new _geo.geotoolkit.util.na(d,e)),this.ykc);for(var h=0;h<this.bja.length;h++){var l,n=f&&this.bja[h].pj().AM(l=k.mb().cb(f));this.bja[h].setActive(n);n&&this.Cm&&this.Cm.hma(b,
l,!0,this.Cm.created)}if(f){this.ZL[b].setActive(!0);a.nsa(k,b,f)&&(a.VG(),this.Rh(a));this.OLa=!0;return}this.OLa=!1}a.r3(b)};b.prototype.Cl=function(a,b){this.Lob(a,b);var d=this.nx();if(null==d)return this;var e=this.getPosition();if(e.getX()===a&&e.getY()===b)return this;this.kua();var c=this.Cm?this.Cm:this.Ob();c.ma();var f=c.Ya().Vd(),e=f.cb(e),f=f.dg(a,b).clone();if(d instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.oha)this.QZb(d,e,f);else if(d instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.OJa)e=
d.lh(),null!=e&&null!=e.uD&&c&&(c.hma(e.uD,c.Yb().cb(f),this.xCa,this.Ob().created),this.Ob().created&&this.X4a(e.IFa,e.uD,a,b));else{this.j5("move");this.gfa();var d=c.ga(),k=d.clone(),h=f.getX()-e.getX(),e=f.getY()-e.getY();k.setX(k.getX()+h);k.setY(k.getY()+e);e=_geo.geotoolkit.util.Ga.hf(d,k,!1,!1,!1);f=c.Yb()?c.Yb():new _geo.geotoolkit.util.Ga;c.Td(_geo.geotoolkit.util.Ga.multiply(f,e));if(0<this.ZL.length)for(e=0,f=[0,1];e<f.length;e++)d=f[e],k=this.ZL[d].Ya().cb(this.ZL[d].pj()),this.X4a(this.Ob(),
this.ZL[d].lh().uD,k.getX(),k.getY())}this.xCa=!0;this.Rh(this.Ob());c.ma();return this};return b}();
_geo.geotoolkit.Ua.shapes.Nf.uba=function(){function b(){var a=_geo.geotoolkit.Ua.shapes.Zl.call(this,{})||this;a.Fh=[];return a}_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.shapes.Zl);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.VirtualGroupVisual");b.prototype.F5b=function(a){var b;if(this.Fh)for(b=0;b<this.Fh.length;b++)this.Fh[b].hb(_geo.geotoolkit.scene.Node.$.eO,this.tFa.bind(this)),this.Fh[b].hb(_geo.geotoolkit.scene.Node.$.NQ,this.tFa.bind(this));this.Fh=a?a:[];for(b=0;b<this.Fh.length;b++)this.Fh[b].kb(_geo.geotoolkit.scene.Node.$.eO,
this.tFa.bind(this)),this.Fh[b].kb(_geo.geotoolkit.scene.Node.$.NQ,this.tFa.bind(this));this.tFa();return this};b.prototype.fs=function(){return this.Fh};b.prototype.tFa=function(){this.Rb=null;this.Ja(_geo.geotoolkit.scene.Node.$.NQ,this,this.ga());return this};b.prototype.ga=function(){if(!this.Rb){if(!this.Fh||!this.Fh.length)return new _geo.geotoolkit.util.Rect;for(var a=void 0,b=0;b<this.Fh.length;b++)a=(a=this.Fh[b].Yb?this.Fh[b].Yb():null)?a.ob(this.Fh[b].ga()):this.Fh[b].ga(),this.Rb?this.Rb.union(a):
this.Rb=a.clone()}return this.Rb};b.prototype.Yb=function(){return null};b.prototype.Ya=function(){return this.Llb&&this.Llb.Ya&&this.Llb.Ya()?this.Llb.Ya():new _geo.geotoolkit.util.Ga};b.prototype.Td=function(a){a||(a=new _geo.geotoolkit.util.Ga);this.ma();for(var b=0;b<this.Fh.length;b++)this.Fh[b].Td(_geo.geotoolkit.util.Ga.multiply(a,this.Fh[b].Yb()?this.Fh[b].Yb():new _geo.geotoolkit.util.Ga));this.tFa();this.ma()};b.prototype.tpd=function(a){this.Llb=a};return b}();
_geo.geotoolkit.Ua.shapes.Nf.hLa=function(){function b(){_geo.geotoolkit.controls.Zb.Qr.call(this);this.Jb=[];this.N3a=new _geo.geotoolkit.Ua.shapes.Nf.uba;this.Eh=new _geo.geotoolkit.selection.am;this.N3a.kb(_geo.geotoolkit.scene.Node.$.NQ,this.vxc.bind(this));this.N3a.kb(_geo.geotoolkit.scene.Node.$.eO,this.vxc.bind(this));_geo.geotoolkit.controls.Zb.Qr.prototype.lk.call(this,this.N3a)}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.Zb.Qr);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.VisualPluginAdapter");
b.prototype.lk=function(a){a=_geo.geotoolkit.Ua.hd.ln.flatten([a]);this.N3a.F5b(a);this.N3a.tpd(0<a.length?a[0].getParent():this.Bh());this.ofa()?this.Rh():this.Cg();this.Er(this.Jb[0]);return this};b.prototype.vxc=function(){this.Rh()};b.prototype.Ob=function(){return _geo.geotoolkit.controls.Zb.Qr.prototype.Ob.call(this)};b.prototype.QV=function(){return this.Ob().ga()};b.prototype.uj=function(a){this.Rh();for(var b=0;b<this.Jb.length;b++)this.Jb[b].Ka(a)};b.prototype.ip=function(){this.Jb=[];var a=
this.QV();this.Jb.push((new _geo.geotoolkit.controls.Zb.Qga(a)).En({x:1,y:1,width:0,height:0}).D_(new _geo.geotoolkit.attributes.Fa("transparent")));this.Jb.push(new _geo.geotoolkit.Ua.shapes.Nf.NE.Cgc(a.za(),a.qa()));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:1,y:1,width:-1,height:-1}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:0,y:1,width:1,height:-1}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:0,y:0,width:1,height:1}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,
0)).En({x:1,y:0,width:-1,height:1}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:1,y:0,width:-1,height:0}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:0,y:0,width:1,height:0}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:0,y:1,width:0,height:-1}));this.Jb.push((new _geo.geotoolkit.controls.Zb.Jp(0,0)).En({x:0,y:0,width:0,height:1}));for(a=0;a<this.Jb.length;a++)this.Bh().va(this.Jb[a]),this.Jb[a].Lv(this);this.Rh();this.setStyle({main:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new _geo.geotoolkit.attributes.Fa("transparent")},corners:{linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});return!0};b.prototype.h9c=function(a,b,d,e,c,f){var k=0,h=(a-d)*(c-d)+(b-e)*(f-e);a=(a-d)*(f-e)-(b-e)*(c-d);if(0!==h||0!==a)k=Math.atan2(a,h);return k};b.prototype.Lob=function(a,b){var d=6,e=this.Ob();if(e){var c=e.Ya().clone();e.Yb()&&c.vv(e.Yb());var c=c.ob(e.ga()),f=c.clone();f.fe(d,
d);f=this.Eh.select(e.getRoot(),f,d,!0).filter(function(a){return a!==e&&a instanceof _geo.geotoolkit.Ua.shapes.Zl}).map(function(a){return e.Ya().ob(a.Yb().ob(a.ga()))});return this.qqd(new _geo.geotoolkit.util.na(a,b),c,f,d)}return new _geo.geotoolkit.util.na(a,b)};b.prototype.qqd=function(a,b,d,e){void 0===e&&(e=8);if(!d||0===d.length)return a;var c=b.wa(),f=b.qa(),k=b.sa();b=b.za();for(var h=0,l=0,n=0;n<d.length;n++){var p=d[n];Math.abs(p.wa()-c)<e?l=p.wa()-c:Math.abs(p.wa()-f)<e?l=p.wa()-f:Math.abs(p.qa()-
c)<e?l=p.qa()-c:Math.abs(p.qa()-f)<e&&(l=p.qa()-f);Math.abs(p.sa()-k)<e?h=p.sa()-k:Math.abs(p.sa()-b)<e?h=p.sa()-b:Math.abs(p.za()-k)<e?h=p.za()-k:Math.abs(p.za()-b)<e&&(h=p.za()-b)}return new _geo.geotoolkit.util.na(a.getX()+h,a.getY()+l)};b.prototype.Cl=function(a,b){var d=this.Lob(a,b);a=d.getX();b=d.getY();var e=this.nx();if(!e)return this;d=this.Ob();if(e instanceof _geo.geotoolkit.Ua.shapes.Nf.NE.Cgc){var c=this.getPosition(),f=e=d.ga(),k=d.Ya(),h=this.Bh().Ya().Vd();d instanceof _geo.geotoolkit.Ua.shapes.Nf.uba&&
(f=d.fs()[0].ga(),k=d.fs()[0].Ya());if(a===this.getPosition().getX()&&b===this.getPosition().getY())return this;k=_geo.geotoolkit.util.Ga.multiply(h,k);c=h.cb(c);h=h.cb(new _geo.geotoolkit.util.na(a,b));f=k.cb(f.getCenter());f=this.h9c(c.getX(),c.getY(),f.getX(),f.getY(),h.getX(),h.getY());e=_geo.geotoolkit.util.Ga.dn(f,e.Pc(),e.Qc());d.Yb()?d.Td(_geo.geotoolkit.util.Ga.multiply(d.Yb(),e)):d.Td(e);d.ma();this.setPosition(a,b);return this}if(!e.lh())return this;this.qvb(a,b);this.Rh();this.setPosition(a,
b);d.ma();return this};b.prototype.qvb=function(a,b){var d=this.getPosition();if(d&&(d.getX()!==a||d.getY()!==b)){for(var e=this.Ob(),c=e instanceof _geo.geotoolkit.Ua.shapes.Nf.uba?e.fs():[e],f=0;f<c.length;f++){var e=c[f],k=e.ga(),h=k.clone(),l=e.getParent().Ya().Vd(),n=new _geo.geotoolkit.util.na(d.getX(),d.getY()),p=new _geo.geotoolkit.util.na(a,b);l.cb(n,n);l.cb(p,p);var l=e.Yb()?e.Yb():new _geo.geotoolkit.util.Ga,r=l.Vd(),n=r.cb(n),p=r.cb(p),r=p.getX()-n.getX(),n=p.getY()-n.getY(),p=this.nx().lh();
h.setX(k.x+p.x*r);h.setY(k.y+p.y*n);h.qb(k.width+p.width*r);h.Db(k.height+p.height*n);e.Td(_geo.geotoolkit.util.Ga.multiply(l,_geo.geotoolkit.util.Ga.hf(k,h,!1,!1,!1)))}e instanceof _geo.geotoolkit.Ua.shapes.Nf.uba&&e.tFa()}};b.prototype.setStyle=function(a){function b(a){return a instanceof _geo.geotoolkit.attributes.Fa?_geo.geotoolkit.Ca({},{fillstyle:a.ka()}):_geo.geotoolkit.Ca({},{fillstyle:a})}function d(a){return a instanceof _geo.geotoolkit.attributes.Aa?_geo.geotoolkit.Ca({},{linestyle:a.ka()}):
_geo.geotoolkit.Ca({},{linestyle:a})}var e={};a.hasOwnProperty("main")&&(a.main.hasOwnProperty("linestyle")&&(e=_geo.geotoolkit.Ca(e,d(a.main.linestyle))),a.main.hasOwnProperty("fillstyle")&&(e=_geo.geotoolkit.Ca(e,b(a.main.fillstyle))),this.Jb[0].ja(e));e={};if(a.hasOwnProperty("corners"))for(a.corners.hasOwnProperty("linestyle")&&(e=_geo.geotoolkit.Ca(e,d(a.corners.linestyle))),a.corners.hasOwnProperty("fillstyle")&&(e=_geo.geotoolkit.Ca(e,b(a.corners.fillstyle))),a=2;a<this.Jb.length;++a)this.Jb[a].ja(e);
return this};b.prototype.Rh=function(){if(this.ofa()){var a=this.QV();if(a){var b=this.Ob().Ya(),d=this.Bh().Ya().Vd(),e=b.ob(a),a=e.di();a.bb(a.getX()-this.Jb[1].zta().aa()/2-3,a.getY()-this.Jb[1].zta().ba()/2-3);e=d.ob(e);this.Jb[0].zb(e);this.Jb[1].yc(d.cb(a));this.Jb[2].yc(new _geo.geotoolkit.util.na(e.sa(),e.qa()));this.Jb[3].yc(new _geo.geotoolkit.util.na(e.za(),e.qa()));this.Jb[4].yc(new _geo.geotoolkit.util.na(e.za(),e.wa()));this.Jb[5].yc(new _geo.geotoolkit.util.na(e.sa(),e.wa()));this.Jb[6].yc(new _geo.geotoolkit.util.na(e.sa(),
e.Qc()));this.Jb[7].yc(new _geo.geotoolkit.util.na(e.za(),e.Qc()));this.Jb[8].yc(new _geo.geotoolkit.util.na(e.Pc(),e.qa()));this.Jb[9].yc(new _geo.geotoolkit.util.na(e.Pc(),e.wa()));var c=this.Ob();if(c instanceof _geo.geotoolkit.Ua.shapes.Nf.uba&&0<c.fs().length){a=1===c.fs().length?c.fs()[0].ga():c.ga();e=[a.di(),a.st(),a.Sn(),a.zr(),a.Eta(),a.wla(),a.Fla(),a.ODa()];b=1===c.fs().length?c.fs()[0].Ya():c.Ya();d=_geo.geotoolkit.util.Ga.multiply(d,b);this.Jb[0].zb(a);this.Jb[0].Td(d);var c=b.dg(0,
0).clone(),f=b.dg(1,0).clone(),k=b.dg(0,1).clone(),b=_geo.geotoolkit.util.na.Cj(c,f),c=_geo.geotoolkit.util.na.Cj(c,k),a=a.clone();b>_geo.geotoolkit.Ua.hd.ln.EPSILON&&c>_geo.geotoolkit.Ua.hd.ln.EPSILON&&(b=1/b*(this.Jb[1].zta().aa()/2+2),c=1/c*(this.Jb[1].zta().ba()/2+2),a.fe(b,c));this.Jb[1].yc(d.cb(a.di()));for(a=2;a<Math.min(this.Jb.length,e.length+2);a++)this.Jb[a].yc(d.cb(e[a-2]))}}}};return b}();
_geo.geotoolkit.Ua.shapes.Nf.NBb=function(){function b(a,b){var d={slots:{pointerdown:this.xf.bind(this),pointermove:this.Wd.bind(this),pointerup:this.Ae.bind(this),dblclick:this.ks.bind(this)},name:"geotoolkit.flowcharts.shapes.edit.DiagramTool",layer:b};_geo.geotoolkit.controls.ia.fc.call(this,d);this.QRc=!0;this.nGa=new _geo.geotoolkit.Ua.hd.PJa;this.c7b=0;this.g7b=function(){this.EJ&&this.f7b(this.EJ)}.bind(this);this.cd=a;this.Eh=new _geo.geotoolkit.selection.am}_geo.geotoolkit.fa(b,_geo.geotoolkit.controls.ia.fc);
_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.edit.DiagramTool");b.prototype.gy=function(a){this.nj=a;this.yhd(a);return this};b.prototype.nEc=function(){return this.hM};b.prototype.yhd=function(a){this.hM||(this.hM=(new _geo.geotoolkit.controls.Zb.hba(null,this.Bh())).register(_geo.geotoolkit.Ua.shapes.Zl.getClassName(),new _geo.geotoolkit.Ua.shapes.Nf.hLa).register(_geo.geotoolkit.Ua.shapes.apa.getClassName(),new _geo.geotoolkit.Ua.shapes.Nf.hLa).register(_geo.geotoolkit.Ua.shapes.ed.S0.getClassName(),
new _geo.geotoolkit.Ua.shapes.Nf.pya).register(_geo.geotoolkit.Ua.shapes.ed.G6.getClassName(),new _geo.geotoolkit.Ua.shapes.Nf.dba).register(_geo.geotoolkit.Ua.shapes.Nf.uba.getClassName(),this.b6c=new _geo.geotoolkit.Ua.shapes.Nf.hLa).register(_geo.geotoolkit.Xb.Lha.getClassName(),new _geo.geotoolkit.Ua.shapes.Nf.hLa));return this.hM};b.prototype.Hvc=function(){this.hM.eT(null);return this};b.prototype.dispose=function(){this.ek&&this.ek.removeEventListener("keypress",this.K_a);_geo.geotoolkit.controls.ia.fc.prototype.dispose.call(this)};
b.prototype.xf=function(a){var b,d=this.Qe(this.cd,a),e=this.cd.Ya().cb(d),c=this.Eh.select(this.nj.getRoot(),e.getX(),e.getY(),3).filter(function(a){return a instanceof _geo.geotoolkit.scene.Node});if(this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba&&!this.cf.Ob().created&&(this.cf.OZb(a,e,d),!this.cf.cHc()))return;if(c&&0<c.length){for(b=c.length-1;0<=b;b--)if(c[b]instanceof _geo.geotoolkit.Ua.shapes.ed.S0||c[b]instanceof _geo.geotoolkit.Ua.shapes.ed.G6){var f=this.hM.GDa();(f instanceof _geo.geotoolkit.Ua.shapes.Nf.pya||
f instanceof _geo.geotoolkit.Ua.shapes.Nf.dba)&&f.wf()&&f.Ob()===c[b]&&f.OZb(a,e,d)}for(b=c.length-1;1<=b;b--)if(d=c[b],d instanceof _geo.geotoolkit.controls.Zb.N5){if(d instanceof _geo.geotoolkit.controls.Zb.Qga&&(f=this.$5a())&&1===f.length&&f!==c[b])continue;if(d.hz()){this.cf=d.hz().Er(d).setPosition(e.getX(),e.getY());this.hM.eT(this.cf);this.wf()||this.start();a.stopPropagation(!0);return}}}(a=this.Pyb(c,e,a))&&a.length?(this.fLb!==a&&this.Cea().lVa(a),this.fLb=a):this.sZ()};b.prototype.Ae=
function(a){if(!this.wf()||!this.cf)if(!(this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba)||this.cf.Ob().created&&!this.cf.cHc())return;var b=this.hM.GDa();if(b instanceof _geo.geotoolkit.Ua.shapes.Nf.pya||b instanceof _geo.geotoolkit.Ua.shapes.Nf.dba){var d=this.Qe(this.cd,a),e=this.cd.Ya().cb(d);b.DIc(a,e,d);b.I4b([])}a=this.cf.Ob();this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba&&!this.cf.Ob().created||(a instanceof _geo.geotoolkit.Ua.shapes.ed.S0&&a.VG(),this.cf&&this.cf.Er(null),this.cf=
null,this.stop())};b.prototype.ks=function(a){a=this.Qe(this.cd,a);a=this.cd.Ya().cb(a);a=this.Eh.select(this.nj.getRoot(),a.getX(),a.getY(),4).filter(function(a){return _geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Paa)});a=0<a.length?a[a.length-1]:null;_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Zl)&&this.Eqd(a);this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba&&(this.cf.mwc(),this.sZ())};b.prototype.Wd=function(a){if(this.cf){a=this.Qe(this.cd,a);a=this.cd.Ya().cb(a);var b=this.hM.GDa();
b&&b.move(a.getX(),a.getY())}};b.prototype.sZ=function(){this.fLb=null;this.Cea().lVa([]);this.Hvc()};b.prototype.Wyb=function(){return this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba&&!this.cf.Ob().created?(this.cf.mwc(),this.sZ(),!0):!1};b.prototype.Pyb=function(a,b,d){if(a&&0<a.length)for(var e=a.length-1;0<=e;e--)if(!a[e].getParent()||"ShapesContainer"===a[e].getParent().od()){var c=this.hM.hz(a[e]);if(c)return a[e]instanceof _geo.geotoolkit.Ua.shapes.ed.G6&&-1!==a[e].getName().indexOf("CLONE")||
c.lk(a[e]).setPosition(b.getX(),b.getY()),this.hM.eT(null),this.hM.eT(c),this.cf=c,this.wf()||this.start(),d&&d.stopPropagation(!0),[a[e]]}return[]};b.prototype.ARc=function(){this.stop();this.cf=null;this.Hvc()};b.prototype.$5a=function(){var a=[];if(!this.hM.GDa())return a;var b;b=this.hM.GDa().Ob();if(b instanceof _geo.geotoolkit.Ua.shapes.Nf.uba){var d=b.fs();for(b=0;b<d.length;b++)a.push(d[b])}else 0>a.indexOf(b)&&a.push(b);return a};b.prototype.Tma=function(a){if(this.cf instanceof _geo.geotoolkit.Ua.shapes.Nf.dba&&
!this.cf.Ob().created)return this;this.hM.eT(null);var b;if(1<a.length){if(b=this.b6c)b.lk(a),this.hM.eT(b)}else if(1===a.length)for(var d=0;d<a.length;d++){b=this.hM.hz(a[d]);if(!b)return this;b.lk(a[d]);this.hM.eT(b)}this.Cea().lVa(a);return this};b.prototype.hXb=function(){return this.QRc};b.prototype.BQc=function(a){this.QRc=a;return this};b.prototype.Eqd=function(a){this.hXb()&&(this.EJ&&(this.EJ.hb(_geo.geotoolkit.scene.Node.$.WT,this.g7b),this.EJ.en&&this.EJ.en()&&(this.EJ.en().Ka(!0),this.EJ.ma())),
this.Cqd(),this.EJ=a)&&(a.kb(_geo.geotoolkit.scene.Node.$.WT,this.g7b),a.en&&a.en()&&(a.en().Ka(!1),a.ma()),this.f7b(a,!0),this.ek.focus())};b.prototype.Cqd=function(){this.dk||(this.dk=_geo.geotoolkit.window.document.createElement("div"),this.dk.style.position="absolute",this.dk.style.display="none",this.dk.style.border="0px solid transparent !important",this.dk.style.pointerEvents="none",this.dk.style.overflow="hidden",_geo.geotoolkit.window.document.body.appendChild(this.dk),this.ek=_geo.geotoolkit.window.document.createElement("div"),
this.ek.style.overflow="hidden",this.ek.style.position="absolute",this.ek.style.border=this.c7b+"px solid black",this.ek.style.pointerEvents="all",this.ek.style.display="flex",this.ek.style.alignContent="center",this.ek.style.alignItems="center",this.ek.contentEditable="true",this.dk.appendChild(this.ek),this.K_a=function(a){if("Enter"===a.key||13===a.keyCode)a.shiftKey||this.VRc()}.bind(this),this.ek.addEventListener("keypress",this.K_a),this.Yza=function(a){"Escape"===a.key||27===a.keyCode?this.Bqd():
(this.f7b(this.EJ,!1),a.stopPropagation())}.bind(this),this.ek.addEventListener("keydown",this.Yza),this.ek.addEventListener("blur",function(){return this.VRc()}.bind(this)))};b.prototype.f7b=function(a,b){var d=this.nj?this.nj.hD():null;if(!d)return this;var e=this.EZ(this.nj.hD()),d=new _geo.geotoolkit.util.Rect({x:e.x,y:e.y,width:d.clientWidth,height:d.clientHeight});if(!a||!a.ga())return this.dk.style.display="none",this;e=this.Dqd(a,!0);b&&(this.ek.innerText=a.en()?a.en().me()||"":"",this.ek.style.wordBreak=
"break-all",this.ek.style.font=a.en().Ib().qt(),this.ek.style.textAlign=a.en().Ib().as(),this.ek.style.justifyContent=a.en().Ib().as()===_geo.geotoolkit.attributes.eb.IQ.$c?"flex-end":a.en().Ib().as(),this.ek.style.color="red",this.ek.style.lineHeight=a.en().Ib().AK()+"",this.ek.style.baselineShift=a.en().Ib().qx());this.dk.style.display="block";this.dk.style.left=d.getX()+"px";this.dk.style.top=d.getY()+"px";this.dk.style.width=d.aa()+"px";this.dk.style.height=d.ba()+"px";this.ek.style.left=e.left+
"px";this.ek.style.top=e.top+"px";this.ek.style.width=e.width+2*this.c7b+"px";this.ek.style.height=e.height+2*this.c7b+"px";this.ek.style.transformOrigin="center";this.ek.style.transform="rotate("+e.angle+"rad)";return this};b.prototype.Dqd=function(a,b){for(var d=a.ga(),e=[d.di(),d.st(),d.Sn(),d.zr(),d.getCenter()],c=a.Ya().clone(),d=[],f=0;f<e.length;f++)d.push(c.cb(e[f]));e=_geo.geotoolkit.Ua.shapes.Zl.hdd(_geo.geotoolkit.Ua.shapes.Zl.Ofd(d[0],d[1]),!1);c=_geo.geotoolkit.util.na.Cj(d[0],d[1]);
f=_geo.geotoolkit.util.na.Cj(d[0],d[3]);return{angle:e,left:d[4].getX()-c/2,top:d[4].getY()-f/2,width:c,height:f}};b.prototype.VRc=function(){var a=this.ek.innerText,a={value:a};this.fireEvent("ValueChanged",a);this.EJ instanceof _geo.geotoolkit.Ua.shapes.Zl&&(this.EJ.en().jc(this.ek.innerText),this.EJ.ma());this.URc();return this};b.prototype.Bqd=function(){if("none"===this.ek.style.display)return this;this.URc();return this};b.prototype.URc=function(){this.dk.style.display="none";this.EJ&&(this.EJ.hb(_geo.geotoolkit.scene.Node.$.WT,
this.g7b),this.EJ.en()&&(this.EJ.en().Ka(!0),this.EJ.ma()));this.EJ=null};b.prototype.Cea=function(){this.nGa||(this.nGa=new _geo.geotoolkit.Ua.hd.PJa);return this.nGa};return b}();
_geo.geotoolkit.Ua.shapes.nYa=function(){function b(a,b){void 0===b&&(b=10);this.JA=a;this.J8c=b;this.PL=[];this.D8=this.A$=0;this.Ega=[]}b.prototype.Qsa=function(a,g){var d=new _geo.geotoolkit.Ua.hd.Kfc,e=~~(a.getX()/this.JA),c=~~(a.getY()/this.JA),f=~~(g.getX()/this.JA),k=~~(g.getY()/this.JA);0>e&&(e=0);e>=this.D8&&(e=this.D8-1);0>c&&(c=0);c>=this.A$&&(c=this.A$-1);d.enqueue({Uz:c,Iz:e});this.Ega[c][e].JX=0;this.Ega[c][e].nJa=-100;this.Ega[c][e].JX=-100;var h={state:!1};b.E8c(d,this.PL,f,k,this.Ega,
0,h);var l;if(h.state)for(l=[],d=k,h=f;;){l.push({Uz:d,Iz:h});if(d===c&&h===e)break;h=this.Ega[d][h];d=h.nJa;h=h.dXa}b.E$b&&this.Old(this.Ega,e,c,f,k,this.path);return l};b.prototype.F5=function(a,b,d){this.K5c=b?b:[];this.u4c=d?d:[];b=a.ga();this.A$=Math.max(1,Math.ceil(b.ba()/this.JA));this.D8=Math.max(1,Math.ceil(b.aa()/this.JA));if(null===this.PL||this.A$!==this.PL.length||null===this.PL[0]||this.D8!==this.PL[0].length)for(this.PL=[],this.Ega=[],b=0;b<this.A$;b++)for(this.PL[b]=[],this.Ega[b]=
[],d=0;d<this.D8;d++)this.Ega[b][d]=new _geo.geotoolkit.Ua.shapes.b2c,this.PL[b][d]=1;else for(b=0;b<this.A$;b++)for(d=0;d<this.D8;d++)this.Ega[b][d].reset(),this.PL[b][d]=1;for(b=0;b<a.Uc();b++)this.YJc(a.vc(b),this.J8c)};b.prototype.Old=function(a,g,d,e,c,f){for(g=0;g<a.length;g++)for(d=0;d<a[0].length;d++)this.PL[g][d]!==b.yZa&&(this.PL[g][d]+=a[g][d].JX)};b.prototype.YJc=function(a,b,d){if(_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Paa)&&-1===this.u4c.indexOf(a)&&"class-text"!==a.kG()){var e=
a.Yb&&a.Yb()?a.Yb().clone():new _geo.geotoolkit.util.Ga;d&&e.WK(d);_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Paa)&&this.Pld(a,e,0<=this.K5c.indexOf(a)?5*b:b);if(a instanceof _geo.geotoolkit.scene.Group)for(d=0;d<a.Uc();d++)this.YJc(a.vc(d),b,e);else _geo.geotoolkit.Pk(a instanceof _geo.geotoolkit.Ua.shapes.ed.n6)}};b.prototype.Pld=function(a,b,d){a=a.ga().clone();var e=b.ob(a).fe(this.JA,this.JA);b=Math.max(0,Math.min(Math.floor(e.sa()/this.JA),this.D8));var c=Math.max(0,Math.min(Math.floor(e.qa()/
this.JA),this.A$));a=Math.max(0,Math.min(Math.ceil(e.za()/this.JA),this.D8));for(e=Math.max(0,Math.min(Math.ceil(e.wa()/this.JA),this.A$));c<this.A$&&c<e;c++)for(var f=b;f<this.D8&&f<a;f++)this.PL[c][f]+=d};b.prototype.izd=function(a,b,d){};b.prototype.a0b=function(a,b,d){b=~~(b/this.JA);a=~~(a/this.JA);0>a||a>=this.D8||0>b||b>=this.A$||(this.PL[b][a]+=d)};b.prototype.gzd=function(a,b,d,e,c){a=~~a;b=~~b;d=~~d;e=~~e;var f=e-b,k=d-a,h,l;0>f?(f=-f,l=-1):l=1;0>k?(k=-k,h=-1):h=1;f<<=1;k<<=1;this.a0b(a,
b,c);var n;if(k>f)for(n=f-(k>>1);a!==d;)0<=n&&(b+=l,n-=k),this.a0b(a,b,c),a+=h,n+=f;else for(n=k-(f>>1);b!==e;)0<=n&&(a+=h,n-=f),this.a0b(a,b,c),b+=l,n+=k};b.E8c=function(a,g,d,e,c,f,k){for(;0<a.Qn();){f=a.eRb();var h=f.Uz,l=f.Iz;f=-100!==c[h][l].JX?c[h][l].JX:0;h===e&&l===d&&(k.state=!0);0<h&&g[h-1][l]!==b.yZa&&f+g[h-1][l]<c[h-1][l].JX&&(c[h-1][l].JX=f+g[h-1][l],c[h-1][l].dXa=l,c[h-1][l].nJa=h,a.enqueue({Uz:h-1,Iz:l}));h+1<g.length&&g[h+1][l]!==b.yZa&&f+g[h+1][l]<c[h+1][l].JX&&(c[h+1][l].JX=f+g[h+
1][l],c[h+1][l].dXa=l,c[h+1][l].nJa=h,a.enqueue({Uz:h+1,Iz:l}));0<l&&g[h][l-1]!==b.yZa&&f+g[h][l-1]<c[h][l-1].JX&&(c[h][l-1].JX=f+g[h][l-1],c[h][l-1].dXa=l,c[h][l-1].nJa=h,a.enqueue({Uz:h,Iz:l-1}));l+1<g[0].length&&g[h][l+1]!==b.yZa&&f+g[h][l+1]<c[h][l+1].JX&&(c[h][l+1].JX=f+g[h][l+1],c[h][l+1].dXa=l,c[h][l+1].nJa=h,a.enqueue({Uz:h,Iz:l+1}))}};return b}();_geo.geotoolkit.Ua.shapes.nYa.E$b=0;_geo.geotoolkit.Ua.shapes.nYa.yZa=-1;
_geo.geotoolkit.Ua.shapes.b2c=function(){function b(){this.reset()}b.prototype.reset=function(){this.nJa=this.dXa=0;this.JX=_geo.geotoolkit.Ua.hd.ln.U0};return b}();
_geo.geotoolkit.Ua.shapes.afc=function(){function b(a,b,d){void 0===d&&(d=!0);var e=_geo.geotoolkit.scene.shapes.lc.call(this,a?a.xa():new _geo.geotoolkit.scene.shapes.lc)||this;e.bqd=d;e.o7c=new _geo.geotoolkit.attributes.Fa({color:"rgba(0, 0, 0, 0.8)"});e.ja({linestyle:new _geo.geotoolkit.attributes.Aa({color:"rgba(150, 150, 150, 0.4)",width:1,pixelsnapmode:!0}),fillstyle:new _geo.geotoolkit.attributes.Fa({color:"rgba(0, 200, 0, 0.05)"})});e.WJ=b;e.Zab(a);return e}_geo.geotoolkit.fa(b,_geo.geotoolkit.scene.shapes.lc);
_geo.geotoolkit.da(b,_geo.geotoolkit.Ua.shapes.afc);b.prototype.Zab=function(a){if(a!==this.xM){this.xM&&(this.xM.hb(_geo.geotoolkit.scene.Node.$.ss,function(){this.Ea(this.xM.xa());this.F5(this.xM)}.bind(this)),this.xM.hb(_geo.geotoolkit.scene.Node.$.br,function(){this.F5(this.xM)}.bind(this)),this.xM.hb(_geo.geotoolkit.scene.Node.$.Us,function(){this.F5(this.xM)}.bind(this)),this.xM.hb(_geo.geotoolkit.scene.Node.$.WT,function(){this.F5(this.xM)}.bind(this)));if(this.xM=a)a.kb(_geo.geotoolkit.scene.Node.$.ss,
function(){this.Ea(this.xM.xa())}.bind(this)),a.kb(_geo.geotoolkit.scene.Node.$.br,function(){this.F5(this.xM)}.bind(this)),a.kb(_geo.geotoolkit.scene.Node.$.Us,function(){this.F5(this.xM)}.bind(this)),a.kb(_geo.geotoolkit.scene.Node.$.WT,function(){this.F5(this.xM)}.bind(this));this.Ea(this.xM.xa());this.F5(this.xM)}};b.prototype.F5=function(a){};b.prototype.hzd=function(a,b){var d=a.Wf().slice(),e=a.Jg().slice();b.kVa(d,e,d.length);this.path=this.WJ.Qsa(new _geo.geotoolkit.util.na(d[0],e[0]),new _geo.geotoolkit.util.na(d[d.length-
1],e[e.length-1]))};b.prototype.vnd=function(a){a=this.mb()?a.qc(this.mb()):a;a.qM();var b=this.ga();a.ua(this.Xa());for(var d=b.sa();d<b.za();d+=this.WJ.JA)a.Pd(d,b.qa(),d,b.wa());for(d=b.qa();d<b.wa();d+=this.WJ.JA)a.Pd(b.sa(),d,b.za(),d);a.zM()};b.prototype.Z0b=function(a){if(!a.Gd()){a=this.mb()?a.qc(this.mb()):a;a.qM();a.ta(this.sb());a.ua(null);var b=this.ga(),d=_geo.geotoolkit.Ua.hd.ln.SJa,e=this.WJ.PL;e.forEach(function(a){a.forEach(function(a){d=Math.max(d,a)})});for(var c=255/d,f=0;f<this.WJ.A$;f++)for(var k=
0;k<this.WJ.D8;k++)if(e[f][k]){if(0>e[f][k])a.ta(this.o7c);else{var h=Math.min(e[f][k]*c,255),l=255-h,n=255-h;a.ta(new _geo.geotoolkit.attributes.Fa({color:new _geo.geotoolkit.util.rb(h,n,l,1)}))}a.zc(b.sa()+k*this.WJ.JA,b.qa()+f*this.WJ.JA,this.WJ.JA,this.WJ.JA)}a.zM()}};b.prototype.Fnd=function(a){if(this.path){a=this.mb()?a.qc(this.mb()):a;a.qM();a.ta(new _geo.geotoolkit.attributes.Fa({color:"rgba(0, 200, 0, 1)"}));a.ua(new _geo.geotoolkit.attributes.Aa({color:"transparent"}));for(var b=this.ga(),
d=0,e=this.path;d<e.length;d++){var c=e[d];a.zc(b.sa()+c.Iz*this.WJ.JA,b.qa()+c.Uz*this.WJ.JA,this.WJ.JA,this.WJ.JA)}a.zM()}};b.prototype.render=function(a){a.Gd()||(_geo.geotoolkit.scene.shapes.lc.prototype.render.call(this,a),this.Z0b(a),this.Fnd(a),this.bqd&&this.vnd(a))};return b}();
_geo.geotoolkit.Ua.Bd.Lc.fJa=function(){function b(a){void 0===a&&(a=!0);this.Hwa=!0;this.Hwa=a}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.persistence.visuals.DiagramVisualSerializer");_geo.geotoolkit.fa(b,_geo.geotoolkit.Bd.bKa);b.prototype.c9a=function(a){return a={prototypeName:a.getValue("prototypeName"),geometry:this.Hwa?a.Ed(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Ed(null,"defaultSize"),searchKeywords:a.Ed(null,"searchKeywords"),
linkPoints:a.Ed(null,"linkPoints"),outline:a.Ed(null,"outline"),text:a.Ed(null,"text"),id:a.Ed(null,"id")}};b.prototype.cZb=function(a,b){a.yb(b.getValue("name"));a.kk(b.getValue("selectable"));a.Tp(b.Ed(null,"tag"));a.Td(b.Ed(null,"localtransform"));a.ua(b.Ed(null,"linestyle"));a.Kd(b.getValue("id"))};b.prototype.cG=function(a){return new _geo.geotoolkit.Ua.shapes.Zl(a)};b.prototype.load=function(a){var b=this.c9a(a),b=this.cG(b);this.cZb(b,a);return b};b.prototype.save=function(a,b){b.gc("prototypeName",
a.VZ());this.Hwa&&b.ge("geometry",a.yd());b.ge("text",a.en());b.gc("prototypeId",a.kG());b.gc("category",a.vA());b.ge("defaultSize",a.kz());b.ge("searchKeywords",a.PV());b.ge("linkPoints",a.vw());b.ge("outline",a.ZM());b.gc("id",a.od());b.gc("name",a.getName());b.gc("selectable",a.vz());b.ge("tag",a.qg());b.ge("localtransform",a.Yb());b.ge("linestyle",a.Xa());b.gc("ClassName",a.getClassName());b.im()};return b}();
_geo.geotoolkit.Ua.Bd.Lc.WWc=function(){function b(a){void 0===a&&(a=!0);this.Hwa=!0;this.Hwa=a}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.persistence.visuals.ExportDiagramVisualSerializer");_geo.geotoolkit.fa(b,_geo.geotoolkit.Bd.bKa);b.prototype.c9a=function(a){return{prototypeName:a.getValue("prototypeName"),geometry:this.Hwa?a.Ed(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Ed(null,"defaultSize"),searchKeywords:a.Ed(null,"searchKeywords"),
linkPoints:a.Ed(null,"linkPoints"),outline:a.Ed(null,"outline")}};b.prototype.cZb=function(a,b){a.yb(b.getValue("name"));a.kk(b.getValue("selectable"));a.Tp(b.Ed(null,"tag"));a.Td(b.Ed(null,"localtransform"));a.ua(b.Ed(null,"linestyle"));a.Kd(b.getValue("id"))};b.prototype.cG=function(a){return new _geo.geotoolkit.Ua.shapes.Zl(a)};b.prototype.load=function(a){var b=this.c9a(a),b=this.cG(b);this.cZb(b,a);return b};b.prototype.save=function(a,b){b.gc("prototypeName",a.VZ());if(a instanceof _geo.geotoolkit.Ua.shapes.ed.S0){var d=
_geo.geotoolkit.Ua.Bd.l1.Za().YB("default");d.save(a,b)}else b.VI(a.yd(),null);b.ge("localtransform",a.Yb());a instanceof _geo.geotoolkit.Ua.shapes.ed.S0&&b.gc("ClassName","geotoolkit.scene.shapes.Polyline");b.im()};return b}();
_geo.geotoolkit.Ua.Bd.Lc.Gcc=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.persistence.visuals.LinkVisualSerializer");_geo.geotoolkit.fa(b,_geo.geotoolkit.Bd.bKa);b.prototype.load=function(a){var b=_geo.geotoolkit.Ua.Bd.l1.Za().YB("default"),d=null;if(b&&b.load)d=b.load(a);else return null;if((b=a.Ed(null,"connections"))&&b.length)for(var e=0;e<b.length;e++){var c=b[e];d.Fo[c.uD]=c}d instanceof _geo.geotoolkit.Ua.shapes.ed.S0&&(d.searchKeywords=a.Ed(null,"searchKeywords"),d.m4b(a.getValue("linkingMode")),
d.wwa(a.getValue("tubingWidth")),d.Hxb(a.getValue("linkType")));return d};b.prototype.save=function(a,b){var d=_geo.geotoolkit.Ua.Bd.l1.Za().YB("default");d.save&&d.save(a,b);for(var d=[],e=0,c=a.Fo;e<c.length;e++){var f=c[e];if(f instanceof _geo.geotoolkit.Ua.shapes.ed.zoa){var k=new _geo.geotoolkit.Ua.shapes.ed.zoa(null,f.$P,f.uD,null);k.relatedVisualId=f.nRa();k.$P=new _geo.geotoolkit.util.na(f.$P.getX(),f.$P.getY());d.push(k)}}b.ge("connections",d);b.ge("searchKeywords",a.PV());b.gc("linkType",
a.psb());b.gc("linkingMode",a.AVb());b.gc("tubingWidth",a.Vea());b.im()};return b}();
_geo.geotoolkit.Ua.Bd.Lc.Dfc=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.persistence.visuals.PolylineVisualSerializer");_geo.geotoolkit.fa(b,_geo.geotoolkit.Bd.bKa);b.prototype.load=function(a){var b=_geo.geotoolkit.Ua.Bd.l1.Za().YB("default"),d=null;if(b&&b.load)d=b.load(a);else return null;if((b=a.Ed(null,"connections"))&&b.length)for(var e=0;e<b.length;e++){var c=b[e];d.Fo[c.uD]=c}d instanceof _geo.geotoolkit.Ua.shapes.ed.G6&&(d.searchKeywords=a.Ed(null,"searchKeywords"),
d.wwa(a.getValue("tubingWidth")),d.created=a.getValue("created"));return d};b.prototype.save=function(a,b){var d=_geo.geotoolkit.Ua.Bd.l1.Za().YB("default");d.save&&d.save(a,b);for(var d=[],e=0,c=a.Fo;e<c.length;e++){var f=c[e];if(f instanceof _geo.geotoolkit.Ua.shapes.ed.zoa){var k=new _geo.geotoolkit.Ua.shapes.ed.zoa(null,f.$P,f.uD,null);k.relatedVisualId=f.nRa();k.$P=new _geo.geotoolkit.util.na(f.$P.getX(),f.$P.getY());d.push(k)}}b.ge("connections",d);b.ge("searchKeywords",a.PV());b.gc("tubingWidth",
a.Vea());b.gc("created",a.created);b.im()};return b}();
_geo.geotoolkit.Ua.Bd.Lc.Ihc=function(){function b(a){void 0===a&&(a=!1);return _geo.geotoolkit.Ua.Bd.Lc.fJa.call(this,a)||this}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.persistence.visuals.SvgVisualPluginSerializer");_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.Bd.Lc.fJa);b.prototype.cG=function(a){var b=new _geo.geotoolkit.Ua.shapes.apa(a);b.fL(a.url);return b};b.prototype.c9a=function(a){var b=_geo.geotoolkit.Ua.Bd.Lc.fJa.prototype.c9a.call(this,a);b.url=a.getValue("url");b.isLinkPointsRelative=a.getValue("relativeLinkPoints");
this.Hwa||(b.geometry=new _geo.geotoolkit.scene.Group);b.justdeserialized=!0;return b};b.prototype.save=function(a,b){_geo.geotoolkit.Ua.Bd.Lc.fJa.prototype.save.call(this,a,b);b.gc("relativeLinkPoints",a.Yrb());a.Yrb()&&b.ge("linkPoints",a.Zsb());b.gc("url",a.IA());this.Hwa||b.gc("loaded",!1);b.im()};return b}();
_geo.geotoolkit.Ua.Bd.l1=function(){function b(){}var a=null;b.Za=function(){a||(a=new b);return a};b.prototype.IW=function(a,b,e){return this.sBc().IW(a,b,e)};b.prototype.sV=function(a){return this.sBc().sV(a)};b.prototype.cQc=function(a,b){this.Cn().S0b(a);this.Cn().Jq(a,b)};b.prototype.YB=function(a){return this.Cn().YB(a)};b.prototype.sBc=function(){this.wmc||(this.wmc=new _geo.geotoolkit.Bd.lha(this.Cn()));return this.wmc};b.prototype.Cn=function(){this.wl||(this.wl=new _geo.geotoolkit.Bd.ue,
this.wl.Jq(_geo.geotoolkit.Ua.shapes.Zl.getClassName(),new _geo.geotoolkit.Ua.Bd.Lc.fJa),this.wl.Jq(_geo.geotoolkit.Ua.shapes.apa.getClassName(),new _geo.geotoolkit.Ua.Bd.Lc.Ihc),this.wl.Jq(_geo.geotoolkit.Ua.shapes.ed.S0.getClassName(),new _geo.geotoolkit.Ua.Bd.Lc.Gcc),this.wl.Jq(_geo.geotoolkit.Ua.shapes.ed.G6.getClassName(),new _geo.geotoolkit.Ua.Bd.Lc.Dfc));return this.wl};return b}();
_geo.geotoolkit.Ua.plugins.Hv.f6=function(){function b(){}b.PB=function(){var a=_geo.geotoolkit.util.na,g=_geo.geotoolkit.util.xc;return[new _geo.geotoolkit.Ua.shapes.ed.S0({prototypeId:"class-link",prototypeName:"Link",category:b.vq,searchKeywords:["link","arrow"],defaultIconSize:new g(100,100),geometry:new _geo.geotoolkit.scene.shapes.Il({x:[0,100],y:[1,1],visible:!0}),linkPoints:[new a(0,1),new a(1,1)],linkType:_geo.geotoolkit.Ua.shapes.Nf.pha.Line,url:"assets/svg/standard/line.svg"}),new _geo.geotoolkit.Ua.shapes.ed.S0({prototypeId:"class-steplink",
prototypeName:"Steplink",category:b.vq,searchKeywords:["link","step","arrow"],defaultIconSize:new g(100,100),geometry:new _geo.geotoolkit.scene.shapes.Il({x:[0,100],y:[1,1],visible:!0}),linkPoints:[new a(0,1),new a(1,1)],linkType:_geo.geotoolkit.Ua.shapes.Nf.pha.tH,url:"assets/svg/standard/stepline.svg"}),new _geo.geotoolkit.Ua.shapes.ed.G6({prototypeId:"class-polyline",prototypeName:"Polyline",category:b.vq,searchKeywords:["link","polyline"],defaultIconSize:new g(100,100),geometry:new _geo.geotoolkit.scene.shapes.Il({x:[50],
y:[1],visible:!0}),url:"assets/svg/standard/polyline.svg"}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-ellipse",prototypeName:"Ellipse",category:b.vq,searchKeywords:["ellipse"],defaultSize:new g(50,50),geometry:new _geo.geotoolkit.scene.shapes.qs({centerx:.5,centery:.5,radiusx:.5,radiusy:.5}),linkPoints:b.SCb}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-rectangle",prototypeName:"Rectangle",category:b.vq,searchKeywords:["rectangle"],defaultSize:new g(50,50),geometry:new _geo.geotoolkit.scene.shapes.lc(0,
0,1,1),linkPoints:b.SCb}),new _geo.geotoolkit.Ua.shapes.ed.G6({prototypeId:"class-polygon",prototypeName:"Polylgon",category:b.vq,searchKeywords:["polygon"],defaultIconSize:new g(100,100),geometry:new _geo.geotoolkit.scene.shapes.Fc({x:[50],y:[1],visible:!0}),url:"assets/svg/standard/polygon.svg"}),(new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-text",prototypeName:"Text",category:b.vq,searchKeywords:["text"],defaultSize:new g(60,25),defaultIconSize:new g(50,50),geometry:new _geo.geotoolkit.scene.shapes.lc(0,
0,60,25),linkPoints:b.SCb,url:"assets/svg/standard/text.svg"})).jc({text:"Text"})]};return b}();_geo.geotoolkit.Ua.plugins.Hv.f6.vq="Standard";_geo.geotoolkit.Ua.plugins.Hv.f6.wJa=new _geo.geotoolkit.util.Rect(0,0,1,1);_geo.geotoolkit.Ua.plugins.Hv.f6.SCb=[_geo.geotoolkit.Ua.plugins.Hv.f6.wJa.Eta(),_geo.geotoolkit.Ua.plugins.Hv.f6.wJa.Fla(),_geo.geotoolkit.Ua.plugins.Hv.f6.wJa.wla(),_geo.geotoolkit.Ua.plugins.Hv.f6.wJa.ODa(),_geo.geotoolkit.Ua.plugins.Hv.f6.wJa.getCenter()];
_geo.geotoolkit.Ua.plugins.Hv.reb=function(){function b(){}b.PB=function(){var a,g=_geo.geotoolkit.util.na,d=_geo.geotoolkit.util.xc,e=_geo.geotoolkit.renderer.bf,c=_geo.geotoolkit.scene.shapes.Path;return g=[new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-decision",prototypeName:"Decision",category:b.vq,searchKeywords:["decision"],defaultSize:new d(100,50),outline:a=(new e).moveTo(.5,0).lineTo(1,.5).lineTo(.5,1).lineTo(0,.5).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.5),new g(.5,
0),new g(1,.5),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-input-output",prototypeName:"Input/Output",category:b.vq,searchKeywords:["input","output"],defaultSize:new d(100,50),outline:a=(new e).moveTo(.1,0).lineTo(1,0).lineTo(.9,1).lineTo(0,1).close(),geometry:new c({geometry:a}),linkPoints:[new g(.05,.5),new g(.5,0),new g(.95,.5),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-stored-data",prototypeName:"Stored Data",category:b.vq,searchKeywords:["data",
"store"],defaultSize:new d(100,50),outline:a=(new e).moveTo(0,0).lineTo(50,0).bezierCurveTo(35,0,35,50,50,50).lineTo(0,50).bezierCurveTo(-15,50,-15,0,0,0).close(),geometry:new c({geometry:a}),linkPoints:[new g(-11.2,25),new g(18.2,0),new g(38.8,25),new g(18.2,50)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-internal-storage",prototypeName:"Internal Storage",category:b.vq,searchKeywords:["storage","store","internal"],defaultSize:new d(100,50),outline:a=(new e).moveTo(0,0).lineTo(100,0).lineTo(100,
50).lineTo(0,50).close().moveTo(10,0).lineTo(10,50).moveTo(0,10).lineTo(100,10),geometry:new c({geometry:a}),linkPoints:[new g(0,25),new g(50,0),new g(100,25),new g(50,50)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-process",prototypeName:"Process",category:b.vq,searchKeywords:["process"],defaultSize:new d(100,50),outline:a=(new e).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.5),new g(.5,0),new g(1,.5),new g(.5,1),new g(.5,.5)]}),
new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-subprocess",prototypeName:"Sub Process",category:b.vq,searchKeywords:["subprocess"],defaultSize:new d(100,50),outline:a=(new e).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close().moveTo(.1,0).lineTo(.1,1).moveTo(.9,0).lineTo(.9,1),geometry:new c({geometry:a}),linkPoints:[new g(0,.5),new g(.5,0),new g(1,.5),new g(.5,1),new g(.5,.5)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-delay",prototypeName:"Delay",category:b.vq,searchKeywords:["delay"],
defaultSize:new d(100,50),outline:a=(new e).moveTo(0,0).lineTo(50,0).bezierCurveTo(75,0,75,50,50,50).lineTo(0,50).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,25),new g(40,0),new g(70,25),new g(40,50)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-reference-arrow",prototypeName:"Reference Arrow",category:b.vq,searchKeywords:["arrow","reference"],defaultSize:new d(100,50),outline:a=(new e).moveTo(0,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,40).lineTo(0,
40).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,25),new g(100,25)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-reference-point",prototypeName:"Reference Point",category:b.vq,searchKeywords:["point","reference"],defaultSize:new d(100,50),outline:a=(new e).moveTo(5,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,40).lineTo(5,40).bezierCurveTo(-5,30,-5,20,5,10).close(),geometry:new c({geometry:a}),linkPoints:[new g(-2.7,25),new g(100,25)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-merge",
prototypeName:"Merge",category:b.vq,searchKeywords:["merge","symbol"],defaultSize:new d(25,25),outline:a=(new e).moveTo(0,0).lineTo(1,0).lineTo(.5,1).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,0),new g(.5,0),new g(1,0),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-extract",prototypeName:"Extract",category:b.vq,searchKeywords:["extract","symbol"],defaultSize:new d(25,25),outline:a=(new e).moveTo(.5,0).lineTo(1,1).lineTo(0,1).close(),geometry:new c({geometry:a}),
linkPoints:[new g(.5,0),new g(1,1),new g(.5,1),new g(0,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-communication-line",prototypeName:"Communication",category:b.vq,searchKeywords:["communication","line"],defaultSize:new d(25,50),outline:a=(new e).moveTo(1,0).lineTo(0,.55).lineTo(.5,.55).lineTo(0,1).lineTo(1,.45).lineTo(.5,.45).close(),geometry:new c({geometry:a}),linkPoints:[new g(1,0),new g(0,.55),new g(1,.45),new g(0,1)]})]};return b}();_geo.geotoolkit.Ua.plugins.Hv.reb.vq="Flowchart";
_geo.geotoolkit.Ua.plugins.Hv.Aeb=function(){function b(){}b.PB=function(){var a,g=_geo.geotoolkit.util.na,d=_geo.geotoolkit.util.xc,e=_geo.geotoolkit.renderer.bf,c=_geo.geotoolkit.scene.shapes.Path;return g=[new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-arki-arrow",prototypeName:"Arki Arrow",category:b.vq,searchKeywords:["arki arrow","arrow","hr"],defaultSize:new d(40,50),outline:a=(new e).moveTo(0,0).lineTo(1,.5).lineTo(0,1).lineTo(.7,.5).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,
0),new g(1,.5),new g(0,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-chevron-arrow",prototypeName:"Chevron Arrow",category:b.vq,searchKeywords:["chevron arrow","arrow","hr"],defaultSize:new d(40,50),outline:a=(new e).moveTo(0,0).lineTo(.3,0).lineTo(1,.5).lineTo(.3,1).lineTo(0,1).lineTo(.7,.5).close(),geometry:new c({geometry:a}),linkPoints:[new g(.15,0),new g(1,.5),new g(.15,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-triangle-arrow",prototypeName:"Up Arrow",category:b.vq,
searchKeywords:["triangle arrow","arrow","hr"],defaultSize:new d(40,50),outline:a=(new e).moveTo(0,0).lineTo(1,.5).lineTo(0,1).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,0),new g(1,.5),new g(0,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-small-arrow",prototypeName:"Small Arrow",category:b.vq,searchKeywords:["small arrow","arrow","hr"],defaultSize:new d(50,40),outline:a=(new e).moveTo(0,.4).lineTo(.72,.4).lineTo(.4,0).lineTo(.6,0).lineTo(1,.5).lineTo(.6,1).lineTo(.4,
1).lineTo(.72,.6).lineTo(0,.6).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.5),new g(1,.5),new g(.5,0),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-fat-arrow",prototypeName:"Fat Arrow",category:b.vq,searchKeywords:["fat arrow","arrow","hr"],defaultSize:new d(100,40),outline:a=(new e).moveTo(0,0).lineTo(.75,.2).lineTo(.75,.08).lineTo(1,.25).lineTo(.75,.42).lineTo(.75,.3).lineTo(0,.5).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.25),new g(1,.25)]}),
new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-double-headed-arrow",prototypeName:"Doubleheaded Arrow",category:b.vq,searchKeywords:["crossed arrow","arrow","hr"],defaultSize:new d(100,50),outline:a=(new e).moveTo(.2,0).lineTo(.2,.15).lineTo(.75,.15).lineTo(.75,0).lineTo(1,.25).lineTo(.75,.5).lineTo(.75,.35).lineTo(.2,.35).lineTo(.2,.5).lineTo(0,.25).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.25),new g(1,.25)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-crosss",
prototypeName:"Cross",category:b.vq,searchKeywords:["cross","hr"],defaultSize:new d(100,100),outline:a=(new e).moveTo(.4,0).lineTo(.6,0).lineTo(.6,.4).lineTo(1,.4).lineTo(1,.6).lineTo(.6,.6).lineTo(.6,1).lineTo(.4,1).lineTo(.4,.6).lineTo(0,.6).lineTo(0,.4).lineTo(.4,.4).close(),geometry:new c({geometry:a}),linkPoints:[new g(.5,.5),new g(0,.5),new g(.5,0),new g(1,.5),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-crosssed-arrow",prototypeName:"Crossed Arrow",category:b.vq,searchKeywords:["crossed arrow",
"arrow","hr"],defaultSize:new d(100,100),outline:a=(new e).moveTo(.3,.15).lineTo(.5,0).lineTo(.7,.15).lineTo(.6,.15).lineTo(.6,.4).lineTo(.85,.4).lineTo(.85,.3).lineTo(1,.5).lineTo(.85,.7).lineTo(.85,.6).lineTo(.6,.6).lineTo(.6,.85).lineTo(.7,.85).lineTo(.5,1).lineTo(.3,.85).lineTo(.4,.85).lineTo(.4,.6).lineTo(.15,.6).lineTo(.15,.7).lineTo(0,.5).lineTo(.15,.3).lineTo(.15,.4).lineTo(.4,.4).lineTo(.4,.15).close(),geometry:new c({geometry:a}),linkPoints:[new g(.5,.5),new g(0,.5),new g(.5,0),new g(1,
.5),new g(.5,1)]}),new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"class-hr-split-arrow",prototypeName:"Split Arrow",category:b.vq,searchKeywords:["cross","hr"],defaultSize:new d(100,100),outline:a=(new e).moveTo(0,.42).lineTo(.58,.42).lineTo(.9,0).lineTo(1,0).lineTo(1,.1).lineTo(.7,.5).lineTo(1,.9).lineTo(1,1).lineTo(.9,1).lineTo(.58,.58).lineTo(0,.58).close(),geometry:new c({geometry:a}),linkPoints:[new g(.5,.5),new g(0,.5),new g(.5,0),new g(1,.5),new g(.5,1)]})]};return b}();
_geo.geotoolkit.Ua.plugins.Hv.Aeb.vq="HR Arrows";
_geo.geotoolkit.Ua.plugins.Hv.yXa=function(){function b(){}b.PB=function(){var a,g=_geo.geotoolkit.util.na,d=_geo.geotoolkit.util.xc,e=_geo.geotoolkit.renderer.bf,c=_geo.geotoolkit.scene.shapes.Path;return g=[new _geo.geotoolkit.Ua.shapes.Zl({prototypeId:"industrial-valve",prototypeName:"Valve",category:b.vq,searchKeywords:["valve","industrial"],defaultSize:new d(70,50),outline:a=(new e).moveTo(0,0).lineTo(1,1).lineTo(1,0).lineTo(0,1).close(),geometry:new c({geometry:a}),linkPoints:[new g(0,.5),new g(.5,
.5),new g(1,.5)]})]};return b}();_geo.geotoolkit.Ua.plugins.Hv.yXa.vq="Industrial";_geo.geotoolkit.Ua.plugins.Hv.yXa.wJa=new _geo.geotoolkit.util.Rect(0,0,1,1);
_geo.geotoolkit.Ua.plugins.Ihb=function(){function b(){this.d2a=[];this.mR=new _geo.geotoolkit.attributes.Aa("rgba(170, 177, 185, 1)",2);this.Vy=new _geo.geotoolkit.attributes.Fa("rgba(240, 247, 255, 0.7)");this.D$a()}var a=null;b.Za=function(){a||(a=new _geo.geotoolkit.Ua.plugins.Ihb);return a};b.prototype.D$a=function(){for(var a=0,b=_geo.geotoolkit.Ua.plugins.Hv.f6.PB().concat(_geo.geotoolkit.Ua.plugins.Hv.reb.PB(),_geo.geotoolkit.Ua.plugins.Hv.Aeb.PB(),_geo.geotoolkit.Ua.plugins.Hv.yXa.PB());a<
b.length;a++)this.H0b(b[a])};b.prototype.jDc=function(){return this.d2a};b.prototype.tzc=function(){return this.Vy};b.prototype.wab=function(a){this.Vy=a;return this};b.prototype.uzc=function(){return this.mR};b.prototype.wab=function(a){this.mR=a;return this};b.prototype.H0b=function(a){function b(c){return c.kG()===a.kG()}if(a&&a.kG()){var e=_geo.geotoolkit.Ua.hd.ln.findIndex(this.d2a,b);0>e?this.d2a.push(a):this.d2a[e]=a}};b.prototype.we=function(a,b,e){function c(b){return b.kG()===a}var f=_geo.geotoolkit.Ua.hd.ln.find(this.d2a,
c);if(f&&f.clone){f=f.clone();f.id=_geo.geotoolkit.Ua.hd.vX.bQ();f.G_&&b&&e&&f.G_(new _geo.geotoolkit.util.xc(b,e));var k=null!=f.ga?f.ga():null;if(null!=k){var h=1,l=1;0!==k.aa()&&(h=(b?b:f.kz().aa())/k.aa());0!==k.ba()&&(l=(e?e:f.kz().ba())/k.ba());f.Td(_geo.geotoolkit.util.Ga.km(h,l))}return this.Hod(f)}return null};b.prototype.Hod=function(a){a instanceof _geo.geotoolkit.scene.Node&&a.yd()&&!_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.apa)&&(a.kG&&"class-text"===a.kG()?a.yd().ja({linestyle:new _geo.geotoolkit.attributes.Aa("rgba(0, 0, 0, 0)"),
fillstyle:new _geo.geotoolkit.attributes.Fa("rgba(0, 0, 0, 0)")}):a.yd().ja({linestyle:this.mR?this.mR.clone():new _geo.geotoolkit.attributes.Aa,fillstyle:this.Vy?this.Vy.clone():new _geo.geotoolkit.attributes.Fa}));return a};return b}();_geo.geotoolkit.Ua.shapes.Mxa={None:"None",ei:"Panning",Fgc:"RubberBandSelection"};
_geo.geotoolkit.Ua.shapes.Zdb=function(){function b(a){_geo.geotoolkit.oa.Qm.call(this,a);this.eU="Panning";this.X4c=new _geo.geotoolkit.util.Rect(0,0,800,500);this.Ztd=new _geo.geotoolkit.util.xc(1,1);this.Wpc=0;this.V$=10;this.nGa=new _geo.geotoolkit.Ua.hd.PJa;this.Cg();this.izb("RubberBandSelection")}_geo.geotoolkit.fa(b,_geo.geotoolkit.oa.Qm);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.shapes.DiagramWidget");b.prototype.wm=function(a,b,d){var e=a.Mc().xa(),c=a.Mc().Nb();b&&b.Sa(e,c,a.Mc().MA());
d&&d.Sa(e,c,a.Mc().Cr())};b.prototype.pan=function(a,b,d,e,c){a.$A(b,d);this.wm(a,e,c);return this};b.prototype.Y$c=function(a){var b=new _geo.geotoolkit.attributes.Fa({color:new _geo.geotoolkit.util.rb(255,255,255,1)}),d=new _geo.geotoolkit.attributes.Aa("gray",2),b=(new _geo.geotoolkit.scene.Group).ta(b).ua(d).Ad(!1).Sa(a.clone()).Ea(a.clone());this.Yh=new _geo.geotoolkit.scene.Group;this.Yh.Sa(a.clone());this.Yh.yb("ShapesContainer");this.Yh.Kd("ShapesContainer");this.Yh.Tl(new _geo.geotoolkit.scene.Rk);
_geo.geotoolkit.Ua.shapes.nYa.E$b&&b.va(new _geo.geotoolkit.Ua.shapes.afc(this.Yh,this.WJ));b.va([this.Yh]);return b};b.prototype.P$c=function(a){this.eda=(new _geo.geotoolkit.axis.fB).Qv("MAJOR",100).Qv("MINOR",50).Tg("MINOR",!0);this.eda.Kj("MAJOR").setColor("blue");this.eda.Kj("EDGE").setColor("darkblue");this.eda.Kj("MINOR").setColor("orange");this.eda.Al("MAJOR").Gr("12px sans-serif");this.eda.Al("MINOR").Gr("12px sans-serif");this.eda.Al("EDGE").Gr("12px sans-serif");var b=(new _geo.geotoolkit.axis.ng(this.eda)).vm(_geo.geotoolkit.axis.qd.Pf.Zf).setOrientation(_geo.geotoolkit.axis.xd.ic).du(_geo.geotoolkit.axis.qd.Bk.Zf),
d=(new _geo.geotoolkit.axis.ng(this.eda)).vm(_geo.geotoolkit.axis.qd.Pf.Ub).setOrientation(_geo.geotoolkit.axis.xd.ic).du(_geo.geotoolkit.axis.qd.Bk.Ub),e=(new _geo.geotoolkit.axis.ng(this.eda)).vm(_geo.geotoolkit.axis.qd.Pf.$c).setOrientation(_geo.geotoolkit.axis.xd.$b).du(_geo.geotoolkit.axis.qd.Bk.$c),c=(new _geo.geotoolkit.axis.ng(this.eda)).vm(_geo.geotoolkit.axis.qd.Pf.wd).setOrientation(_geo.geotoolkit.axis.xd.$b).du(_geo.geotoolkit.axis.qd.Bk.wd);a={fillstyle:new _geo.geotoolkit.attributes.Fa({color:"red"}),
model:this.Y$c(a),keepvisiblelimits:!1,north:[b],south:[d],west:[e],east:[c]};this.tb=(new _geo.geotoolkit.scene.Wp(a)).vQ(null);this.tb.pb({left:0,right:0,top:0,bottom:0});this.tb.vb(_geo.geotoolkit.ea.Oa.Se).zk(this.Wpc);this.tb.vb(_geo.geotoolkit.ea.Oa.Yc).zk(0);this.tb.vb(_geo.geotoolkit.ea.Oa.Rc).Ul(this.Wpc);this.tb.vb(_geo.geotoolkit.ea.Oa.pd).Ul(0);return this.tb};b.prototype.vb=function(a){return a===_geo.geotoolkit.ea.Oa.None?null:this.tb.vb(a)};b.prototype.BNc=function(a){this.tb.Mc().Sa(a);
this.tb.Mc().Ea(a);this.Mc().Sa(a);return this};b.prototype.Cg=function(){this.WJ=new _geo.geotoolkit.Ua.shapes.nYa(this.V$);this.tb=this.P$c(this.X4c);this.pe(new _geo.geotoolkit.ea.ol).va(this.tb);this.whd(this.tb);this.Sg();this.wm(this.tb,this.kf,this.Ze)};b.prototype.whd=function(a){var b=a.Mc(),d=function(a,d){var e=b.Nb(),h=d.Nb(),e=e.sa()-h.sa();this.pan(this.tb,e,0,a,null)}.bind(this),e=function(a,d){var e=b.Nb(),h=d.Nb(),e=e.qa()-h.qa();this.pan(this.tb,0,e,null,a)}.bind(this);this.kf=(new _geo.geotoolkit.controls.ia.scroll.l6({modellimits:b.xa(),
visiblelimits:b.Nb(),size:10,rounded:!0})).oQ(!0).addListener(_geo.geotoolkit.controls.ia.scroll.hg.$.Yn,d);this.Ze=(new _geo.geotoolkit.controls.ia.scroll.tba({modellimits:b.xa(),visiblelimits:b.Nb(),size:10,rounded:!0})).oQ(!0).addListener(_geo.geotoolkit.controls.ia.scroll.hg.$.Yn,e);a.Yr(this.kf,_geo.geotoolkit.ea.Oa.Yc);a.Yr(this.Ze,_geo.geotoolkit.ea.Oa.pd)};b.prototype.Sg=function(){_geo.geotoolkit.window.document.addEventListener("keydown",function(a){46===a.keyCode&&this.Wpb()}.bind(this));
_geo.geotoolkit.window.document.addEventListener("keydown",function(a){27===a.keyCode&&this.sZ()}.bind(this));var a=new _geo.geotoolkit.scene.og;this.tb.m6a().va(a);this.qB=new _geo.geotoolkit.Ua.shapes.Nf.NBb(this.tb.Mc(),a);this.qB.Cea().kb(function(a){this.Cea().lVa(a)}.bind(this));this.Zmc=[this.xp=this.rhd()];this.qB.cc(!0);this.rr([this.kf.ld(),this.Ze.ld(),this.qB,this.fpc=this.uhd(a),(new _geo.geotoolkit.controls.ia.Xl(this.tb,"selectionTools")).add(this.Zmc)])};b.prototype.rhd=function(){return(new _geo.geotoolkit.controls.ia.ei).cc(!0).addListener(_geo.geotoolkit.controls.ia.ei.$.YE,
function(a,b){var d=b.Mk();this.tb.$A(d.x,d.y);this.wm(this.tb,this.kf,this.Ze)}.bind(this))};b.prototype.uhd=function(a){return(new _geo.geotoolkit.controls.ia.Selection(a,_geo.geotoolkit.controls.ia.tF.rCb)).F_(!1).IHa(_geo.geotoolkit.controls.ia.eR.yq).w5b(_geo.geotoolkit.controls.ia.IYa.Qk).Bz(function(a){return a.filter(function(a){return _geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.Paa)||a instanceof _geo.geotoolkit.Xb.Lha||_geo.geotoolkit.Pk(a,_geo.geotoolkit.Ua.shapes.ed.n6)})}).yb("RubberBandSelection").cc(!1).addListener(_geo.geotoolkit.controls.ia.Selection.$.nma,
function(a,b){var e=b.getSelection();if(e){for(var c=[],f=0;f<e.length;f++)e[f].getParent()&&"ShapesContainer"===e[f].getParent().od()&&c.push(e[f]);this.qB.cc(!0);this.qB.Tma(_geo.geotoolkit.Ua.hd.ln.flatten([c]))}}.bind(this)).addListener(_geo.geotoolkit.controls.ia.fc.$.Xn,function(a){this.qB.cc(!0);!1===a.isEnabled()&&(this.qB.cc(!0),this.izb(_geo.geotoolkit.Ua.shapes.Mxa.ei))}.bind(this))};b.prototype.izb=function(a){this.Zmc.forEach(function(a){a.cc(!1)});var b=_geo.geotoolkit.Ua.shapes.Mxa.ei;
a===_geo.geotoolkit.Ua.shapes.Mxa.Fgc?this.eU!==a&&(b=a,this.fpc.cc(!0),this.qB.cc(!1)):(this.xp.cc(!0),this.fpc.cc(!1));this.eU=b;return this};b.prototype.Mxc=function(){return this.eU};b.prototype.Qu=function(){var a=this.tb.Mc().Yb();return{x:a?a.Ab():1,y:a?a.Pb():1}};b.prototype.jk=function(a,b){a||(a=1);b||(b=a);var d=this.Qu()?this.Qu():{x:1,y:1};this.tb.vt(a/d.x,b/d.y);this.wm(this.tb,this.kf,this.Ze);this.O6b();return this};b.prototype.JN=function(){this.vt(2)};b.prototype.KN=function(){this.vt(.5)};
b.prototype.vt=function(a){a?this.tb.vt(a,a):this.tb.rQ(new _geo.geotoolkit.util.Ga);this.O6b();this.wm(this.tb,this.kf,this.Ze)};b.prototype.O6b=function(){this.qB.ARc();this.qB.stop()};b.prototype.Mc=function(){return this.Yh};b.prototype.Bzc=function(){return this.Yh.ga().clone()};b.prototype.Qsa=function(a,b,d,e){this.WJ.F5(this.Yh,d,e);var c=this.WJ.Qsa(a,b);d=[];var f,k;if(c&&0<c.length){e=[];k=c[c.length-1];e.push(k);for(f=c.length-2;0<=f;f--)k.Uz!==c[f].Uz&&k.Iz!==c[f].Iz&&(e.push(c[f+1]),
k=c[f+1]);e[0].Uz===c[0].Uz&&e[0].Iz===c[0].Iz||e.push(c[0]);if(3<e.length)for(f=0;f<e.length;f++){var h=e[f],l=f<e.length-1?e[f+1]:h;k=new _geo.geotoolkit.util.na(h.Iz*this.V$,h.Uz*this.V$);0===f?(c=h.Iz===l.Iz?a.getX()-k.getX():0,k=h.Uz===l.Uz?a.getY()-k.getY():0,k=new _geo.geotoolkit.util.na(l.Iz*this.V$+c,l.Uz*this.V$+k),d.push(a,k),f++):f===e.length-2?(c=h.Iz===l.Iz?b.getX()-l.Iz*this.V$:0,k=h.Uz===l.Uz?b.getY()-l.Uz*this.V$:0,k=new _geo.geotoolkit.util.na(h.Iz*this.V$+c,h.Uz*this.V$+k),d.push(k,
b),f++):d.push(k)}else 3===e.length?(d.push(a),f=new _geo.geotoolkit.util.na(e[1].Iz*this.V$,e[1].Uz*this.V$),c=e[0].Iz===e[1].Iz?Math.abs(a.getX()-f.getX()):0,k=e[2].Uz===e[1].Uz?Math.abs(b.getY()-f.getY()):0,c||k||(c=e[1].Iz===e[2].Iz?Math.abs(b.getX()-f.getX()):0,k=e[0].Uz===e[1].Uz?Math.abs(a.getY()-f.getY()):0),f.translate(c,k),d.push(f),d.push(b)):2>e.length&&(e=[a,b]);2===e.length&&(d.push(a),Math.abs(a.getX()-b.getX())>Math.abs(a.getY()-b.getY())?d.push(new _geo.geotoolkit.util.na((a.getX()+
b.getX())/2,a.getY()),new _geo.geotoolkit.util.na((a.getX()+b.getX())/2,b.getY())):d.push(new _geo.geotoolkit.util.na(a.getX(),(b.getY()+a.getY())/2),new _geo.geotoolkit.util.na(b.getX(),(b.getY()+a.getY())/2)),d.push(b))}return d};b.prototype.getSelection=function(){var a=[];return this.qB?a=this.qB.$5a():this.fLb=a};b.prototype.Wyb=function(){return this.qB?this.qB.Wyb():!1};b.prototype.sZ=function(){this.qB&&this.qB.sZ();return this};b.prototype.Tma=function(a){this.qB&&this.qB.Tma(a);return this};
b.prototype.eGc=function(a,b){void 0===b&&(b="group of objects");if(a&&a.length){this.sZ();var d=new _geo.geotoolkit.Xb.Lha;d.va(a);d.yb(b);d.Kd(_geo.geotoolkit.Ua.hd.vX.bQ());this.Mc().va(d);this.Tma([d])}return this};b.prototype.uSc=function(a){if(a&&a.length){this.sZ();for(var b=0;b<a.length;b++){var d=a[b];if(d instanceof _geo.geotoolkit.Xb.Lha){for(;0<d.Uc();){var e=d.vc(0);e.Td(_geo.geotoolkit.util.Ga.multiply(d.Yb()?d.Yb():new _geo.geotoolkit.util.Ga,e.Yb()?e.Yb():new _geo.geotoolkit.util.Ga));
this.Mc().va(e)}this.Mc().removeChild(d)}}}return this};b.prototype.atc=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Mc().removeChild(a);for(var b=0;b<a.length;b++)this.Mc().oh(this.Mc().Uc(),a[b]);return this};b.prototype.sMc=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Mc().removeChild(a);for(var b=0;b<a.length;b++)this.Mc().oh(0,a[b]);return this};b.prototype.Ytc=function(){this.sZ();this.O6b();this.Mc().jh();return this};b.prototype.GLc=function(){this.jk(1,1);this.Ytc();
return this};b.prototype.cMc=function(){return _geo.geotoolkit.Ua.Bd.l1.Za().IW("model",this.Mc())};b.prototype.UHc=function(a){if(a)if(a=_geo.geotoolkit.Ua.Bd.l1.Za().sV(a)){a=a.Ed(null,"model");this.Ytc();var b=[];if(a instanceof _geo.geotoolkit.scene.Group)for(;0<a.Uc();){var d=a.vc(0);this.lV(d);b.push(d)}this.PLc(this.RPa(b),this.RPa([this.Mc()]));this.Mc().Pa();this.Mc().ma()}else _geo.geotoolkit.warn("could not deserialize data");else _geo.geotoolkit.warn("data is not present")};b.prototype.RPa=
function(a){var b=[],d,e,c;for(d=0;d<a.length;d++)if(c=a[d],b.push(c),c instanceof _geo.geotoolkit.scene.Group||c instanceof _geo.geotoolkit.Xb.Lha){var f=[];for(e=0;e<c.Uc();e++)f.push(c.vc(e));b.push.apply(b,this.RPa(f))}return b};b.prototype.PLc=function(a,b){function d(c,d){if(c){var e=c.Lc;!e&&c.relatedVisualId&&(e=a.find(function(a){return a instanceof _geo.geotoolkit.scene.Node&&a.od()===c.relatedVisualId}),!e&&b&&(e=b.find(function(a){return a instanceof _geo.geotoolkit.scene.Node&&a.od()===
c.relatedVisualId})));e?(d.nsa(e,c.uD,c.$P),c.relatedVisualId=null,c.Lc=e):(d.r3(c.uD),_geo.geotoolkit.warn("could not restore link to "+c.relatedVisualId))}}for(var e=0;e<a.length;e++){var c=a[e];if(c instanceof _geo.geotoolkit.Ua.shapes.ed.S0||c instanceof _geo.geotoolkit.Ua.shapes.ed.G6)if(c.userTouched=!0,c.Fo&&0<c.Fo.length){for(var f=0;f<c.Fo.length;f++){var k=c.Fo[f];d(k,c)}c.VG(!0)}}};b.prototype.ZPb=function(){return this.zpb(this.getSelection())};b.prototype.Bvc=function(){var a=this.ZPb();
this.Wpb();return a};b.prototype.Wpb=function(){var a=this.qB.$5a();a.forEach(function(a){return this.zPa(a)}.bind(this));return this};b.prototype.lV=function(a,b,d,e){void 0===d&&(d=!0);if(b){var c=b;if(a.Yb&&a.ga){var f=a.Yb()?a.Yb().clone():new _geo.geotoolkit.util.Ga;f.GD(c.getX(),c.getY());c=a.ga();d?f.translate(-c.Pc(),-c.Qc()):f.translate(-c.sa(),-c.qa());a.Td(f)}this.lV(a);a instanceof _geo.geotoolkit.Ua.shapes.ed.G6&&(e?(b=this.Mc().Ya().cb(b),this.qB.Pyb([a],b,null),this.qB.cc(!0)):a.created=
!0)}else this.Mc().va(a);this.Cx(a);return a};b.prototype.Cx=function(a,b){if(a instanceof _geo.geotoolkit.scene.Group)for(var d=0;d<a.Uc();d++)this.Cx(a.vc(d));a.H2b&&a.H2b(b?null:this)};b.prototype.zPa=function(a){var b;if(a instanceof _geo.geotoolkit.Ua.shapes.Nf.uba)for(a=a.fs(),b=0;b<a.length;b++)this.zPa(a[b]);else if(a){for(b=0;b<this.Mc().Uc();b++){var d=this.Mc().vc(b);_geo.geotoolkit.Pk(d,_geo.geotoolkit.Ua.shapes.ed.n6)&&(d.r3(_geo.geotoolkit.Ua.shapes.ed.MT.ON),d.r3(_geo.geotoolkit.Ua.shapes.ed.MT.$v))}this.Cx(a,
!0);this.Mc().removeChild(a);this.qB.ARc()}return this};b.prototype.aRb=function(a){for(var b=0;b<a.length;b++)this.zPa(a[b]);return this};b.prototype.zpb=function(a){return _geo.geotoolkit.Ua.Bd.l1.Za().IW("visuals",a)};b.prototype.Cvc=function(a){var b=this.zpb(a);this.aRb(a);return b};b.prototype.QJc=function(a,b){try{var d=_geo.geotoolkit.Ua.Bd.l1.Za().sV(a).getValue("visuals"),e=null,c;for(c=0;c<d.length;c++)if(d[c]){var f=d[c].Yb(),k=f?f.ob(d[c].ga()):d[c].ga().clone();e?e.union(k):e=k}for(c=
0;c<d.length;c++)if(d[c]){var h=d[c],l=e.di(),n=b.getX()-l.getX(),p=b.getY()-l.getY(),r=h.Yb()?h.Yb():new _geo.geotoolkit.util.Ga;h.Td(_geo.geotoolkit.util.Ga.multiply(_geo.geotoolkit.util.Ga.kj(n,p),r));_geo.geotoolkit.Pk(h,_geo.geotoolkit.Ua.shapes.ed.n6)&&h.Oi();h.Pa();this.lV(h)}var t=this.RPa(d);this.PLc(t,[]);for(c=0;c<t.length;c++)t[c]&&t[c].Kd(_geo.geotoolkit.Ua.hd.vX.bQ());this.qB.Tma(d)}catch(q){}};b.prototype.Cea=function(){this.nGa||(this.nGa=new _geo.geotoolkit.Ua.hd.PJa);return this.nGa};
return b}();_geo.geotoolkit.Ua.bG.Sbc=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.ICommand");b.prototype.Hh=_geo.geotoolkit.Ia;b.prototype.Owa=_geo.geotoolkit.Ia;return b}();
_geo.geotoolkit.Ua.bG.G8b=function(){function b(a){this.Lc=a.visuals||[];this.jaa=a.widget;this.center=a.center||!0;this.location=a.location||{x:0,y:0};this.BM=!1}_geo.geotoolkit.sg(b,"geotoolkit.flowcharts.commands.ICommand");_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.AddVisual");b.prototype.Hh=function(){_geo.geotoolkit.Pk(this.jaa,_geo.geotoolkit.Ua.shapes.Zdb)&&this.Lc&&this.jaa&&(this.jaa.lV(this.Lc,this.BM?null:this.location,this.center),this.BM=!0);return!0};b.prototype.Owa=function(){return this.BM&&
_geo.geotoolkit.Pk(this.jaa,_geo.geotoolkit.Ua.shapes.Zdb)?(this.jaa.zPa(this.Lc),!0):!1};return b}();
_geo.geotoolkit.Ua.bG.fpa=function(){function b(a){this.HLb=new _geo.geotoolkit.util.ZN;this.Lc=a.visuals||[];this.te=a.transformation||new _geo.geotoolkit.util.Ga;this.BM=!1;if(this.Lc)for(a=0;a<this.Lc.length;a++)this.Lc[a].Yb()&&this.HLb.put(this.Lc[a],this.Lc[a].Yb())}_geo.geotoolkit.sg(b,"geotoolkit.flowcharts.commands.ICommand");_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.TransformVisuals");b.prototype.qzb=function(a,b){if(a&&b){var d=a.Yb()?a.Yb():new _geo.geotoolkit.util.Ga;a.ma();
a.Td(d.Vd().vv(b.Vd()).Vd());a.ma();return!0}return!1};b.prototype.Hh=function(){if(!this.BM&&this.Lc.length&&this.te){var a;for(a=0;a<this.Lc.length;a++)this.qzb(this.Lc[a],this.te);return this.BM=!0}return!1};b.prototype.Owa=function(){if(this.BM){var a;for(a=0;a<this.Lc.length;a++)this.Lc[a].Td(this.HLb.OB(this.Lc[a])?this.HLb.get(this.Lc[a]):null);this.BM=!1;return!0}return!1};return b}();
_geo.geotoolkit.Ua.bG.Kic=function(){function b(a){this.delta=a.delta||{x:0,y:0};this.BM=!1;_geo.geotoolkit.Ua.bG.fpa.call(this,a)}_geo.geotoolkit.sg(b,"geotoolkit.flowcharts.commands.ICommand");_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.bG.fpa);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.TranslateVisuals");b.prototype.Hh=function(){if(!this.BM&&this.Lc.length){var a;for(a=0;a<this.Lc.length;a++)this.qzb(this.Lc[a],_geo.geotoolkit.util.Ga.kj(this.delta.x,this.delta.y));return this.BM=!0}return!1};
return b}();
_geo.geotoolkit.Ua.bG.Ugc=function(){function b(a){this.B$=a.scalex||1;this.Ufa=a.scaley||1;this.MB=a.anchor||_geo.geotoolkit.util.Da.Gg;this.BM=!1;_geo.geotoolkit.Ua.bG.fpa.call(this,a)}_geo.geotoolkit.sg(b,"geotoolkit.flowcharts.commands.ICommand");_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.bG.fpa);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.ScaleVisuals");b.prototype.Hh=function(){if(!this.BM&&this.Lc.length){var a,b,d;for(a=0;a<this.Lc.length;a++)b=this.Lc[a].ga(),this.Lc[a].Yb()&&(b=this.Lc[a].Yb().ob(b)),
d=b.clone(),d.fe(1<this.B$?b.width*this.B$/4:-(b.width-b.width*this.B$)/2,1<this.Ufa?b.height*this.Ufa/4:-(b.height-b.height*this.Ufa)/2),this.qzb(this.Lc[a],_geo.geotoolkit.util.Ga.hf(b,d));return this.BM=!0}return!1};return b}();
_geo.geotoolkit.Ua.bG.Dgc=function(){function b(a){this.angle=a.angle||0;this.MB=a.anchor||_geo.geotoolkit.util.Da.lb;this.BM=!1;_geo.geotoolkit.Ua.bG.fpa.call(this,a)}_geo.geotoolkit.sg(b,"geotoolkit.flowcharts.commands.ICommand");_geo.geotoolkit.fa(b,_geo.geotoolkit.Ua.bG.fpa);_geo.geotoolkit.da(b,"geotoolkit.flowcharts.commands.RotateVisuals");b.prototype.Hh=function(){if(!this.BM&&this.Lc.length){var a,b;for(a=0;a<this.Lc.length;a++)b=this.Lc[a].ga().clone(),this.Lc[a].Yb()&&(b=this.Lc[a].Yb().ob(b)),
b=b.yV(this.MB),b=_geo.geotoolkit.util.Ga.dn(this.angle,b.x,b.y),this.qzb(this.Lc[a],b);return this.BM=!0}return!1};return b}();
(function(){var b="geotoolkit",a="shapes",g="Events",d="persistence",e=_geo.geotoolkit.wr,c=_geo.geotoolkit.$r,f=null,k=null;e(b+".flowcharts.utils.Guid.newGuid",_geo.geotoolkit.Ua.hd.vX.bQ);e(b+".flowcharts.utils.LiteEvent",_geo.geotoolkit.Ua.hd.PJa);c(f=_geo.geotoolkit.Ua.hd.PJa.prototype,"on",f.kb,{kb:0});c(f,"off",f.hb,{hb:0});c(f,"trigger",f.lVa,{lVa:0});e(b+".flowcharts.utils.Misc.flatten",(k=_geo.geotoolkit.Ua.hd.ln).flatten);e(b+".flowcharts.utils.Misc.addPoint",k.KB);e(b+".flowcharts.utils.Misc.removePoint",
k.iwb);e(b+".flowcharts.utils.Misc.removeColinearPoints",k.lTa);e(b+".flowcharts.utils.Misc.sameLine",k.aMc);e(b+".flowcharts.utils.Misc.approximateLine",k.Csc);e(b+".flowcharts.utils.Misc.findIndex",k.findIndex);e(b+".flowcharts.utils.Misc.find",k.find);e(b+".flowcharts.utils.Misc.MAX_INT",k.U0);e(b+".flowcharts.utils.Misc.MIN_INT",k.SJa);e(b+".flowcharts.utils.Misc.EPSILON",k.EPSILON);c(f=_geo.geotoolkit.Ua.hd.Kfc.prototype,"enqueue",f.enqueue,{enqueue:0});c(f,"dequeue",f.eRb,{eRb:0});c(f,"peek",
f.RJc,{RJc:0});c(f,"isEmpty",f.isEmpty,{isEmpty:0});c(f,"getCount",f.Qn,{Qn:0});e(b+".flowcharts."+a+".ResourceLoader",_geo.geotoolkit.Ua.shapes.$Eb);e(b+".flowcharts."+a+".ResourceLoader.loadText",_geo.geotoolkit.Ua.shapes.$Eb.$Hc);e(b+".flowcharts."+a+".IComponent",_geo.geotoolkit.Ua.shapes.Paa);c(f=_geo.geotoolkit.Ua.shapes.Paa.prototype,"getPrototypeId",f.kG,{kG:0});c(f,"getPrototypeName",f.VZ,{VZ:0});c(f,"getCategory",f.vA,{vA:0});c(f,"getSearchKeywords",f.PV,{PV:0});c(f,"getDefaultSize",f.kz,
{kz:0});c(f,"setDefaultSize",f.G_,{G_:0});c(f,"getGeometry",f.yd,{yd:0});c(f,"getLinkPoints",f.vw,{vw:0});c(f,"setLinkPoints",f.r5,{r5:0});c(f,"setText",f.jc,{jc:0});c(f,"setUrl",f.fL,{fL:0});c(f,"getUrl",f.IA,{IA:0});c(f,"getDefaultIconSize",f.N3,{N3:0});e(b+".flowcharts."+a+".connectors.LinkSide",_geo.geotoolkit.Ua.shapes.ed.MT);e(b+".flowcharts."+a+".connectors.LinkSide.Begin",(k=_geo.geotoolkit.Ua.shapes.ed.MT).ON);e(b+".flowcharts."+a+".connectors.LinkSide.End",k.$v);e(b+".flowcharts."+a+".connectors.LinkingMode",
_geo.geotoolkit.Ua.shapes.ed.Aoa);e(b+".flowcharts."+a+".connectors.LinkingMode.NoLinks",(k=_geo.geotoolkit.Ua.shapes.ed.Aoa).Gdc);e(b+".flowcharts."+a+".connectors.LinkingMode.SingleLink",k.Mgb);e(b+".flowcharts."+a+".connectors.LinkingMode.DoubleLink",k.TBb);e(b+".flowcharts."+a+".connectors.LinkConnection",_geo.geotoolkit.Ua.shapes.ed.zoa);c(f=_geo.geotoolkit.Ua.shapes.ed.zoa.prototype,"getVisual",f.we,{we:0});c(f,"getModelPoint",f.WQa,{WQa:0});c(f,"getLinkSide",f.TBc,{TBc:0});c(f,"getLinkVisual",
f.UBc,{UBc:0});c(f,"getRelatedVisualId",f.nRa,{nRa:0});e(b+".flowcharts."+a+".DiagramVisual",(k=_geo.geotoolkit.Ua.shapes).Zl);c(f=_geo.geotoolkit.Ua.shapes.Zl.prototype,"copyConstructor",f.$a,{$a:0});c(f,"updateState",f.Pa,{Pa:0});c(f,"render",f.render,{render:0});c(f,"getPrototypeId",f.kG,{kG:0});c(f,"getPrototypeName",f.VZ,{VZ:0});c(f,"getCategory",f.vA,{vA:0});c(f,"getSearchKeywords",f.PV,{PV:0});c(f,"setDefaultSize",f.G_,{G_:0});c(f,"getDefaultSize",f.kz,{kz:0});c(f,"getGeometry",f.yd,{yd:0});
c(f,"setLinkPoints",f.r5,{r5:0});c(f,"getLinkPoints",f.vw,{vw:0});c(f,"getOutline",f.ZM,{ZM:0});c(f,"getDefaultIconSize",f.N3,{N3:0});c(f,"setUrl",f.fL,{fL:0});c(f,"getUrl",f.IA,{IA:0});c(f,"setText",f.jc,{jc:0});c(f,"getText",f.me,{me:0});c(f,"setProperties",f.ja,{ja:0});c(f,"getProperties",f.ka,{ka:0});e(b+".flowcharts."+a+".SvgDiagramVisual",k.apa);c(f=_geo.geotoolkit.Ua.shapes.apa.prototype,"setData",f.setData,{setData:0});c(f,"copyConstructor",f.$a,{$a:0});c(f,"setUrl",f.fL,{fL:0});c(f,"render",
f.render,{render:0});c(f,"getIsLinkPointsRelative",f.Yrb,{Yrb:0});c(f,"getRelativeLinkPoints",f.Zsb,{Zsb:0});c(f,"getLinkPoints",f.vw,{vw:0});c(f,"setProperties",f.ja,{ja:0});c(f,"getProperties",f.ka,{ka:0});e(b+".flowcharts."+a+".connectors.ILink",(k=_geo.geotoolkit.Ua.shapes.ed).n6);c(f=_geo.geotoolkit.Ua.shapes.ed.n6.prototype,"getConnections",f.mta,{mta:0});c(f,"updateLinks",f.VG,{VG:0});e(b+".flowcharts."+a+".connectors."+g+"",k.$);e(b+".flowcharts."+a+".connectors."+g+".Disconnected",(k=_geo.geotoolkit.Ua.shapes.ed.$).OBb);
e(b+".flowcharts."+a+".connectors."+g+".Connected",k.c$b);e(b+".flowcharts."+a+".connectors.LinkVisual",(k=_geo.geotoolkit.Ua.shapes.ed).S0);c(f=_geo.geotoolkit.Ua.shapes.ed.S0.prototype,"getPrototypeId",f.kG,{kG:0});c(f,"getPrototypeName",f.VZ,{VZ:0});c(f,"getCategory",f.vA,{vA:0});c(f,"getSearchKeywords",f.PV,{PV:0});c(f,"getDefaultSize",f.kz,{kz:0});c(f,"setDefaultSize",f.G_,{G_:0});c(f,"setText",f.jc,{jc:0});c(f,"getGeometry",f.yd,{yd:0});c(f,"getLinkPoints",f.vw,{vw:0});c(f,"setLinkPoints",f.r5,
{r5:0});c(f,"getOutline",f.ZM,{ZM:0});c(f,"getDefaultIconSize",f.N3,{N3:0});c(f,"setUrl",f.fL,{fL:0});c(f,"getUrl",f.IA,{IA:0});c(f,"getTextShape",f.en,{en:0});c(f,"getLinkType",f.psb,{psb:0});c(f,"setLinkType",f.Hxb,{Hxb:0});c(f,"getSymbolSize",f.MEc,{MEc:0});c(f,"setLinkingMode",f.m4b,{m4b:0});c(f,"getLinkingMode",f.AVb,{AVb:0});c(f,"getTubingWidth",f.Vea,{Vea:0});c(f,"setTubingWidth",f.wwa,{wwa:0});c(f,"getBounds",f.ga,{ga:0});c(f,"clone",f.clone,{clone:0});c(f,"connectTo",f.nsa,{nsa:0});c(f,"getConnections",
f.mta,{mta:0});c(f,"disconnectFrom",f.r3,{r3:0});c(f,"getConnectedIndexes",f.v6a,{v6a:0});c(f,"updateLinks",f.VG,{VG:0});c(f,"moveLinkHandle",f.hma,{hma:0});c(f,"canConnect",f.SCa,{SCa:0});e(b+".flowcharts."+a+".connectors.PolylineVisual",k.G6);c(f=_geo.geotoolkit.Ua.shapes.ed.G6.prototype,"getPrototypeId",f.kG,{kG:0});c(f,"getPrototypeName",f.VZ,{VZ:0});c(f,"getCategory",f.vA,{vA:0});c(f,"getSearchKeywords",f.PV,{PV:0});c(f,"getDefaultSize",f.kz,{kz:0});c(f,"setDefaultSize",f.G_,{G_:0});c(f,"setText",
f.jc,{jc:0});c(f,"getGeometry",f.yd,{yd:0});c(f,"getLinkPoints",f.vw,{vw:0});c(f,"setLinkPoints",f.r5,{r5:0});c(f,"getOutline",f.ZM,{ZM:0});c(f,"getDefaultIconSize",f.N3,{N3:0});c(f,"setUrl",f.fL,{fL:0});c(f,"getUrl",f.IA,{IA:0});c(f,"getTubingWidth",f.Vea,{Vea:0});c(f,"setTubingWidth",f.wwa,{wwa:0});c(f,"getBounds",f.ga,{ga:0});c(f,"connectTo",f.nsa,{nsa:0});c(f,"getConnections",f.mta,{mta:0});c(f,"disconnectFrom",f.r3,{r3:0});c(f,"getConnectedIndexes",f.v6a,{v6a:0});c(f,"updateLinks",f.VG,{VG:0});
c(f,"canConnect",f.SCa,{SCa:0});e(b+".flowcharts."+a+".edit.LinkSegment.First",(k=_geo.geotoolkit.Ua.shapes.Nf.ADb).I0);e(b+".flowcharts."+a+".edit.LinkSegment.Second",k.OYa);e(b+".flowcharts."+a+".edit.LinkSegment.Middle",k.eB);e(b+".flowcharts."+a+".edit.LinkSegment.FirstCorner",k.nCb);e(b+".flowcharts."+a+".edit.LinkSegment.SecondCorner",k.gFb);e(b+".flowcharts."+a+".edit.LinkSegment.Corner",k.Kdb);e(b+".flowcharts."+a+".edit.Side.None",(k=_geo.geotoolkit.Ua.shapes.Nf.EC).None);e(b+".flowcharts."+
a+".edit.Side.Left",k.wd);e(b+".flowcharts."+a+".edit.Side.Right",k.$c);e(b+".flowcharts."+a+".edit.Side.Top",k.Ub);e(b+".flowcharts."+a+".edit.Side.Bottom",k.Zf);e(b+".flowcharts."+a+".edit.LinkType",_geo.geotoolkit.Ua.shapes.Nf.pha);e(b+".flowcharts."+a+".edit.LinkType.Line",(k=_geo.geotoolkit.Ua.shapes.Nf.pha).Line);e(b+".flowcharts."+a+".edit.LinkType.Step",k.tH);c(f=_geo.geotoolkit.Ua.shapes.Nf.RXa.prototype,"getFirstIndex",f.oAc,{oAc:0});c(f,"getLastIndex",f.ABc,{ABc:0});c(f,"isFirst",f.tub,
{tub:0});c(f=_geo.geotoolkit.Ua.shapes.Nf.pya.prototype,"setShape",f.lk,{lk:0});c(f,"onMove",f.Cl,{Cl:0});c(f,"setCursor",f.j5,{j5:0});c(f=_geo.geotoolkit.Ua.shapes.Nf.dba.prototype,"onInitialize",f.ip,{ip:0});c(f,"setShape",f.lk,{lk:0});c(f,"onActiveStateChanged",f.uj,{uj:0});c(f,"onMove",f.Cl,{Cl:0});e(b+".flowcharts."+a+".edit.VirtualGroupVisual",(k=_geo.geotoolkit.Ua.shapes.Nf).uba);c(f=_geo.geotoolkit.Ua.shapes.Nf.uba.prototype,"setShapes",f.F5b,{F5b:0});c(f,"getShapes",f.fs,{fs:0});e(b+".flowcharts."+
a+".edit.VisualPluginAdapter",k.hLa);c(f=_geo.geotoolkit.Ua.shapes.Nf.hLa.prototype,"setShape",f.lk,{lk:0});c(f,"getShapeBounds",f.QV,{QV:0});c(f,"onActiveStateChanged",f.uj,{uj:0});c(f,"onInitialize",f.ip,{ip:0});c(f,"onMove",f.Cl,{Cl:0});c(f,"setStyle",f.setStyle,{setStyle:0});e(b+".flowcharts."+a+".edit.DiagramTool",k.NBb);c(f=_geo.geotoolkit.Ua.shapes.Nf.NBb.prototype,"attachToPlot",f.gy,{gy:0});c(f,"getShapeAdapters",f.nEc,{nEc:0});c(f,"dispose",f.dispose,{dispose:0});c(f,"clearSelection",f.sZ,
{sZ:0});c(f,"startAdapter",f.Pyb,{Pyb:0});c(f,"getActiveSelection",f.$5a,{$5a:0});c(f,"selectVisuals",f.Tma,{Tma:0});c(f,"getTextEditorEnabled",f.hXb,{hXb:0});c(f,"setTextEditorEnabled",f.BQc,{BQc:0});c(f,"getOnSelectionChangeEvent",f.Cea,{Cea:0});c(f=_geo.geotoolkit.Ua.shapes.nYa.prototype,"findPath",f.Qsa,{Qsa:0});e(b+".flowcharts."+d+".visuals.DiagramVisualSerializer",(k=_geo.geotoolkit.Ua.Bd.Lc).fJa);e(b+".flowcharts."+d+".visuals.ExportDiagramVisualSerializer",k.WWc);e(b+".flowcharts."+d+".visuals.LinkVisualSerializer",
k.Gcc);e(b+".flowcharts."+d+".visuals.PolylineVisualSerializer",k.Dfc);e(b+".flowcharts."+d+".visuals.SvgVisualPluginSerializer",k.Ihc);e(b+".flowcharts."+d+".Serializer",_geo.geotoolkit.Ua.Bd.l1);e(b+".flowcharts."+d+".Serializer.getInstance",_geo.geotoolkit.Ua.Bd.l1.Za);c(f=_geo.geotoolkit.Ua.Bd.l1.prototype,"serialize",f.IW,{IW:0});c(f,"deserialize",f.sV,{sV:0});c(f,"setSerializer",f.cQc,{cQc:0});c(f,"getSerializer",f.YB,{YB:0});e(b+".flowcharts.plugins.library.DefaultComponents",_geo.geotoolkit.Ua.plugins.Hv.f6);
e(b+".flowcharts.plugins.library.DefaultComponents.getComponents",(k=_geo.geotoolkit.Ua.plugins.Hv.f6).PB);e(b+".flowcharts.plugins.library.DefaultComponents.Category",k.vq);e(b+".flowcharts.plugins.library.FlowChartComponents",_geo.geotoolkit.Ua.plugins.Hv.reb);e(b+".flowcharts.plugins.library.FlowChartComponents.getComponents",(k=_geo.geotoolkit.Ua.plugins.Hv.reb).PB);e(b+".flowcharts.plugins.library.FlowChartComponents.Category",k.vq);e(b+".flowcharts.plugins.library.HRComponents",_geo.geotoolkit.Ua.plugins.Hv.Aeb);
e(b+".flowcharts.plugins.library.HRComponents.getComponents",(k=_geo.geotoolkit.Ua.plugins.Hv.Aeb).PB);e(b+".flowcharts.plugins.library.HRComponents.Category",k.vq);e(b+".flowcharts.plugins.library.IndustrialComponents",_geo.geotoolkit.Ua.plugins.Hv.yXa);e(b+".flowcharts.plugins.library.IndustrialComponents.getComponents",(k=_geo.geotoolkit.Ua.plugins.Hv.yXa).PB);e(b+".flowcharts.plugins.library.IndustrialComponents.Category",k.vq);e(b+".flowcharts.plugins.VisualFactory",_geo.geotoolkit.Ua.plugins.Ihb);
e(b+".flowcharts.plugins.VisualFactory.getInstance",_geo.geotoolkit.Ua.plugins.Ihb.Za);c(f=_geo.geotoolkit.Ua.plugins.Ihb.prototype,"getPlugins",f.jDc,{jDc:0});c(f,"getDefaultFillStyle",f.tzc,{tzc:0});c(f,"setDefaultFillStyle",f.wab,{wab:0});c(f,"getDefaultLineStyle",f.uzc,{uzc:0});c(f,"setDefaultFillStyle",f.wab,{wab:0});c(f,"registerPlugin",f.H0b,{H0b:0});c(f,"getVisual",f.we,{we:0});e(b+".flowcharts."+a+".DiagramTools",_geo.geotoolkit.Ua.shapes.Mxa);e(b+".flowcharts."+a+".DiagramTools.None",(k=
_geo.geotoolkit.Ua.shapes.Mxa).None);e(b+".flowcharts."+a+".DiagramTools.Panning",k.ei);e(b+".flowcharts."+a+".DiagramTools.RubberBandSelection",k.Fgc);e(b+".flowcharts."+a+".DiagramWidget",_geo.geotoolkit.Ua.shapes.Zdb);c(f=_geo.geotoolkit.Ua.shapes.Zdb.prototype,"getAnnotation",f.vb,{vb:0});c(f,"setDiagramLimits",f.BNc,{BNc:0});c(f,"toggleTool",f.izb,{izb:0});c(f,"getActiveTool",f.Mxc,{Mxc:0});c(f,"getScale",f.Qu,{Qu:0});c(f,"setScale",f.jk,{jk:0});c(f,"zoomIn",f.JN,{JN:0});c(f,"zoomOut",f.KN,{KN:0});
c(f,"scaleModel",f.vt,{vt:0});c(f,"getModel",f.Mc,{Mc:0});c(f,"getDiagramLimits",f.Bzc,{Bzc:0});c(f,"getSelection",f.getSelection,{getSelection:0});c(f,"stopPolylineEdit",f.Wyb,{Wyb:0});c(f,"clearSelection",f.sZ,{sZ:0});c(f,"selectVisuals",f.Tma,{Tma:0});c(f,"groupVisuals",f.eGc,{eGc:0});c(f,"ungroupVisuals",f.uSc,{uSc:0});c(f,"bringToFront",f.atc,{atc:0});c(f,"sendToBack",f.sMc,{sMc:0});c(f,"resetDiagram",f.GLc,{GLc:0});c(f,"saveDiagram",f.cMc,{cMc:0});c(f,"loadDiagram",f.UHc,{UHc:0});c(f,"flattenVisuals",
f.RPa,{RPa:0});c(f,"copySelection",f.ZPb,{ZPb:0});c(f,"cutSelection",f.Bvc,{Bvc:0});c(f,"deleteSelection",f.Wpb,{Wpb:0});c(f,"addVisual",f.lV,{lV:0});c(f,"deleteVisual",f.zPa,{zPa:0});c(f,"deleteVisuals",f.aRb,{aRb:0});c(f,"copyVisuals",f.zpb,{zpb:0});c(f,"cutVisuals",f.Cvc,{Cvc:0});c(f,"paste",f.QJc,{QJc:0});c(f,"getOnSelectionChangeEvent",f.Cea,{Cea:0});e(b+".flowcharts.commands.ICommand",(k=_geo.geotoolkit.Ua.bG).Sbc);c(f=_geo.geotoolkit.Ua.bG.Sbc.prototype,"execute",f.Hh,{Hh:0});c(f,"undo",f.Owa,
{Owa:0});e(b+".flowcharts.commands.AddVisual",k.G8b);c(f=_geo.geotoolkit.Ua.bG.G8b.prototype,"execute",f.Hh,{Hh:0});c(f,"undo",f.Owa,{Owa:0});e(b+".flowcharts.commands.TransformVisuals",k.fpa);c(f=_geo.geotoolkit.Ua.bG.fpa.prototype,"execute",f.Hh,{Hh:0});c(f,"undo",f.Owa,{Owa:0});e(b+".flowcharts.commands.TranslateVisuals",k.Kic);c(f=_geo.geotoolkit.Ua.bG.Kic.prototype,"execute",f.Hh,{Hh:0});e(b+".flowcharts.commands.ScaleVisuals",k.Ugc);c(f=_geo.geotoolkit.Ua.bG.Ugc.prototype,"execute",f.Hh,{Hh:0});
e(b+".flowcharts.commands.RotateVisuals",k.Dgc);c(f=_geo.geotoolkit.Ua.bG.Dgc.prototype,"execute",f.Hh,{Hh:0})})();

    return _geo.geotoolkit.flowcharts;
}(_geo));
/* eslint-enable */
/* tslint:enable */