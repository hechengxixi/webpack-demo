/* tslint:disable */
/* eslint-disable */
/**
 * Copyright: Copyright (c) 2016 by INT, Inc.  All rights reserved.<br>
 * Company: INT, Inc. <br>
 * INT PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
 */
(function (root, factory) {
if (root && typeof root['define'] === 'function') {
    root['define']("geotoolkit.welllog.las", ["geotoolkit.welllog"], function() {
      root._geo = factory(root, root._geo);
      root.geotoolkit = root._geo.geotoolkit || root.geotoolkit;
      return root.geotoolkit;
    });
} else if (typeof module !== 'undefined' && typeof module.exports === 'object') {
    var m = factory(root, root && root._geo);
    module.exports._geo = m;
    if (root) { 
        root._geo = module.exports._geo;
        if(!root.geotoolkit) {
            root.geotoolkit = module.exports._geo.geotoolkit;
        }
    }
    if (!module.exports.geotoolkit) module.exports.geotoolkit=module.exports._geo.geotoolkit;
} else {
    root._geo = factory(root, root._geo);
    root.geotoolkit = root._geo.geotoolkit || root.geotoolkit;
    return root.geotoolkit;
}

}(typeof window !== "undefined" ? window : undefined, function (window, _geo) {
var _geo=_geo||{};_geo.geotoolkit.ca.data.Df={};_geo.geotoolkit.ca.data.Df.xoa=function(){};_geo.geotoolkit.ca.data.Df.xoa.pfd=function(b){var a=2===this.prototype.fRb(b)?new _geo.geotoolkit.ca.data.Df.rDb:new _geo.geotoolkit.ca.data.Df.sDb;a.parse(b);return a};
_geo.geotoolkit.ca.data.Df.xoa.prototype={constructor:_geo.geotoolkit.ca.data.Df.xoa,parse:_geo.geotoolkit.Ia,oz:_geo.geotoolkit.Ia,$M:_geo.geotoolkit.Ia,fRb:function(b){var a=b.indexOf("VERS",b.indexOf("~V"));b=b.substring(a,b.indexOf(":",a));return-1<b.indexOf("2.0")?2:-1<b.indexOf("3.0")?3:2},gRb:function(b){return-1===b.search(/wrap\.\s*no\s*:/i)},Svc:function(b){return(b=b.match(/strt\s*\.([^\s]*)/i)[1])?b:""}};
_geo.geotoolkit.ca.data.Df.bfb=function(){function b(){}_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.LasStreamParser");b.prototype.open=_geo.geotoolkit.Ia;b.prototype.oz=_geo.geotoolkit.Ia;b.prototype.$M=_geo.geotoolkit.Ia;b.prototype.dTa=_geo.geotoolkit.Ia;return b}();
_geo.geotoolkit.ca.data.Df.rDb=function(){function b(){this.bu=this.eC=null}_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.xoa);b.prototype.parse=function(a){this.w_b=null;var b=a.split(/\r?\n/),d=0,e=null,c=[],f={},k=!1,h;a=this.gRb(a);for(var l=[],n=1,p=null;d<b.length;){if(0!==b[d].trim().length&&"#"!==b[d].trim().charAt(0))if(-1!==b[d].indexOf("~"))f.name&&(a&&f.name&&0===f.name.toUpperCase().indexOf("C")&&(n=f.data.length),c.push({name:f.name,data:f.data})),e=b[d].substring(b[d].indexOf("~")+
1),f.data=[],"A"===e.charAt(0)?(k=!0,h=!1):"O"===e.charAt(0)?(k=!1,h=!0):h=k=!1,f.name=e;else if(k){var e=b[d].trim().split(/[\s]+/),r;if(a){if(l.length>=n){for(r=0;r<l.length;r++)f.data[r]||(f.data[r]=[]),p&&+l[r]===p?f.data[r].push(Number.NaN):f.data[r].push(+l[r]);l=[]}l.push.apply(l,e)}else for(r=0;r<e.length;r++)f.data[r]||(f.data[r]=[]),p&&+e[r]===p&&(e[r]=Number.NaN),f.data[r].push(+e[r])}else h?f.data.push(b[d]):(e=/^([ ]*[^.^ ]*)[ ]*.([^:^ ]*)[ ]*([^:]*):(.*)/,e=b[d].match(e),null===e||5>
e.length?_geo.geotoolkit.log("Malformed or unrecognized line at line "+(d+1)+": "+b[d]):("NULL"===e[1].trim()&&(p=+e[3]),f.data.push(new _geo.geotoolkit.ca.data.Df.JJa(e[1].trim(),e[2].trim(),e[3].trim(),e[4].trim()))));d+=1}f.name&&c.push({name:f.name,data:f.data});return this.bu=c};b.prototype.ika=function(){if(!this.w_b){for(var a=[],b,d,e,c,f,k=0;k<this.bu.length;k++)switch(this.bu[k].name.charAt(0)){case "V":b=this.bu[k];break;case "W":d=this.bu[k];break;case "C":e=this.bu[k];break;case "P":c=
this.bu[k];break;case "A":f=this.bu[k];break}e=new _geo.geotoolkit.ca.data.Df.nya("LAS2",new _geo.geotoolkit.ca.data.Df.iH(c),new _geo.geotoolkit.ca.data.Df.iH(e),new _geo.geotoolkit.ca.data.Df.mya(f));a.push(new _geo.geotoolkit.ca.data.Df.iH(b));a.push(new _geo.geotoolkit.ca.data.Df.iH(d));a.push(e);this.w_b=a}return this.w_b};b.prototype.oz=function(){for(var a=[],b=this.ika(),d=0;d<b.length;d++)b[d].e9||a.push(b[d]);return a};b.prototype.$M=function(){for(var a=[],b=this.ika(),d=0;d<b.length;d++)b[d].e9&&
a.push(b[d]);return a};return b}();
_geo.geotoolkit.ca.data.Df.sDb=function(){function b(){this.bu=this.eC=null}var a=/^A\b|^ascii\b|_data\b/i,g=/^A\b|^ascii/i,d=/^V\b|^Version/i,e=/^W\b|^Well/i;_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.xoa);b.prototype.parse=function(b){b=b.split(/\r?\n/);for(var d=0,e=null,g=[],l={},n=!1,p=/[\s]+/,r=[],t=!0,q=null;d<b.length;){if(0!==b[d].trim().length&&"#"!==b[d].trim().charAt(0))if(-1!==b[d].indexOf("~"))l.name&&(g.push({name:l.name,data:l.data,Afa:l.Afa}),r=[]),e=b[d].substring(b[d].indexOf("~")+
1),n=e.match(a),l.name=e,l.data=[],l.Afa=[];else if(n){e=b[d].trim().split(p);if(0===r.length)for(var m=0;m<e.length;m++)l.Afa[m]=!0;for(m=0;m<e.length;m++)e[m]=e[m].trim(),0===e[m].length?e[m]=Number.NaN:(0,window.isNaN)(e[m])?l.Afa[m]=!1:e[m]=q&&+e[m]===q?Number.NaN:+e[m],l.data[m]||(l.data[m]=[]),l.data[m].push(e[m])}else e=/^([ ]*[^.^ ]*)[ ]*.([^ ]*)[ ]*(.*):\s*([^:]*)/,e=b[d].match(e),null===e||5>e.length?(_geo.geotoolkit.log("Malformed or unrecognized line at line "+(d+1)+": "+b[d]),t=!1):("NULL"===
e[1].trim()&&(q=+e[3]),l.data.push(new _geo.geotoolkit.ca.data.Df.JJa(e[1].trim(),e[2].trim(),e[3].trim(),e[4].trim())),"DLM"===e[1].trim().toUpperCase()&&("COMMA"===e[3].trim().toUpperCase()||"COMMA"===e[2].trim().toUpperCase()?p=",":"TAB"===e[3].trim().toUpperCase()||"TAB"===e[2].trim().toUpperCase()?p="\t":"SPACE"!==e[3].trim().toUpperCase()&&"SPACE"!==e[2].trim().toUpperCase()&&(t=!1)));d+=1}l.name&&g.push({name:l.name,data:l.data,Afa:r});this.eC=g;this.bu=null;return t};b.prototype.ika=function(){if(!this.bu){this.bu=
[];for(var a,b,k,h,l,n,p=0;p<this.eC.length;p++){var r=this.eC[p];a=k=b=h=null;if(r.name.match(d)||r.name.match(e))this.bu.push(new _geo.geotoolkit.ca.data.Df.iH(r));else if(!r.x_)if(-1!==r.name.indexOf("_")){a=r.name.split(/[_\[]/)[0].trim();-1!==r.name.indexOf("[")&&(n=r.name.split(/[\[\]]/)[1]);for(l=p;l<this.eC.length;l++)-1<this.eC[l].name.indexOf(a)&&(!n||-1<this.eC[l].name.indexOf(n))&&(-1!==this.eC[l].name.split("_")[1].toUpperCase().indexOf("DATA")?(h=new _geo.geotoolkit.ca.data.Df.mya(this.eC[l]),
this.eC[l].x_=!0):-1!==this.eC[l].name.split("_")[1].toUpperCase().indexOf("PARAMETER")?(b=new _geo.geotoolkit.ca.data.Df.iH(this.eC[l]),this.eC[l].x_=!0):-1!==this.eC[l].name.split("_")[1].toUpperCase().indexOf("DEFINITION")?(k=new _geo.geotoolkit.ca.data.Df.iH(this.eC[l]),this.eC[l].x_=!0):_geo.geotoolkit.log("Unrecognized Section Type: "+this.eC[l].name));-1!==r.name.indexOf("[")&&(a+=n,n=null);(k||b)&&this.bu.push(new _geo.geotoolkit.ca.data.Df.nya(a,b,k,h))}else if(r.name&&0===r.name.toUpperCase().indexOf("CURVE")){for(l=
0;l<this.eC.length;l++)this.eC[l].name.match(g)&&(a="Main Section",r.x_=!0,this.eC[l].x_=!0,h=new _geo.geotoolkit.ca.data.Df.mya(this.eC[l]),k=new _geo.geotoolkit.ca.data.Df.iH(r)),0===this.eC[l].name.toUpperCase().indexOf("PARAMETER")&&(b=new _geo.geotoolkit.ca.data.Df.iH(this.eC[l]));this.bu.push(new _geo.geotoolkit.ca.data.Df.nya(a,b,k,h))}}}return this.bu};b.prototype.oz=function(){for(var a=[],b=this.ika(),d=0;d<b.length;d++)b[d].e9||a.push(b[d]);return a};b.prototype.$M=function(){for(var a=
[],b=this.ika(),d=0;d<b.length;d++)b[d].e9&&a.push(b[d]);return a};return b}();_geo.geotoolkit.ca.data.Df.OXa=function(){function b(a,b){this.name=a;this.data=b}b.prototype.getName=function(){return this.name};b.prototype.getData=function(){return this.data};b.prototype.e6a=function(){return""};return b}();
_geo.geotoolkit.ca.data.Df.mya=function(){function b(a){a?(this.name=a.name,this.data=a.data,this.Afa=a.Afa):this.Afa=this.data=this.name=null;this.Fsc="";this.name&&-1!==this.name.indexOf("|")&&(this.Fsc=this.name.substring(this.name.indexOf("|")+2))}_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.OXa);b.prototype.getName=function(){return this.name};b.prototype.getData=function(){return this.data};b.prototype.YCc=function(){return this.Afa};b.prototype.e6a=function(){return this.Fsc};return b}();
_geo.geotoolkit.ca.data.Df.nya=function(){function b(a,b,d,e){this.name=a;this.parameters=b;this.rsa=e;this.curves=d;this.Z9=null}b.prototype.getName=function(){if(!this.name){if(null==this.parameters)return"";this.name=this.parameters.split("_")[0]}return this.name};b.prototype.oz=function(){this.Z9||(this.Z9=this.e9());return{parameters:this.parameters,data:this.rsa,curves:this.curves}};b.prototype.getParameters=function(){return this.parameters};b.prototype.lrb=function(a){"number"!==typeof a&&
(this.Z9||(this.Z9=this.e9()),a=this.Z9.indexOf(a));return this.curves.data[a]};b.prototype.e9=function(){for(var a=[],b=0;b<this.curves.data.length;b++)a.push(this.curves.data[b].zIc);return a};b.prototype.dHc=function(a){"number"!==typeof a&&(this.Z9||(this.Z9=this.e9()),a=this.Z9.indexOf(a));return this.rsa.Afa[a]};b.prototype.dzc=function(a){"number"!==typeof a&&(this.Z9||(this.Z9=this.e9()),a=this.Z9.indexOf(a));return this.rsa.data[a]};return b}();
_geo.geotoolkit.ca.data.Df.iH=function(){function b(a){"string"===typeof a?(this.data=[],this.name=a):a?(this.name=a.name,this.data=a.data):this.data=this.name=null;this.nuc=new _geo.geotoolkit.ca.data.Df.ucc(this.name)}_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.OXa);b.prototype.zda=function(a,b){this.nuc.zda(a,b);return this};b.prototype.$dd=function(){return this.nuc};b.prototype.setParameter=function(a,b,d,e){this.data||(this.data=[]);if(!a)throw Error("Mnemonic is absent");b=b||"";d=void 0!==
d&&null!==d?d:"";e=e||"";var c=this.nfd(a);-1===c?this.data.push(new _geo.geotoolkit.ca.data.Df.JJa(a,b,d,e)):this.data[c].Fl(b).setValue(d).ZK(e);return this};b.prototype.nfd=function(a){if(!this.data)return-1;for(var b=0;b<this.data.length;b++)if(this.data[b].HEa()===a)return b;return-1};b.prototype.getName=function(){return this.name};b.prototype.yb=function(a){this.name=a;return this};b.prototype.getData=function(){return this.data};b.prototype.iWb=function(a){if(!this.data)return"";for(var b=
0;b<this.data.length;b++)if(this.data[b].HEa()===a)return this.data[b].value;return""};return b}();_geo.geotoolkit.ca.data.Df.IYc=function(){function b(){}b.prototype.getName=function(){return this.name};return b}();
_geo.geotoolkit.ca.data.Df.JJa=function(){function b(a,b,d,e){this.zIc=a;this.ju=b;this.value=d;this.description=e}b.prototype.HEa=function(){return this.zIc};b.prototype.Tb=function(){return this.ju};b.prototype.Fl=function(a){this.ju=a;return this};b.prototype.getValue=function(){return this.value};b.prototype.setValue=function(a){this.value=a;return this};b.prototype.Nu=function(){return this.description};b.prototype.ZK=function(a){this.description=a;return this};return b}();
_geo.geotoolkit.ca.data.Df.Ugb={WCb:{c1c:function(b){b=function(a){var b=_geo.geotoolkit.ca.data.Df.afb;a=a.oz();var d=b.uSb(a,b.rZa),d=b.P5a(d,b.e2c)===b.f2c;a=b.uSb(a,b.hGb);var e=+b.P5a(a,b.q0c,0),c=+b.P5a(a,b.s0c,Number.NaN),f=+b.P5a(a,b.r0c,Number.NaN);return(0,window.isNaN)(c)||(0,window.isNaN)(f)||0===e||!1!==d?null:function(a,b){return c>f&&0>e?a+Math.abs(Math.ceil((f-Math.min(b,f))/e)):c<f&&0<e?a+Math.abs(Math.floor((Math.max(b,c)-c)/e)):null}}();return{findIndex:b,G0b:function(a,b){}}},
Hcc:function(b){function a(a,b){d.push({d:a,i:b})}function g(a){for(var b=null,g=0;g<d.length-1;g++)d[g].d<d[g+1].d&&d[g].d<=a&&(b=d[g]),d[g].d>d[g+1].d&&d[g].d>=a&&(b=d[g]);return b}var d=[];return{findIndex:function(a,b){var d=g(b);return null==d?a:d.i},G0b:function(b,c){var d=g(b);null!=d&&d.i===c||a(b,c)}}},uZc:function(b){return{findIndex:function(a,b){return a},G0b:function(a,b){}}}}};
_geo.geotoolkit.ca.data.Df.afb=function(){function b(a){_geo.geotoolkit.ca.data.Df.bfb.call(this,a);a=_geo.geotoolkit.Ca(a,{indexingmode:_geo.geotoolkit.ca.data.Df.Ugb.WCb.Hcc});this.z_=a.reader;this.Ugd=a.indexingmode;this.bu=[];this.w8a=null}function a(a,d,e){a=a.trim();if(0===a.length||"#"===a.charAt(0))return null;d=a.match(b.TZc);return null==d||5>d.length?(_geo.geotoolkit.log("Malformed or unrecognized line: "+a),null):new _geo.geotoolkit.ca.data.Df.JJa(d[1].trim(),d[2].trim(),d[3].trim(),d[4].trim())}
function g(a){return null!=a}function d(c,d){var e={};_geo.geotoolkit.util.stream.PX.qSb(e,c,0,new RegExp(d),new RegExp(b.Aha),!0);return null!=e.start?new _geo.geotoolkit.ca.data.Df.iH({name:e.lines[0].substring(e.lines[0].indexOf("~")+1),data:e.lines.slice(1).map(a).filter(g)}):null}function e(a,d){var e={};_geo.geotoolkit.util.stream.PX.qSb(e,a,0,new RegExp(d),new RegExp(b.Aha),!0);return null!=e.start?new _geo.geotoolkit.ca.data.Df.iH({name:d,data:e.lines}):null}_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.bfb);
_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.Las20Stream");b.prototype.open=function(a,f,k){var h=this,l=new _geo.geotoolkit.util.Promise(function(f,l){var r=new _geo.geotoolkit.util.Promise(function(a,c){h.z_.Xob(b.rZa,b.kVc,0,-1,function(f){null!=f.error?c(f.error):h.z_.z$a(f.end,1,function(k,l,n){null==k?(h.bu.push(d(f.lines,b.rZa)),h.bu.push(d(f.lines,b.hGb)),h.bu.push(e(f.lines,b.IZc)),h.bu.push(new _geo.geotoolkit.ca.data.Df.nya("LAS2",d(f.lines,b.SZc),d(f.lines,b.AUc),new _geo.geotoolkit.ca.data.Df.tDb({name:n[0].substring(n[0].indexOf("~")+
1)},h,f.end+1))),h.bu=h.bu.filter(g),a(h)):c(k)})})});r.then(function(b){if(a){var d=b.$M()[0].oz().data;d.Zid().then(function(a){f(b)},k)}else f(b)},k)});l.then(f,k);return l};b.prototype.$M=function(){return this.bu.filter(function(a){return a instanceof _geo.geotoolkit.ca.data.Df.nya})};b.prototype.oz=function(){return this.bu.filter(function(a){return a instanceof _geo.geotoolkit.ca.data.Df.OXa})};b.prototype.$Ub=function(){null==this.w8a&&(this.w8a=this.Ugd(this));return this.w8a};b.prototype.dTa=
function(a,b,d,e,g,n){var p=null!=b?function(a){return a>=b}:null,r=null!=d?function(a){return a>d}:null,t=a,q,m=null;if(null!=e){m=this.$M()[0].e9();q=[];for(var u=0;u<e.length;u++){var v=m.indexOf(e[u]);q.push(v)}m=function(a){return-1!==q.indexOf(a)}}if(null!=b){if(null==this.$Ub())return a=_geo.geotoolkit.util.Promise.reject("Indexing mode is not valid for current file, switch to a more permissive mode or fix LAS datasource."),a.then(g,n),a;t=this.w8a.findIndex(a,b)}return this.cTa(t,p,r,m,g,
n,q)};b.prototype.q0b=function(a,b,d,e,g,n){var p=null!=b?function(a){return a>=b}:null,r=null!=d?function(a){return a>d}:null,t=a,q=null;null!=e&&(q=function(a){return-1!==e.indexOf(a)});if(null!=b){if(null==this.$Ub())return a=_geo.geotoolkit.util.Promise.reject("Indexing mode is not valid for current file, switch to a more permissive mode or fix LAS datasource."),a.then(g,n),a;t=this.w8a.findIndex(a,b)}return this.cTa(t,p,r,q,g,n,e)};b.prototype.cTa=function(a,d,e,g,l,n,p){var r=this,t=new _geo.geotoolkit.util.Promise(function(l,
m){var n=[],t=r.$M()[0].oz().curves.getData().length,w=b.uSb(r.oz(),b.hGb),x=+b.P5a(w,b.sZc,Number.NaN),A=!1,z=!1,C=0;r.z_.Y4(a,function E(a,c,w,G,J,I){if(a)m(a);else{var O=!1;w.forEach(function(a){a=a.replace(b.PTc," ").trim();if(0!==a.length&&"#"!==a.charAt(0))if(a=a.split(b.jVc),0===C&&(O||(r.$Ub().G0b(+a[0],c),O=!0),A=A||(null!=d?d(+a[0]):!0),z=z||(null!=e?e(+a[0]):!1)),A)if(z)C=(C+a.length)%t;else for(var l=0;l<a.length;l++){if(null==g||g(C)){null==n[C]&&(n[C]=[]);var m=+a[l];m===x?n[C].push(Number.NaN):
n[C].push(m)}C=(C+1)%t}else C=(C+a.length)%t});if(a=G||z){if(null!=p){w=[];for(a=0;a<p.length;a++)w.push(n[p[a]]);n=w}l(n)}else r.z_.Y4(c+w.length,E)}})});t.then(l,n);return t};b.uSb=function(a,b){return a.filter(function(a){return a.getName().charAt(0)===b.charAt(1)})[0]};b.P5a=function(a,b,d){a=a.getData().filter(function(a){return a.HEa()===b});if(0<a.length)return a[0].getValue();_geo.geotoolkit.log("Warning: Invalid LAS file, missing mandatory field: "+b);return d};b.bid=function(a,e,g){var h=
new _geo.geotoolkit.util.Promise(function(e,g){a.Xob(b.rZa,b.Aha,0,50,function(a){if(null!=a.error)return g({isLAS20:!1,details:"Error, while parsing the stream: "+a.error});if(null==a.lines||0===a.lines.length)return g({isLAS20:!1,details:'Error, could not find the ~VERSION INFORMATION" section found in this filereader'});var c=d(a.lines,b.rZa);if(null==c)return e({isLAS20:!1,details:'No "~VERSION INFORMATION" section found in this filereader'});c=c.iWb(b.T1c);return"2.0"===c?e({isLAS20:!0,details:"Version field match the LAS 2.0 standard"}):
2===+c?e({isLAS20:!0,details:'Warning, the version field seems incorrect, should have been "2.0" but is: '+c}):null==c||""===c?e({isLAS20:!1,details:'Error, The "VERS" field/value is not present or incorrectly formatted: \n'+a.lines.join("\n")}):e({isLAS20:!1,details:'Error, The "VERS" field/value is not "2.00" but: '+c})})});h.then(e,g);return h};b.Aha="~";b.rZa=b.Aha+"V";b.hGb=b.Aha+"W";b.AUc=b.Aha+"C";b.kVc=b.Aha+"A";b.IZc=b.Aha+"O";b.SZc=b.Aha+"P";b.TZc=/^[ ]*([^.]*)[ ]*\.([^ ]*)[ ](.*):[ ]*(.*)[ ]*/;
b.PTc=/(?![\x20-\x7E]|[\x0D]|[\x0A])./g;b.jVc=/[\s]+/;b.sZc="NULL";b.e2c="WRAP";b.f2c="YES";b.q0c="STEP";b.s0c="STRT";b.r0c="STOP";b.T1c="VERS";return b}();
_geo.geotoolkit.ca.data.Df.tDb=function(){function b(a,b,d){_geo.geotoolkit.ca.data.Df.mya.call(this,a);this.stream=b;this.p0b=d}_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.mya);b.prototype.mzc=function(a,b,d,e,c){null!=this.data&&_geo.geotoolkit.log("Warning: The stream has been fully loaded already. Using getDataInRange is not optimum.");a=this.stream.dTa(this.p0b,a,b,d);a.then(e,c);return a};b.prototype.nzc=function(a,b,d,e,c){null!=this.data&&_geo.geotoolkit.log("Warning: The stream has been fully loaded already. Using getDataInRange is not optimum.");
a=this.stream.q0b(this.p0b,a,b,d);a.then(e,c);return a};b.prototype.Zid=function(a,b){var d=this,e=new _geo.geotoolkit.util.Promise(function(a,b){null==d.data?d.stream.cTa(d.p0b).then(function(b){d.data=b;a(d)},b):a(d)});e.then(a,b);return e};return b}();
_geo.geotoolkit.ca.data.Df.ucc=function(){function b(a){this.Jzd=a;this.puc={};this.pZb=this.GZb=this.ouc=0}_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.LasComments");b.prototype.zda=function(a,b){this.ouc++;this.puc[a]=b;this.GZb=Math.min(a,this.GZb);this.pZb=Math.max(a,this.pZb);return this};b.prototype.hrb=function(a){return this.puc[a]};b.prototype.lD=function(a){return this.GZb};b.prototype.kD=function(a){return this.pZb};b.prototype.empty=function(){return 0===this.ouc};return b}();
_geo.geotoolkit.ca.data.Df.vcc=function(){function b(a){_geo.geotoolkit.ca.data.Df.iH.call(this,"Version");this.setVersion(a);this.p6b(!1)}var a="VERS",g="WRAP";_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.iH);_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.LasVersionSection");b.prototype.setVersion=function(b,e){return this.setParameter(a,"",b,e)};b.prototype.p6b=function(a,b){return this.setParameter(g,"",a?"YES":"NO",b)};return b}();
_geo.geotoolkit.ca.data.Df.wcc=function(){function b(a,b,c,d,e){_geo.geotoolkit.ca.data.Df.iH.call(this,"Well");this.setStart(d,a);this.V5b(d,b);this.U5b(d,c);this.O4b(e)}var a="STRT",g="STOP",d="STEP",e="NULL",c="COMP",f="WELL",k="FLD",h="LOC",l="PROV",n="CNTY",p="STAT",r="CTRY",t="SRVC",q="DATE",m="UWI",u="API",v="LIC";_geo.geotoolkit.fa(b,_geo.geotoolkit.ca.data.Df.iH);_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.LasWellSection");b.prototype.setStart=function(b,c){return this.setParameter(a,
b,c,"START DEPTH")};b.prototype.V5b=function(a,b){return this.setParameter(g,a,b,"STOP DEPTH")};b.prototype.U5b=function(a,b){return this.setParameter(d,a,b,"STEP")};b.prototype.O4b=function(a){return this.setParameter(e,"",a,"NULL VALUE")};b.prototype.QTa=function(a){return this.setParameter(c,"",a,"COMPANY")};b.prototype.Dwa=function(a){return this.setParameter(f,"",a,"WELL")};b.prototype.aUa=function(a){return this.setParameter(k,"",a,"FIELD")};b.prototype.M_=function(a){return this.setParameter(h,
"",a,"LOCATION")};b.prototype.xUa=function(a){return this.setParameter(l,"",a,"PROVINCE")};b.prototype.STa=function(a){return this.setParameter(n,"",a,"COUNTY")};b.prototype.setState=function(a){return this.setParameter(p,"",a,"STATE")};b.prototype.RTa=function(a){return this.setParameter(r,"",a,"COUNTRY")};b.prototype.EUa=function(a){return this.setParameter(t,"",a,"SERVICE COMPANY")};b.prototype.setDate=function(a){return this.setParameter(q,"",a,"DATE")};b.prototype.LUa=function(a){return this.setParameter(m,
"",a,"UNIQUE WELL ID")};b.prototype.FTa=function(a){return this.setParameter(u,"",a,"API NUMBER")};b.prototype.hUa=function(a){return this.setParameter(v,"",a,"LICENCE NUMBER")};return b}();
_geo.geotoolkit.ca.data.Df.tcc=function(){function b(b){if(!b)throw Error("There is no index data");this.gGa=a;this.Bhd();this.Ehd(b);this.B_b=new _geo.geotoolkit.ca.data.Df.iH(f);this.Ppb=new _geo.geotoolkit.ca.data.Df.iH(k);this.rsa={};this.LOa(b)}var a=-999.25,g=" ",d="~",e="#",c="\r\n",f="Parameter",k="Curve",h="ASCII";_geo.geotoolkit.da(b,"geotoolkit.welllog.data.las.Las20Writer");b.prototype.Bhd=function(){this.tTc=new _geo.geotoolkit.ca.data.Df.vcc("2.0")};b.prototype.Ehd=function(b){var c=
b.toArray(!1),c=2>c.length?0:c[1]-c[0],d=b.Tb(),d=d?d.be():"";this.tT=new _geo.geotoolkit.ca.data.Df.wcc(b.Ug(),b.Ih(),c,d,a)};b.prototype.QTa=function(a){this.tT.QTa(a);return this};b.prototype.Dwa=function(a){this.tT.Dwa(a);return this};b.prototype.aUa=function(a){this.tT.aUa(a);return this};b.prototype.M_=function(a){this.tT.M_(a);return this};b.prototype.xUa=function(a){this.tT.xUa(a);return this};b.prototype.STa=function(a){this.tT.STa(a);return this};b.prototype.setState=function(a){this.tT.setState(a);
return this};b.prototype.RTa=function(a){this.tT.RTa(a);return this};b.prototype.EUa=function(a){this.tT.EUa(a);return this};b.prototype.setDate=function(a){this.tT.setDate(a);return this};b.prototype.LUa=function(a){this.tT.LUa(a);return this};b.prototype.FTa=function(a){this.tT.FTa(a);return this};b.prototype.hUa=function(a){this.sc.hUa(a);return this};b.prototype.save=function(a){if(!a)throw Error("Strem is absent");this.mod(a);this.nod(a);this.lod(a);this.jod(a);this.kod(a)};b.prototype.Prc=function(a,
b,c,d){this.B_b.setParameter(a,b,c,d);return this};b.prototype.LOa=function(a,b,c,d,e){b=b||a.getName();c=c||(a.Tb()?a.Tb().be():"");this.Ppb.setParameter(b,c,d,e);this.rsa[b]=a;return this};b.prototype.esc=function(a,b){this.tTc.zda(a,b);return this};b.prototype.gsc=function(a,b){this.tT.zda(a,b);return this};b.prototype.Qrc=function(a,b){this.B_b.zda(a,b);return this};b.prototype.Brc=function(a,b){this.Ppb.zda(a,b);return this};b.prototype.CPc=function(a){this.gGa=a;return this};b.prototype.Dwa=
function(a){this.tT.Dwa(a)};b.prototype.Aea=function(){return this.gGa};b.prototype.mod=function(a){a.Ci(this.xpb(this.tTc))};b.prototype.nod=function(a){a.Ci(this.xpb(this.tT))};b.prototype.lod=function(a){a.Ci(this.xpb(this.B_b))};b.prototype.jod=function(a){a.Ci(this.xpb(this.Ppb))};b.prototype.kod=function(a){var b=this.ydd();a.Ci(b);var b=[],c;for(c in this.rsa)this.rsa.hasOwnProperty(c)&&b.push(this.rsa[c].toArray());c=b[0].length;for(var d=0;d<c;d++)a.Ci(this.fgd(b,d))};b.prototype.fgd=function(a,
b){for(var d="",e,f=0;f<a.length;f++)e=a[f][b],e=(0,window.isNaN)(e)?this.gGa:e,d+=e+g;return d+=c};b.prototype.F$c=function(a){var b=a.HEa(),c=a.Tb(),d=a.getValue();a=a.Nu();return b+"."+c+g+d+g+":"+g+a};b.prototype.xpb=function(a){var b=a.$dd(),g=b.lD(),f=b.kD(),g=this.IGc(b,g,0),k=a.getName();k.charAt(0)!==d&&(k=d+k);for(var g=g+(k+c),k=a.getData(),h=1,m=0;m<k.length;){if(h<=f&&(a=b.hrb(h))){g+=e+a+c;h++;continue}g+=this.F$c(k[m])+c;m++;h++}return g+=this.IGc(b,h,f)};b.prototype.IGc=function(a,
b,d){var g,f="";if(a.empty())return"";for(;b<=d;b++)(g=a.hrb(b))&&(f+=e+g),f+=c;return f};b.prototype.ydd=function(){for(var a=d+h+g,b=this.Ppb.getData(),e=0;e<b.length;e++)a+=b[e].HEa()+g;return a+=c};return b}();
(function(){var b="geotoolkit",a="welllog",g=_geo.geotoolkit.wr,d=_geo.geotoolkit.$r,e=null,c=null;g(b+"."+a+".data.las.LasParser",_geo.geotoolkit.ca.data.Df.xoa);g(b+"."+a+".data.las.LasParser.getParserInstance",_geo.geotoolkit.ca.data.Df.xoa.pfd);d(e=_geo.geotoolkit.ca.data.Df.xoa.prototype,"parse",e.parse,{parse:0});d(e,"getSections",e.oz,{oz:0});d(e,"getSectionGroups",e.$M,{$M:0});d(e,"detectType",e.fRb,{fRb:0});d(e,"detectWrap",e.gRb,{gRb:0});d(e,"detectIndexUnit",e.Svc,{Svc:0});g(b+"."+a+".data.las.LasStreamParser",
(c=_geo.geotoolkit.ca.data.Df).bfb);d(e=_geo.geotoolkit.ca.data.Df.bfb.prototype,"open",e.open,{open:0});d(e,"getSections",e.oz,{oz:0});d(e,"getSectionGroups",e.$M,{$M:0});d(e,"readDataInRange",e.dTa,{dTa:0});g(b+"."+a+".data.las.Las20",c.rDb);d(e=_geo.geotoolkit.ca.data.Df.rDb.prototype,"parse",e.parse,{parse:0});d(e,"buildSections",e.ika,{ika:0});d(e,"getSections",e.oz,{oz:0});d(e,"getSectionGroups",e.$M,{$M:0});g(b+"."+a+".data.las.Las30",c.sDb);d(e=_geo.geotoolkit.ca.data.Df.sDb.prototype,"parse",
e.parse,{parse:0});d(e,"buildSections",e.ika,{ika:0});d(e,"getSections",e.oz,{oz:0});d(e,"getSectionGroups",e.$M,{$M:0});g(b+"."+a+".data.las.LasSection",c.OXa);d(e=_geo.geotoolkit.ca.data.Df.OXa.prototype,"getName",e.getName,{getName:0});d(e,"getData",e.getData,{getData:0});d(e,"getAssociations",e.e6a,{e6a:0});g(b+"."+a+".data.las.LasDataSection",c.mya);d(e=_geo.geotoolkit.ca.data.Df.mya.prototype,"getName",e.getName,{getName:0});d(e,"getData",e.getData,{getData:0});d(e,"getNumeric",e.YCc,{YCc:0});
d(e,"getAssociations",e.e6a,{e6a:0});g(b+"."+a+".data.las.LasSectionGroup",c.nya);d(e=_geo.geotoolkit.ca.data.Df.nya.prototype,"getName",e.getName,{getName:0});d(e,"getSections",e.oz,{oz:0});d(e,"getParameters",e.getParameters,{getParameters:0});d(e,"getCurveInfo",e.lrb,{lrb:0});d(e,"getCurveMnemonics",e.e9,{e9:0});d(e,"isCurveNumeric",e.dHc,{dHc:0});d(e,"getCurveData",e.dzc,{dzc:0});g(b+"."+a+".data.las.LasParameterSection",c.iH);d(e=_geo.geotoolkit.ca.data.Df.iH.prototype,"addComment",e.zda,{zda:0});
d(e,"setParameter",e.setParameter,{setParameter:0});d(e,"getName",e.getName,{getName:0});d(e,"setName",e.yb,{yb:0});d(e,"getData",e.getData,{getData:0});d(e,"getParameterValue",e.iWb,{iWb:0});g(b+"."+a+".data.las.LasDefinition",c.IYc);g(b+"."+a+".data.las.LasParameter",c.JJa);d(e=_geo.geotoolkit.ca.data.Df.JJa.prototype,"getMnemonic",e.HEa,{HEa:0});d(e,"getUnit",e.Tb,{Tb:0});d(e,"setUnit",e.Fl,{Fl:0});d(e,"getValue",e.getValue,{getValue:0});d(e,"setValue",e.setValue,{setValue:0});d(e,"getDescription",
e.Nu,{Nu:0});d(e,"setDescription",e.ZK,{ZK:0});g(b+"."+a+".data.las.StreamIndexUtil",c.Ugb);g(b+"."+a+".data.las.StreamIndexUtil.IndexMode",_geo.geotoolkit.ca.data.Df.Ugb.WCb);g(b+"."+a+".data.las.StreamIndexUtil.IndexMode.StrictIndex",(c=_geo.geotoolkit.ca.data.Df.Ugb.WCb).c1c);g(b+"."+a+".data.las.StreamIndexUtil.IndexMode.LiveIndex",c.Hcc);g(b+"."+a+".data.las.StreamIndexUtil.IndexMode.NoIndex",c.uZc);g(b+"."+a+".data.las.Las20Stream",_geo.geotoolkit.ca.data.Df.afb);d(e=_geo.geotoolkit.ca.data.Df.afb.prototype,
"open",e.open,{open:0});d(e,"getSectionGroups",e.$M,{$M:0});d(e,"getSections",e.oz,{oz:0});d(e,"readDataInRange",e.dTa,{dTa:0});d(e,"readDataInRangeByIndex",e.q0b,{q0b:0});g(b+"."+a+".data.las.Las20Stream.isLAS20",_geo.geotoolkit.ca.data.Df.afb.bid);g(b+"."+a+".data.las.LasStreamDataSection",(c=_geo.geotoolkit.ca.data.Df).tDb);d(e=_geo.geotoolkit.ca.data.Df.tDb.prototype,"getDataInRange",e.mzc,{mzc:0});d(e,"getDataInRangeByIndex",e.nzc,{nzc:0});d(e=_geo.geotoolkit.ca.data.Df.ucc.prototype,"addComment",
e.zda,{zda:0});d(e,"getComment",e.hrb,{hrb:0});d(e,"getMinPosition",e.lD,{lD:0});d(e,"getMaxPosition",e.kD,{kD:0});d(e,"empty",e.empty,{empty:0});d(e=_geo.geotoolkit.ca.data.Df.vcc.prototype,"setVersion",e.setVersion,{setVersion:0});d(e,"setUseWrap",e.p6b,{p6b:0});d(e=_geo.geotoolkit.ca.data.Df.wcc.prototype,"setStart",e.setStart,{setStart:0});d(e,"setStop",e.V5b,{V5b:0});d(e,"setStep",e.U5b,{U5b:0});d(e,"setNull",e.O4b,{O4b:0});d(e,"setCompanyName",e.QTa,{QTa:0});d(e,"setWellName",e.Dwa,{Dwa:0});
d(e,"setField",e.aUa,{aUa:0});d(e,"setLocation",e.M_,{M_:0});d(e,"setProvince",e.xUa,{xUa:0});d(e,"setCounty",e.STa,{STa:0});d(e,"setState",e.setState,{setState:0});d(e,"setCountry",e.RTa,{RTa:0});d(e,"setServiceCompany",e.EUa,{EUa:0});d(e,"setDate",e.setDate,{setDate:0});d(e,"setUWI",e.LUa,{LUa:0});d(e,"setAPINumber",e.FTa,{FTa:0});d(e,"setLicenceNumber",e.hUa,{hUa:0});g(b+"."+a+".data.las.Las20Writer",c.tcc);d(e=_geo.geotoolkit.ca.data.Df.tcc.prototype,"setCompanyName",e.QTa,{QTa:0});d(e,"setWellName",
e.Dwa,{Dwa:0});d(e,"setField",e.aUa,{aUa:0});d(e,"setLocation",e.M_,{M_:0});d(e,"setProvince",e.xUa,{xUa:0});d(e,"setCounty",e.STa,{STa:0});d(e,"setState",e.setState,{setState:0});d(e,"setCountry",e.RTa,{RTa:0});d(e,"setServiceCompany",e.EUa,{EUa:0});d(e,"setDate",e.setDate,{setDate:0});d(e,"setUWI",e.LUa,{LUa:0});d(e,"setAPINumber",e.FTa,{FTa:0});d(e,"setLicenceNumber",e.hUa,{hUa:0});d(e,"save",e.save,{save:0});d(e,"addParameter",e.Prc,{Prc:0});d(e,"addCurve",e.LOa,{LOa:0});d(e,"addVersionComment",
e.esc,{esc:0});d(e,"addWellComment",e.gsc,{gsc:0});d(e,"addParameterComment",e.Qrc,{Qrc:0});d(e,"addCurveComment",e.Brc,{Brc:0});d(e,"setNullValue",e.CPc,{CPc:0});d(e,"getNullValue",e.Aea,{Aea:0})})();

    return _geo;
}));
/* eslint-enable */
/* tslint:enable */